(this["webpackJsonpworkflow-sample"]=this["webpackJsonpworkflow-sample"]||[]).push([[0],{135:function(e,t,n){e.exports=n(167)},140:function(e,t,n){},141:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(12),o=n.n(r),c=(n(140),n(141),n(31)),u=n(17),s=n(60),i=n.n(s),m=n(127),d=n(74),p=n(14),f=n(33),v=n(45),w=n(18),E=n(24),h=n(13),b=n(126),y=function(e){var t,n=e.type,r=e.onNodeClick,o=Object(a.useState)({}),c=Object(p.a)(o,2),u=c[0],s=c[1];Object(a.useEffect)((function(){if(n&&"sequential"===n.toLowerCase()){s({nodes:[{id:"node1",height:100,width:100,offsetX:200,offsetY:100,annotations:[{content:"Step 1 - Document Selection"},{stepType:"documentUpload",stepNumber:"one"}]},{id:"node2",height:100,width:100,offsetX:400,offsetY:100,annotations:[{content:"Step 2 - Document Review"},{stepType:"singleReview",stepNumber:"two"}]},{id:"node3",height:100,width:100,offsetX:600,offsetY:100,annotations:[{content:"Step 3 - Document Review"},{stepType:"singleReview",stepNumber:"three"}]},{id:"node4",height:100,width:100,offsetX:800,offsetY:100,annotations:[{content:"Step 4 - Document Review"},{stepType:"singleReview",stepNumber:"four"}]}],connectors:[{id:"connector1",sourceID:"node1",targetID:"node2"},{id:"connector2",sourceID:"node2",targetID:"node3"},{id:"connector3",sourceID:"node3",targetID:"node4"}]})}else if("parallel"===n.toLowerCase()){s({nodes:[{id:"node1",height:100,width:100,offsetX:200,offsetY:100,annotations:[{content:"Step 1 - Document Selection"},{stepType:"documentUpload",stepNumber:"one"}]},{id:"node2",height:100,width:100,offsetX:400,offsetY:100,annotations:[{content:"Step 2 - Document Review"},{stepType:"multiReview",stepNumber:"two"}]}],connectors:[{id:"connector1",sourceID:"node1",targetID:"node2"}]})}}),[n]);var i=Object(a.useCallback)((function(e){if("node1"===e.id)return l.a.createElement("button",{onClick:function(){return alert("test")}},"Test")}),[]);return l.a.createElement(b.a,{id:"diagram",width:"100%",height:"550px",ref:function(e){return t=e},nodeTemplate:i,created:function(e){u.nodes.forEach((function(e){t.add(e)})),u.connectors.forEach((function(e){t.add(e)}))},click:function(e){if(e){var t=e.actualObject;if(t){var n=t.properties.annotations[1];r&&r(n)}}}})},g=n(197),k=n(200),I=n(198),O=n(199),T=n(119),j=n.n(T),x=n(193),S=Object(x.a)((function(e){return{sheetTitle:{padding:0,margin:"0 0 24px 24px",textAlign:"left"},drawer:{width:440,flexShrink:0},drawerPaper:{width:440},boxAlign:{textAlign:"right"}}})),C=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.title,r=e.handleClose,o=e.children,c=S();return l.a.createElement(g.a,{className:c.drawer,variant:"persistent",anchor:"right",open:n,classes:{paper:c.drawerPaper}},l.a.createElement(k.a,{className:c.sheetTitle},l.a.createElement(I.a,{className:c.boxAlign},l.a.createElement(O.a,{onClick:r},l.a.createElement(j.a,null))),a),o)},N=n(93),D=function(e){var t=e.isOpen,n=e.header,a=e.body;return l.a.createElement("div",{style:{position:"absolute",top:0,right:0}},l.a.createElement(N.a,{show:t,delay:3e3,autohide:!0},l.a.createElement(N.a.Header,null,l.a.createElement("strong",{className:"mr-auto"},n)),l.a.createElement(N.a.Body,null,a)))};function A(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return t}})),l=Object(p.a)(n,2),r=l[0],o=l[1];return[r,Object(a.useCallback)((function(t){try{e&&(o(t),window.localStorage.setItem(e,JSON.stringify(t)))}catch(n){console.log(n)}}),[e])]}var R=n(58),W=n(65),F=n(46),P=function(){var e=Object(F.b)(),t=e.values,n=e.setFieldValue;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Select reviewers to review"),l.a.createElement(R.a,{id:"basic-typeahead-multiple",name:"reviewers",labelKey:"name",multiple:!0,onChange:function(e){e&&n("reviewers",e)},options:["Pritam","Ashish","Anupam"],placeholder:"Choose reviewers...",selected:t.reviewers})))},G=function(e){var t=e.fetchedWorkflow,n=Object(a.useState)({}),r=Object(p.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){var e={step:2,reviewers:[{name:"Apoorva",status:"In Progress"},{name:"Aniva",status:"Not started"}]};console.log(e),c(e)}),[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,{as:E.a,controlId:"formPlaintextEmail"},l.a.createElement(w.a.Label,{column:!0,sm:"12"},"Reviewers"),l.a.createElement(h.a,{sm:"10"},o&&o.reviewers&&l.a.createElement(W.a,null,o.reviewers.map((function(e){return l.a.createElement(W.a.Item,null,e.name," - ",e.status)}))))))},L=function(){var e=Object(F.b)(),t=e.values,n=e.setFieldValue;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Select document to review"),l.a.createElement(R.a,{id:"basic-typeahead-single",name:"selectedDocument",labelKey:"name",onChange:function(e){e&&n("selectedDocument",e)},options:["F24H Wizard","MadCap Flare POC"],placeholder:"Choose a document...",selected:t.selectedDocument})))},Y=function(e){var t=e.fetchedWorkflow,n=Object(a.useState)({}),r=Object(p.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){c({step:1,document:"F2H Wizard"})}),[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,{as:E.a,controlId:"formPlaintextEmail"},l.a.createElement(w.a.Label,{column:!0,sm:"12"},"Document to review"),l.a.createElement(h.a,{sm:"10"},l.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,value:o.document}))))},J=function(e){var t=e.nodeType,n=e.stepNumber,r=Object(F.b)(),o=r.values,c=r.setFieldValue,u=Object(a.useState)([]),s=Object(p.a)(u,2),i=s[0],m=s[1];Object(a.useEffect)((function(){"multiReview"===t?m(["Pritam","Ashish","Anupam"]):"singleReview"===t&&("one"===n?m(["John Doe","Jane Doe"]):"two"===n?m(["Akhil","Ashwini"]):"three"===n?m(["Auro","Chitra"]):"four"===n&&m(["Shubho","Biplap"]))}),[t,n]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Select reviewer to review"),l.a.createElement(R.a,{id:"basic-typeahead-multiple",name:"reviewers-".concat(n),labelKey:"name",onChange:function(e){e&&c("reviewers-".concat(n),e)},options:i,placeholder:"Choose reviewer...",selected:o["reviewers-".concat(n)]||[]})))},X=function(e){var t=e.fetchedWorkflow,n=Object(a.useState)({}),r=Object(p.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){c({step:2,reviewers:[{name:"Apoorva",status:"In Progress"}]})}),[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Group,{as:E.a,controlId:"formPlaintextEmail"},l.a.createElement(w.a.Label,{column:!0,sm:"12"},"Reviewer"),l.a.createElement(h.a,{sm:"10"},o&&o.reviewers&&l.a.createElement(W.a,null,o.reviewers.map((function(e){return l.a.createElement(W.a.Item,null,e.name," - ",e.status)}))))))},B=n(195),V=n(196),U=n(83),q=n.n(U),H=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),c=Object(p.a)(o,2),s=c[0],b=c[1],g=Object(a.useState)(!1),k=Object(p.a)(g,2),I=k[0],O=k[1],T=Object(a.useState)(!1),j=Object(p.a)(T,2),x=j[0],S=(j[1],Object(a.useState)(!1)),N=Object(p.a)(S,2),R=N[0],W=N[1],G=Object(u.f)().type,Y=Object(u.e)(),X=A("ws:workflows",[]),U=Object(p.a)(X,2),H=U[0],K=U[1],z=function(e){e&&(r(e.stepType),b(e.stepNumber),O(!0))},M=function(){O(!1)},$=Object(a.useCallback)((function(){if(n)switch(n){case"documentUpload":return l.a.createElement(L,null);case"multiReview":return l.a.createElement(P,null);case"singleReview":return l.a.createElement(J,{nodeType:n,stepNumber:s});default:return null}}),[n,s]),Q=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),W(!0),(n={workflowId:"7aa6682f-910e-49ac-8698-9eab44295b80",workflowType:G,name:t.workflowName}).workflowId&&(a=[].concat(Object(m.a)(H),[n]),K(a),Y.push("/workflows/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(F.a,{initialValues:{selectedDocument:[],reviewers:[],workflowName:""},onSubmit:Q},(function(e){var t=e.handleSubmit,n=e.handleChange;return l.a.createElement(w.a,{onSubmit:t},l.a.createElement(v.a,{fluid:!0},l.a.createElement(E.a,{style:{margin:"20px"}},l.a.createElement(h.a,{xs:4,style:{textAlign:"left"}},l.a.createElement("h4",null,"Create Workflow")),l.a.createElement(h.a,{xs:4},l.a.createElement(w.a.Group,{controlId:"formWorkflowName"},l.a.createElement(w.a.Control,{type:"text",name:"workflowName",onChange:n}),l.a.createElement(w.a.Text,{className:"text-muted"},"Give your workflow a name"))),l.a.createElement(h.a,{xs:2},l.a.createElement(f.a,{variant:"primary",type:"submit"},"Start Workflow")),l.a.createElement(h.a,{xs:2},l.a.createElement("span",null,"Status: ",l.a.createElement(q.a,{style:{color:"grey"}}),"Not Started"))),l.a.createElement(E.a,null,l.a.createElement(h.a,null,l.a.createElement(y,{type:G,onNodeClick:z}),l.a.createElement(C,{isOpen:I,handleClose:M,title:"Step Configuration"},l.a.createElement(B.a,null,$()),l.a.createElement(V.a,null,l.a.createElement(f.a,{variant:"light",onClick:M},"Close"))))),l.a.createElement(D,{isOpen:x,header:"Workflow Configuration",body:"Saved step configuration"}),l.a.createElement(D,{isOpen:R,header:"Workflow",body:"New workflow started"})))}))},K=function(){var e=Object(u.f)(),t=e.workflowId,n=e.type,r=Object(a.useState)({}),o=Object(p.a)(r,2),c=o[0],s=o[1],m=Object(a.useState)(""),w=Object(p.a)(m,2),b=w[0],g=w[1],k=Object(a.useState)(""),I=Object(p.a)(k,2),O=(I[0],I[1]),T=Object(a.useState)(!1),j=Object(p.a)(T,2),x=j[0],S=j[1];Object(a.useEffect)((function(){(function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8888/workflow/history/".concat(t),{method:"GET"});case 2:e.sent.ok?s({workflowId:"7aa6682f-910e-49ac-8698-9eab44295b80",history:[{eventId:"1",eventType:null,state:null},{eventId:"2",eventType:null,state:null},{eventId:"3",eventType:null,state:null},{eventId:"4",eventType:null,state:null},{eventId:"5",eventType:null,state:null},{eventId:"6",eventType:null,state:null},{eventId:"7",eventType:null,state:null},{eventId:"8",eventType:null,state:null},{eventId:"9",eventType:null,state:null},{eventId:"10",eventType:null,state:null},{eventId:"11",eventType:null,state:null},{eventId:"12",eventType:null,state:null},{eventId:"13",eventType:null,state:null},{eventId:"14",eventType:null,state:null},{eventId:"15",eventType:null,state:null},{eventId:"16",eventType:null,state:null},{eventId:"17",eventType:null,state:null},{eventId:"18",eventType:null,state:null},{eventId:"19",eventType:null,state:null},{eventId:"20",eventType:null,state:null},{eventId:"21",eventType:null,state:null},{eventId:"22",eventType:null,state:null},{eventId:"23",eventType:null,state:null},{eventId:"24",eventType:null,state:null},{eventId:"25",eventType:null,state:null},{eventId:"26",eventType:null,state:null},{eventId:"27",eventType:null,state:null},{eventId:"28",eventType:null,state:null},{eventId:"29",eventType:null,state:null},{eventId:"30",eventType:null,state:null},{eventId:"31",eventType:null,state:null},{eventId:"32",eventType:null,state:null},{eventId:"33",eventType:null,state:null},{eventId:"34",eventType:null,state:null},{eventId:"35",eventType:null,state:null},{eventId:"36",eventType:null,state:null},{eventId:"37",eventType:null,state:null},{eventId:"38",eventType:null,state:null},{eventId:"39",eventType:null,state:null},{eventId:"40",eventType:null,state:null}]}):console.error("Not able to get workflow details");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var N=function(){S(!1)},D=Object(a.useCallback)((function(){if(b)switch(b){case"documentUpload":return l.a.createElement(Y,{workflow:c});case"multiReview":return l.a.createElement(G,{workflow:c});case"singleReview":return l.a.createElement(X,{workflow:c});default:return null}}),[b,t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{fluid:!0},l.a.createElement(E.a,{style:{margin:"20px"}},l.a.createElement(h.a,{xs:6,style:{textAlign:"left"}},l.a.createElement("h4",null,"View Workflow")),l.a.createElement(h.a,{xs:3},l.a.createElement("span",null,"Status: ",l.a.createElement(q.a,{style:{color:"grey"}}),"Not Started"))),l.a.createElement(E.a,null,l.a.createElement(h.a,null,l.a.createElement(y,{type:n,onNodeClick:function(e){e&&(g(e.stepType),O(e.stepNumber),S(!0))}}),l.a.createElement(C,{isOpen:x,handleClose:N,title:"Step Configuration"},l.a.createElement(B.a,null,D()),l.a.createElement(V.a,null,l.a.createElement(f.a,{variant:"light",onClick:N},"Cancel")))))))},z=function(){var e={display:"flex",justifyContent:"center"};return l.a.createElement(v.a,{fluid:!0},l.a.createElement(E.a,{style:{margin:"20px",borderBottom:"1px solid black"}},l.a.createElement("h3",null," WorkFlow Approval Page")),l.a.createElement(E.a,{style:{margin:"30px"}},l.a.createElement(h.a,{xs:2,style:e},l.a.createElement("h4",null,"1")),l.a.createElement(h.a,{xs:4,style:e},l.a.createElement("h4",null,"First Workflow")),l.a.createElement(h.a,{xs:3,style:e},l.a.createElement(f.a,{variant:"success",onClick:function(){alert("Workflow has been Approved")}}," Approve ")),l.a.createElement(h.a,{xs:3,style:e},l.a.createElement(f.a,{variant:"danger",onClick:function(){alert("Workflow has been Rejected")}}," Reject "))))},M=(n(164),n(165),n(125)),$=n(71),Q=n(101),Z=function(){var e=Object(u.e)(),t=A("ws:workflows",[]),n=Object(p.a)(t,1)[0];return l.a.createElement(v.a,{fluid:!0},l.a.createElement(E.a,{style:{margin:"20px"}},l.a.createElement(h.a,{xs:6,style:{textAlign:"left"}},l.a.createElement("h3",null,"Your Workflows")),l.a.createElement(h.a,{xs:6,style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(M.a,{id:"dropdown-item-button",title:"Create Workflows"},l.a.createElement($.a.Item,{as:c.b,to:"/workflows/create/sequential"},"Sequential Review"),l.a.createElement($.a.Item,{as:c.b,to:"/workflows/create/parallel"},"Parallel Review")))),l.a.createElement(E.a,{style:{margin:"40px"}},l.a.createElement(Q.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Type"))),l.a.createElement("tbody",null,n.map((function(t){return l.a.createElement("tr",{key:t.workflowId,onClick:function(){return function(t){if(t&&t.workflowId){var n=t.workflowType.toLowerCase();e.push("/workflows/view/".concat(n,"/").concat(t.workflowId))}}(t)}},l.a.createElement("td",null,t.workflowId),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.workflowType))}))))))},_=function(){return l.a.createElement(Z,null)};var ee=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(c.a,{basename:"/"},l.a.createElement(u.a,{exact:!0,path:"/",component:_}),l.a.createElement(u.a,{exact:!0,path:"/workflows/",component:Z}),l.a.createElement(u.a,{exact:!0,path:"/workflows/create/:type",component:H}),l.a.createElement(u.a,{exact:!0,path:"/workflows/view/:type/:workflowId",component:K}),l.a.createElement(u.a,{exact:!0,path:"/workflows/approval",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.54fc2569.chunk.js.map