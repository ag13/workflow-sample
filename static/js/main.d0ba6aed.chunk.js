(this["webpackJsonpworkflow-sample"]=this["webpackJsonpworkflow-sample"]||[]).push([[0],{135:function(e,t,a){e.exports=a(167)},140:function(e,t,a){},141:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),c=(a(140),a(141),a(31)),i=a(17),s=a(100),u=a.n(s),m=a(127),f=a(115),d=a(14),w=a(33),p=a(45),E=a(18),h=a(24),b=a(13),v=a(126),g=function(e){var t,a=e.type,l=e.onNodeClick,o=Object(n.useState)({}),c=Object(d.a)(o,2),i=c[0],s=c[1];Object(n.useEffect)((function(){if(a&&"sequential"===a.toLowerCase()){s({nodes:[{id:"node1",height:100,width:100,offsetX:200,offsetY:100,annotations:[{content:"Step 1 - Document Selection"},{stepType:"documentUpload",stepNumber:"one"}]},{id:"node2",height:100,width:100,offsetX:400,offsetY:100,annotations:[{content:"Step 2 - Document Review"},{stepType:"singleReview",stepNumber:"two"}]},{id:"node3",height:100,width:100,offsetX:600,offsetY:100,annotations:[{content:"Step 3 - Document Review"},{stepType:"singleReview",stepNumber:"three"}]},{id:"node4",height:100,width:100,offsetX:800,offsetY:100,annotations:[{content:"Step 4 - Document Review"},{stepType:"singleReview",stepNumber:"four"}]}],connectors:[{id:"connector1",sourceID:"node1",targetID:"node2"},{id:"connector2",sourceID:"node2",targetID:"node3"},{id:"connector3",sourceID:"node3",targetID:"node4"}]})}else if("parallel"===a.toLowerCase()){s({nodes:[{id:"node1",height:100,width:100,offsetX:200,offsetY:100,annotations:[{content:"Step 1 - Document Selection"},{stepType:"documentUpload",stepNumber:"one"}]},{id:"node2",height:100,width:100,offsetX:400,offsetY:100,annotations:[{content:"Step 2 - Document Review"},{stepType:"multiReview",stepNumber:"two"}]}],connectors:[{id:"connector1",sourceID:"node1",targetID:"node2"}]})}}),[a]);var u=Object(n.useCallback)((function(e){if("node1"===e.id)return r.a.createElement("button",{onClick:function(){return alert("test")}},"Test")}),[]);return r.a.createElement(v.a,{id:"diagram",width:"100%",height:"550px",ref:function(e){return t=e},nodeTemplate:u,created:function(e){i.nodes.forEach((function(e){t.add(e)})),i.connectors.forEach((function(e){t.add(e)}))},click:function(e){if(e){var t=e.actualObject;if(t){var a=t.properties.annotations[1];l&&l(a)}}}})},k=a(197),y=a(200),O=a(198),j=a(199),x=a(119),S=a.n(x),C=a(193),I=Object(C.a)((function(e){return{sheetTitle:{padding:0,margin:"0 0 24px 24px",textAlign:"left"},drawer:{width:440,flexShrink:0},drawerPaper:{width:440},boxAlign:{textAlign:"right"}}})),N=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.title,l=e.handleClose,o=e.children,c=I();return r.a.createElement(k.a,{className:c.drawer,variant:"persistent",anchor:"right",open:a,classes:{paper:c.drawerPaper}},r.a.createElement(y.a,{className:c.sheetTitle},r.a.createElement(O.a,{className:c.boxAlign},r.a.createElement(j.a,{onClick:l},r.a.createElement(S.a,null))),n),o)},A=a(91),D=function(e){var t=e.isOpen,a=e.header,n=e.body;return r.a.createElement("div",{style:{position:"absolute",top:0,right:0}},r.a.createElement(A.a,{show:t,delay:3e3,autohide:!0},r.a.createElement(A.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},a)),r.a.createElement(A.a.Body,null,n)))};function T(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return t}})),r=Object(d.a)(a,2),l=r[0],o=r[1];return[l,Object(n.useCallback)((function(t){try{e&&(o(t),window.localStorage.setItem(e,JSON.stringify(t)))}catch(a){console.log(a)}}),[e])]}var R=a(58),F=a(64),W=a(46),P=function(){var e=Object(W.b)(),t=e.values,a=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Select reviewers to review"),r.a.createElement(R.a,{id:"basic-typeahead-multiple",name:"reviewers",labelKey:"name",multiple:!0,onChange:function(e){e&&a("reviewers",e)},options:["Pritam","Ashish","Anupam"],placeholder:"Choose reviewers...",selected:t.reviewers})))},L=function(e){var t=e.workflowId,a=Object(n.useState)({}),l=Object(d.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){var e={step:2,reviewers:[{name:"Apoorva",status:"In Progress"},{name:"Aniva",status:"Not started"}]};console.log(e),c(e)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,{as:h.a,controlId:"formPlaintextEmail"},r.a.createElement(E.a.Label,{column:!0,sm:"12"},"Reviewers"),r.a.createElement(b.a,{sm:"10"},o&&o.reviewers&&r.a.createElement(F.a,null,o.reviewers.map((function(e){return r.a.createElement(F.a.Item,null,e.name," - ",e.status)}))))))},G=function(){var e=Object(W.b)(),t=e.values,a=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Select document to review"),r.a.createElement(R.a,{id:"basic-typeahead-single",name:"selectedDocument",labelKey:"name",onChange:function(e){e&&a("selectedDocument",e)},options:["F24H Wizard","MadCap Flare POC"],placeholder:"Choose a document...",selected:t.selectedDocument})))},Y=function(e){var t=e.workflowId,a=Object(n.useState)({}),l=Object(d.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){c({step:1,document:"F2H Wizard"})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,{as:h.a,controlId:"formPlaintextEmail"},r.a.createElement(E.a.Label,{column:!0,sm:"12"},"Document to review"),r.a.createElement(b.a,{sm:"10"},r.a.createElement(E.a.Control,{plaintext:!0,readOnly:!0,value:o.document}))))},J=function(e){var t=e.nodeType,a=e.stepNumber,l=Object(W.b)(),o=l.values,c=l.setFieldValue,i=Object(n.useState)([]),s=Object(d.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){"multiReview"===t?m(["Pritam","Ashish","Anupam"]):"singleReview"===t&&("one"===a?m(["John Doe","Jane Doe"]):"two"===a?m(["Akhil","Ashwini"]):"three"===a?m(["Auro","Chitra"]):"four"===a&&m(["Shubho","Biplap"]))}),[t,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Select reviewer to review"),r.a.createElement(R.a,{id:"basic-typeahead-multiple",name:"reviewers-".concat(a),labelKey:"name",onChange:function(e){e&&c("reviewers-".concat(a),e)},options:u,placeholder:"Choose reviewer...",selected:o["reviewers-".concat(a)]||[]})))},X=function(e){var t=e.workflowId,a=Object(n.useState)({}),l=Object(d.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){c({step:2,reviewers:[{name:"Apoorva",status:"In Progress"}]})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,{as:h.a,controlId:"formPlaintextEmail"},r.a.createElement(E.a.Label,{column:!0,sm:"12"},"Reviewer"),r.a.createElement(b.a,{sm:"10"},o&&o.reviewers&&r.a.createElement(F.a,null,o.reviewers.map((function(e){return r.a.createElement(F.a.Item,null,e.name," - ",e.status)}))))))},B=a(195),U=a(196),V=a(81),q=a.n(V),H=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(d.a)(o,2),s=c[0],v=c[1],k=Object(n.useState)(!1),y=Object(d.a)(k,2),O=y[0],j=y[1],x=Object(n.useState)(!1),S=Object(d.a)(x,2),C=S[0],I=(S[1],Object(n.useState)(!1)),A=Object(d.a)(I,2),R=A[0],F=A[1],L=Object(i.f)().type,Y=Object(i.e)(),X=T("ws:workflows",[]),V=Object(d.a)(X,2),H=V[0],K=V[1],z=function(e){e&&(l(e.stepType),v(e.stepNumber),j(!0))},M=function(){j(!1)},Q=Object(n.useCallback)((function(){if(a)switch(a){case"documentUpload":return r.a.createElement(G,null);case"multiReview":return r.a.createElement(P,null);case"singleReview":return r.a.createElement(J,{nodeType:a,stepNumber:s});default:return null}}),[a,s]),$=function(){var e=Object(f.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),F(!0),(a={workflowId:"7aa6682f-910e-49ac-8698-9eab44295b80",workflowType:"SEQUENTIAL",name:"Test Flow"}).workflowId&&(n=[].concat(Object(m.a)(H),[a]),K(n),Y.push("/workflows/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(W.a,{initialValues:{selectedDocument:[],reviewers:[],workflowName:""},onSubmit:$},(function(e){var t=e.handleSubmit,a=e.handleChange;return r.a.createElement(E.a,{onSubmit:t},r.a.createElement(p.a,{fluid:!0},r.a.createElement(h.a,{style:{margin:"20px"}},r.a.createElement(b.a,{xs:4,style:{textAlign:"left"}},r.a.createElement("h4",null,"Create Workflow")),r.a.createElement(b.a,{xs:4},r.a.createElement(E.a.Group,{controlId:"formWorkflowName"},r.a.createElement(E.a.Control,{type:"text",name:"workflowName",onChange:a}),r.a.createElement(E.a.Text,{className:"text-muted"},"Give your workflow a name"))),r.a.createElement(b.a,{xs:2},r.a.createElement(w.a,{variant:"primary",type:"submit"},"Start Workflow")),r.a.createElement(b.a,{xs:2},r.a.createElement("span",null,"Status: ",r.a.createElement(q.a,{style:{color:"grey"}}),"Not Started"))),r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(g,{type:L,onNodeClick:z}),r.a.createElement(N,{isOpen:O,handleClose:M,title:"Step Configuration"},r.a.createElement(B.a,null,Q()),r.a.createElement(U.a,null,r.a.createElement(w.a,{variant:"light",onClick:M},"Close"))))),r.a.createElement(D,{isOpen:C,header:"Workflow Configuration",body:"Saved step configuration"}),r.a.createElement(D,{isOpen:R,header:"Workflow",body:"New workflow started"})))}))},K=function(){var e=Object(i.f)(),t=e.workflowId,a=e.type,l=Object(n.useState)(""),o=Object(d.a)(l,2),c=o[0],s=o[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),f=(m[0],m[1]),E=Object(n.useState)(!1),v=Object(d.a)(E,2),k=v[0],y=v[1];Object(n.useEffect)((function(){}),[t]);var O=function(){y(!1)},j=Object(n.useCallback)((function(){if(c)switch(c){case"documentUpload":return r.a.createElement(Y,{workflowId:t});case"multiReview":return r.a.createElement(L,{workflowId:t});case"singleReview":return r.a.createElement(X,{workflowId:t});default:return null}}),[c,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{fluid:!0},r.a.createElement(h.a,{style:{margin:"20px"}},r.a.createElement(b.a,{xs:6,style:{textAlign:"left"}},r.a.createElement("h4",null,"View Workflow")),r.a.createElement(b.a,{xs:3},r.a.createElement("span",null,"Status: ",r.a.createElement(q.a,{style:{color:"grey"}}),"Not Started"))),r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(g,{type:a,onNodeClick:function(e){e&&(s(e.stepType),f(e.stepNumber),y(!0))}}),r.a.createElement(N,{isOpen:k,handleClose:O,title:"Step Configuration"},r.a.createElement(B.a,null,j()),r.a.createElement(U.a,null,r.a.createElement(w.a,{variant:"light",onClick:O},"Cancel")))))))},z=function(){var e={display:"flex",justifyContent:"center"};return r.a.createElement(p.a,{fluid:!0},r.a.createElement(h.a,{style:{margin:"20px",borderBottom:"1px solid black"}},r.a.createElement("h3",null," WorkFlow Approval Page")),r.a.createElement(h.a,{style:{margin:"30px"}},r.a.createElement(b.a,{xs:2,style:e},r.a.createElement("h4",null,"1")),r.a.createElement(b.a,{xs:4,style:e},r.a.createElement("h4",null,"First Workflow")),r.a.createElement(b.a,{xs:3,style:e},r.a.createElement(w.a,{variant:"success",onClick:function(){alert("Workflow has been Approved")}}," Approve ")),r.a.createElement(b.a,{xs:3,style:e},r.a.createElement(w.a,{variant:"danger",onClick:function(){alert("Workflow has been Rejected")}}," Reject "))))},M=(a(164),a(165),a(125)),Q=a(70),$=a(99),Z=function(){var e=Object(i.e)(),t=T("ws:workflows",[]),a=Object(d.a)(t,1)[0];return r.a.createElement(p.a,{fluid:!0},r.a.createElement(h.a,{style:{margin:"20px"}},r.a.createElement(b.a,{xs:6,style:{textAlign:"left"}},r.a.createElement("h3",null,"Your Workflows")),r.a.createElement(b.a,{xs:6,style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(M.a,{id:"dropdown-item-button",title:"Create Workflows"},r.a.createElement(Q.a.Item,{as:c.b,to:"/workflows/create/sequential"},"Sequential Review"),r.a.createElement(Q.a.Item,{as:c.b,to:"/workflows/create/parallel"},"Parallel Review")))),r.a.createElement(h.a,{style:{margin:"40px"}},r.a.createElement($.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Type"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.workflowId,onClick:function(){return function(t){if(t&&t.workflowId){var a=t.workflowType.toLowerCase();e.push("/workflows/view/".concat(a,"/").concat(t.workflowId))}}(t)}},r.a.createElement("td",null,t.workflowId),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.workflowType))}))))))},_=function(){return r.a.createElement(Z,null)};var ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{basename:"/"},r.a.createElement(i.a,{exact:!0,path:"/",component:_}),r.a.createElement(i.a,{exact:!0,path:"/workflows/",component:Z}),r.a.createElement(i.a,{exact:!0,path:"/workflows/create/:type",component:H}),r.a.createElement(i.a,{exact:!0,path:"/workflows/view/:type/:workflowId",component:K}),r.a.createElement(i.a,{exact:!0,path:"/workflows/approval",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.d0ba6aed.chunk.js.map