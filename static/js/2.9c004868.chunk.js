/*! For license information please see 2.9c004868.chunk.js.LICENSE.txt */
(this["webpackJsonpworkflow-sample"]=this["webpackJsonpworkflow-sample"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(142)},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(149)()},function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return i}))},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=r.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(3);function r(e,t){if(null==e)return{};var n,r,o=Object(i.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1);var i=n(0),r=n.n(i),o=r.a.createContext({});o.Consumer,o.Provider;function a(e,t){var n=Object(i.useContext)(o);return e||n[t]||t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(143)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(78);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=n.n(o),s=(n(2),n(44)),l=n.n(s),c=n(176),d=n(205),h=n(177),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,p=void 0!==s&&s,u=t.name,f=Object(r.a)(t,["defaultTheme","withTheme","name"]);var g=u,m=Object(c.a)(e,Object(i.a)({defaultTheme:o,Component:n,name:u||n.displayName,classNamePrefix:g},f)),v=a.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,c=Object(r.a)(e,["classes","innerRef"]),f=m(Object(i.a)(Object(i.a)({},n.defaultProps),e)),g=c;return("string"===typeof u||p)&&(s=Object(h.a)()||o,u&&(g=Object(d.a)({theme:s,name:u,props:c})),p&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(i.a)({ref:l||t,classes:f},g))}));return l()(v,n),v}},u=n(52);t.a=function(e,t){return p(e,Object(i.a)({defaultTheme:u.a},t))}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(8),d=["xl","lg","md","sm","xs"],h=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.as,h=void 0===s?"div":s,p=Object(r.a)(e,["bsPrefix","className","as"]),u=Object(c.a)(n,"col"),f=[],g=[];return d.forEach((function(e){var t,n,i,r=p[e];if(delete p[e],"object"===typeof r&&null!=r){var o=r.span;t=void 0===o||o,n=r.offset,i=r.order}else t=r;var a="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+u+a:""+u+a+"-"+t),null!=i&&g.push("order"+a+"-"+i),null!=n&&g.push("offset"+a+"-"+n)})),f.length||f.push(u),l.a.createElement(h,Object(i.a)({},p,{ref:t,className:a.a.apply(void 0,[o].concat(f,g))}))}));h.displayName="Col",t.a=h},function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return T}));var i=n(16),r=n(0),o=n.n(r),a=(n(2),n(38)),s=n(109),l=n(33),c=n(1),d=n(110),h=n.n(d),p=(n(113),n(3)),u=(n(44),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),f=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(i.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(f.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(u.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var m={},v=0;function y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=m[n]||(m[n]={});if(i[e])return i[e];var r=[],o={regexp:h()(e,r,t),keys:r};return v<1e4&&(i[e]=o,v++),o}(n,{end:o,strict:s,sensitive:c}),r=i.regexp,a=i.keys,l=r.exec(e);if(!l)return null;var d=l[0],p=l.slice(1),u=e===d;return o&&!u?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:u,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(f.Consumer,null,(function(t){t||Object(l.a)(!1);var n=e.props.location||t.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?y(n.pathname,e.props):t.match,r=Object(c.a)({},t,{location:n,match:i}),a=e.props,s=a.children,d=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(f.Provider,{value:r},r.match?s?"function"===typeof s?s(r):s:d?o.a.createElement(d,r):h?h(r):null:"function"===typeof s?s(r):null)}))},t}(o.a.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function x(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function S(e){return"string"===typeof e?e:Object(a.e)(e)}function C(e){return function(){Object(l.a)(!1)}}function O(){}o.a.Component;o.a.Component;var P=o.a.useContext;function E(){return P(u)}function T(){var e=P(f).match;return e?e.params:{}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(66);function o(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){Object(r.a)(e,n),Object(r.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=(n(104),n(2)),d=n.n(c),h={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},p=l.a.forwardRef((function(e,t){var n=e.as,o=void 0===n?"div":n,s=e.className,c=e.type,d=void 0===c?"valid":c,h=e.tooltip,p=void 0!==h&&h,u=Object(r.a)(e,["as","className","type","tooltip"]);return l.a.createElement(o,Object(i.a)({},u,{ref:t,className:a()(s,d+"-"+(p?"tooltip":"feedback"))}))}));p.displayName="Feedback",p.propTypes=h;var u=p,f=l.a.createContext({controlId:void 0}),g=n(8),m=l.a.forwardRef((function(e,t){var n=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,d=e.className,h=e.type,p=void 0===h?"checkbox":h,u=e.isValid,m=void 0!==u&&u,v=e.isInvalid,y=void 0!==v&&v,b=e.isStatic,w=e.as,x=void 0===w?"input":w,S=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),C=Object(s.useContext)(f),O=C.controlId,P=C.custom?[c,"custom-control-input"]:[o,"form-check-input"],E=P[0],T=P[1];return o=Object(g.a)(E,T),l.a.createElement(x,Object(i.a)({},S,{ref:t,type:p,id:n||O,className:a()(d,o,m&&"is-valid",y&&"is-invalid",b&&"position-static")}))}));m.displayName="FormCheckInput";var v=m,y=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.bsCustomPrefix,c=e.className,d=e.htmlFor,h=Object(r.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),p=Object(s.useContext)(f),u=p.controlId,m=p.custom?[o,"custom-control-label"]:[n,"form-check-label"],v=m[0],y=m[1];return n=Object(g.a)(v,y),l.a.createElement("label",Object(i.a)({},h,{ref:t,htmlFor:d||u,className:a()(c,n)}))}));y.displayName="FormCheckLabel";var b=y,w=l.a.forwardRef((function(e,t){var n=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,d=e.inline,h=void 0!==d&&d,p=e.disabled,m=void 0!==p&&p,y=e.isValid,w=void 0!==y&&y,x=e.isInvalid,S=void 0!==x&&x,C=e.feedbackTooltip,O=void 0!==C&&C,P=e.feedback,E=e.className,T=e.style,k=e.title,I=void 0===k?"":k,A=e.type,M=void 0===A?"checkbox":A,j=e.label,D=e.children,L=e.custom,R=e.as,N=void 0===R?"input":R,z=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),B="switch"===M||L,H=B?[c,"custom-control"]:[o,"form-check"],_=H[0],W=H[1];o=Object(g.a)(_,W);var F=Object(s.useContext)(f).controlId,V=Object(s.useMemo)((function(){return{controlId:n||F,custom:B}}),[F,B,n]),U=null!=j&&!1!==j&&!D,Y=l.a.createElement(v,Object(i.a)({},z,{type:"switch"===M?"checkbox":M,ref:t,isValid:w,isInvalid:S,isStatic:!U,disabled:m,as:N}));return l.a.createElement(f.Provider,{value:V},l.a.createElement("div",{style:T,className:a()(E,o,B&&"custom-"+M,h&&o+"-inline")},D||l.a.createElement(l.a.Fragment,null,Y,U&&l.a.createElement(b,{title:I},j),(w||S)&&l.a.createElement(u,{type:w?"valid":"invalid",tooltip:O},P))))}));w.displayName="FormCheck",w.Input=v,w.Label=b;var x=w,S=l.a.forwardRef((function(e,t){var n=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,d=e.className,h=e.isValid,p=e.isInvalid,u=e.lang,m=e.as,v=void 0===m?"input":m,y=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),b=Object(s.useContext)(f),w=b.controlId,x=b.custom?[c,"custom-file-input"]:[o,"form-control-file"],S=x[0],C=x[1];return o=Object(g.a)(S,C),l.a.createElement(v,Object(i.a)({},y,{ref:t,id:n||w,type:"file",lang:u,className:a()(d,o,h&&"is-valid",p&&"is-invalid")}))}));S.displayName="FormFileInput";var C=S,O=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.bsCustomPrefix,c=e.className,d=e.htmlFor,h=Object(r.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),p=Object(s.useContext)(f),u=p.controlId,m=p.custom?[o,"custom-file-label"]:[n,"form-file-label"],v=m[0],y=m[1];return n=Object(g.a)(v,y),l.a.createElement("label",Object(i.a)({},h,{ref:t,htmlFor:d||u,className:a()(c,n),"data-browse":h["data-browse"]}))}));O.displayName="FormFileLabel";var P=O,E=l.a.forwardRef((function(e,t){var n=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,d=e.disabled,h=void 0!==d&&d,p=e.isValid,m=void 0!==p&&p,v=e.isInvalid,y=void 0!==v&&v,b=e.feedbackTooltip,w=void 0!==b&&b,x=e.feedback,S=e.className,O=e.style,E=e.label,T=e.children,k=e.custom,I=e.lang,A=e["data-browse"],M=e.as,j=void 0===M?"div":M,D=e.inputAs,L=void 0===D?"input":D,R=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),N=k?[c,"custom"]:[o,"form-file"],z=N[0],B=N[1];o=Object(g.a)(z,B);var H=Object(s.useContext)(f).controlId,_=Object(s.useMemo)((function(){return{controlId:n||H,custom:k}}),[H,k,n]),W=null!=E&&!1!==E&&!T,F=l.a.createElement(C,Object(i.a)({},R,{ref:t,isValid:m,isInvalid:y,disabled:h,as:L,lang:I}));return l.a.createElement(f.Provider,{value:_},l.a.createElement(j,{style:O,className:a()(S,o,k&&"custom-file")},T||l.a.createElement(l.a.Fragment,null,k?l.a.createElement(l.a.Fragment,null,F,W&&l.a.createElement(P,{"data-browse":A},E)):l.a.createElement(l.a.Fragment,null,W&&l.a.createElement(P,null,E),F),(m||y)&&l.a.createElement(u,{type:m?"valid":"invalid",tooltip:w},x))))}));E.displayName="FormFile",E.Input=C,E.Label=P;var T=E,k=(n(39),l.a.forwardRef((function(e,t){var n,o,c=e.bsPrefix,d=e.bsCustomPrefix,h=e.type,p=e.size,u=e.htmlSize,m=e.id,v=e.className,y=e.isValid,b=void 0!==y&&y,w=e.isInvalid,x=void 0!==w&&w,S=e.plaintext,C=e.readOnly,O=e.custom,P=e.as,E=void 0===P?"input":P,T=Object(r.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),k=Object(s.useContext)(f).controlId,I=O?[d,"custom"]:[c,"form-control"],A=I[0],M=I[1];if(c=Object(g.a)(A,M),S)(o={})[c+"-plaintext"]=!0,n=o;else if("file"===h){var j;(j={})[c+"-file"]=!0,n=j}else if("range"===h){var D;(D={})[c+"-range"]=!0,n=D}else if("select"===E&&O){var L;(L={})[c+"-select"]=!0,L[c+"-select-"+p]=p,n=L}else{var R;(R={})[c]=!0,R[c+"-"+p]=p,n=R}return l.a.createElement(E,Object(i.a)({},T,{type:h,size:u,ref:t,readOnly:C,id:m||k,className:a()(v,n,b&&"is-valid",x&&"is-invalid")}))})));k.displayName="FormControl";var I=Object.assign(k,{Feedback:u}),A=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.children,d=e.controlId,h=e.as,p=void 0===h?"div":h,u=Object(r.a)(e,["bsPrefix","className","children","controlId","as"]);n=Object(g.a)(n,"form-group");var m=Object(s.useMemo)((function(){return{controlId:d}}),[d]);return l.a.createElement(f.Provider,{value:m},l.a.createElement(p,Object(i.a)({},u,{ref:t,className:a()(o,n)}),c))}));A.displayName="FormGroup";var M=A,j=n(15),D=l.a.forwardRef((function(e,t){var n=e.as,o=void 0===n?"label":n,c=e.bsPrefix,d=e.column,h=e.srOnly,p=e.className,u=e.htmlFor,m=Object(r.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),v=Object(s.useContext)(f).controlId;c=Object(g.a)(c,"form-label");var y="col-form-label";"string"===typeof d&&(y=y+"-"+d);var b=a()(p,c,h&&"sr-only",d&&y);return u=u||v,d?l.a.createElement(j.a,Object(i.a)({as:"label",className:b,htmlFor:u},m)):l.a.createElement(o,Object(i.a)({ref:t,className:b,htmlFor:u},m))}));D.displayName="FormLabel",D.defaultProps={column:!1,srOnly:!1};var L=D,R=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.as,c=void 0===s?"small":s,d=e.muted,h=Object(r.a)(e,["bsPrefix","className","as","muted"]);return n=Object(g.a)(n,"form-text"),l.a.createElement(c,Object(i.a)({},h,{ref:t,className:a()(o,n,d&&"text-muted")}))}));R.displayName="FormText";var N=R,z=l.a.forwardRef((function(e,t){return l.a.createElement(x,Object(i.a)({},e,{ref:t,type:"switch"}))}));z.displayName="Switch",z.Input=x.Input,z.Label=x.Label;var B=z,H=n(53),_=Object(H.a)("form-row"),W=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.inline,s=e.className,c=e.validated,d=e.as,h=void 0===d?"form":d,p=Object(r.a)(e,["bsPrefix","inline","className","validated","as"]);return n=Object(g.a)(n,"form"),l.a.createElement(h,Object(i.a)({},p,{ref:t,className:a()(s,c&&"was-validated",o&&n+"-inline")}))}));W.displayName="Form",W.defaultProps={inline:!1},W.Row=_,W.Group=M,W.Control=I,W.Check=x,W.File=T,W.Switch=B,W.Label=L,W.Text=N;t.a=W},function(e,t,n){"use strict";var i=n(85),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(8),d=["xl","lg","md","sm","xs"],h=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.noGutters,h=e.as,p=void 0===h?"div":h,u=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),f=Object(c.a)(n,"row"),g=f+"-cols",m=[];return d.forEach((function(e){var t,n=u[e];delete u[e];var i="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&m.push(""+g+i+"-"+t)})),l.a.createElement(p,Object(i.a)({ref:t},u,{className:a.a.apply(void 0,[o,f,s&&"no-gutters"].concat(m))}))}));h.displayName="Row",h.defaultProps={noGutters:!1},t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0);var r=function(e){var t=Object(i.useRef)(e);return Object(i.useEffect)((function(){t.current=e}),[e]),t};function o(e){var t=r(e);return Object(i.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(133);function r(e){if("string"!==typeof e)throw new Error(Object(i.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n(0),r=n.n(i).a.createContext(null),o=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function o(e){var t=i.useRef(e);return r((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n(6),r={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:r,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,c=void 0===l?r.easeInOut:l,d=t.delay,h=void 0===d?0:d;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof h?h:a(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r=!1,o=!1;try{var a={get passive(){return r=!0},get once(){return o=r=!0}};i&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(c){}var s=function(e,t,n,i){if(i&&"boolean"!==typeof i&&!o){var a=i.once,s=i.capture,l=n;!o&&a&&(l=n.__once||function e(i){this.removeEventListener(t,e,s),n.call(this,i)},n.__once=l),e.addEventListener(t,l,r?i:s)}e.addEventListener(t,n,i)};var l=function(e,t,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};t.a=function(e,t,n,i){return s(e,t,n,i),function(){l(e,t,n,i)}}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(8),d=n(94),h=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.variant,s=e.size,h=e.active,p=e.className,u=e.block,f=e.type,g=e.as,m=Object(r.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),v=Object(c.a)(n,"btn"),y=a()(p,v,h&&"active",v+"-"+o,u&&v+"-block",s&&v+"-"+s);if(m.href)return l.a.createElement(d.a,Object(i.a)({},m,{as:g,ref:t,className:a()(y,m.disabled&&"disabled")}));t&&(m.ref=t),f?m.type=f:g||(m.type="button");var b=g||"button";return l.a.createElement(b,Object(i.a)({},m,{className:y}))}));h.displayName="Button",h.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=h},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){return e.scrollTop};function r(e,t){var n=e.timeout,i=e.style,r=void 0===i?{}:i;return{duration:r.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:r.transitionDelay}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f}));var i=n(1);function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&r(e),l=t&&r(t),c=s||l;if(e&&r(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var d=a[a.length-1];n="."===d||".."===d||""===d}else n=!1;for(var h=0,p=a.length;p>=0;p--){var u=a[p];"."===u?o(a,p):".."===u?(o(a,p),h++):h&&(o(a,p),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===typeof t||"object"===typeof n){var i=s(t),r=s(n);return i!==t||r!==n?e(i,r):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1},c=n(33);function d(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function u(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function g(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e)).state=t:(void 0===(o=Object(i.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function w(){try{return window.history.state||{}}catch(e){return{}}}function x(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,h=void 0===l?b:l,m=o.keyLength,x=void 0===m?6:m,S=e.basename?u(d(e.basename)):"";function C(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return S&&(o=p(o,S)),g(o,i,n)}function O(){return Math.random().toString(36).substr(2,x)}var P=v();function E(e){Object(i.a)(B,e),B.length=t.length,P.notifyListeners(B.location,B.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(C(e.state))}function k(){A(C(w()))}var I=!1;function A(e){if(I)I=!1,E();else{P.confirmTransitionTo(e,"POP",h,(function(t){t?E({action:"POP",location:e}):function(e){var t=B.location,n=j.indexOf(t.key);-1===n&&(n=0);var i=j.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(I=!0,L(r))}(e)}))}}var M=C(w()),j=[M.key];function D(e){return S+f(e)}function L(e){t.go(e)}var R=0;function N(e){1===(R+=e)&&1===e?(window.addEventListener("popstate",T),r&&window.addEventListener("hashchange",k)):0===R&&(window.removeEventListener("popstate",T),r&&window.removeEventListener("hashchange",k))}var z=!1;var B={length:t.length,action:"POP",location:M,createHref:D,push:function(e,i){var r=g(e,i,O(),B.location);P.confirmTransitionTo(r,"PUSH",h,(function(e){if(e){var i=D(r),o=r.key,a=r.state;if(n)if(t.pushState({key:o,state:a},null,i),s)window.location.href=i;else{var l=j.indexOf(B.location.key),c=j.slice(0,l+1);c.push(r.key),j=c,E({action:"PUSH",location:r})}else window.location.href=i}}))},replace:function(e,i){var r=g(e,i,O(),B.location);P.confirmTransitionTo(r,"REPLACE",h,(function(e){if(e){var i=D(r),o=r.key,a=r.state;if(n)if(t.replaceState({key:o,state:a},null,i),s)window.location.replace(i);else{var l=j.indexOf(B.location.key);-1!==l&&(j[l]=r.key),E({action:"REPLACE",location:r})}else window.location.replace(i)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=P.setPrompt(e);return z||(N(1),z=!0),function(){return z&&(z=!1,N(-1)),t()}},listen:function(e){var t=P.appendListener(e);return N(1),function(){N(-1),t()}}};return B}var S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:d},slash:{encodePath:d,decodePath:d}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(C(window.location.href)+"#"+e)}function E(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?u(d(e.basename)):"",h=S[s],m=h.encodePath,w=h.decodePath;function x(){var e=w(O());return l&&(e=p(e,l)),g(e)}var E=v();function T(e){Object(i.a)(H,e),H.length=t.length,E.notifyListeners(H.location,H.action)}var k=!1,I=null;function A(){var e,t,n=O(),i=m(n);if(n!==i)P(i);else{var r=x(),a=H.location;if(!k&&(t=r,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===f(r))return;I=null,function(e){if(k)k=!1,T();else{E.confirmTransitionTo(e,"POP",o,(function(t){t?T({action:"POP",location:e}):function(e){var t=H.location,n=L.lastIndexOf(f(t));-1===n&&(n=0);var i=L.lastIndexOf(f(e));-1===i&&(i=0);var r=n-i;r&&(k=!0,R(r))}(e)}))}}(r)}}var M=O(),j=m(M);M!==j&&P(j);var D=x(),L=[f(D)];function R(e){t.go(e)}var N=0;function z(e){1===(N+=e)&&1===e?window.addEventListener("hashchange",A):0===N&&window.removeEventListener("hashchange",A)}var B=!1;var H={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+m(l+f(e))},push:function(e,t){var n=g(e,void 0,void 0,H.location);E.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=f(n),i=m(l+t);if(O()!==i){I=t,function(e){window.location.hash=e}(i);var r=L.lastIndexOf(f(H.location)),o=L.slice(0,r+1);o.push(t),L=o,T({action:"PUSH",location:n})}else T()}}))},replace:function(e,t){var n=g(e,void 0,void 0,H.location);E.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=f(n),i=m(l+t);O()!==i&&(I=t,P(i));var r=L.indexOf(f(H.location));-1!==r&&(L[r]=t),T({action:"REPLACE",location:n})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return B||(z(1),B=!0),function(){return B&&(B=!1,z(-1)),t()}},listen:function(e){var t=E.appendListener(e);return z(1),function(){z(-1),t()}}};return H}function T(e,t,n){return Math.min(Math.max(e,t),n)}function k(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,d=v();function h(e){Object(i.a)(w,e),w.length=w.entries.length,d.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,c)}var u=T(s,0,o.length-1),m=o.map((function(e){return g(e,void 0,"string"===typeof e?p():e.key||p())})),y=f;function b(e){var t=T(w.index+e,0,w.entries.length-1),i=w.entries[t];d.confirmTransitionTo(i,"POP",n,(function(e){e?h({action:"POP",location:i,index:t}):h()}))}var w={length:m.length,action:"POP",location:m[u],index:u,entries:m,createHref:y,push:function(e,t){var i=g(e,t,p(),w.location);d.confirmTransitionTo(i,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:"PUSH",location:i,index:t,entries:n})}}))},replace:function(e,t){var i=g(e,t,p(),w.location);d.confirmTransitionTo(i,"REPLACE",n,(function(e){e&&(w.entries[w.index]=i,h({action:"REPLACE",location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),d.setPrompt(e)},listen:function(e){return d.appendListener(e)}};return w}},function(e,t,n){"use strict";var i=function(){};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return w}));var i=n(17),r=n(16),o=n(0),a=n.n(o),s=n(38),l=(n(2),n(1)),c=n(3),d=n(33);a.a.Component;var h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).history=Object(s.b)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return a.a.createElement(i.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var p=function(e,t){return"function"===typeof e?e(t):e},u=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},f=function(e){return e},g=a.a.forwardRef;"undefined"===typeof g&&(g=f);var m=g((function(e,t){var n=e.innerRef,i=e.navigate,r=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,d=Object(l.a)({},o,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return d.ref=f!==g&&t||n,a.a.createElement("a",d)}));var v=g((function(e,t){var n=e.component,r=void 0===n?m:n,o=e.replace,s=e.to,h=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(i.c.Consumer,null,(function(e){e||Object(d.a)(!1);var n=e.history,i=u(p(s,e.location),e.location),c=i?n.createHref(i):"",m=Object(l.a)({},v,{href:c,navigate:function(){var t=p(s,e.location);(o?n.replace:n.push)(t)}});return f!==g?m.ref=t||h:m.innerRef=h,a.a.createElement(r,m)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);var w=b((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,f=e.className,g=e.exact,m=e.isActive,w=e.location,x=e.sensitive,S=e.strict,C=e.style,O=e.to,P=e.innerRef,E=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(i.c.Consumer,null,(function(e){e||Object(d.a)(!1);var n=w||e.location,o=u(p(O,n),n),c=o.pathname,T=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=T?Object(i.d)(n.pathname,{path:T,exact:g,sensitive:x,strict:S}):null,I=!!(m?m(k,n):k),A=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,s):f,M=I?Object(l.a)({},C,{},h):C,j=Object(l.a)({"aria-current":I&&r||null,className:A,style:M,to:o},E);return y!==b?j.ref=t||P:j.innerRef=P,a.a.createElement(v,j)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(74);var r=n(120),o=n(79);function a(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||Object(r.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p}));var i=n(133);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(i.a)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),i=l(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,s=i*Math.min(r,1-r),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",d=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",d.push(t[3])),a({type:c,values:d})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?h(e,t):p(e,t)}function d(e,t){return e=o(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function h(e,t){if(e=o(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function p(e,t){if(e=o(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t,n){"use strict";var i=n(113),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=u(n);r&&r!==f&&e(t,r,i)}var a=d(n);h&&(a=a.concat(h(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!i||!i[v])&&(!g||!g[v])&&(!s||!s[v])){var y=p(n,v);try{c(t,v,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(i.useMemo)((function(){return function(e,t){var n=r(e),i=r(t);return function(e){n&&n(e),i&&i(e)}}(e,t)}),[e,t])}},function(e,t,n){"use strict";(function(e){var i=n(85),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.a.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();t.a=s}).call(this,n(103)(e))},function(e,t,n){"use strict";var i=Array.isArray,r=Object.keys,o=Object.prototype.hasOwnProperty,a="undefined"!==typeof Element;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,l,c,d=i(t),h=i(n);if(d&&h){if((l=t.length)!=n.length)return!1;for(s=l;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(d!=h)return!1;var p=t instanceof Date,u=n instanceof Date;if(p!=u)return!1;if(p&&u)return t.getTime()==n.getTime();var f=t instanceof RegExp,g=n instanceof RegExp;if(f!=g)return!1;if(f&&g)return t.toString()==n.toString();var m=r(t);if((l=m.length)!==r(n).length)return!1;for(s=l;0!==s--;)if(!o.call(n,m[s]))return!1;if(a&&t instanceof Element&&n instanceof Element)return t===n;for(s=l;0!==s--;)if(("_owner"!==(c=m[s])||!t.$$typeof)&&!e(t[c],n[c]))return!1;return!0}return t!==t&&n!==n}(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},function(e,t,n){"use strict";var i=n(175);t.a=function(e,t){return t?Object(i.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(177),r=(n(0),n(52));function o(){return Object(i.a)()||r.a}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(8),d=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.fluid,s=e.as,d=void 0===s?"div":s,h=e.className,p=Object(r.a)(e,["bsPrefix","fluid","as","className"]),u=Object(c.a)(n,"container"),f="string"===typeof o?"-"+o:"-fluid";return l.a.createElement(d,Object(i.a)({ref:t},p,{className:a()(h,o?""+u+f:u)}))}));d.displayName="Container",d.defaultProps={fluid:!1},t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return $n})),n.d(t,"b",(function(){return Xn}));var i=n(0),r=n(47),o=n.n(r),a=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===s}(e)}(e)};var s="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,t,n){return e.concat(t).map((function(e){return l(e,n)}))}function d(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||c,n.isMergeableObject=n.isMergeableObject||a;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){i[t]=l(e[t],n)})),Object.keys(t).forEach((function(r){n.isMergeableObject(t[r])&&e[r]?i[r]=d(e[r],t[r],n):i[r]=l(t[r],n)})),i}(e,t,n):l(t,n)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return d(e,n,t)}),{})};var h=d,p=n(20),u=p.a.Symbol,f=Object.prototype,g=f.hasOwnProperty,m=f.toString,v=u?u.toStringTag:void 0;var y=function(e){var t=g.call(e,v),n=e[v];try{e[v]=void 0;var i=!0}catch(o){}var r=m.call(e);return i&&(t?e[v]=n:delete e[v]),r},b=Object.prototype.toString;var w=function(e){return b.call(e)},x=u?u.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":x&&x in Object(e)?y(e):w(e)};var C=function(e,t){return function(n){return e(t(n))}},O=C(Object.getPrototypeOf,Object);var P=function(e){return null!=e&&"object"==typeof e},E=Function.prototype,T=Object.prototype,k=E.toString,I=T.hasOwnProperty,A=k.call(Object);var M=function(e){if(!P(e)||"[object Object]"!=S(e))return!1;var t=O(e);if(null===t)return!0;var n=I.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==A};var j=function(){this.__data__=[],this.size=0};var D=function(e,t){return e===t||e!==e&&t!==t};var L=function(e,t){for(var n=e.length;n--;)if(D(e[n][0],t))return n;return-1},R=Array.prototype.splice;var N=function(e){var t=this.__data__,n=L(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),--this.size,!0)};var z=function(e){var t=this.__data__,n=L(t,e);return n<0?void 0:t[n][1]};var B=function(e){return L(this.__data__,e)>-1};var H=function(e,t){var n=this.__data__,i=L(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}_.prototype.clear=j,_.prototype.delete=N,_.prototype.get=z,_.prototype.has=B,_.prototype.set=H;var W=_;var F=function(){this.__data__=new W,this.size=0};var V=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var U=function(e){return this.__data__.get(e)};var Y=function(e){return this.__data__.has(e)};var X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var G=function(e){if(!X(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},q=p.a["__core-js_shared__"],Z=function(){var e=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var K=function(e){return!!Z&&Z in e},$=Function.prototype.toString;var Q=function(e){if(null!=e){try{return $.call(e)}catch(t){}try{return e+""}catch(t){}}return""},J=/^\[object .+?Constructor\]$/,ee=Function.prototype,te=Object.prototype,ne=ee.toString,ie=te.hasOwnProperty,re=RegExp("^"+ne.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var oe=function(e){return!(!X(e)||K(e))&&(G(e)?re:J).test(Q(e))};var ae=function(e,t){return null==e?void 0:e[t]};var se=function(e,t){var n=ae(e,t);return oe(n)?n:void 0},le=se(p.a,"Map"),ce=se(Object,"create");var de=function(){this.__data__=ce?ce(null):{},this.size=0};var he=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pe=Object.prototype.hasOwnProperty;var ue=function(e){var t=this.__data__;if(ce){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return pe.call(t,e)?t[e]:void 0},fe=Object.prototype.hasOwnProperty;var ge=function(e){var t=this.__data__;return ce?void 0!==t[e]:fe.call(t,e)};var me=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?"__lodash_hash_undefined__":t,this};function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ve.prototype.clear=de,ve.prototype.delete=he,ve.prototype.get=ue,ve.prototype.has=ge,ve.prototype.set=me;var ye=ve;var be=function(){this.size=0,this.__data__={hash:new ye,map:new(le||W),string:new ye}};var we=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var xe=function(e,t){var n=e.__data__;return we(t)?n["string"==typeof t?"string":"hash"]:n.map};var Se=function(e){var t=xe(this,e).delete(e);return this.size-=t?1:0,t};var Ce=function(e){return xe(this,e).get(e)};var Oe=function(e){return xe(this,e).has(e)};var Pe=function(e,t){var n=xe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ee.prototype.clear=be,Ee.prototype.delete=Se,Ee.prototype.get=Ce,Ee.prototype.has=Oe,Ee.prototype.set=Pe;var Te=Ee;var ke=function(e,t){var n=this.__data__;if(n instanceof W){var i=n.__data__;if(!le||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Te(i)}return n.set(e,t),this.size=n.size,this};function Ie(e){var t=this.__data__=new W(e);this.size=t.size}Ie.prototype.clear=F,Ie.prototype.delete=V,Ie.prototype.get=U,Ie.prototype.has=Y,Ie.prototype.set=ke;var Ae=Ie;var Me=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},je=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var De=function(e,t,n){"__proto__"==t&&je?je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Le=Object.prototype.hasOwnProperty;var Re=function(e,t,n){var i=e[t];Le.call(e,t)&&D(i,n)&&(void 0!==n||t in e)||De(e,t,n)};var Ne=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?De(n,s,l):Re(n,s,l)}return n};var ze=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var Be=function(e){return P(e)&&"[object Arguments]"==S(e)},He=Object.prototype,_e=He.hasOwnProperty,We=He.propertyIsEnumerable,Fe=Be(function(){return arguments}())?Be:function(e){return P(e)&&_e.call(e,"callee")&&!We.call(e,"callee")},Ve=Array.isArray,Ue=n(86),Ye=/^(?:0|[1-9]\d*)$/;var Xe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ye.test(e))&&e>-1&&e%1==0&&e<t};var Ge=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qe={};qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object Boolean]"]=qe["[object DataView]"]=qe["[object Date]"]=qe["[object Error]"]=qe["[object Function]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object WeakMap]"]=!1;var Ze=function(e){return P(e)&&Ge(e.length)&&!!qe[S(e)]};var Ke=function(e){return function(t){return e(t)}},$e=n(46),Qe=$e.a&&$e.a.isTypedArray,Je=Qe?Ke(Qe):Ze,et=Object.prototype.hasOwnProperty;var tt=function(e,t){var n=Ve(e),i=!n&&Fe(e),r=!n&&!i&&Object(Ue.a)(e),o=!n&&!i&&!r&&Je(e),a=n||i||r||o,s=a?ze(e.length,String):[],l=s.length;for(var c in e)!t&&!et.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Xe(c,l))||s.push(c);return s},nt=Object.prototype;var it=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||nt)},rt=C(Object.keys,Object),ot=Object.prototype.hasOwnProperty;var at=function(e){if(!it(e))return rt(e);var t=[];for(var n in Object(e))ot.call(e,n)&&"constructor"!=n&&t.push(n);return t};var st=function(e){return null!=e&&Ge(e.length)&&!G(e)};var lt=function(e){return st(e)?tt(e):at(e)};var ct=function(e,t){return e&&Ne(t,lt(t),e)};var dt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},ht=Object.prototype.hasOwnProperty;var pt=function(e){if(!X(e))return dt(e);var t=it(e),n=[];for(var i in e)("constructor"!=i||!t&&ht.call(e,i))&&n.push(i);return n};var ut=function(e){return st(e)?tt(e,!0):pt(e)};var ft=function(e,t){return e&&Ne(t,ut(t),e)},gt=n(128);var mt=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t};var vt=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o};var yt=function(){return[]},bt=Object.prototype.propertyIsEnumerable,wt=Object.getOwnPropertySymbols,xt=wt?function(e){return null==e?[]:(e=Object(e),vt(wt(e),(function(t){return bt.call(e,t)})))}:yt;var St=function(e,t){return Ne(e,xt(e),t)};var Ct=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},Ot=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ct(t,xt(e)),e=O(e);return t}:yt;var Pt=function(e,t){return Ne(e,Ot(e),t)};var Et=function(e,t,n){var i=t(e);return Ve(e)?i:Ct(i,n(e))};var Tt=function(e){return Et(e,lt,xt)};var kt=function(e){return Et(e,ut,Ot)},It=se(p.a,"DataView"),At=se(p.a,"Promise"),Mt=se(p.a,"Set"),jt=se(p.a,"WeakMap"),Dt=Q(It),Lt=Q(le),Rt=Q(At),Nt=Q(Mt),zt=Q(jt),Bt=S;(It&&"[object DataView]"!=Bt(new It(new ArrayBuffer(1)))||le&&"[object Map]"!=Bt(new le)||At&&"[object Promise]"!=Bt(At.resolve())||Mt&&"[object Set]"!=Bt(new Mt)||jt&&"[object WeakMap]"!=Bt(new jt))&&(Bt=function(e){var t=S(e),n="[object Object]"==t?e.constructor:void 0,i=n?Q(n):"";if(i)switch(i){case Dt:return"[object DataView]";case Lt:return"[object Map]";case Rt:return"[object Promise]";case Nt:return"[object Set]";case zt:return"[object WeakMap]"}return t});var Ht=Bt,_t=Object.prototype.hasOwnProperty;var Wt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&_t.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ft=p.a.Uint8Array;var Vt=function(e){var t=new e.constructor(e.byteLength);return new Ft(t).set(new Ft(e)),t};var Ut=function(e,t){var n=t?Vt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Yt=/\w*$/;var Xt=function(e){var t=new e.constructor(e.source,Yt.exec(e));return t.lastIndex=e.lastIndex,t},Gt=u?u.prototype:void 0,qt=Gt?Gt.valueOf:void 0;var Zt=function(e){return qt?Object(qt.call(e)):{}};var Kt=function(e,t){var n=t?Vt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var $t=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Vt(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Ut(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Kt(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return Xt(e);case"[object Set]":return new i;case"[object Symbol]":return Zt(e)}},Qt=Object.create,Jt=function(){function e(){}return function(t){if(!X(t))return{};if(Qt)return Qt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var en=function(e){return"function"!=typeof e.constructor||it(e)?{}:Jt(O(e))};var tn=function(e){return P(e)&&"[object Map]"==Ht(e)},nn=$e.a&&$e.a.isMap,rn=nn?Ke(nn):tn;var on=function(e){return P(e)&&"[object Set]"==Ht(e)},an=$e.a&&$e.a.isSet,sn=an?Ke(an):on,ln={};ln["[object Arguments]"]=ln["[object Array]"]=ln["[object ArrayBuffer]"]=ln["[object DataView]"]=ln["[object Boolean]"]=ln["[object Date]"]=ln["[object Float32Array]"]=ln["[object Float64Array]"]=ln["[object Int8Array]"]=ln["[object Int16Array]"]=ln["[object Int32Array]"]=ln["[object Map]"]=ln["[object Number]"]=ln["[object Object]"]=ln["[object RegExp]"]=ln["[object Set]"]=ln["[object String]"]=ln["[object Symbol]"]=ln["[object Uint8Array]"]=ln["[object Uint8ClampedArray]"]=ln["[object Uint16Array]"]=ln["[object Uint32Array]"]=!0,ln["[object Error]"]=ln["[object Function]"]=ln["[object WeakMap]"]=!1;var cn=function e(t,n,i,r,o,a){var s,l=1&n,c=2&n,d=4&n;if(i&&(s=o?i(t,r,o,a):i(t)),void 0!==s)return s;if(!X(t))return t;var h=Ve(t);if(h){if(s=Wt(t),!l)return mt(t,s)}else{var p=Ht(t),u="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Ue.a)(t))return Object(gt.a)(t,l);if("[object Object]"==p||"[object Arguments]"==p||u&&!o){if(s=c||u?{}:en(t),!l)return c?Pt(t,ft(s,t)):St(t,ct(s,t))}else{if(!ln[p])return o?t:{};s=$t(t,p,l)}}a||(a=new Ae);var f=a.get(t);if(f)return f;a.set(t,s),sn(t)?t.forEach((function(r){s.add(e(r,n,i,r,t,a))})):rn(t)&&t.forEach((function(r,o){s.set(o,e(r,n,i,o,t,a))}));var g=d?c?kt:Tt:c?keysIn:lt,m=h?void 0:g(t);return Me(m||t,(function(r,o){m&&(r=t[o=r]),Re(s,o,e(r,n,i,o,t,a))})),s};var dn=function(e){return cn(e,4)};var hn=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};var pn=function(e){return"symbol"==typeof e||P(e)&&"[object Symbol]"==S(e)};function un(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(un.Cache||Te),n}un.Cache=Te;var fn=un;var gn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/\\(\\)?/g,vn=function(e){var t=fn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gn,(function(e,n,i,r){t.push(i?r.replace(mn,"$1"):n||e)})),t}));var yn=function(e){if("string"==typeof e||pn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},bn=u?u.prototype:void 0,wn=bn?bn.toString:void 0;var xn=function e(t){if("string"==typeof t)return t;if(Ve(t))return hn(t,e)+"";if(pn(t))return wn?wn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var Sn=function(e){return null==e?"":xn(e)};var Cn=function(e){return Ve(e)?hn(e,yn):pn(e)?[e]:mt(vn(Sn(e)))},On=n(24),Pn=n(108),En=n(44),Tn=n.n(En);var kn=function(e){return cn(e,5)};function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function An(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Mn(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Dn=function(e){return Array.isArray(e)&&0===e.length},Ln=function(e){return"function"===typeof e},Rn=function(e){return null!==e&&"object"===typeof e},Nn=function(e){return String(Math.floor(Number(e)))===e},zn=function(e){return"[object String]"===Object.prototype.toString.call(e)},Bn=function(e){return 0===i.Children.count(e)},Hn=function(e){return Rn(e)&&Ln(e.then)};function _n(e,t,n,i){void 0===i&&(i=0);for(var r=Cn(t);e&&i<r.length;)e=e[r[i++]];return void 0===e?n:e}function Wn(e,t,n){for(var i=dn(e),r=i,o=0,a=Cn(t);o<a.length-1;o++){var s=a[o],l=_n(e,a.slice(0,o+1));if(l&&(Rn(l)||Array.isArray(l)))r=r[s]=dn(l);else{var c=a[o+1];r=r[s]=Nn(c)&&Number(c)>=0?[]:{}}}return(0===o?e:r)[a[o]]===n?e:(void 0===n?delete r[a[o]]:r[a[o]]=n,0===o&&void 0===n&&delete i[a[o]],i)}function Fn(e,t,n,i){void 0===n&&(n=new WeakMap),void 0===i&&(i={});for(var r=0,o=Object.keys(e);r<o.length;r++){var a=o[r],s=e[a];Rn(s)?n.get(s)||(n.set(s,!0),i[a]=Array.isArray(s)?[]:{},Fn(s,t,n,i[a])):i[a]=t}return i}var Vn=Object(i.createContext)(void 0),Un=Vn.Provider,Yn=Vn.Consumer;function Xn(){var e=Object(i.useContext)(Vn);return e||Object(On.a)(!1),e}function Gn(e,t){switch(t.type){case"SET_VALUES":return In({},e,{values:t.payload});case"SET_TOUCHED":return In({},e,{touched:t.payload});case"SET_ERRORS":return o()(e.errors,t.payload)?e:In({},e,{errors:t.payload});case"SET_STATUS":return In({},e,{status:t.payload});case"SET_ISSUBMITTING":return In({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return In({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return In({},e,{values:Wn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return In({},e,{touched:Wn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return In({},e,{errors:Wn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return In({},e,{},t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return In({},e,{touched:Fn(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return In({},e,{isSubmitting:!1});default:return e}}var qn={},Zn={};function Kn(e){var t=e.validateOnChange,n=void 0===t||t,r=e.validateOnBlur,a=void 0===r||r,s=e.validateOnMount,l=void 0!==s&&s,c=e.isInitialValid,d=e.enableReinitialize,p=void 0!==d&&d,u=e.onSubmit,f=Mn(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=In({validateOnChange:n,validateOnBlur:a,validateOnMount:l,onSubmit:u},f),m=Object(i.useRef)(g.initialValues),v=Object(i.useRef)(g.initialErrors||qn),y=Object(i.useRef)(g.initialTouched||Zn),b=Object(i.useRef)(g.initialStatus),w=Object(i.useRef)(!1),x=Object(i.useRef)({});Object(i.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var S=Object(i.useReducer)(Gn,{values:g.initialValues,errors:g.initialErrors||qn,touched:g.initialTouched||Zn,status:g.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),C=S[0],O=S[1],P=Object(i.useCallback)((function(e,t){return new Promise((function(n,i){var r=g.validate(e,t);null==r?n(qn):Hn(r)?r.then((function(e){n(e||qn)}),(function(e){i(e)})):n(r)}))}),[g.validate]),E=Object(i.useCallback)((function(e,t){var n=g.validationSchema,i=Ln(n)?n(t):n,r=t&&i.validateAt?i.validateAt(t,e):function(e,t,n,i){void 0===n&&(n=!1);void 0===i&&(i={});var r=function e(t){var n=Array.isArray(t)?[]:{};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=String(i);!0===Array.isArray(t[r])?n[r]=t[r].map((function(t){return!0===Array.isArray(t)||M(t)?e(t):""!==t?t:void 0})):M(t[r])?n[r]=e(t[r]):n[r]=""!==t[r]?t[r]:void 0}return n}(e);return t[n?"validateSync":"validate"](r,{abortEarly:!1,context:i})}(e,i);return new Promise((function(e,t){r.then((function(){e(qn)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Wn(t,e.path,e.message);var n=e.inner,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;_n(t,a.path)||(t=Wn(t,a.path,a.message))}}return t}(n)):t(n)}))}))}),[g.validationSchema]),T=Object(i.useCallback)((function(e,t){return new Promise((function(n){return n(x.current[e].validate(t))}))}),[]),k=Object(i.useCallback)((function(e){var t=Object.keys(x.current).filter((function(e){return Ln(x.current[e].validate)})),n=t.length>0?t.map((function(t){return T(t,_n(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,i){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Wn(e,t[i],n)),e}),{})}))}),[T]),I=Object(i.useCallback)((function(e){return Promise.all([k(e),g.validationSchema?E(e):{},g.validate?P(e):{}]).then((function(e){var t=e[0],n=e[1],i=e[2];return h.all([t,n,i],{arrayMerge:Qn})}))}),[g.validate,g.validationSchema,k,P,E]),A=ei((function(e){return void 0===e&&(e=C.values),Object(Pn.unstable_runWithPriority)(Pn.unstable_LowPriority,(function(){return I(e).then((function(e){return w.current&&O({type:"SET_ERRORS",payload:e}),e})).catch((function(e){0}))}))})),j=ei((function(e){return void 0===e&&(e=C.values),O({type:"SET_ISVALIDATING",payload:!0}),I(e).then((function(e){return w.current&&(O({type:"SET_ISVALIDATING",payload:!1}),o()(C.errors,e)||O({type:"SET_ERRORS",payload:e})),e}))})),D=Object(i.useCallback)((function(e){var t=e&&e.values?e.values:m.current,n=e&&e.errors?e.errors:v.current?v.current:g.initialErrors||{},i=e&&e.touched?e.touched:y.current?y.current:g.initialTouched||{},r=e&&e.status?e.status:b.current?b.current:g.initialStatus;m.current=t,v.current=n,y.current=i,b.current=r;var o=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:i,status:r,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(g.onReset){var a=g.onReset(C.values,Q);Hn(a)?a.then(o):o()}else o()}),[g.initialErrors,g.initialStatus,g.initialTouched]);Object(i.useEffect)((function(){!0!==w.current||o()(m.current,g.initialValues)||(m.current=g.initialValues,p&&D(),l&&A(m.current))}),[p,g.initialValues,D,l,A]),Object(i.useEffect)((function(){p&&!0===w.current&&!o()(v.current,g.initialErrors)&&(v.current=g.initialErrors||qn,O({type:"SET_ERRORS",payload:g.initialErrors||qn}))}),[p,g.initialErrors]),Object(i.useEffect)((function(){p&&!0===w.current&&!o()(y.current,g.initialTouched)&&(y.current=g.initialTouched||Zn,O({type:"SET_TOUCHED",payload:g.initialTouched||Zn}))}),[p,g.initialTouched]),Object(i.useEffect)((function(){p&&!0===w.current&&!o()(b.current,g.initialStatus)&&(b.current=g.initialStatus,O({type:"SET_STATUS",payload:g.initialStatus}))}),[p,g.initialStatus,g.initialTouched]);var L=ei((function(e){if(Ln(x.current[e].validate)){var t=_n(C.values,e),n=x.current[e].validate(t);return Hn(n)?(O({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),O({type:"SET_ISVALIDATING",payload:!1})}))):(O({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return g.validationSchema?(O({type:"SET_ISVALIDATING",payload:!0}),E(C.values,e).then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),O({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=Object(i.useCallback)((function(e,t){var n=t.validate;x.current[e]={validate:n}}),[]),N=Object(i.useCallback)((function(e){delete x.current[e]}),[]),z=ei((function(e,t){return O({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?A(C.values):Promise.resolve()})),B=Object(i.useCallback)((function(e){O({type:"SET_ERRORS",payload:e})}),[]),H=ei((function(e,t){return O({type:"SET_VALUES",payload:e}),(void 0===t?n:t)?A(e):Promise.resolve()})),_=Object(i.useCallback)((function(e,t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),W=ei((function(e,t,i){return O({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===i?n:i)?A(Wn(C.values,e,t)):Promise.resolve()})),F=Object(i.useCallback)((function(e,t){var n,i=t,r=e;if(!zn(e)){e.persist&&e.persist();var o=e.target?e.target:e.currentTarget,a=o.type,s=o.name,l=o.id,c=o.value,d=o.checked,h=(o.outerHTML,o.options),p=o.multiple;i=t||(s||l),r=/number|range/.test(a)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(a)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var i=[],r=!1,o=-1;if(Array.isArray(e))i=e,o=e.indexOf(n),r=o>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!r)return i.concat(n);if(!r)return i;return i.slice(0,o).concat(i.slice(o+1))}(_n(C.values,i),d,c):p?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(h):c}i&&W(i,r)}),[W,C.values]),V=ei((function(e){if(zn(e))return function(t){return F(t,e)};F(e)})),U=ei((function(e,t,n){return void 0===t&&(t=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?A(C.values):Promise.resolve()})),Y=Object(i.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,i=n.name,r=n.id,o=(n.outerHTML,t||(i||r));U(o,!0)}),[U]),X=ei((function(e){if(zn(e))return function(t){return Y(t,e)};Y(e)})),G=Object(i.useCallback)((function(e){Ln(e)?O({type:"SET_FORMIK_STATE",payload:e}):O({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),q=Object(i.useCallback)((function(e){O({type:"SET_STATUS",payload:e})}),[]),Z=Object(i.useCallback)((function(e){O({type:"SET_ISSUBMITTING",payload:e})}),[]),K=ei((function(){return O({type:"SUBMIT_ATTEMPT"}),j().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=J()))return}catch(i){throw i}return Promise.resolve(n).then((function(e){return w.current&&O({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(w.current)throw O({type:"SUBMIT_FAILURE"}),e}))}if(w.current&&(O({type:"SUBMIT_FAILURE"}),t))throw e}))})),$=ei((function(e){e&&e.preventDefault&&Ln(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Ln(e.stopPropagation)&&e.stopPropagation(),K().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Q={resetForm:D,validateForm:j,validateField:L,setErrors:B,setFieldError:_,setFieldTouched:U,setFieldValue:W,setStatus:q,setSubmitting:Z,setTouched:z,setValues:H,setFormikState:G,submitForm:K},J=ei((function(){return u(C.values,Q)})),ee=ei((function(e){e&&e.preventDefault&&Ln(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Ln(e.stopPropagation)&&e.stopPropagation(),D()})),te=Object(i.useCallback)((function(e){return{value:_n(C.values,e),error:_n(C.errors,e),touched:!!_n(C.touched,e),initialValue:_n(m.current,e),initialTouched:!!_n(y.current,e),initialError:_n(v.current,e)}}),[C.errors,C.touched,C.values]),ne=Object(i.useCallback)((function(e){return{setValue:function(t,n){return W(e,t,n)},setTouched:function(t,n){return U(e,t,n)},setError:function(t){return _(e,t)}}}),[W,U,_]),ie=Object(i.useCallback)((function(e){var t=Rn(e),n=t?e.name:e,i=_n(C.values,n),r={name:n,value:i,onChange:V,onBlur:X};if(t){var o=e.type,a=e.value,s=e.as,l=e.multiple;"checkbox"===o?void 0===a?r.checked=!!i:(r.checked=!(!Array.isArray(i)||!~i.indexOf(a)),r.value=a):"radio"===o?(r.checked=i===a,r.value=a):"select"===s&&l&&(r.value=r.value||[],r.multiple=!0)}return r}),[X,V,C.values]),re=Object(i.useMemo)((function(){return!o()(m.current,C.values)}),[m.current,C.values]),oe=Object(i.useMemo)((function(){return"undefined"!==typeof c?re?C.errors&&0===Object.keys(C.errors).length:!1!==c&&Ln(c)?c(g):c:C.errors&&0===Object.keys(C.errors).length}),[c,re,C.errors,g]);return In({},C,{initialValues:m.current,initialErrors:v.current,initialTouched:y.current,initialStatus:b.current,handleBlur:X,handleChange:V,handleReset:ee,handleSubmit:$,resetForm:D,setErrors:B,setFormikState:G,setFieldTouched:U,setFieldValue:W,setFieldError:_,setStatus:q,setSubmitting:Z,setTouched:z,setValues:H,submitForm:K,validateForm:j,validateField:L,isValid:oe,dirty:re,unregisterField:N,registerField:R,getFieldProps:ie,getFieldMeta:te,getFieldHelpers:ne,validateOnBlur:a,validateOnChange:n,validateOnMount:l})}function $n(e){var t=Kn(e),n=e.component,r=e.children,o=e.render,a=e.innerRef;return Object(i.useImperativeHandle)(a,(function(){return t})),Object(i.createElement)(Un,{value:t},n?Object(i.createElement)(n,t):o?o(t):r?Ln(r)?r(t):Bn(r)?null:i.Children.only(r):null)}function Qn(e,t,n){var i=e.slice();return t.forEach((function(t,r){if("undefined"===typeof i[r]){var o=!1!==n.clone&&n.isMergeableObject(t);i[r]=o?h(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?i[r]=h(e[r],t,n):-1===e.indexOf(t)&&i.push(t)})),i}var Jn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;function ei(e){var t=Object(i.useRef)(e);return Jn((function(){t.current=e})),Object(i.useCallback)((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.current.apply(void 0,n)}),[])}function ti(e){var t=function(t){return Object(i.createElement)(Yn,null,(function(n){return n||Object(On.a)(!1),Object(i.createElement)(e,Object.assign({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",Tn()(t,e)}Object(i.forwardRef)((function(e,t){var n=e.action,r=Mn(e,["action"]),o=n||"#",a=Xn(),s=a.handleReset,l=a.handleSubmit;return Object(i.createElement)("form",Object.assign({onSubmit:l,ref:t,onReset:s,action:o},r))})).displayName="Form";var ni=function(e,t,n){var i=ii(e);return i.splice(t,0,n),i},ii=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(In({},e,{length:t+1}))}return[]},ri=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,i){var r=n.props,o=r.name;(0,r.formik.setFormikState)((function(n){var r="function"===typeof i?i:e,a="function"===typeof t?t:e,s=Wn(n.values,o,e(_n(n.values,o))),l=i?r(_n(n.errors,o)):void 0,c=t?a(_n(n.touched,o)):void 0;return Dn(l)&&(l=void 0),Dn(c)&&(c=void 0),In({},n,{values:s,errors:i?Wn(n.errors,o,l):n.errors,touched:t?Wn(n.touched,o,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(ii(t),[kn(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var i=ii(e),r=i[t];return i[t]=i[n],i[n]=r,i}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var i=ii(e),r=i[t];return i.splice(t,1),i.splice(n,0,r),i}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return ni(n,e,t)}),(function(t){return ni(t,e,null)}),(function(t){return ni(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var i=ii(e);return i[t]=n,i}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var i=n?[e].concat(n):[e];return t<0&&(t=i.length),i}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(jn(n)),n.pop=n.pop.bind(jn(n)),n}An(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!o()(_n(e.formik.values,e.name),_n(this.props.formik.values,this.props.name))&&this.props.formik.validateOnChange&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var i=n?ii(n):[];return t||(t=i[e]),Ln(i.splice)&&i.splice(e,1),i}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,r=t.render,o=t.children,a=t.name,s=In({},e,{form:Mn(t.formik,["validate","validationSchema"]),name:a});return n?Object(i.createElement)(n,s):r?r(s):o?"function"===typeof o?o(s):Bn(o)?null:i.Children.only(o):null},t}(i.Component);ri.defaultProps={validateOnChange:!0};i.Component,i.Component},function(e,t,n){"use strict";var i=n(27),r=n(6),o=n(175),a=n(1),s=["xs","sm","md","lg","xl"];function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,o=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,d=Object(r.a)(e,["values","unit","step"]);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function p(e,t){var i=s.indexOf(t);return i===s.length-1?h(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof n[s[i+1]]?n[s[i+1]]:t)-c/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:h,down:function(e){var t=s.indexOf(e)+1,i=n[s[t]];return t===s.length?h("xs"):"@media (max-width:".concat(("number"===typeof i&&t>0?i:e)-c/100).concat(o,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},d)}function c(e,t,n){var r;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(i.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Object(i.a)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(i.a)(r,e.up("sm"),{minHeight:64}),r)},n)}var d=n(133),h={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},u={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(43),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:p[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:p[800],default:"#303030"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,i){var r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.e)(e.main,r):"dark"===t&&(e.dark=Object(b.a)(e.main,o)))}function C(e){var t=e.primary,n=void 0===t?{light:u[300],main:u[500],dark:u[700]}:t,i=e.secondary,s=void 0===i?{light:f.A200,main:f.A400,dark:f.A700}:i,l=e.error,c=void 0===l?{light:g[300],main:g[500],dark:g[700]}:l,C=e.warning,O=void 0===C?{light:m[300],main:m[500],dark:m[700]}:C,P=e.info,E=void 0===P?{light:v[300],main:v[500],dark:v[700]}:P,T=e.success,k=void 0===T?{light:y[300],main:y[500],dark:y[700]}:T,I=e.type,A=void 0===I?"light":I,M=e.contrastThreshold,j=void 0===M?3:M,D=e.tonalOffset,L=void 0===D?.2:D,R=Object(r.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function N(e){return Object(b.d)(e,x.text.primary)>=j?x.text.primary:w.text.primary}var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(d.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(d.a)(5,JSON.stringify(e.main)));return S(e,"light",n,L),S(e,"dark",i,L),e.contrastText||(e.contrastText=N(e.main)),e},B={dark:x,light:w};return Object(o.a)(Object(a.a)({common:h,type:A,primary:z(n),secondary:z(s,"A400","A200","A700"),error:z(c),warning:z(O),info:z(E),success:z(k),grey:p,contrastThreshold:j,getContrastText:N,augmentColor:z,tonalOffset:L},B[A]),R)}function O(e){return Math.round(1e5*e)/1e5}var P={textTransform:"uppercase"};function E(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,s=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,l=n.fontSize,c=void 0===l?14:l,d=n.fontWeightLight,h=void 0===d?300:d,p=n.fontWeightRegular,u=void 0===p?400:p,f=n.fontWeightMedium,g=void 0===f?500:f,m=n.fontWeightBold,v=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,x=n.pxToRem,S=Object(r.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var C=c/14,E=x||function(e){return"".concat(e/b*C,"rem")},T=function(e,t,n,i,r){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:E(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===s?{letterSpacing:"".concat(O(i/t),"em")}:{},r,w)},k={h1:T(h,96,1.167,-1.5),h2:T(h,60,1.2,-.5),h3:T(u,48,1.167,0),h4:T(u,34,1.235,.25),h5:T(u,24,1.334,0),h6:T(g,20,1.6,.15),subtitle1:T(u,16,1.75,.15),subtitle2:T(g,14,1.57,.1),body1:T(u,16,1.5,.15),body2:T(u,14,1.43,.15),button:T(g,14,1.75,.4,P),caption:T(u,12,1.66,.4),overline:T(u,12,2.66,1,P)};return Object(o.a)(Object(a.a)({htmlFontSize:b,pxToRem:E,round:O,fontFamily:s,fontSize:c,fontWeightLight:h,fontWeightRegular:u,fontWeightMedium:g,fontWeightBold:v},k),S,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var k=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],I={borderRadius:4},A=n(213);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(A.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var j=n(31),D=n(81);var L=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.mixins,a=void 0===i?{}:i,s=e.palette,d=void 0===s?{}:s,h=e.spacing,p=e.typography,u=void 0===p?{}:p,f=Object(r.a)(e,["breakpoints","mixins","palette","spacing","typography"]),g=C(d),m=l(n),v=M(h),y=Object(o.a)({breakpoints:m,direction:"ltr",mixins:c(m,v,a),overrides:{},palette:g,props:{},shadows:k,typography:E(g,u),spacing:v,shape:I,transitions:j.a,zIndex:D.a},f),b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return y=w.reduce((function(e,t){return Object(o.a)(e,t)}),y)}();t.a=L},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(1),r=n(3),o=n(4),a=n.n(o),s=/-(.)/g;var l=n(0),c=n.n(l),d=n(8),h=function(e){return e[0].toUpperCase()+(t=e,t.replace(s,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function p(e,t){var n=void 0===t?{}:t,o=n.displayName,s=void 0===o?h(e):o,l=n.Component,p=n.defaultProps,u=c.a.forwardRef((function(t,n){var o=t.className,s=t.bsPrefix,h=t.as,p=void 0===h?l||"div":h,u=Object(r.a)(t,["className","bsPrefix","as"]),f=Object(d.a)(s,e);return c.a.createElement(p,Object(i.a)({ref:n,className:a()(o,f)},u))}));return u.defaultProps=p,u.displayName=s,u}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!==r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(){return Object(i.useReducer)((function(e){return!e}),!1)[1]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";var i=n(0),r=n.n(i).a.createContext(null);r.displayName="NavContext",t.a=r},function(e,t,n){"use strict";var i=n(0),r=n.n(i).a.createContext(null);t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return pn}));var i=n(5),r=n.n(i),o=n(11),a=n.n(o),s=n(124),l=n.n(s),c=n(2),d=n.n(c),h=n(0),p=n.n(h),u=n(57),f=n(58),g=n(9),m=n.n(g),v=n(35),y=n.n(v),b=n(7),w=n.n(b),x=n(54),S=n.n(x),C=n(40),O=n.n(C),P={JUSTIFY:"justify",LEFT:"left",RIGHT:"right"};function E(e){return"string"===typeof e?e:"label"}var T=0;function k(e){return Array.isArray(e)&&e.length?e[0]:void 0}function I(e){return"function"===typeof e}function A(e){return"string"===typeof e}function M(){}function j(e,t){var n={};return t.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})),n}function D(e){return T+=1,(null==e?"":String(e))+T}function L(e){return I(Object.values)?Object.values(e):function(e){return Object.keys(e).reduce((function(t,n){return Object.prototype.propertyIsEnumerable.call(e,n)&&t.push(e[n]),t}),[])}(e)}var R=function(e,t){return A(e)||!e.paginationOption&&!e.customOption?(n=I(t)?t(e):A(e)?e:e[t],A(n)||O()(!1),n):e[E(t)];var n};var N=function(e,t){var n=t.allowNew,i=t.labelKey,r=t.text;return!(!n||!r.trim())&&("function"===typeof n?n(e,t):!e.some((function(e){return R(e,i)===r})))};function z(e,t){if(!A(e))return e[t]}for(var B=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],H={},_=0;_<B.length;_++)for(var W=B[_].letters,F=0;F<W.length;F++)H[W[F]]=B[_].base;function V(e){return e.replace(/[\u0300-\u036F]/g,"").replace(/[^\u0000-\u007E]/g,(function(e){return H[e]||e}))}var U=n(39),Y=n.n(U),X={};function G(e,t){if(!e&&-1!==t.indexOf("deprecated")){if(X[t])return;X[t]=!0}for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];Y.a.apply(void 0,[e,"[react-bootstrap-typeahead] "+t].concat(i))}function q(e,t,n){var i=e,r=t;return n.caseSensitive||(i=i.toLowerCase(),r=r.toLowerCase()),n.ignoreDiacritics&&(i=V(i),r=V(r)),-1!==r.indexOf(i)}function Z(e,t){var n=t.filterBy,i=t.labelKey,r=t.multiple,o=t.selected,a=t.text;if(r&&o.some((function(t){return S()(t,e)})))return!1;if(I(i)&&q(a,i(e),t))return!0;var s=n.slice();return A(i)&&-1===s.indexOf(i)&&s.unshift(i),A(e)?(G(s.length<=1,"You cannot filter by properties when `option` is a string."),q(a,e,t)):s.some((function(n){var i=z(e,n);return A(i)||(G(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),i=String(i)),q(a,i,t)}))}function K(e){return e.displayName||e.name||"Component"}var $=/[\u0300-\u036F]/;function Q(e,t){var n=new RegExp(function(e){return"string"!==typeof e&&O()(!1),e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(V(t)),"i").exec(V(e));if(!n)return null;var i=n.index,r=n[0].length;if($.test(e)){for(var o=0;o<=i;o++)$.test(e[o])&&(i+=1);for(var a=i;a<=i+r;a++)$.test(e[a])&&(r+=1)}return{end:i+r,start:i}}var J=function(e){var t=e.activeIndex,n=e.initialItem,i=e.isFocused,r=e.isMenuShown,o=e.labelKey,a=e.multiple,s=e.selected,l=e.text;if(!l||!i||!r||!n||n.customOption||t>-1||s.length&&!a)return"";var c=R(n,o),d=Q(c.toLowerCase(),l.toLowerCase());return d&&0===d.start?l+c.slice(d.end,c.length):""},ee=n(4),te=n.n(ee);function ne(e,t){return(e||"")+"-item-"+t}var ie=function(e){var t=e.activeIndex,n=e.id,i=e.isFocused,o=e.isMenuShown,s=e.multiple,l=e.onFocus,c=e.placeholder,d=a()(e,["activeIndex","id","isFocused","isMenuShown","multiple","onFocus","placeholder"]);return function(e){var h,p=void 0===e?{}:e,u=p.className,f=a()(p,["className"]),g=r()({autoComplete:"off",placeholder:c,type:"text"},f,d,{"aria-activedescendant":t>=0?ne(n,t):void 0,"aria-autocomplete":"both","aria-expanded":o,"aria-haspopup":"listbox","aria-owns":o?n:void 0,className:te()((h={},h[u||""]=!s,h.focus=i,h)),onClick:l,onFocus:l,role:"combobox"});return s?r()({},g,{"aria-autocomplete":"list","aria-expanded":void 0,inputClassName:u,role:void 0}):g}};var re=function(e){var t=e.activeItem,n=e.labelKey,i=e.multiple,r=e.selected,o=e.text;if(t)return R(t,n);var a=!i&&!!r.length&&k(r);return a?R(a,n):o};var oe=function(e){var t=e.allowNew,n=e.highlightOnlyResult,i=e.results;return!(!n||t)&&(1===i.length&&!z(k(i),"disabled"))};var ae=function(e,t){return!t||t>=e.length?e:e.slice(0,t)};function se(e,t,n){for(var i=e;n[i]&&n[i].disabled;)i+=38===t?-1:1;return i}function le(e,t,n){var i=e;return(i=se(i+=38===t?-1:1,t,n))===n.length?i=-1:-2===i&&(i=se(i=n.length-1,t,n)),i}function ce(e){return null!=e.selectionStart}function de(e){e.preventDefault()}function he(e){return"large"===e||"lg"===e}function pe(e){return"small"===e||"sm"===e}var ue=Object(h.createContext)({activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:M,onAdd:M,onInitialItemChange:M,onMenuItemClick:M,selectHintOnEnter:void 0,setItem:M}),fe=function(){return Object(h.useContext)(ue)},ge=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onFocus","onKeyDown","placeholder"],me=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],ve=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","selectHintOnEnter","setItem"],ye=function(e){var t=e.allowNew,n=e.children,i=e.initialItem,o=e.isMenuShown,a=e.onAdd,s=e.onInitialItemChange,l=e.onKeyDown,c=e.onMenuToggle,d=e.results,u=Object(f.a)(e);Object(h.useEffect)((function(){t||d.length||s(null)})),Object(h.useEffect)((function(){u&&u.isMenuShown!==o&&c(o)}));var g=r()({},j(e,me),{getInputProps:ie(r()({},j(e,ge),{onKeyDown:function(t){switch(t.keyCode){case 13:i&&oe(e)&&a(i)}l(t)},value:re(e)}))}),m=r()({},j(e,ve),{hintText:J(e),isOnlyResult:oe(e)});return p.a.createElement(ue.Provider,{value:m},n(g))},be=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],we=d.a.oneOf(L({LARGE:"large",LG:"lg",SM:"sm",SMALL:"small"}));function xe(e,t){return function(n,i,r){var o;d.a.checkPropTypes(((o={})[i]=e,o),n,"prop",r),I(t)&&t(n,i,r)}}function Se(e,t,n){G(null!=e[t],"The prop `"+t+"` is required to make `"+n+"` accessible for users of assistive technologies such as screen readers.")}var Ce=d.a.oneOfType([d.a.object,d.a.string]);var Oe,Pe,Ee={allowNew:d.a.oneOfType([d.a.bool,d.a.func]),autoFocus:d.a.bool,caseSensitive:xe(d.a.bool,(function(e,t,n){var i=e.caseSensitive,r=e.filterBy;G(!i||"function"!==typeof r,"Your `filterBy` function will override the `caseSensitive` prop.")})),defaultInputValue:xe(d.a.string,(function(e,t,n){var i=e.defaultInputValue,r=e.defaultSelected,o=e.multiple,a=e.selected,s=r.length?"defaultSelected":"selected";G(!(!o&&i&&(r.length||a&&a.length)),"`defaultInputValue` will be overridden by the value from `"+s+"`.")})),defaultOpen:d.a.bool,defaultSelected:xe(d.a.arrayOf(Ce),(function(e,t,n){var i=e.defaultSelected;G(e.multiple||i.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")})),filterBy:d.a.oneOfType([d.a.arrayOf(d.a.string.isRequired),d.a.func]),highlightOnlyResult:xe(d.a.bool,(function(e,t,n){var i=e.allowNew;G(!(e.highlightOnlyResult&&i),"`highlightOnlyResult` will not work with `allowNew`.")})),id:xe(d.a.oneOfType([d.a.number,d.a.string]),Se),ignoreDiacritics:xe(d.a.bool,(function(e,t,n){var i=e.filterBy;G(e.ignoreDiacritics||"function"!==typeof i,"Your `filterBy` function will override the `ignoreDiacritics` prop.")})),labelKey:xe(d.a.oneOfType([d.a.string,d.a.func]),(function(e,t,n){var i=e.allowNew;G(!(I(e.labelKey)&&i),"`labelKey` must be a string when `allowNew={true}`.")})),maxResults:d.a.number,minLength:d.a.number,multiple:d.a.bool,onBlur:d.a.func,onChange:d.a.func,onFocus:d.a.func,onInputChange:d.a.func,onKeyDown:d.a.func,onMenuToggle:d.a.func,onPaginate:d.a.func,open:d.a.bool,options:d.a.arrayOf(Ce).isRequired,paginate:d.a.bool,selected:xe(d.a.arrayOf(Ce),(function(e,t,n){var i=e.multiple,r=e.onChange,o=e.selected;G(i||!o||o.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),G(!o||o&&I(r),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")})),selectHintOnEnter:(Oe=d.a.bool,Pe="Use the `shouldSelect` prop on the `Hint` component to define which keystrokes can select the hint.",function(e,t,n){var i;return null!=e[t]&&G(!1,"The `"+t+"` prop is deprecated. "+Pe),d.a.checkPropTypes(((i={})[t]=Oe,i),e,"prop",n)})},Te={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:"label",maxResults:100,minLength:0,multiple:!1,onBlur:M,onFocus:M,onInputChange:M,onKeyDown:M,onMenuToggle:M,onPaginate:M,paginate:!0};function ke(e){var t=e.defaultInputValue,n=e.defaultOpen,i=e.defaultSelected,r=e.maxResults,o=e.multiple,a=e.selected?e.selected.slice():i.slice(),s=t;return!o&&a.length&&(s=R(k(a),e.labelKey),a.length>1&&(a=a.slice(0,1))),{activeIndex:-1,activeItem:null,initialItem:null,isFocused:!1,selected:a,showMenu:n,shownResults:r,text:s}}function Ie(e,t){return r()({},ke(t),{isFocused:e.isFocused,selected:[],text:""})}function Ae(e,t){var n=ke(t);return{activeIndex:n.activeIndex,activeItem:n.activeItem,initialItem:n.initialItem,showMenu:!1,shownResults:n.shownResults}}function Me(e,t){return e.showMenu?Ae(0,t):{showMenu:!0}}var je=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,w()(m()(t),"state",ke(t.props)),w()(m()(t),"inputNode",void 0),w()(m()(t),"isMenuShown",!1),w()(m()(t),"items",[]),w()(m()(t),"blur",(function(){t.inputNode&&t.inputNode.blur(),t.hideMenu()})),w()(m()(t),"clear",(function(){t.setState(Ie)})),w()(m()(t),"focus",(function(){t.inputNode&&t.inputNode.focus()})),w()(m()(t),"getInput",(function(){return t.inputNode})),w()(m()(t),"inputRef",(function(e){t.inputNode=e})),w()(m()(t),"setItem",(function(e,n){t.items[n]=e})),w()(m()(t),"hideMenu",(function(){t.setState(Ae)})),w()(m()(t),"toggleMenu",(function(){t.setState(Me)})),w()(m()(t),"_handleActiveIndexChange",(function(e){t.setState((function(t){return{activeIndex:e,activeItem:-1===e?null:t.activeItem}}))})),w()(m()(t),"_handleActiveItemChange",(function(e){S()(e,t.state.activeItem)||t.setState({activeItem:e})})),w()(m()(t),"_handleBlur",(function(e){e.persist(),t.setState({isFocused:!1},(function(){return t.props.onBlur(e)}))})),w()(m()(t),"_handleChange",(function(e){t.props.onChange&&t.props.onChange(e)})),w()(m()(t),"_handleClear",(function(){t.setState(Ie,(function(){return t._handleChange([])}))})),w()(m()(t),"_handleFocus",(function(e){e.persist(),t.setState({isFocused:!0,showMenu:!0},(function(){return t.props.onFocus(e)}))})),w()(m()(t),"_handleInitialItemChange",(function(e){S()(e,t.state.initialItem)||t.setState({initialItem:e})})),w()(m()(t),"_handleInputChange",(function(e){e.persist();var n=e.currentTarget.value,i=t.props,r=i.multiple,o=i.onInputChange,a=t.state.selected.length&&!r;t.setState((function(e,t){var i=ke(t),r=i.activeIndex,o=i.activeItem,s=i.shownResults;return{activeIndex:r,activeItem:o,selected:a?[]:e.selected,showMenu:!0,shownResults:s,text:n}}),(function(){o(n,e),a&&t._handleChange([])}))})),w()(m()(t),"_handleKeyDown",(function(e){var n=t.state.activeItem;if(!t.isMenuShown)return 38!==e.keyCode&&40!==e.keyCode||t.setState({showMenu:!0}),void t.props.onKeyDown(e);switch(e.keyCode){case 38:case 40:e.preventDefault(),t._handleActiveIndexChange(le(t.state.activeIndex,e.keyCode,t.items));break;case 13:e.preventDefault(),n&&t._handleMenuItemSelect(n,e);break;case 27:case 9:t.hideMenu()}t.props.onKeyDown(e)})),w()(m()(t),"_handleMenuItemSelect",(function(e,n){e.paginationOption?t._handlePaginate(n):t._handleSelectionAdd(e)})),w()(m()(t),"_handlePaginate",(function(e){e.persist(),t.setState((function(e,t){return{shownResults:e.shownResults+t.maxResults}}),(function(){return t.props.onPaginate(e,t.state.shownResults)}))})),w()(m()(t),"_handleSelectionAdd",(function(e){var n,i,o=t.props,a=o.multiple,s=o.labelKey,l=e;!A(l)&&l.customOption&&(l=r()({},l,{id:D("new-id-")})),a?(n=t.state.selected.concat(l),i=""):(n=[l],i=R(l,s)),t.setState((function(e,t){return r()({},Ae(0,t),{initialItem:l,selected:n,text:i})}),(function(){return t._handleChange(n)}))})),w()(m()(t),"_handleSelectionRemove",(function(e){var n=t.state.selected.filter((function(t){return!S()(t,e)}));t.focus(),t.setState((function(e,t){return r()({},Ae(0,t),{selected:n})}),(function(){return t._handleChange(n)}))})),t}y()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.focus()},n.componentDidUpdate=function(e,t){var n=this.props,i=n.labelKey,r=n.multiple,o=n.selected;!function(e,t){var n,i,r,o=!e&&t;o?(n="uncontrolled",i="controlled",r="an"):(n="controlled",i="uncontrolled",r="a"),G(!(o||e&&!t),"You are changing "+r+" "+n+" typeahead to be "+i+". Input elements should not switch from "+n+" to "+i+" (or vice versa). Decide between using a controlled or uncontrolled element for the lifetime of the component.")}(o,e.selected),o&&!S()(o,t.selected)&&(this.setState({selected:o}),r||this.setState({text:o.length?R(k(o),i):""}))},n.render=function(){var e=this.props,t=(e.onChange,a()(e,["onChange"])),n=r()({},t,this.state),i=n.filterBy,o=n.labelKey,s=n.options,l=n.paginate,c=n.shownResults,d=n.text;this.isMenuShown=function(e){var t=e.open,n=e.minLength,i=e.showMenu,r=e.text;return t||!1===t?t:!(r.length<n)&&i}(n),this.items=[];var h=[];if(this.isMenuShown){var u="function"===typeof i?i:Z;h=s.filter((function(e){return u(e,n)}));var f,g,m=l&&h.length>c;if(h=ae(h,c),N(h,n))h.push(((f={customOption:!0})[E(o)]=d,f));if(m)h.push(((g={})[E(o)]="",g.paginationOption=!0,g))}return p.a.createElement(ye,r()({},n,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:h,setItem:this.setItem,toggleMenu:this.toggleMenu}))},t}(p.a.Component);w()(je,"propTypes",Ee),w()(je,"defaultProps",Te);var De=je,Le={delay:d.a.number,isLoading:d.a.bool.isRequired,minLength:d.a.number,onSearch:d.a.func.isRequired,options:d.a.arrayOf(Ce),promptText:d.a.node,searchText:d.a.node,useCache:d.a.bool},Re={delay:200,minLength:2,options:[],promptText:"Type to search...",searchText:"Searching...",useCache:!0};function Ne(e){var t=Object(h.forwardRef)((function(t,n){return p.a.createElement(e,r()({},function(e){var t=e.allowNew,n=e.delay,i=e.emptyLabel,o=e.isLoading,s=e.minLength,c=e.onInputChange,d=e.onSearch,p=e.options,g=e.promptText,m=e.searchText,v=e.useCache,y=a()(e,["allowNew","delay","emptyLabel","isLoading","minLength","onInputChange","onSearch","options","promptText","searchText","useCache"]),b=Object(h.useRef)({}),w=Object(h.useRef)(),x=Object(h.useRef)(e.defaultInputValue||""),S=Object(u.a)(),C=Object(f.a)(e),O=Object(h.useCallback)((function(e){x.current=e,!e||s&&e.length<s||(v&&b.current[e]?S():d(e))}),[S,s,d,v]);Object(h.useEffect)((function(){return w.current=l()(O,n),function(){w.current&&w.current.cancel()}}),[n,O]),Object(h.useEffect)((function(){!o&&C&&C.isLoading&&v&&(b.current[x.current]=p)}));var P=Object(h.useCallback)((function(e,t){c&&c(e,t),w.current&&w.current(e)}),[c]),E=b.current[x.current];return r()({},y,{allowNew:I(t)?t:t&&!o,emptyLabel:x.current.length?o?m:i:g,isLoading:o,minLength:s,onInputChange:P,options:v&&E?E:p})}(t),{ref:n}))}));return t.displayName="withAsync("+K(e)+")",t.propTypes=Le,t.defaultProps=Re,t}var ze=n(83),Be=n(34),He=n(26),_e=n(12),We=n.n(_e),Fe=n(56),Ve=function(){};var Ue=function(e,t,n){var i=void 0===n?{}:n,r=i.disabled,o=i.clickTrigger,a=void 0===o?"click":o,s=Object(h.useRef)(!1),l=t||Ve,c=Object(h.useCallback)((function(t){var n,i=e&&("current"in e?e.current:e);Y()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!i||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||Object(ze.a)(i,t.target)}),[e]),d=Object(He.a)((function(e){s.current||l(e)})),p=Object(He.a)((function(e){27===e.keyCode&&l(e)}));Object(h.useEffect)((function(){if(!r&&null!=e){var t,n=(t=e.current,Object(Fe.a)(We.a.findDOMNode(t))),i=Object(Be.a)(n,a,c,!0),o=Object(Be.a)(n,a,d),s=Object(Be.a)(n,"keyup",p),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map((function(e){return Object(Be.a)(e,"mousemove",Ve)}))),function(){i(),o(),s(),l.forEach((function(e){return e()}))}}}),[e,r,a,c,d,p])},Ye={label:d.a.string,onClick:d.a.func,size:we},Xe={label:"Clear",onClick:M},Ge=function(e){var t=e.className,n=e.label,i=e.onClick,o=e.size,s=a()(e,["className","label","onClick","size"]);return p.a.createElement("button",r()({},s,{"aria-label":n,className:te()("close","rbt-close",{"rbt-close-lg":he(o)},t),onClick:function(e){e.stopPropagation(),i(e)},type:"button"}),p.a.createElement("span",{"aria-hidden":"true"},"\xd7"),p.a.createElement("span",{className:"sr-only"},n))};Ge.propTypes=Ye,Ge.defaultProps=Xe;var qe=Ge,Ze={label:d.a.string},Ke=function(e){var t=e.label;return p.a.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},p.a.createElement("span",{className:"sr-only"},t))};Ke.propTypes=Ze,Ke.defaultProps={label:"Loading..."};var $e=Ke,Qe=n(125),Je=n.n(Qe),et=n(68),tt=n.n(et),nt=n(21),it=n.n(nt),rt=n(84),ot=n.n(rt),at=n(22),st=n.n(at),lt=n(126),ct=n.n(lt),dt=n(106),ht=n(107),pt=n.n(ht),ut=pt()(),ft=pt()(),gt=(h.Component,function(e,t){if("function"===typeof e)return function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(void 0,n)}}(e,t);null!=e&&(e.current=t)}),mt={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},vt={},yt=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,st()(it()(t),"state",{data:void 0,placement:void 0}),st()(it()(t),"popperInstance",void 0),st()(it()(t),"popperNode",null),st()(it()(t),"arrowNode",null),st()(it()(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(gt(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),st()(it()(t),"setArrowNode",(function(e){t.arrowNode=e})),st()(it()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),st()(it()(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:tt()({},t.props.modifiers,{arrow:tt()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),st()(it()(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?tt()({position:t.state.data.offsets.popper.position},t.state.data.styles):mt})),st()(it()(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),st()(it()(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:vt})),st()(it()(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),st()(it()(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),st()(it()(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=it()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new dt.a(n,e,t.getOptions()))})),st()(it()(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}ot()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&ct()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){gt(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}});var e},t}(h.Component);st()(yt,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});dt.a.placements;function bt(e){var t=e.referenceElement,n=Je()(e,["referenceElement"]);return h.createElement(ut.Consumer,null,(function(e){return h.createElement(yt,tt()({referenceElement:void 0!==t?t:e},n))}))}var wt="undefined"===typeof Element?function(){}:Element,xt={align:d.a.oneOf(L(P)),children:d.a.func.isRequired,dropup:d.a.bool,flip:d.a.bool,isMenuShown:d.a.bool,positionFixed:d.a.bool,referenceElement:d.a.instanceOf(wt)},St={align:P.JUSTIFY,dropup:!1,flip:!1,isMenuShown:!1,positionFixed:!1};function Ct(e){var t=e.align;return{computeStyles:{enabled:!0,fn:function(e){var n=e.styles,i=a()(e,["styles"]);return r()({},i,{styles:r()({},n,{width:t!==P.RIGHT&&t!==P.LEFT?i.offsets.reference.width:n.width})})}},flip:{enabled:e.flip},preventOverflow:{escapeWithReference:!0}}}var Ot={bottom:{end:"bottom-end",start:"bottom-start"},top:{end:"top-end",start:"top-start"}};function Pt(e){var t=e.align,n=e.dropup;return Ot[n?"top":"bottom"][t===P.RIGHT?"end":"start"]}var Et=function(e){var t=e.children,n=e.isMenuShown,i=e.positionFixed,o=e.referenceElement;return n?h.createElement(bt,{modifiers:Ct(e),placement:Pt(e),positionFixed:i,referenceElement:o},(function(e){var n=e.ref,i=a()(e,["ref"]);return t(r()({},i,{innerRef:n,inputHeight:o?o.offsetHeight:0}))})):null};Et.propTypes=xt,Et.defaultProps=St;var Tt=Et,kt={onBlur:d.a.func,onClick:d.a.func,onFocus:d.a.func,onRemove:d.a.func,option:Ce.isRequired},It=function(e){var t="withToken("+K(e)+")",n=function(t){return p.a.createElement(e,function(e){var t=e.onBlur,n=e.onClick,i=e.onFocus,o=e.onRemove,s=e.option,l=a()(e,["onBlur","onClick","onFocus","onRemove","option"]),c=Object(h.useState)(!1),d=c[0],p=c[1],u=Object(h.useState)(null),f=u[0],g=u[1],m=function(e,t,n){e.stopPropagation(),p(t),"function"===typeof n&&n(e)},v=function(e){m(e,!1,t)},y=function(){o&&o(s)};return Ue(f,v,r()({},l,{disabled:!d})),r()({},l,{active:d,onBlur:v,onClick:function(e){m(e,!0,n)},onFocus:function(e){m(e,!0,i)},onKeyDown:function(e){switch(e.keyCode){case 8:d&&(e.preventDefault(),y())}},onRemove:I(o)?y:void 0,ref:g})}(t))};return n.displayName=t,n.propTypes=kt,n};var At=Object(h.forwardRef)((function(e,t){var n=e.active,i=e.children,o=e.className,s=e.onRemove,l=e.tabIndex,c=a()(e,["active","children","className","onRemove","tabIndex"]);return p.a.createElement("div",r()({},c,{className:te()("rbt-token","rbt-token-removeable",{"rbt-token-active":!!n},o),ref:t,tabIndex:l||0}),i,p.a.createElement(qe,{className:"rbt-token-remove-button",label:"Remove",onClick:s,tabIndex:-1}))})),Mt=function(e){var t=e.children,n=e.className,i=e.disabled,r=e.href,o=te()("rbt-token",{"rbt-token-disabled":i},n);return r&&!i?p.a.createElement("a",{className:o,href:r},t):p.a.createElement("div",{className:o},t)},jt=It(Object(h.forwardRef)((function(e,t){var n=e.disabled,i=e.onRemove,o=e.readOnly;return n||o||!I(i)?p.a.createElement(Mt,e):p.a.createElement(At,r()({},e,{ref:t}))})));function Dt(e,t,n){return void 0===n&&(n=""),n&&(n=n.replace(n[0],n[0].toUpperCase())),["Top","Right","Bottom","Left"].map((function(i){return e[t+i+n]})).join(" ")}var Lt=function(e){var t=e.children,n=e.shouldSelect;1!==p.a.Children.count(t)&&O()(!1);var i=fe(),o=i.hintText,a=i.initialItem,s=i.inputNode,l=i.onAdd,c=i.selectHintOnEnter,d=Object(h.useRef)(null);return Object(h.useEffect)((function(){!function(e,t){if(e&&t){var n=window.getComputedStyle(e);t.style.borderStyle=Dt(n,"border","style"),t.style.borderWidth=Dt(n,"border","width"),t.style.fontSize=n.fontSize,t.style.height=n.height,t.style.lineHeight=n.lineHeight,t.style.margin=Dt(n,"margin"),t.style.padding=Dt(n,"padding")}}(s,d.current)})),{child:Object(h.cloneElement)(t,r()({},t.props,{onKeyDown:function(e){o&&a&&function(e,t){var n=!1,i=e.currentTarget,r=e.keyCode;return 39===r&&(n=!ce(i)||i.selectionStart===i.value.length),9===r&&(e.preventDefault(),n=!0),13===r&&(n=!!t.selectHintOnEnter),"function"===typeof t.shouldSelect?t.shouldSelect(n,e):n}(e,{selectHintOnEnter:c,shouldSelect:n})&&l(a),t.props.onKeyDown&&t.props.onKeyDown(e)}})),hintRef:d,hintText:o}},Rt=function(e){var t=e.className,n=a()(e,["className"]),i=Lt(n),r=i.child,o=i.hintRef,s=i.hintText;return p.a.createElement("div",{className:t,style:{display:"flex",flex:1,height:"100%",position:"relative"}},r,p.a.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:o,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.35)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:s}))},Nt=p.a.forwardRef((function(e,t){return p.a.createElement("input",r()({},e,{className:te()("rbt-input-main",e.className),ref:t}))}));var zt=function(e){var t=function(t){function n(){return t.apply(this,arguments)||this}return y()(n,t),n.prototype.render=function(){var t=this.props,n=t.className,i=t.isInvalid,o=t.isValid,s=t.size,l=a()(t,["className","isInvalid","isValid","size"]);return p.a.createElement(e,r()({},l,{className:te()("form-control","rbt-input",{"form-control-lg":he(s),"form-control-sm":pe(s),"is-invalid":i,"is-valid":o},n)}))},n}(p.a.Component);return w()(t,"displayName","withClassNames("+K(e)+")"),t},Bt=zt(function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,w()(m()(t),"wrapperRef",p.a.createRef()),w()(m()(t),"_input",void 0),w()(m()(t),"getInputRef",(function(e){t._input=e,t.props.inputRef(e)})),w()(m()(t),"_handleContainerClickOrFocus",(function(e){if(t.props.disabled)e.currentTarget.blur();else{var n=t._input;n&&(e.currentTarget!==n&&ce(n)&&(n.selectionStart=n.value.length),n.focus())}})),w()(m()(t),"_handleKeyDown",(function(e){var n=t.props,i=n.onKeyDown,r=n.selected,o=n.value;switch(e.keyCode){case 8:if(e.currentTarget===t._input&&r.length&&!o&&(e.preventDefault(),t.wrapperRef.current)){var a=t.wrapperRef.current.children,s=a[a.length-2];s&&s.focus()}}i(e)})),t}return y()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.inputClassName,o=(e.inputRef,e.placeholder),s=e.referenceElementRef,l=e.selected,c=e.shouldSelectHint,d=a()(e,["children","className","inputClassName","inputRef","placeholder","referenceElementRef","selected","shouldSelectHint"]);return p.a.createElement("div",{className:te()("rbt-input-multi",n),disabled:d.disabled,onClick:this._handleContainerClickOrFocus,onFocus:this._handleContainerClickOrFocus,ref:s,tabIndex:-1},p.a.createElement("div",{className:"rbt-input-wrapper",ref:this.wrapperRef},t,p.a.createElement(Rt,{shouldSelect:c},p.a.createElement(Nt,r()({},d,{className:i,onKeyDown:this._handleKeyDown,placeholder:l.length?"":o,ref:this.getInputRef,style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))},t}(p.a.Component)),Ht=zt((function(e){var t=e.inputRef,n=e.referenceElementRef,i=e.shouldSelectHint,o=a()(e,["inputRef","referenceElementRef","shouldSelectHint"]);return p.a.createElement(Rt,{shouldSelect:i},p.a.createElement(Nt,r()({},o,{ref:function(e){t(e),n(e)}})))})),_t={children:d.a.string.isRequired,highlightClassName:d.a.string,search:d.a.string.isRequired},Wt=function(e){function t(){return e.apply(this,arguments)||this}return y()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.highlightClassName,i=e.search;if(!i||!t)return t;for(var r=0,o=t,a=[];o;){var s=Q(o,i);if(!s){a.push(o);break}var l=o.slice(0,s.start);l&&a.push(l);var c=o.slice(s.start,s.end);a.push(p.a.createElement("mark",{className:n,key:r},c)),r+=1,o=o.slice(s.end)}return a},t}(p.a.PureComponent);w()(Wt,"propTypes",_t),w()(Wt,"defaultProps",{highlightClassName:"rbt-highlight-text"});var Ft=Wt;function Vt(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function Ut(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function Yt(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Ut(n.overflowY,t)||Ut(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Xt(e,t,n,i,r,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-i:a>t&&s<n||o<e&&s>n?a-t+r:0}var Gt=function(e,t){var n=window,i=t.scrollMode,r=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof a?a:function(e){return e!==a};if(!Vt(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,d=[],h=e;Vt(h)&&l(h);){if((h=h.parentNode)===c){d.push(h);break}h===document.body&&Yt(h)&&!Yt(document.documentElement)||Yt(h,s)&&d.push(h)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,u=n.visualViewport?n.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),v=m.height,y=m.width,b=m.top,w=m.right,x=m.bottom,S=m.left,C="start"===r||"nearest"===r?b:"end"===r?x:b+v/2,O="center"===o?S+y/2:"end"===o?w:S,P=[],E=0;E<d.length;E++){var T=d[E],k=T.getBoundingClientRect(),I=k.height,A=k.width,M=k.top,j=k.right,D=k.bottom,L=k.left;if("if-needed"===i&&b>=0&&S>=0&&x<=u&&w<=p&&b>=M&&x<=D&&S>=L&&w<=j)return P;var R=getComputedStyle(T),N=parseInt(R.borderLeftWidth,10),z=parseInt(R.borderTopWidth,10),B=parseInt(R.borderRightWidth,10),H=parseInt(R.borderBottomWidth,10),_=0,W=0,F="offsetWidth"in T?T.offsetWidth-T.clientWidth-N-B:0,V="offsetHeight"in T?T.offsetHeight-T.clientHeight-z-H:0;if(c===T)_="start"===r?C:"end"===r?C-u:"nearest"===r?Xt(g,g+u,u,z,H,g+C,g+C+v,v):C-u/2,W="start"===o?O:"center"===o?O-p/2:"end"===o?O-p:Xt(f,f+p,p,N,B,f+O,f+O+y,y),_=Math.max(0,_+g),W=Math.max(0,W+f);else{_="start"===r?C-M-z:"end"===r?C-D+H+V:"nearest"===r?Xt(M,D,I,z,H+V,C,C+v,v):C-(M+I/2)+V/2,W="start"===o?O-L-N:"center"===o?O-(L+A/2)+F/2:"end"===o?O-j+B+F:Xt(L,j,A,N,B+F,O,O+y,y);var U=T.scrollLeft,Y=T.scrollTop;C+=Y-(_=Math.max(0,Math.min(Y+_,T.scrollHeight-I+V))),O+=U-(W=Math.max(0,Math.min(U+W,T.scrollWidth-A+F)))}P.push({el:T,top:_,left:W})}return P};function qt(e){return e===Object(e)&&0!==Object.keys(e).length}var Zt=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(qt(t)&&"function"===typeof t.behavior)return t.behavior(n?[]:Gt(e,t));if(!n){var i=function(e){return!1===e?{block:"end",inline:"nearest"}:qt(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var i=e.el,r=e.top,o=e.left;i.scroll&&n?i.scroll({top:r,left:o,behavior:t}):(i.scrollTop=r,i.scrollLeft=o)}))}(Gt(e,i),i.behavior)}},Kt={option:Ce.isRequired,position:d.a.number},$t=function(e){var t="withItem("+K(e)+")",n=function(t){return p.a.createElement(e,function(e){var t=e.label,n=e.onClick,i=e.option,o=e.position,s=a()(e,["label","onClick","option","position"]),l=fe(),c=l.activeIndex,d=l.id,p=l.isOnlyResult,u=l.onActiveItemChange,f=l.onInitialItemChange,g=l.onMenuItemClick,m=l.setItem,v=Object(h.useRef)(null);Object(h.useEffect)((function(){0===o&&f(i)})),Object(h.useEffect)((function(){if(o===c){u(i);var e=v.current;e&&Zt(e,{block:"nearest",boundary:e.parentNode,inline:"nearest",scrollMode:"if-needed"})}}));var y=Object(h.useCallback)((function(e){g(i,e),n&&n(e)}),[n,g,i]),b=p||c===o;return m(i,o),r()({},s,{active:b,"aria-label":t,"aria-selected":b,id:ne(d,o),onClick:y,onMouseDown:de,ref:v,role:"option"})}(t))};return n.displayName=t,n.propTypes=Kt,n};var Qt=p.a.forwardRef((function(e,t){var n=e.active,i=e.children,o=e.className,s=e.disabled,l=e.onClick,c=e.onMouseDown,d=a()(e,["active","children","className","disabled","onClick","onMouseDown"]);return p.a.createElement("a",r()({},d,{className:te()("dropdown-item",{active:n,disabled:s},o),href:"#",onClick:function(e){e.preventDefault(),!s&&l&&l(e)},onMouseDown:c,ref:t}),i)})),Jt=$t(Qt),en={"aria-label":d.a.string,emptyLabel:d.a.node,id:xe(d.a.oneOfType([d.a.number,d.a.string]),Se),maxHeight:d.a.string},tn=function(e){function t(){return e.apply(this,arguments)||this}y()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.inputHeight,i=t.scheduleUpdate;n!==e.inputHeight&&i()},n.render=function(){var e=this.props,t=e.children,n=e.className,i=e.emptyLabel,o=e.id,a=e.innerRef,s=e.maxHeight,l=e.style,c=e.text,d=0===h.Children.count(t)?p.a.createElement(Qt,{disabled:!0,role:"option"},i):t;return p.a.createElement("div",{"aria-label":this.props["aria-label"],className:te()("rbt-menu","dropdown-menu","show",n),id:o,key:c,ref:a,role:"listbox",style:r()({},l,{display:"block",maxHeight:s,overflow:"auto"})},d)},t}(p.a.Component);w()(tn,"propTypes",en),w()(tn,"defaultProps",{"aria-label":"menu-options",emptyLabel:"No matches found.",maxHeight:"300px"}),w()(tn,"Divider",(function(e){return p.a.createElement("div",{className:"dropdown-divider",role:"separator"})})),w()(tn,"Header",(function(e){return p.a.createElement("div",r()({},e,{className:"dropdown-header",role:"heading"}))}));var nn=tn,rn={newSelectionPrefix:d.a.node,paginationText:d.a.node,renderMenuItemChildren:d.a.func},on={newSelectionPrefix:"New selection: ",paginationText:"Display additional results...",renderMenuItemChildren:function(e,t,n){return p.a.createElement(Ft,{search:t.text},R(e,t.labelKey))}},an=function(e){var t=e.labelKey,n=e.newSelectionPrefix,i=e.options,o=e.paginationText,s=e.renderMenuItemChildren,l=e.text,c=a()(e,["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"]);return p.a.createElement(nn,r()({},c,{text:l}),i.map((function(i,a){var c=R(i,t),d={disabled:z(i,"disabled"),label:c,option:i,position:a};return i.customOption?p.a.createElement(Jt,r()({},d,{className:"rbt-menu-custom-option",key:a,label:c}),n,p.a.createElement(Ft,{search:l},c)):i.paginationOption?p.a.createElement(h.Fragment,{key:"pagination-item"},p.a.createElement(nn.Divider,null),p.a.createElement(Jt,r()({},d,{className:"rbt-menu-pagination-option",label:o}),o)):p.a.createElement(Jt,r()({},d,{key:a}),s(i,e,a))})))};an.propTypes=rn,an.defaultProps=on;var sn=an,ln={clearButton:d.a.bool,inputProps:xe(d.a.object,(function(e,t,n){var i=e.inputProps;i&&"[object Object]"===Object.prototype.toString.call(i)&&be.forEach((function(e){var t=e.alt,n=e.prop,r=t?" Use the top-level `"+t+"` prop instead.":null;G(!i[n],"The `"+n+"` property of `inputProps` will be ignored."+r)}))})),isInvalid:d.a.bool,isLoading:d.a.bool,isValid:d.a.bool,renderInput:d.a.func,renderMenu:d.a.func,renderToken:d.a.func,size:we},cn={clearButton:!1,inputProps:{},isInvalid:!1,isLoading:!1,isValid:!1,renderMenu:function(e,t,n){return p.a.createElement(sn,r()({},t,{labelKey:n.labelKey,options:e,text:n.text}))},renderToken:function(e,t,n){return p.a.createElement(jt,{disabled:t.disabled,key:n,onRemove:t.onRemove,option:e,tabIndex:t.tabIndex},R(e,t.labelKey))}};var dn=function(e){var t=e.children,n=e.onRootClose,i=a()(e,["children","onRootClose"]),r=Object(h.useState)(null),o=r[0],s=r[1];return Ue(o,n,i),t(s)},hn=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,w()(m()(t),"_referenceElement",void 0),w()(m()(t),"referenceElementRef",(function(e){t._referenceElement=e})),w()(m()(t),"_renderInput",(function(e,n){var i=t.props,o=i.isInvalid,a=i.isValid,s=i.multiple,l=i.renderInput,c=i.renderToken,d=i.size;if(I(l))return l(e,n);var h=r()({},e,{isInvalid:o,isValid:a,size:d});if(!s)return p.a.createElement(Ht,h);var u=n.labelKey,f=n.onRemove,g=n.selected;return p.a.createElement(Bt,r()({},h,{selected:g}),g.map((function(e,t){return c(e,r()({},h,{labelKey:u,onRemove:f}),t)})))})),w()(m()(t),"_renderMenu",(function(e,n,i){var o=t.props,a=o.emptyLabel,s=o.id,l=o.maxHeight,c=o.newSelectionPrefix,d=o.paginationText,h=o.renderMenu,p=o.renderMenuItemChildren;return h(e,r()({},n,{emptyLabel:a,id:s,maxHeight:l,newSelectionPrefix:c,paginationText:d,renderMenuItemChildren:p}),i)})),w()(m()(t),"_renderAux",(function(e){var n,i=e.onClear,r=e.selected,o=t.props,a=o.clearButton,s=o.disabled,l=o.isLoading,c=o.size;return l?n=p.a.createElement($e,null):a&&!s&&r.length&&(n=p.a.createElement(qe,{onClick:i,onFocus:function(e){e.stopPropagation()},onMouseDown:de,size:c})),n?p.a.createElement("div",{className:te()("rbt-aux",{"rbt-aux-lg":he(c)})},n):null})),t}return y()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.className,o=t.instanceRef,s=t.open,l=t.options,c=t.style;return p.a.createElement(De,r()({},this.props,{options:l,ref:o}),(function(t){var o=t.getInputProps,l=a()(t,["getInputProps"]),d=l.hideMenu,h=l.isMenuShown,u=l.results,f=e._renderAux(l);return p.a.createElement(dn,{disabled:s||!h,onRootClose:d},(function(t){return p.a.createElement("div",{className:te()("rbt",{"has-aux":!!f},i),ref:t,style:r()({},c,{outline:"none",position:"relative"}),tabIndex:-1},e._renderInput(r()({},o(e.props.inputProps),{referenceElementRef:e.referenceElementRef}),l),p.a.createElement(Tt,r()({},function(e){return j(e,["align","dropup","flip","positionFixed"])}(e.props),{isMenuShown:h,referenceElement:e._referenceElement}),(function(t){return e._renderMenu(u,t,l)})),f,I(n)?n(l):n)}))}))},t}(p.a.Component);w()(hn,"propTypes",ln),w()(hn,"defaultProps",cn);var pn=Object(h.forwardRef)((function(e,t){return p.a.createElement(hn,r()({},e,{instanceRef:t}))}));Ne(pn)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(1),r=n(3),o=n(0);n(40);function a(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function l(e,t,n){var i=Object(o.useRef)(void 0!==e),r=Object(o.useState)(t),a=r[0],s=r[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&a!==t&&s(t),[l?e:a,Object(o.useCallback)((function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n&&n.apply(void 0,[e].concat(i)),s(e)}),[n])]}function c(e,t){return Object.keys(t).reduce((function(n,o){var c,d=n,h=d[a(o)],p=d[o],u=Object(r.a)(d,[a(o),o].map(s)),f=t[o],g=l(p,h,e[f]),m=g[0],v=g[1];return Object(i.a)({},u,((c={})[o]=m,c[f]=v,c))}),e)}n(16);function d(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function h(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function p(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}d.__suppressDeprecationWarning=!0,h.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(121);var r=n(79),o=n(122);function a(e,t){return Object(i.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Object(r.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=r.a.createContext(null)},function(e,t,n){"use strict";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))}n.d(t,"a",(function(){return i}))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=(n(39),n(62)),d=n(8),h=n(75),p=n(57),u=n(45),f=n(59),g=n(29),m=l.a.createContext(null),v=function(){},y=l.a.forwardRef((function(e,t){var n,o,a=e.as,c=void 0===a?"ul":a,d=e.onSelect,y=e.activeKey,b=e.role,w=e.onKeyDown,x=Object(r.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),S=Object(p.a)(),C=Object(s.useRef)(!1),O=Object(s.useContext)(g.a),P=Object(s.useContext)(m);P&&(b=b||"tablist",y=P.activeKey,n=P.getControlledId,o=P.getControllerId);var E=Object(s.useRef)(null),T=function(e){var t=E.current;if(!t)return null;var n=Object(h.a)(t,"[data-rb-event-key]:not(.disabled)"),i=t.querySelector(".active");if(!i)return null;var r=n.indexOf(i);if(-1===r)return null;var o=r+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},k=function(e,t){null!=e&&(d&&d(e,t),O&&O(e,t))};Object(s.useEffect)((function(){if(E.current&&C.current){var e=E.current.querySelector("[data-rb-event-key].active");e&&e.focus()}C.current=!1}));var I=Object(u.a)(t,E);return l.a.createElement(g.a.Provider,{value:k},l.a.createElement(f.a.Provider,{value:{role:b,activeKey:Object(g.b)(y),getControlledId:n||v,getControllerId:o||v}},l.a.createElement(c,Object(i.a)({},x,{onKeyDown:function(e){var t;switch(w&&w(e),e.key){case"ArrowLeft":case"ArrowUp":t=T(-1);break;case"ArrowRight":case"ArrowDown":t=T(1);break;default:return}t&&(e.preventDefault(),k(t.dataset.rbEventKey,e),C.current=!0,S())},ref:I,role:b}))))})),b=n(26),w=l.a.forwardRef((function(e,t){var n=e.active,o=e.className,c=e.eventKey,d=e.onSelect,h=e.onClick,p=e.as,u=Object(r.a)(e,["active","className","eventKey","onSelect","onClick","as"]),m=Object(g.b)(c,u.href),v=Object(s.useContext)(g.a),y=Object(s.useContext)(f.a),w=n;if(y){u.role||"tablist"!==y.role||(u.role="tab");var x=y.getControllerId(m),S=y.getControlledId(m);u["data-rb-event-key"]=m,u.id=x||u.id,u["aria-controls"]=S||u["aria-controls"],w=null==n&&null!=m?y.activeKey===m:n}"tab"===u.role&&(u.tabIndex=w?u.tabIndex:-1,u["aria-selected"]=w);var C=Object(b.a)((function(e){h&&h(e),null!=m&&(d&&d(m,e),v&&v(m,e))}));return l.a.createElement(p,Object(i.a)({},u,{ref:t,onClick:C,className:a()(o,w&&"active")}))}));w.defaultProps={disabled:!1};var x=w,S={variant:void 0,active:!1,disabled:!1},C=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.active,c=e.disabled,h=e.className,p=e.variant,u=e.action,f=e.as,m=e.eventKey,v=e.onClick,y=Object(r.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(d.a)(n,"list-group-item");var b=Object(s.useCallback)((function(e){if(c)return e.preventDefault(),void e.stopPropagation();v&&v(e)}),[c,v]);return l.a.createElement(x,Object(i.a)({ref:t},y,{eventKey:Object(g.b)(m||null,y.href),as:f||(u?y.href?"a":"button":"div"),onClick:b,className:a()(h,n,o&&"active",c&&"disabled",p&&n+"-"+p,u&&n+"-action")}))}));C.defaultProps=S,C.displayName="ListGroupItem";var O=C,P={variant:void 0,horizontal:void 0},E=l.a.forwardRef((function(e,t){var n,o=Object(c.a)(e,{activeKey:"onSelect"}),s=o.className,h=o.bsPrefix,p=o.variant,u=o.horizontal,f=o.as,g=void 0===f?"div":f,m=Object(r.a)(o,["className","bsPrefix","variant","horizontal","as"]),v=Object(d.a)(h,"list-group");return n=u?!0===u?"horizontal":"horizontal-"+u:null,l.a.createElement(y,Object(i.a)({ref:t},m,{as:g,className:a()(s,v,p&&v+"-"+p,n&&v+"-"+n)}))}));E.defaultProps=P,E.displayName="ListGroup",E.Item=O;t.a=E},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return i(e.querySelectorAll(t))}},function(e,t,n){"use strict";var i,r=n(1),o=n(3),a=n(4),s=n.n(a),l=n(0),c=n.n(l);var d=n(75),h=n(2),p=n.n(h),u=n(62),f=n(58),g=n(88),m=n(57),v=n(26),y=n(60),b=n(92),w=n(89),x={children:p.a.func.isRequired,drop:p.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:p.a.oneOf([!1,!0,"keyboard"]),itemSelector:p.a.string,alignEnd:p.a.bool,show:p.a.bool,defaultShow:p.a.bool,onToggle:p.a.func};function S(e){var t=e.drop,n=e.alignEnd,r=e.defaultShow,o=e.show,a=e.onToggle,s=e.itemSelector,h=void 0===s?"* > *":s,p=e.focusFirstItemOnShow,b=e.children,w=Object(m.a)(),x=Object(u.b)(o,r,a),S=x[0],C=x[1],O=Object(g.a)(),P=O[0],E=O[1],T=Object(l.useRef)(null),k=T.current,I=Object(l.useCallback)((function(e){T.current=e,w()}),[w]),A=Object(f.a)(S),M=Object(l.useRef)(null),j=Object(l.useRef)(!1),D=Object(l.useCallback)((function(e){C(!S,e)}),[C,S]),L=Object(l.useMemo)((function(){return{toggle:D,drop:t,show:S,alignEnd:n,menuElement:k,toggleElement:P,setMenu:I,setToggle:E}}),[D,t,S,n,k,P,I,E]);k&&A&&!S&&(j.current=k.contains(document.activeElement));var R=Object(v.a)((function(){P&&P.focus&&P.focus()})),N=Object(v.a)((function(){var e=M.current,t=p;if(null==t&&(t=!(!T.current||!function(e,t){if(!i){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;i=function(e,t){return r.call(e,t)}}return i(e,t)}(T.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Object(d.a)(T.current,h)[0];n&&n.focus&&n.focus()}}));Object(l.useEffect)((function(){S?N():j.current&&(j.current=!1,R())}),[S,j,R,N]),Object(l.useEffect)((function(){M.current=null}));var z=function(e,t){if(!T.current)return null;var n=Object(d.a)(T.current,h),i=n.indexOf(e)+t;return n[i=Math.max(0,Math.min(i,n.length))]};return c.a.createElement(y.a.Provider,{value:L},b({props:{onKeyDown:function(e){var t=e.key,n=e.target;if(!/input|textarea/i.test(n.tagName)||!(" "===t||"Escape"!==t&&T.current&&T.current.contains(n)))switch(M.current=e.type,t){case"ArrowUp":var i=z(n,-1);return i&&i.focus&&i.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),S){var r=z(n,1);r&&r.focus&&r.focus()}else D(e);return;case"Escape":case"Tab":C(!1,e)}}}}))}S.displayName="ReactOverlaysDropdown",S.propTypes=x,S.Menu=b.a,S.Toggle=w.a;var C=S,O=n(29),P=n(8),E=n(59),T={as:n(94).a,disabled:!1},k=c.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,d=e.eventKey,h=e.disabled,p=e.href,u=e.onClick,f=e.onSelect,g=e.active,m=e.as,y=Object(o.a)(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),b=Object(P.a)(n,"dropdown-item"),w=Object(l.useContext)(O.a),x=(Object(l.useContext)(E.a)||{}).activeKey,S=Object(O.b)(d||null,p),C=null==g&&null!=S?Object(O.b)(x)===S:g,T=Object(v.a)((function(e){h||(u&&u(e),w&&w(S,e),f&&f(S,e))}));return c.a.createElement(m,Object(r.a)({},y,{ref:t,href:p,disabled:h,className:s()(i,b,C&&"active",h&&"disabled"),onClick:T}),a)}));k.displayName="DropdownItem",k.defaultProps=T;var I=k,A=n(93),M=n(91),j=n(53),D=Object(j.a)("dropdown-header",{defaultProps:{role:"heading"}}),L=Object(j.a)("dropdown-divider",{defaultProps:{role:"separator"}}),R=Object(j.a)("dropdown-item-text",{Component:"span"}),N=c.a.forwardRef((function(e,t){var n=Object(u.a)(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,d=n.show,h=n.className,p=n.alignRight,f=n.onSelect,g=n.onToggle,m=n.focusFirstItemOnShow,y=n.as,b=void 0===y?"div":y,w=(n.navbar,Object(o.a)(n,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),x=Object(l.useContext)(O.a),S=Object(P.a)(i,"dropdown"),E=Object(v.a)((function(e,t,n){void 0===n&&(n=t.type),t.currentTarget===document&&(n="rootClose"),g&&g(e,t,{source:n})})),T=Object(v.a)((function(e,t){x&&x(e,t),f&&f(e,t),E(!1,t,"select")}));return c.a.createElement(O.a.Provider,{value:T},c.a.createElement(C,{drop:a,show:d,alignEnd:p,onToggle:E,focusFirstItemOnShow:m,itemSelector:"."+S+"-item:not(.disabled):not(:disabled)"},(function(e){var n=e.props;return c.a.createElement(b,Object(r.a)({},w,n,{ref:t,className:s()(h,d&&"show",(!a||"down"===a)&&S,"up"===a&&"dropup","right"===a&&"dropright","left"===a&&"dropleft")}))})))}));N.displayName="Dropdown",N.defaultProps={navbar:!1},N.Divider=L,N.Header=D,N.Item=I,N.ItemText=R,N.Menu=A.a,N.Toggle=M.a;t.a=N},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(72);function r(e,t){if(e){if("string"===typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(74);function r(e,t){if(e){if("string"===typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(42),n(1);var i=n(71),r=(n(2),n(48),{xs:0,sm:600,md:960,lg:1280,xl:1920}),o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||o;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(i.a)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,i){return e[a.up(i)]=n(t[i]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(){var e=Object(i.useRef)(!0),t=Object(i.useRef)((function(){return e.current}));return Object(i.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";function i(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,"a",(function(){return i}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(55))},function(e,t,n){"use strict";(function(e){var i=n(20),r=n(127),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r.a;t.a=l}).call(this,n(103)(e))},function(e,t,n){"use strict";var i=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=(0,i(n(114)).default)(r.default.createElement("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(){return Object(i.useState)(null)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(60),l=function(){};function c(){var e=Object(o.useContext)(s.a)||{},t=e.show,n=void 0!==t&&t,i=e.toggle,r=void 0===i?l:i;return[{ref:e.setToggle||l,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:r}]}var d={children:r.a.func.isRequired};function h(e){var t=e.children,n=c(),i=n[0],r=n[1],o=r.show,s=r.toggle;return a.a.createElement(a.a.Fragment,null,t({show:o,toggle:s,props:i}))}h.displayName="ReactOverlaysDropdownToggle",h.propTypes=d,t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(40),n(0),n(45);function i(e,t){return e}},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=(n(172),n(0)),l=n.n(s),c=n(89),d=n(45),h=n(36),p=n(8),u=n(90),f=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.split,s=e.className,f=e.children,g=e.childBsPrefix,m=e.as,v=void 0===m?h.a:m,y=Object(r.a)(e,["bsPrefix","split","className","children","childBsPrefix","as"]),b=Object(p.a)(n,"dropdown-toggle");void 0!==g&&(y.bsPrefix=g);var w=Object(c.b)(),x=w[0],S=w[1].toggle;return x.ref=Object(d.a)(x.ref,Object(u.a)(t,"DropdownToggle")),l.a.createElement(v,Object(i.a)({onClick:S,className:a()(s,b,o&&b+"-split")},x,y),f)}));f.displayName="DropdownToggle",t.a=f},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"b",(function(){return Be}));var o=n(2),a=n.n(o),s=n(0),l=n.n(s),c=n(88),d=n(60),h=n(82);var p=function(e){var t=Object(h.a)();return[e[0],Object(s.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function u(e){return e.split("-")[0]}function f(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function g(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function m(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function v(e){return e?(e.nodeName||"").toLowerCase():null}function y(e){return m(e).getComputedStyle(e)}function b(e){return e instanceof m(e).Element||e instanceof Element}function w(e){return e instanceof m(e).HTMLElement||e instanceof HTMLElement}function x(e){return["table","td","th"].indexOf(v(e))>=0}function S(e){return(b(e)?e.ownerDocument:e.document).documentElement}function C(e){return"html"===v(e)?e:e.assignedSlot||e.parentNode||e.host||S(e)}function O(e){if(!w(e)||"fixed"===y(e).position)return null;var t=e.offsetParent;if(t){var n=S(t);if("body"===v(t)&&"static"===y(t).position&&"static"!==y(n).position)return n}return t}function P(e){for(var t=m(e),n=O(e);n&&x(n)&&"static"===y(n).position;)n=O(n);return n&&"body"===v(n)&&"static"===y(n).position?t:n||function(e){for(var t=C(e);w(t)&&["html","body"].indexOf(v(t))<0;){var n=y(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}function E(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function T(e,t,n){return Math.max(e,Math.min(t,n))}function k(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function I(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var A="top",M="bottom",j="right",D="left",L=[A,M,j,D],R=L.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),N=[].concat(L,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),z=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var B={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=u(n.placement),s=E(a),l=[D,j].indexOf(a)>=0?"height":"width";if(r&&o){var c=n.modifiersData[i+"#persistent"].padding,d=f(r),h="y"===s?A:D,p="y"===s?M:j,g=n.rects.reference[l]+n.rects.reference[s]-o[s]-n.rects.popper[l],m=o[s]-n.rects.reference[s],v=P(r),y=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,b=g/2-m/2,w=c[h],x=y-d[l]-c[p],S=y/2-d[l]/2+b,C=T(w,S,x),O=s;n.modifiersData[i]=((t={})[O]=C,t.centerOffset=C-S,t)}},effect:function(e){var t=e.state,n=e.options,i=e.name,r=n.element,o=void 0===r?"[data-popper-arrow]":r,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!==typeof o||(o=t.elements.popper.querySelector(o)))&&g(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[i+"#persistent"]={padding:k("number"!==typeof s?s:I(s,L))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:Math.round(t*i)/i||0,y:Math.round(n*i)/i||0}}(o),d=c.x,h=c.y,p=o.hasOwnProperty("x"),u=o.hasOwnProperty("y"),f=D,g=A,v=window;if(l){var y=P(n);y===m(n)&&(y=S(n)),r===A&&(g=M,h-=y.clientHeight-i.height,h*=s?1:-1),r===D&&(f=j,d-=y.clientWidth-i.width,d*=s?1:-1)}var b,w=Object.assign({position:a},l&&H);return s?Object.assign(Object.assign({},w),{},((b={})[g]=u?"0":"",b[f]=p?"0":"",b.transform=(v.devicePixelRatio||1)<2?"translate("+d+"px, "+h+"px)":"translate3d("+d+"px, "+h+"px, 0)",b)):Object.assign(Object.assign({},w),{},((t={})[g]=u?h+"px":"",t[f]=p?d+"px":"",t.transform="",t))}var W={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s={placement:u(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),_(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),_(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},F={passive:!0};var V={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,a=i.resize,s=void 0===a||a,l=m(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,F)})),s&&l.addEventListener("resize",n.update,F),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,F)})),s&&l.removeEventListener("resize",n.update,F)}},data:{}},U={left:"right",right:"left",bottom:"top",top:"bottom"};function Y(e){return e.replace(/left|right|bottom|top/g,(function(e){return U[e]}))}var X={start:"end",end:"start"};function G(e){return e.replace(/start|end/g,(function(e){return X[e]}))}function q(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function Z(e){var t=m(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function K(e){return q(S(e)).left+Z(e).scrollLeft}function $(e){var t=y(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Q(e,t){void 0===t&&(t=[]);var n=function e(t){return["html","body","#document"].indexOf(v(t))>=0?t.ownerDocument.body:w(t)&&$(t)?t:e(C(t))}(e),i="body"===v(n),r=m(n),o=i?[r].concat(r.visualViewport||[],$(n)?n:[]):n,a=t.concat(o);return i?a:a.concat(Q(C(o)))}function J(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ee(e,t){return"viewport"===t?J(function(e){var t=m(e),n=S(e),i=t.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,s=0;return i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,s=i.offsetTop)),{width:r,height:o,x:a+K(e),y:s}}(e)):w(t)?function(e){var t=q(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):J(function(e){var t=S(e),n=Z(e),i=e.ownerDocument.body,r=Math.max(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+K(e),s=-n.scrollTop;return"rtl"===y(i||t).direction&&(a+=Math.max(t.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:s}}(S(e)))}function te(e,t,n){var i="clippingParents"===t?function(e){var t=Q(C(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&w(e)?P(e):e;return b(n)?t.filter((function(e){return b(e)&&g(e,n)&&"body"!==v(e)})):[]}(e):[].concat(t),r=[].concat(i,[n]),o=r[0],a=r.reduce((function(t,n){var i=ee(e,n);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t}),ee(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ne(e){return e.split("-")[1]}function ie(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?u(r):null,a=r?ne(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case A:t={x:s,y:n.y-i.height};break;case M:t={x:s,y:n.y+n.height};break;case j:t={x:n.x+n.width,y:l};break;case D:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?E(o):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case"start":t[c]=Math.floor(t[c])-Math.floor(n[d]/2-i[d]/2);break;case"end":t[c]=Math.floor(t[c])+Math.ceil(n[d]/2-i[d]/2)}}return t}function re(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?"viewport":s,c=n.elementContext,d=void 0===c?"popper":c,h=n.altBoundary,p=void 0!==h&&h,u=n.padding,f=void 0===u?0:u,g=k("number"!==typeof f?f:I(f,L)),m="popper"===d?"reference":"popper",v=e.elements.reference,y=e.rects.popper,w=e.elements[p?m:d],x=te(b(w)?w:w.contextElement||S(e.elements.popper),a,l),C=q(v),O=ie({reference:C,element:y,strategy:"absolute",placement:r}),P=J(Object.assign(Object.assign({},y),O)),E="popper"===d?P:C,T={top:x.top-E.top+g.top,bottom:E.bottom-x.bottom+g.bottom,left:x.left-E.left+g.left,right:E.right-x.right+g.right},D=e.modifiersData.offset;if("popper"===d&&D){var R=D[r];Object.keys(T).forEach((function(e){var t=[j,M].indexOf(e)>=0?1:-1,n=[A,M].indexOf(e)>=0?"y":"x";T[e]+=R[n]*t}))}return T}var oe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,g=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,y=u(v),b=l||(y===v||!g?[Y(v)]:function(e){if("auto"===u(e))return[];var t=Y(e);return[G(e),t,G(t)]}(v)),w=[v].concat(b).reduce((function(e,n){return e.concat("auto"===u(n)?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?N:l,d=ne(i),h=d?s?R:R.filter((function(e){return ne(e)===d})):L,p=h.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=h);var f=p.reduce((function(t,n){return t[n]=re(e,{placement:n,boundary:r,rootBoundary:o,padding:a})[u(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:d,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,S=t.rects.popper,C=new Map,O=!0,P=w[0],E=0;E<w.length;E++){var T=w[E],k=u(T),I="start"===ne(T),z=[A,M].indexOf(k)>=0,B=z?"width":"height",H=re(t,{placement:T,boundary:d,rootBoundary:h,altBoundary:p,padding:c}),_=z?I?j:D:I?M:A;x[B]>S[B]&&(_=Y(_));var W=Y(_),F=[];if(o&&F.push(H[k]<=0),s&&F.push(H[_]<=0,H[W]<=0),F.every((function(e){return e}))){P=T,O=!1;break}C.set(T,F)}if(O)for(var V=function(e){var t=w.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},U=g?3:1;U>0;U--){if("break"===V(U))break}t.placement!==P&&(t.modifiersData[i]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ae(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function se(e){return[A,j,M,D].some((function(t){return e[t]>=0}))}var le={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=re(t,{elementContext:"reference"}),s=re(t,{altBoundary:!0}),l=ae(a,i),c=ae(s,r,o),d=se(l),h=se(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":d,"data-popper-escaped":h})}};var ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,a=N.reduce((function(e,n){return e[n]=function(e,t,n){var i=u(e),r=[D,A].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[D,j].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}};var de={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ie({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var he={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,p=n.tether,g=void 0===p||p,m=n.tetherOffset,v=void 0===m?0:m,y=re(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),b=u(t.placement),w=ne(t.placement),x=!w,S=E(b),C="x"===S?"y":"x",O=t.modifiersData.popperOffsets,k=t.rects.reference,I=t.rects.popper,L="function"===typeof v?v(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):v,R={x:0,y:0};if(O){if(o){var N="y"===S?A:D,z="y"===S?M:j,B="y"===S?"height":"width",H=O[S],_=O[S]+y[N],W=O[S]-y[z],F=g?-I[B]/2:0,V="start"===w?k[B]:I[B],U="start"===w?-I[B]:-k[B],Y=t.elements.arrow,X=g&&Y?f(Y):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=G[N],Z=G[z],K=T(0,k[B],X[B]),$=x?k[B]/2-F-K-q-L:V-K-q-L,Q=x?-k[B]/2+F+K+Z+L:U+K+Z+L,J=t.elements.arrow&&P(t.elements.arrow),ee=J?"y"===S?J.clientTop||0:J.clientLeft||0:0,te=t.modifiersData.offset?t.modifiersData.offset[t.placement][S]:0,ie=O[S]+$-te-ee,oe=O[S]+Q-te,ae=T(g?Math.min(_,ie):_,H,g?Math.max(W,oe):W);O[S]=ae,R[S]=ae-H}if(s){var se="x"===S?A:D,le="x"===S?M:j,ce=O[C],de=T(ce+y[se],ce,ce-y[le]);O[C]=de,R[C]=de-ce}t.modifiersData[i]=R}},requiresIfExists:["offset"]};function pe(e,t,n){void 0===n&&(n=!1);var i=S(t),r=q(e),o=w(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&(("body"!==v(t)||$(i))&&(a=function(e){return e!==m(e)&&w(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Z(e);var t}(t)),w(t)?((s=q(t)).x+=t.clientLeft,s.y+=t.clientTop):i&&(s.x=K(i))),{x:r.left+a.scrollLeft-s.x,y:r.top+a.scrollTop-s.y,width:r.width,height:r.height}}function ue(e){var t=new Map,n=new Set,i=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var r=t.get(i);r&&e(r)}})),i.push(r)}(e)})),i}function fe(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ge={placement:"bottom",modifiers:[],strategy:"absolute"};function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ve(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?ge:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},ge),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:r,setOptions:function(n){c(),r.options=Object.assign(Object.assign(Object.assign({},o),r.options),n),r.scrollParents={reference:b(e)?Q(e):e.contextElement?Q(e.contextElement):[],popper:Q(t)};var s=function(e){var t=ue(e);return z.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,r.options.modifiers)));return r.orderedModifiers=s.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:r,name:t,instance:l,options:i});a.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=r.elements,t=e.reference,n=e.popper;if(me(t,n)){r.rects={reference:pe(t,P(n),"fixed"===r.options.strategy),popper:f(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],a=o.fn,c=o.options,d=void 0===c?{}:c,h=o.name;"function"===typeof a&&(r=a({state:r,options:d,name:h,instance:l})||r)}else r.reset=!1,i=-1}}},update:fe((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),s=!0}};if(!me(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var ye=ve({defaultModifiers:[le,de,W,V,ce,oe,he,B]}),be=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},we={name:"applyStyles",enabled:!1},xe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,i=e.popper;if("removeAttribute"in n){var r=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==i.id}));r.length?n.setAttribute("aria-describedby",r.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,i=n.popper,r=n.reference,o=null==(t=i.getAttribute("role"))?void 0:t.toLowerCase();if(i.id&&"tooltip"===o&&"setAttribute"in r){var a=r.getAttribute("aria-describedby");r.setAttribute("aria-describedby",a?a+","+i.id:i.id)}}},Se=[];var Ce=function(e,t,n){var o=void 0===n?{}:n,a=o.enabled,l=void 0===a||a,c=o.placement,d=void 0===c?"bottom":c,h=o.strategy,u=void 0===h?"absolute":h,f=o.modifiers,g=void 0===f?Se:f,m=r(o,["enabled","placement","strategy","modifiers"]),v=Object(s.useRef)(),y=Object(s.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),b=Object(s.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),w=p(Object(s.useState)({placement:d,update:y,forceUpdate:b,attributes:{},styles:{popper:be(u),arrow:{}}})),x=w[0],S=w[1],C=Object(s.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},i={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],i[e]=t.attributes[e]})),S({state:t,styles:n,attributes:i,update:y,forceUpdate:b,placement:t.placement})}}}),[y,b,S]);return Object(s.useEffect)((function(){v.current&&l&&v.current.setOptions({placement:d,strategy:u,modifiers:[].concat(g,[C,we])})}),[u,d,C,l]),Object(s.useEffect)((function(){if(l&&null!=e&&null!=t)return v.current=ye(e,t,i({},m,{placement:d,strategy:u,modifiers:[].concat(g,[xe,C])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,S((function(e){return i({},e,{attributes:{},styles:{popper:be(u)}})})))}}),[l,e,t]),x},Oe=n(83),Pe=n(34),Ee=n(26),Te=n(39),ke=n.n(Te),Ie=n(56),Ae=n(12),Me=n.n(Ae);var je=function(e){return Object(Ie.a)(function(e){return e&&"setState"in e?Me.a.findDOMNode(e):null!=e?e:null}(e))},De=function(){};var Le=function(e){return e&&("current"in e?e.current:e)};var Re=function(e,t,n){var i=void 0===n?{}:n,r=i.disabled,o=i.clickTrigger,a=void 0===o?"click":o,l=Object(s.useRef)(!1),c=t||De,d=Object(s.useCallback)((function(t){var n,i=Le(e);ke()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!i||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!Object(Oe.a)(i,t.target)}),[e]),h=Object(Ee.a)((function(e){l.current||c(e)})),p=Object(Ee.a)((function(e){27===e.keyCode&&c(e)}));Object(s.useEffect)((function(){if(!r&&null!=e){var t=je(Le(e)),n=Object(Pe.a)(t,a,d,!0),i=Object(Pe.a)(t,a,h),o=Object(Pe.a)(t,"keyup",p),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return Object(Pe.a)(e,"mousemove",De)}))),function(){n(),i(),o(),s.forEach((function(e){return e()}))}}}),[e,r,a,d,h,p])};function Ne(e){var t,n,r,o,a,s=e.enabled,l=e.enableEvents,c=e.placement,d=e.flip,h=e.offset,p=e.containerPadding,u=e.arrowElement,f=e.popperConfig,g=void 0===f?{}:f,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(g.modifiers);return i({},g,{placement:c,enabled:s,modifiers:(a=i({},m,{eventListeners:{enabled:l},preventOverflow:i({},m.preventOverflow,{options:p?i({padding:p},null==(t=m.preventOverflow)?void 0:t.options):null==(n=m.preventOverflow)?void 0:n.options}),offset:{options:i({offset:h},null==(r=m.offset)?void 0:r.options)},arrow:i({},m.arrow,{enabled:!!u,options:i({},null==(o=m.arrow)?void 0:o.options,{element:u})}),flip:i({enabled:!!d},m.flip)}),void 0===a&&(a={}),Array.isArray(a)?a:Object.keys(a).map((function(e){return a[e].name=e,a[e]})))})}var ze=function(){};function Be(e){void 0===e&&(e={});var t=Object(s.useContext)(d.a),n=Object(c.a)(),o=n[0],a=n[1],l=Object(s.useRef)(!1),h=e,p=h.flip,u=h.offset,f=h.rootCloseEvent,g=h.popperConfig,m=void 0===g?{}:g,v=h.usePopper,y=void 0===v?!!t:v,b=null==(null==t?void 0:t.show)?e.show:t.show,w=null==(null==t?void 0:t.alignEnd)?e.alignEnd:t.alignEnd;b&&!l.current&&(l.current=!0);var x=function(e){null==t||t.toggle(!1,e)},S=t||{},C=S.drop,O=S.setMenu,P=S.menuElement,E=S.toggleElement,T=w?"bottom-end":"bottom-start";"up"===C?T=w?"top-end":"top-start":"right"===C?T=w?"right-end":"right-start":"left"===C&&(T=w?"left-end":"left-start");var k,I=Ce(E,P,Ne({placement:T,enabled:!(!y||!b),enableEvents:b,offset:u,flip:p,arrowElement:o,popperConfig:m})),A=I.styles,M=I.attributes,j=r(I,["styles","attributes"]),D={ref:O||ze,"aria-labelledby":null==E?void 0:E.id},L={show:b,alignEnd:w,hasShown:l.current,close:x};return k=y?i({},j,L,{props:i({},D,M.popper,{style:A.popper}),arrowProps:i({ref:a},M.arrow,{style:A.arrow})}):i({},L,{props:D}),Re(P,x,{clickTrigger:f,disabled:!(k&&b)}),k}var He={children:a.a.func.isRequired,show:a.a.bool,alignEnd:a.a.bool,flip:a.a.bool,usePopper:a.a.oneOf([!0,!1]),popperConfig:a.a.object,rootCloseEvent:a.a.string};function _e(e){var t=e.children,n=Be(r(e,["children"]));return l.a.createElement(l.a.Fragment,null,n.hasShown?t(n):null)}_e.displayName="ReactOverlaysDropdownMenu",_e.propTypes=He,_e.defaultProps={usePopper:!0};t.a=_e},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(92),d=n(45),h=l.a.createContext(null);h.displayName="NavbarContext";var p=h,u=n(8),f=n(90),g=n(95);function m(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.marginTop)||0,right:parseFloat(t.marginRight)||0,bottom:parseFloat(t.marginBottom)||0,left:parseFloat(t.marginLeft)||0}}var v=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,h=e.alignRight,v=e.rootCloseEvent,y=e.flip,b=e.show,w=e.renderOnMount,x=e.as,S=void 0===x?"div":x,C=e.popperConfig,O=Object(r.a)(e,["bsPrefix","className","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),P=Object(s.useContext)(p),E=Object(u.a)(n,"dropdown-menu"),T=function(){var e=Object(s.useRef)(null),t=Object(s.useRef)(null);return[Object(s.useCallback)((function(n){n&&(Object(g.a)(n,"popover")||Object(g.a)(n,"dropdown-menu"))&&(t.current=m(n),n.style.margin="0",e.current=n)}),[]),[Object(s.useMemo)((function(){return{name:"offset",options:{offset:function(e){var n=e.placement;if(!t.current)return[0,0];var i=t.current,r=i.top,o=i.left,a=i.bottom,s=i.right;switch(n.split("-")[0]){case"top":return[0,a];case"left":return[0,s];case"bottom":return[0,r];case"right":return[0,o];default:return[0,0]}}}}}),[t]),Object(s.useMemo)((function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",requiresIfExists:["arrow"],effect:function(t){var n=t.state;if(e.current&&n.elements.arrow&&Object(g.a)(e.current,"popover")&&n.modifiersData["arrow#persistent"]){var i=m(n.elements.arrow),r=i.top,o=i.right,a=r||o;return n.modifiersData["arrow#persistent"].padding={top:a,left:a,right:a,bottom:a},n.elements.arrow.style.margin="0",function(){n.elements.arrow&&(n.elements.arrow.style.margin="")}}}}}),[])]]}(),k=T[0],I=T[1],A=Object(c.b)({flip:y,rootCloseEvent:v,show:b,alignEnd:h,usePopper:!P,popperConfig:Object(i.a)({},C,{modifiers:I.concat((null==C?void 0:C.modifiers)||[])})}),M=A.hasShown,j=A.placement,D=A.show,L=A.alignEnd,R=A.close,N=A.props;return N.ref=Object(d.a)(k,Object(d.a)(Object(f.a)(t,"DropdownMenu"),N.ref)),M||w?("string"!==typeof S&&(N.show=D,N.close=R,N.alignRight=L),j&&(O.style=Object(i.a)({},O.style,{},N.style),O["x-placement"]=j),l.a.createElement(S,Object(i.a)({},O,N,{className:a()(o,E,D&&"show",L&&E+"-right")}))):null}));v.displayName="DropdownMenu",v.defaultProps={alignRight:!1,flip:!0};t.a=v},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(0),a=n.n(o);var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),null)};function l(e){return!e||"#"===e.trim()}var c=a.a.forwardRef((function(e,t){var n=e.as,o=void 0===n?"a":n,c=e.disabled,d=e.onKeyDown,h=Object(r.a)(e,["as","disabled","onKeyDown"]),p=function(e){var t=h.href,n=h.onClick;(c||l(t))&&e.preventDefault(),c?e.stopPropagation():n&&n(e)};return l(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),c&&(h.tabIndex=-1,h["aria-disabled"]=!0),a.a.createElement(o,Object(i.a)({ref:t},h,{onClick:p,onKeyDown:s((function(e){" "===e.key&&(e.preventDefault(),p(e))}),d)}))}));c.displayName="SafeAnchor";t.a=c},function(e,t,n){"use strict";function i(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(0),a=n.n(o),s=n(4),l=n.n(s),c=n(82);function d(e){var t=function(e){var t=Object(o.useRef)(e);return t.current=e,t}(e);Object(o.useEffect)((function(){return function(){return t.current()}}),[])}var h=Math.pow(2,31)-1;function p(){var e=Object(c.a)(),t=Object(o.useRef)();return d((function(){return clearTimeout(t.current)})),Object(o.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(i,r){void 0===r&&(r=0),e()&&(n(),r<=h?t.current=setTimeout(i,r):function e(t,n,i){var r=i-Date.now();t.current=r<=h?setTimeout(n,r):setTimeout((function(){return e(t,n,i)}),h)}(t,i,Date.now()+r))},clear:n}}),[])}var u=n(56);function f(e,t){return function(e){var t=Object(u.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var g=/([A-Z])/g;var m=/^ms-/;function v(e){return function(e){return e.replace(g,"-$1").toLowerCase()}(e).replace(m,"-ms-")}var y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var b=function(e,t){var n="",i="";if("string"===typeof t)return e.style.getPropertyValue(v(t))||f(e).getPropertyValue(v(t));Object.keys(t).forEach((function(r){var o=t[r];o||0===o?!function(e){return!(!e||!y.test(e))}(r)?n+=v(r)+": "+o+";":i+=r+"("+o+") ":e.style.removeProperty(v(r))})),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n},w=n(34);function x(e,t,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),o=Object(w.a)(e,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),o()}}function S(e,t,n,i){null==n&&(n=function(e){var t=b(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=x(e,n,i),o=Object(w.a)(e,"transitionend",t);return function(){r(),o()}}var C,O=n(97);var P=((C={})[O.b]="show",C[O.a]="show",C),E=a.a.forwardRef((function(e,t){var n=e.className,s=e.children,c=Object(r.a)(e,["className","children"]),d=Object(o.useCallback)((function(e){!function(e){e.offsetHeight}(e),c.onEnter&&c.onEnter(e)}),[c]);return a.a.createElement(O.c,Object(i.a)({ref:t,addEndListener:S},c,{onEnter:d}),(function(e,t){return a.a.cloneElement(s,Object(i.a)({},t,{className:l()("fade",n,s.props.className,P[e])}))}))}));E.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},E.displayName="Fade";var T=E,k=n(26),I=n(8),A=n(2),M=n.n(A),j={label:M.a.string.isRequired,onClick:M.a.func},D=a.a.forwardRef((function(e,t){var n=e.label,o=e.onClick,s=e.className,c=Object(r.a)(e,["label","onClick","className"]);return a.a.createElement("button",Object(i.a)({ref:t,type:"button",className:l()("close",s),onClick:o},c),a.a.createElement("span",{"aria-hidden":"true"},"\xd7"),a.a.createElement("span",{className:"sr-only"},n))}));D.displayName="CloseButton",D.propTypes=j,D.defaultProps={label:"Close"};var L=D,R=a.a.createContext({onClose:function(){}}),N=a.a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.closeLabel,c=e.closeButton,d=e.className,h=e.children,p=Object(r.a)(e,["bsPrefix","closeLabel","closeButton","className","children"]);n=Object(I.a)(n,"toast-header");var u=Object(o.useContext)(R),f=Object(k.a)((function(e){u&&u.onClose&&u.onClose(e)}));return a.a.createElement("div",Object(i.a)({ref:t},p,{className:l()(n,d)}),h,c&&a.a.createElement(L,{label:s,onClick:f,className:"ml-2 mb-1","data-dismiss":"toast"}))}));N.displayName="ToastHeader",N.defaultProps={closeLabel:"Close",closeButton:!0};var z=N,B=n(53),H=Object(B.a)("toast-body"),_=a.a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,c=e.children,d=e.transition,h=void 0===d?T:d,u=e.show,f=void 0===u||u,g=e.animation,m=void 0===g||g,v=e.delay,y=void 0===v?3e3:v,b=e.autohide,w=void 0!==b&&b,x=e.onClose,S=Object(r.a)(e,["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"]);n=Object(I.a)(n,"toast");var C=Object(o.useRef)(y),O=Object(o.useRef)(x);Object(o.useEffect)((function(){C.current=y,O.current=x}),[y,x]);var P=p(),E=!(!w||!f),k=Object(o.useCallback)((function(){E&&(null==O.current||O.current())}),[E]);Object(o.useEffect)((function(){P.set(k,C.current)}),[P,k]);var A=Object(o.useMemo)((function(){return{onClose:x}}),[x]),M=!(!h||!m),j=a.a.createElement("div",Object(i.a)({},S,{ref:t,className:l()(n,s,!M&&(f?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),c);return a.a.createElement(R.Provider,{value:A},M&&h?a.a.createElement(h,{in:f,unmountOnExit:!0},j):j)}));_.displayName="Toast";t.a=Object.assign(_,{Body:H,Header:z})},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var i=n(3),r=n(16),o=(n(2),n(0)),a=n.n(o),s=n(12),l=n.n(s),c=!1,d=n(65),h="entering",p="entered",u=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r="exited",i.appearStatus=h):r=p:r=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",i.state={status:r},i.nextCallback=null,i}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[l.a.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),d=i?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:h},(function(){t.props.onEntering(o,a),t.onTransitionEnd(d,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!c?(this.props.onExit(i),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(d.a.Provider,{value:null},"function"===typeof n?n(e,r):a.a.cloneElement(a.a.Children.only(n),r))},t}(a.a.Component);function f(){}u.contextType=d.a,u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},u.UNMOUNTED="unmounted",u.EXITED="exited",u.ENTERING=h,u.ENTERED=p,u.EXITING="exiting";t.c=u},,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var i=n(157);e.exports=Function.prototype.bind||i},function(e,t,n){"use strict";var i=n(115),r="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),c=function(e,t,n,i){var r;(!(t in e)||"function"===typeof(r=i)&&"[object Function]"===o.call(r)&&i())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);r&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(e,o[s],t[o[s]],n[o[s]])};d.supportsDescriptors=!!l,e.exports=d},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}return(0,o.default)(i)};var i,r=n(168),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){e.exports=n(148)},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:l(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?d:10===e?h:d||h}function u(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?u(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function g(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||i.contains(r))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||u(e.firstElementChild)===e)}(a)?a:u(a);var s=f(e);return s.host?g(s.host,t):g(e,f(t).host)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||r;return o[n]}return e[n]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function y(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function b(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,i=p(10)&&getComputedStyle(n);return{height:b("Height",t,n,i),width:b("Width",t,n,i)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),C=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function P(e){return O({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(u){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},s=o.width||e.clientWidth||r.width,l=o.height||e.clientHeight||r.height,c=e.offsetWidth-s,d=e.offsetHeight-l;if(c||d){var h=a(e);c-=y(h,"x"),d-=y(h,"y"),r.width-=c,r.height-=d}return P(r)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===t.nodeName,o=E(e),s=E(t),c=l(e),d=a(t),h=parseFloat(d.borderTopWidth),u=parseFloat(d.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=P({top:o.top-s.top-h,left:o.left-s.left-u,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var g=parseFloat(d.marginTop),m=parseFloat(d.marginLeft);f.top-=h-g,f.bottom-=h-g,f.left-=u-m,f.right-=u-m,f.marginTop=g,f.marginLeft=m}return(i&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(f=v(f,t)),f}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=T(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left"),l={top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o};return P(l)}function I(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&I(n)}function A(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function M(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?A(e):g(e,c(t));if("viewport"===i)o=k(a,r);else{var d=void 0;"scrollParent"===i?"BODY"===(d=l(s(t))).nodeName&&(d=e.ownerDocument.documentElement):d="window"===i?e.ownerDocument.documentElement:i;var h=T(d,a,r);if("HTML"!==d.nodeName||I(a))o=h;else{var p=w(e.ownerDocument),u=p.height,f=p.width;o.top+=h.top-h.marginTop,o.bottom=u+h.top,o.left+=h.left-h.marginLeft,o.right=f+h.left}}var m="number"===typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function j(e){return e.width*e.height}function D(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=M(n,i,o,r),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return O({key:e},s[e],{area:j(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),d=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return d+(h?"-"+h:"")}function L(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?A(t):g(t,c(n));return T(n,r,i)}function R(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function z(e,t,n){n=n.split("-")[0];var i=R(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=t[a]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[c]:t[N(s)],r}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function H(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=B(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=P(t.offsets.popper),t.offsets.reference=P(t.offsets.reference),t=n(t,e))})),t}function _(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=z(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=H(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function V(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function Y(e,t,n,i){n.updateBound=i,U(e).addEventListener("resize",n.updateBound,{passive:!0});var r=l(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,i,{passive:!0}),o||e(l(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function X(){this.state.eventsEnabled||(this.state=Y(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Z(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var K=n&&/Firefox/i.test(navigator.userAgent);function $(e,t,n){var i=B(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],J=Q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J.indexOf(e),i=J.slice(n+1).concat(J.slice(0,n));return t?i.reverse():i}var te="flip",ne="clockwise",ie="counterclockwise";function re(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(B(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,i){var r=(1===i?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return P(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){q(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",d={start:C({},l,o[l]),end:C({},l,o[l]+o[c]-a[c])};e.offsets.popper=O({},a,d[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=q(+n)?[+n,0]:re(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||u(e.instance.popper);e.instance.reference===n&&(n=u(n));var i=F("transform"),r=e.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=M(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=a,r[i]=s,t.boundaries=l;var c=t.priority,d=e.offsets.popper,h={primary:function(e){var n=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(d[e],l[e])),C({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=d[n];return d[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(d[n],l[e]-("right"===e?d.width:d.height))),C({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=O({},d,h[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"===typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),d=c?"height":"width",h=c?"Top":"Left",p=h.toLowerCase(),u=c?"left":"top",f=c?"bottom":"right",g=R(i)[d];l[f]-g<s[p]&&(e.offsets.popper[p]-=s[p]-(l[f]-g)),l[p]+g>s[f]&&(e.offsets.popper[p]+=l[p]+g-s[f]),e.offsets.popper=P(e.offsets.popper);var m=l[p]+l[d]/2-g/2,v=a(e.instance.popper),y=parseFloat(v["margin"+h]),b=parseFloat(v["border"+h+"Width"]),w=m-e.offsets.popper[p]-y-b;return w=Math.max(Math.min(s[d]-g,w),0),e.arrowElement=i,e.offsets.arrow=(C(n={},p,Math.round(w)),C(n,u,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=M(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=N(i),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case te:a=[i,r];break;case ne:a=ee(i);break;case ie:a=ee(i,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],r=N(i);var c=e.offsets.popper,d=e.offsets.reference,h=Math.floor,p="left"===i&&h(c.right)>h(d.left)||"right"===i&&h(c.left)<h(d.right)||"top"===i&&h(c.bottom)>h(d.top)||"bottom"===i&&h(c.top)<h(d.bottom),u=h(c.left)<h(n.left),f=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),v="left"===i&&u||"right"===i&&f||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&u||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),w=!!t.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&u||!y&&"start"===o&&m||!y&&"end"===o&&g),x=b||w;(p||v||x)&&(e.flipped=!0,(p||v)&&(i=a[l+1]),x&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=O({},e.offsets.popper,z(e.instance.popper,e.offsets.reference,e.placement)),e=H(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),e.placement=N(t),e.offsets.popper=P(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=u(e.instance.popper),l=E(s),c={position:r.position},d=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(r.width),c=o(i.width),d=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),p=t?d||h||l%2===c%2?o:a:s,u=t?o:s;return{left:p(l%2===1&&c%2===1&&!h&&t?i.left-1:i.left),top:u(i.top),bottom:u(i.bottom),right:p(i.right)}}(e,window.devicePixelRatio<2||!K),h="bottom"===n?"top":"bottom",p="right"===i?"left":"right",f=F("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+d.bottom:-l.height+d.bottom:d.top,g="right"===p?"HTML"===s.nodeName?-s.clientWidth+d.right:-l.width+d.right:d.left,a&&f)c[f]="translate3d("+g+"px, "+m+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===p?-1:1;c[h]=m*v,c[p]=g*y,c.willChange=h+", "+p}var b={"x-placement":e.placement};return e.attributes=O({},b,e.attributes),e.styles=O({},c,e.styles),e.arrowStyles=O({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Z(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=L(r,t,e,n.positionFixed),a=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ae=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=O({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(O({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){i.options.modifiers[t]=O({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return O({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return S(e,[{key:"update",value:function(){return _.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),e}();ae.Utils=("undefined"!==typeof window?window:e).PopperUtils,ae.placements=Q,ae.Defaults=oe,t.a=ae}).call(this,n(55))},function(e,t,n){"use strict";t.__esModule=!0;var i=o(n(0)),r=o(n(165));function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.createContext||r.default,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(167)},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(16),a=n(2),s=n.n(a),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}var d=r.a.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",d=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;((o=i)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(i,r):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);d.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return h.contextTypes=((r={})[a]=s.a.object,r),{Provider:d,Consumer:h}};t.a=d}).call(this,n(55))},function(e,t,n){var i=n(169);e.exports=u,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,i=[],o=0,a=0,s="",d=t&&t.delimiter||"/";null!=(n=r.exec(e));){var h=n[0],p=n[1],u=n.index;if(s+=e.slice(a,u),a=u+h.length,p)s+=p[1];else{var f=e[a],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(i.push(s),s="");var x=null!=g&&null!=f&&f!==g,S="+"===b||"*"===b,C="?"===b||"*"===b,O=n[2]||d,P=v||y;i.push({name:m||o++,prefix:g||"",delimiter:O,optional:C,repeat:S,partial:x,asterisk:!!w,pattern:P?c(P):w?".*":"[^"+l(O)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",h(t)));return function(t,r){for(var o="",s=t||{},l=(r||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if("string"!==typeof d){var h,p=s[d.name];if(null==p){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(i(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var u=0;u<p.length;u++){if(h=l(p[u]),!n[c].test(h))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===u?d.prefix:d.delimiter)+h}}else{if(h=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(h))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+h+'"');o+=d.prefix+h}}else o+=d}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function p(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var p=l(c.prefix),u="(?:"+c.pattern+")";t.push(c),c.repeat&&(u+="(?:"+p+u+")*"),a+=u=c.optional?c.partial?p+"("+u+")?":"(?:"+p+"("+u+"))?":p+"("+u+")"}}var f=l(n.delimiter||"/"),g=a.slice(-f.length)===f;return r||(a=(g?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":r&&g?"":"(?="+f+"|$)",d(new RegExp("^"+a,h(n)),t)}function u(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(u(e[r],t,n).source);return d(new RegExp("(?:"+i.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},,function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var d in n=Object(arguments[c]))r.call(n,d)&&(l[d]=n[d]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){"use strict";e.exports=n(151)},function(e,t,n){"use strict";var i=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(a.default,(0,r.default)({ref:n},t),e)})));0;return n.muiName=a.default.muiName,n};var r=i(n(68)),o=i(n(0)),a=i(n(174))},function(e,t,n){"use strict";var i=Array.prototype.slice,r=n(116),o=Object.keys,a=o?function(e){return o(e)}:n(152),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return r(e)?s(i.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var i=Object.prototype.toString;e.exports=function(e){var t=i.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===i.call(e.callee)),n}},function(e,t,n){"use strict";var i=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var i=n(117),r=n(102).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!r)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return i}},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=(0,i(n(114)).default)(r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,u=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=r.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,a,s,l,c=0,d=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function b(e){return c=e,s=setTimeout(x,t),d?y(e):a}function w(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-c>=o}function x(){var e=u();if(w(e))return S(e);s=setTimeout(x,function(e){var n=t-(e-l);return m?p(n,o-(e-c)):n}(e))}function S(e){return s=void 0,v&&i?y(e):(i=r=void 0,a)}function C(){var e=u(),n=w(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return b(l);if(m)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=g(t)||0,f(n)&&(d=!!n.leading,o=(m="maxWait"in n)?h(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},C.flush=function(){return void 0===s?a:S(u())},C}}).call(this,n(55))},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){var i=n(115),r=n(153),o=n(154),a=n(155),s=n(158),l=n(164),c=Date.prototype.getTime;function d(e,t,n){var u=n||{};return!!(u.strict?o(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?u.strict?o(e,t):e==t:function(e,t,n){var o,u;if(typeof e!==typeof t)return!1;if(h(e)||h(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e)!==r(t))return!1;var f=a(e),g=a(t);if(f!==g)return!1;if(f||g)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return c.call(e)===c.call(t);var m=p(e),v=p(t);if(m!==v)return!1;if(m||v){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!==typeof t)return!1;try{var y=i(e),b=i(t)}catch(w){return!1}if(y.length!==b.length)return!1;for(y.sort(),b.sort(),o=y.length-1;o>=0;o--)if(y[o]!=b[o])return!1;for(o=y.length-1;o>=0;o--)if(u=y[o],!d(e[u],t[u],n))return!1;return!0}(e,t,u))}function h(e){return null===e||void 0===e}function p(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=d},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var i=n(20),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(103)(e))},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(0),a=n.n(o),s=n(2),l=n.n(s),c=n(76),d=n(91),h=n(93),p={id:l.a.any,href:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,disabled:l.a.bool,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},u=a.a.forwardRef((function(e,t){var n=e.title,o=e.children,s=e.bsPrefix,l=e.rootCloseEvent,p=e.variant,u=e.size,f=e.menuRole,g=e.renderMenuOnMount,m=e.disabled,v=e.href,y=e.id,b=Object(r.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id"]);return a.a.createElement(c.a,Object(i.a)({ref:t},b),a.a.createElement(d.a,{id:y,href:v,size:u,variant:p,disabled:m,childBsPrefix:s},n),a.a.createElement(h.a,{role:f,renderOnMount:g,rootCloseEvent:l},o))}));u.displayName="DropdownButton",u.propTypes=p,t.a=u},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(8),d=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.striped,d=e.bordered,h=e.borderless,p=e.hover,u=e.size,f=e.variant,g=e.responsive,m=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(c.a)(n,"table"),y=a()(o,v,f&&v+"-"+f,u&&v+"-"+u,s&&v+"-striped",d&&v+"-bordered",h&&v+"-borderless",p&&v+"-hover"),b=l.a.createElement("table",Object(i.a)({},m,{className:y,ref:t}));if(g){var w=v+"-responsive";return"string"===typeof g&&(w=w+"-"+g),l.a.createElement("div",{className:w},b)}return b}));t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return Xf}));var i=n(0),r=n(12),o="ej2_instances",a=0,s=!1;function l(e,t){var n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}function c(e,t){for(var n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<i.length&&!g(n);r++)n=n[i[r]];return n}function d(e,t,n){var i,r,o=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=n||{},s=a,l=o.length;for(i=0;i<l;i++)r=o[i],i+1===l?s[r]=void 0===t?{}:t:f(s[r])&&(s[r]={}),s=s[r];return a}function h(e){return!f(e)&&e.constructor==={}.constructor}function p(e,t){if(!f(t))for(var n=e,i=t,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];f(n.deepMerge)||-1===n.deepMerge.indexOf(a)||!h(i[a])&&!Array.isArray(i[a])?n[a]=i[a]:u(n[a],n[a],i[a],!0)}}function u(e,t,n,i){var r=e&&"object"===typeof e?e:{},o=arguments.length;i&&(o-=1);for(var a=function(e){if(!s[e])return"continue";var t=s[e];Object.keys(t).forEach((function(e){var n,o=r[e],a=t[e],s=Array.isArray(a)&&Array.isArray(o)&&a.length!==o.length,l=!w()||!(o instanceof Event)&&!s;i&&l&&(h(a)||Array.isArray(a))?h(a)?(n=o||{},Array.isArray(n)&&n.hasOwnProperty("isComplexArray")?u(n,{},a,i):r[e]=u(n,{},a,i)):(n=w()?o&&Object.keys(a).length:o||[],r[e]=u([],n,a,i)):r[e]=a}))},s=arguments,l=1;l<o;l++)a(l);return r}function f(e){return void 0===e||null===e}function g(e){return"undefined"===typeof e}function m(e){return e+"_"+a++}function v(e,t){return e===t||!(e===document||!e)&&v(e.parentNode,t)}function y(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function b(e){var t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}function w(){return s}function x(e,t){var n="string"===typeof e?document.querySelector(e):e;if(n[o])for(var i=0,r=n[o];i<r.length;i++){var a=r[i];if(a instanceof t)return a}return null}var S,C={latn:{_digits:"0123456789",_type:"numeric"}},O={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},P=[0,1,2,3,4,5,6,7,8,9],E=function(){function e(){}return e.getMainObject=function(e,t){return c(w()?t:"main."+t,e)},e.getNumberingSystem=function(e){return c("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var n={},i=0,r=t||Object.keys(e);i<r.length;i++){var o=r[i];n.hasOwnProperty(e[o])||(n[e[o]]=o)}return n},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},n=0,i=Object.keys(O);n<i.length;n++){var r=i[n];t[e[r]]=O[r]}return t},e.constructRegex=function(e){for(var t=e.length,n="",i=0;i<t;i++)n+=i!==t-1?e[i]+"|":e[i];return n},e.convertValueParts=function(e,t,n){return e.replace(t,(function(e){return n[e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=c("numbers",e),t.nSystem=c("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,n,i){var r={},o=this.getDefaultNumberingSystem(e);if(!g(o.nSystem)||i){var a=i?c("obj.mapperDigits",o):c(o.nSystem+"._digits",t);g(a)||(r.numericPair=this.reverseObject(a,P),r.numberParseRegex=new RegExp(this.constructRegex(a),"g"),r.numericRegex="["+a[0]+"-"+a[9]+"]",n&&(r.numericRegex=a[0]+"-"+a[9],r.symbolNumberSystem=c(i?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=o.nSystem))}return r},e.getNumberMapper=function(e,t,n){var i={mapper:{}},r=this.getDefaultNumberingSystem(e);if(!g(r.nSystem)){i.numberSystem=r.nSystem,i.numberSymbols=c("symbols-numberSystem-"+r.nSystem,r.obj),i.timeSeparator=c("timeSeparator",i.numberSymbols);var o=c(r.nSystem+"._digits",t);if(!g(o))for(var a=0,s=P;a<s.length;a++){var l=s[a];i.mapper[l]=o[l]}}return i},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=C,e}(),T={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var n=e.getDate(),i=e.getMonth(),r=e.getFullYear(),o=i+1,a=r;o<3&&(a-=1,o+=12);var s=Math.floor(a/100),l=s-Math.floor(s/4)-2,c=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(o+1))+n-l-1524,d=c+(l=(s=Math.floor((c-1867216.25)/36524.25))-Math.floor(s/4)+1)+1524,h=Math.floor((d-122.1)/365.25),p=Math.floor(365.25*h),u=Math.floor((d-p)/30.6001);n=d-p-Math.floor(30.6001*u),(i=Math.floor((d-p)/20.6001))>13&&(h+=1,i-=12),i-=1,r=h-4716;var f=c-24e5,g=c-1948084,m=Math.floor(g/10631);g-=10631*m;var v=Math.floor((g-.1335)/(10631/30)),y=30*m+v;g-=Math.floor(v*(10631/30)+.1335);var b=Math.floor((g+28.5001)/29.5);13===b&&(b=12);for(var w=g-Math.floor(29.5001*b-29),x=0;x<t.length&&!(t[x]>f);x++);var S=x+16260,C=Math.floor((S-1)/12),O=C+1,P=S-12*C,E=f-t[x-1]+1;return(E+"").length>2&&(E=w,P=b,O=y),{year:O,month:P,date:E}},e.toGregorian=function(e,n,i){var r=i+t[12*(e-1)+1+(n-1)-16260-1]-1+24e5,o=Math.floor(r+.5),a=Math.floor((o-1867216.25)/36524.25),s=(a=o+1+a-Math.floor(a/4))+1524,l=Math.floor((s-122.1)/365.25),c=Math.floor(365.25*l),d=Math.floor((s-c)/30.6001),h=s-c-Math.floor(30.6001*d),p=d-(d>13.5?13:1),u=l-(p>2.5?4716:4715);return u<=0&&p--,new Date(u+"/"+p+"/"+h)}}(S||(S={}));var k=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,I=["sun","mon","tue","wed","thu","fri","sat"],A={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},M={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},j=function(){function e(){}return e.dateFormat=function(e,t,n){var i=this,r=Z.getDependables(n,e,t.calendar),o=c("parserObject.numbers",r),a=r.dateObject,s={isIslamic:Z.islamicRegex.test(t.calendar)};w()&&t.isServerRendered&&(t=Z.compareBlazorDateFormats(t,e));var l=t.format||Z.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,w()?e:"");if(s.dateSeperator=w()?c("dateSeperator",a):Z.getDateSeparator(r.dateObject),g(l))y("Format options or type given must be invalid");else{l=Z.ConvertDateToWeekFormat(l),w()&&(l=l.replace(/tt/,"a")),s.pattern=l,s.numMapper=w()?u({},o):E.getNumberMapper(r.parserObject,E.getNumberingSystem(n));for(var d=0,h=l.match(k)||[];d<h.length;d++){var p=h[d],f=p.length,m=p[0];"K"===m&&(m="h");switch(m){case"E":case"c":w()?s.weekday=c("days."+Z.monthIndex[f],a):s.weekday=r.dateObject[Z.days]["stand-alone"][Z.monthIndex[f]];break;case"M":case"L":w()?s.month=c("months."+Z.monthIndex[f],a):s.month=r.dateObject[Z.month]["stand-alone"][Z.monthIndex[f]];break;case"a":s.designator=w()?c("dayPeriods",a):c("dayPeriods.format.wide",a);break;case"G":var v=f<=3?"eraAbbr":4===f?"eraNames":"eraNarrow";s.era=w()?c("eras",a):c("eras."+v,r.dateObject);break;case"z":s.timeZone=c("dates.timeZoneNames",r.parserObject)}}}return function(e){return isNaN(e.getDate())?null:i.intDateFormatter(e,s)}},e.intDateFormatter=function(e,t){for(var n="",i=t.pattern.match(Z.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),o=0,a=i;o<a.length;o++){var s=a[o],l=s.length,c=s[0];"K"===c&&(c="h");var d=void 0,h="",p=void 0,u=void 0,g="";switch(c){case"M":case"L":d=r.month,l>2?n+=t.month[d]:p=!0;break;case"E":case"c":n+=t.weekday[I[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(p=!0,"d"===c)d=r.date;else if("f"===c){p=!1,u=!0;var m=(h=(h=e[A[c]]().toString()).substring(0,l)).length;if(l!==m){if(l>3)continue;for(var v=0;v<l-m;v++)h="0"+h.toString()}g+=h}else d=e[A[c]]();"h"===c&&(d=d%12||12);break;case"y":u=!0,g+=r.year,2===l&&(g=g.substr(g.length-2));break;case"a":var y=e.getHours()<12?"am":"pm";n+=t.designator[y];break;case"G":var b=e.getFullYear()<0?0:1,w=t.era[b];f(w)&&(w=t.era[b?0:1]),n+=w||"";break;case"'":n+="''"===s?"'":s.replace(/\'/g,"");break;case"z":var x=e.getTimezoneOffset(),S=l<4?"+H;-H":t.timeZone.hourFormat;S=S.replace(/:/g,t.numMapper.timeSeparator),0===x?n+=t.timeZone.gmtZeroFormat:(u=!0,g=this.getTimeZoneValue(x,S)),g=t.timeZone.gmtFormat.replace(/\{0\}/,g);break;case":":n+=t.numMapper.numberSymbols.timeSeparator;break;case"/":n+=t.dateSeperator;break;case"W":p=!0,d=Z.getWeekOfYear(e);break;default:n+=s}p&&(u=!0,g=this.checkTwodigitNumber(d,l)),u&&(n+=E.convertValueParts(g,Z.latnParseRegex,t.numMapper.mapper))}return n},e.getCurrentDateValue=function(e,t){return t?S.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var n=e+"";return 2===t&&2!==n.length?"0"+n:n},e.getTimeZoneValue=function(e,t){var n=this,i=t.split(";")[e>0?1:0],r=Math.abs(e);return i.replace(/HH?|mm/g,(function(e){var t=e.length,i=-1!==e.indexOf("H");return n.checkTwodigitNumber(Math.floor(i?r/60:r%60),t)}))},e}(),D={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},L=["infinity","nan","group","decimal","exponential"],R=function(){function e(){}return e.numberFormatter=function(e,t,n){var i,r=this,o=u({},t),a={},s={},l=Z.getDependables(n,e,"",!0),d=l.numericObject;s.numberMapper=w()?u({},d):E.getNumberMapper(l.parserObject,E.getNumberingSystem(n),!0),s.currencySymbol=w()?c("currencySymbol",d):Z.getCurrencySymbol(l.numericObject,o.currency||q,t.altSymbol),s.percentSymbol=w()?c("numberSymbols.percentSign",d):s.numberMapper.numberSymbols.percentSign,s.minusSymbol=w()?c("numberSymbols.minusSign",d):s.numberMapper.numberSymbols.minusSign;var h=s.numberMapper.numberSymbols;if(t.format&&!Z.formatRegex.test(t.format))a=Z.customFormat(t.format,s,l.numericObject);else{if(u(o,Z.getProperNumericSkeleton(t.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,w()||(i=Z.getSymbolPattern(o.type,s.numberMapper.numberSystem,l.numericObject,o.isAccount)),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),g(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),g(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&!w()&&(i=i.replace(/\u00A4/g,Z.defaultCurrency)),w())a.nData=u({},{},c(o.type+"nData",d)),a.pData=u({},{},c(o.type+"pData",d)),"currency"===o.type&&t.currency&&Z.replaceBlazorCurrency([a.pData,a.nData],s.currencySymbol,t.currency);else{var p=i.split(";");a.nData=Z.getFormatData(p[1]||"-"+p[0],!0,s.currencySymbol),a.pData=Z.getFormatData(p[0],!1,s.currencySymbol),o.useGrouping&&(o.groupSeparator=h[L[2]],o.groupData=this.getGroupingDetails(p[0]))}if(g(o.minimumFractionDigits)&&(o.minimumFractionDigits=a.nData.minimumFraction),g(o.maximumFractionDigits)){var f=a.nData.maximumFraction;o.maximumFractionDigits=g(f)&&o.isPercent?0:f}var m=o.minimumFractionDigits,v=o.maximumFractionDigits;g(m)||g(v)||m>v&&(o.maximumFractionDigits=m)}return u(a.nData,o),u(a.pData,o),function(e){return isNaN(e)?h[L[1]]:isFinite(e)?r.intNumberFormatter(e,a,s):h[L[0]]}},e.getGroupingDetails=function(e){var t={},n=e.match(Z.negativeDataRegex);if(n&&n[4]){var i=n[4],r=i.lastIndexOf(",");if(-1!==r){var o=i.split(".")[0];t.primary=o.length-r-1;var a=i.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t},e.checkValueRange=function(e,t,n,i){var r=i?"f":"s",o=0,a=D["l"+r],s=D["m"+r];if(g(e)||(this.checkRange(e,a,i),o++),g(t)||(this.checkRange(t,s,i),o++),2===o){if(!(e<t))return!0;y(s+"specified must be less than the"+a)}else n&&1===o&&y("Both"+s+"and"+s+"must be present");return!1},e.checkRange=function(e,t,n){var i=n?[0,20]:[1,21];(e<i[0]||e>i[1])&&y(t+"value must be within the range"+i[0]+"to"+i[1])},e.intNumberFormatter=function(e,t,n){var i;if(!g(t.nData.type)){e<0?(e*=-1,i=t.nData):i=0===e&&t.zeroData||t.pData;var r="";return i.isPercent&&(e*=100),i.groupOne?r=this.processSignificantDigits(e,i.minimumSignificantDigits,i.maximumSignificantDigits):(r=this.processFraction(e,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,i.minimumIntegerDigits))),"scientific"===i.type&&(r=(r=e.toExponential(i.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[L[4]])),r=r.replace(".",n.numberMapper.numberSymbols[L[3]]),i.useGrouping&&(r=this.groupNumbers(r,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[L[3]]||".",i.groupData.secondary)),r=E.convertValueParts(r,Z.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+r+i.nend}},e.processSignificantDigits=function(e,t,n){var i=e+"";return i.length<t?e.toPrecision(t):+(i=e.toPrecision(n))+""},e.groupNumbers=function(e,t,n,i,r){for(var o=!f(r)&&0!==r,a=e.split(i),s=a[0],l=s.length,c="";l>t;)c=s.slice(l-t,l)+(c.length?n+c:""),l-=t,o&&(t=r,o=!1);return a[0]=s.slice(0,l)+(c.length?n:"")+c,a.join(i)},e.processFraction=function(e,t,n){var i=(e+"").split(".")[1],r=i?i.length:0;if(t&&r<t){var o="";if(0!==r){o+=e;for(var a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!f(n)&&(r>n||0===n)?e.toFixed(n):e+""},e.processMinimumIntegers=function(e,t){var n=e.split("."),i=n[0],r=i.length;if(r<t){for(var o=0;o<t-r;o++)i="0"+i;n[0]=i}return n.join(".")},e}(),N=/^[0-9]*$/,z={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},B=function(){function e(){}return e.dateParser=function(e,t,n){var i=this,r=Z.getDependables(n,e,t.calendar),o=E.getCurrentNumericOptions(r.parserObject,E.getNumberingSystem(n),!1,w()),a={};w()&&t.isServerRendered&&(t=Z.compareBlazorDateFormats(t,e));var s,l=t.format||Z.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,w()?e:""),d="";if(g(l))y("Format options or type given must be invalid");else{l=Z.ConvertDateToWeekFormat(l),a={isIslamic:Z.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var h=l.match(Z.dateParseRegex)||[],p=h.length,u=0,m=0,v=!1,b=o.numericRegex,x=w()?r.parserObject.numbers:E.getNumberMapper(r.parserObject,E.getNumberingSystem(n)),C=0;C<p;C++){var O=h[C],P=O.length,T="K"===O[0]?"h":O[0],k=void 0,I=void 0,A=M[T],j=2===P?"":"?";switch(v&&(u=m,v=!1),T){case"E":case"c":var D=void 0;D=w()?c("days."+Z.monthIndex[P],r.dateObject):r.dateObject[Z.days]["stand-alone"][Z.monthIndex[P]];var L=E.reverseObject(D);d+="("+Object.keys(L).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(I=!0,("M"===T||"L"===T)&&P>2){var R=void 0;R=w()?c("months."+Z.monthIndex[P],r.dateObject):r.dateObject.months["stand-alone"][Z.monthIndex[P]],a[A]=E.reverseObject(R),d+="("+Object.keys(a[A]).join("|")+")"}else if("f"===T){if(P>3)continue;k=!0,d+="("+b+b+"?"+b+"?)"}else k=!0,d+="("+b+b+j+")";"h"===T&&(a.hour12=!0);break;case"W":d+="("+b+(1===P?"?":"")+b+")";break;case"y":I=k=!0,d+=2===P?"("+b+b+")":"("+b+"{"+P+",})";break;case"a":I=!0;var N=w()?c("dayPeriods",r.dateObject):c("dayPeriods.format.wide",r.dateObject);a[A]=E.reverseObject(N),d+="("+Object.keys(a[A]).join("|")+")";break;case"G":I=!0;var z=P<=3?"eraAbbr":4===P?"eraNames":"eraNarrow";a[A]=E.reverseObject(w()?c("eras",r.dateObject):c("eras."+z,r.dateObject)),d+="("+Object.keys(a[A]).join("|")+"?)";break;case"z":I=0!==(new Date).getTimezoneOffset(),a[A]=c("dates.timeZoneNames",r.parserObject);var B=a[A],H=(s=P<4)?"+H;-H":B.hourFormat;H=H.replace(/:/g,x.timeSeparator),d+="("+this.parseTimeZoneRegx(H,B,b)+")?",v=!0,m=s?6:12;break;case"'":d+="("+O.replace(/\'/g,"")+")?";break;default:d+="([\\D])"}I&&(a.evalposition[A]={isNumber:k,pos:C+1+u,hourOnly:s}),C!==p-1||f(d)||(a.parserRegex=new RegExp("^"+d+"$","i"))}}return function(e){var t=i.internalDateParse(e,a,o);if(f(t)||!Object.keys(t).length)return null;if(a.isIslamic){var n={},r=t.year,s=t.day,l=t.month,c=r?r+"":"",d=2===c.length;r&&l&&s&&!d||(n=S.getHijriDate(new Date)),d&&(r=parseInt((n.year+"").slice(0,2)+c,10));var h=S.toGregorian(r||n.year,l||n.month,s||n.date);t.year=h.getFullYear(),t.month=h.getMonth()+1,t.day=h.getDate()}return i.getDateObject(t)}},e.getDateObject=function(e,t){var n=t||new Date;n.setMilliseconds(0);var i=e.year,r=e.designator,o=e.timeZone;if(!g(i)){if((i+"").length<=2)i+=100*Math.floor(n.getFullYear()/100);n.setFullYear(i)}for(var a=0,s=["hour","minute","second","milliseconds","month","day"];a<s.length;a++){var l=s[a],c=e[l];if(g(c)&&"day"===l&&n.setDate(1),!g(c))if("month"===l){if((c-=1)<0||c>11)return new Date("invalid");var d=n.getDate();n.setDate(1),n[z[l]](c);var h=new Date(n.getFullYear(),c+1,0).getDate();n.setDate(d<h?d:h)}else{if("day"===l){var p=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(c<1||c>p)return null}n[z[l]](c)}}if(!g(r)){var u=n.getHours();"pm"===r?n.setHours(u+(12===u?0:12)):12===u&&n.setHours(0)}if(!g(o)){var f=o-n.getTimezoneOffset();0!==f&&n.setMinutes(n.getMinutes()+f)}return n},e.internalDateParse=function(e,t,n){var i=e.match(t.parserRegex),r={hour:0,minute:0,second:0};n.numericRegex;if(f(i))return null;for(var o=0,a=Object.keys(t.evalposition);o<a.length;o++){var s=a[o],l=t.evalposition[s],c=i[l.pos];if(l.isNumber)r[s]=this.internalNumberParser(c,n);else if("timeZone"!==s||g(c))c="month"!==s||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?c:c[0].toUpperCase()+c.substring(1).toLowerCase(),r[s]=t[s][c];else{var d=l.pos,h=void 0,p=i[d+1],u=!g(p);l.hourOnly?h=60*this.getZoneValue(u,p,i[d+4],n):(h=60*this.getZoneValue(u,p,i[d+7],n),h+=this.getZoneValue(u,i[d+4],i[d+10],n)),f(h)||(r[s]=h)}}return t.hour12&&(r.hour12=!0),r},e.internalNumberParser=function(e,t){return e=E.convertValueParts(e,t.numberParseRegex,t.numericPair),N.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,n){var i,r,o=t.gmtFormat,a="("+n+")("+n+")";return i=e.replace("+","\\+"),r=(i=-1!==e.indexOf("HH")?i.replace(/HH|mm/g,"("+a+")"):i.replace(/H|m/g,"("+a+"?)")).split(";").map((function(e){return o.replace("{0}",e)})),i=r.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,n,i){var r=e?t:n;if(!r)return 0;var o=this.internalNumberParser(r,i);return e?-o:o},e}(),H=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,_=/,/g,W=["minusSign","infinity"],F=function(){function e(){}return e.numberParser=function(e,t,n){var i,r=this,o=Z.getDependables(n,e,"",!0),a={custom:!0};Z.formatRegex.test(t.format)||!t.format?(u(a,Z.getProperNumericSkeleton(t.format||"N")),a.custom=!1):u(a,Z.customFormat(t.format,null,null));var s,l=c("numbers",o.parserObject);if(i=E.getCurrentNumericOptions(o.parserObject,E.getNumberingSystem(n),!0,w()),a.symbolRegex=E.getSymbolRegex(Object.keys(i.symbolMatch)),a.infinity=i.symbolNumberSystem[W[1]],w())a.nData=u({},{},c(a.type+"nData",l)),a.pData=u({},{},c(a.type+"pData",l)),"currency"===a.type&&t.currency&&Z.replaceBlazorCurrency([a.pData,a.nData],c("currencySymbol",l),t.currency);else if(s=Z.getSymbolPattern(a.type,i.numberSystem,o.numericObject,a.isAccount)){var d=(s=s.replace(/\u00A4/g,Z.defaultCurrency)).split(";");a.nData=Z.getFormatData(d[1]||"-"+d[0],!0,""),a.pData=Z.getFormatData(d[0],!0,"")}return function(e){return r.getParsedNumber(e,a,i)}},e.getParsedNumber=function(e,t,n){var i,r,o,a,s,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=E.convertValueParts(e,t.symbolRegex,n.symbolMatch),0===(e=E.convertValueParts(e,n.numberParseRegex,n.numericPair)).indexOf(".")&&(e="0"+e);var c=e.match(H);if(f(c))return NaN;a=c[1],o=c[2];var d=c[5];return s=c[6],r=(i=t.custom?a===t.nData.nlead&&s===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==s.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,o=o.replace(_,""),d&&(o+=d),l=+o,("percent"===t.type||r)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?i?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),i&&(l*=-1),l},e}(),V=function(){function e(e){this.ranArray=[],this.boundedEvents={},f(e)||(this.context=e)}return e.prototype.on=function(e,t,n,i){if(!f(t)){var r=n||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:f(i)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[e].push({handler:t,context:r,id:i}))}},e.prototype.off=function(e,t,n){if(!this.notExist(e)){var i=c(e,this.boundedEvents);if(t){for(var r=0;r<i.length;r++)if(n){if(i[r].id===n){i.splice(r,1);var o=this.ranArray.indexOf(n);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===i[r].handler){i.splice(r,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t,n,i){if(this.notExist(e))n&&n.call(this,t);else{t&&(t.name=e);var r=c(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(r,t,n,i,0);for(var o=0,a=r;o<a.length;o++){var s=a[o];s.handler.call(s.context,t)}n&&n.call(this,t)}},e.prototype.blazorCallback=function(e,t,n,i,r){var o=this,a=r===e.length-1;if(r<e.length){var s=e[r],l=s.handler.call(s.context,t);if(l&&"function"===typeof l.then){if(!n)return l;l.then((function(l){if(l="string"===typeof l&&o.isJson(l)?JSON.parse(l,o.dateReviver):l,u(t,t,l,!0),!n||!a)return o.blazorCallback(e,t,n,i,r+1);n.call(s.context,t)})).catch((function(e){i&&i.call(s.context,"string"===typeof e&&o.isJson(e)?JSON.parse(e,o.dateReviver):e)}))}else{if(!n||!a)return this.blazorCallback(e,t,n,i,r+1);n.call(s.context,t)}}},e.prototype.dateReviver=function(e,t){return w&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var n=0,i=e;n<i.length;n++){if(i[n].handler===t)return!0}return!1},e}(),U=new V,Y=!1,X={},G="en-US",q="USD";!function(){function e(e){e&&(this.culture=e)}e.prototype.getDateFormat=function(e){return j.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},X)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=q),w()&&e&&!e.format&&(e.minimumFractionDigits=0),R.numberFormatter(this.getCulture(),e||{},X)},e.prototype.getDateParser=function(e){return B.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},X)},e.prototype.getNumberParser=function(e){return w()&&e&&!e.format&&(e.minimumFractionDigits=0),F.numberParser(this.getCulture(),e||{format:"N"},X)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return Z.getActualDateTimeFormat(this.getCulture(),e,X,t)},e.prototype.getNumberPattern=function(e,t){return Z.getActualNumberFormat(this.getCulture(),e,X,t)},e.prototype.getFirstDayOfWeek=function(){return Z.getWeekData(this.getCulture(),X)},e.prototype.getCulture=function(){return this.culture||G}}();var Z,K={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var n=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function s(t,n,i,r,o){var a,s=i||"date";if(o)a=p({skeleton:t},o).format||p({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(a=c(s+"Formats."+t,n),"dateTime"===s){var l=c("dateFormats."+t,n),d=c("timeFormats."+t,n);a=a.replace("{1}",l).replace("{0}",d)}}else a=c("dateTimeFormats.availableFormats."+t,n);g(a)&&"yMd"===t&&(a="M/d/y")}return a}function l(t,n,i,r){var o={},a=i||"gregorian";if(o.parserObject=E.getMainObject(t,n)||(w()?e.blazorDefaultObject:e.defaultObject),r)o.numericObject=c("numbers",o.parserObject);else{var s=w()?"dates":"dates.calendars."+a;o.dateObject=c(s,o.parserObject)}return o}function d(e,t,n,i){return c(e+"Formats-numberSystem-"+t+(i?".accounting":".standard"),n)||(i?c(e+"Formats-numberSystem-"+t+".standard",n):"")}function h(t){var n=t.match(e.dateConverterMapper);if(n&&w()){var i=3===n[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,i)}return t}function p(e,t){var n=e.format||e.skeleton,i=c((t||"en-US")+"."+n,K);return i||(i=c("en-US."+n,K)),i&&(i=h(i),e.format=i.replace(/tt/,"a")),e}function m(t){var n=t.match(e.formatRegex),i={},r=n[1].toUpperCase();return i.isAccount="A"===r,i.type=e.patternMatcher[r],t.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function v(n,i,r,o){var a=o?{}:{nlead:"",nend:""},s=n.match(e.customRegex);if(s){o||(a.nlead=y(s[1],r),a.nend=y(s[10],r),a.groupPattern=s[4]);var l=s[7];if(l&&i){var c=l.match(t);f(c)?a.minimumFraction=0:a.minimumFraction=c.length,a.maximumFraction=l.length-1}}return a}function y(t,n){return t?t.replace(e.defaultCurrency,n):""}function b(e,t,n){return c("currencies."+t+(n?"."+n:".symbol"),e)||c("currencies."+t+".symbol-alt-narrow",e)||"$"}function x(t,i,r){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=t.match(e.customRegex);if(f(a)||""===a[5]&&"N/A"!==t)return o.type=void 0,o;o.nlead=a[1],o.nend=a[10];var s=a[6];o.useGrouping=-1!==s.indexOf(","),s=s.replace(/,/g,"");var l=a[7];if(-1!==s.indexOf("0")&&(o.minimumIntegerDigits=s.length-s.indexOf("0")),f(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),f(i)?u(o,S([o.nlead,o.nend],"%","%")):(u(o,S([o.nlead,o.nend],"$",i.currencySymbol)),o.isCurrency||u(o,S([o.nlead,o.nend],"%",i.percentSymbol))),!f(r)){var c=d(o.type,i.numberMapper.numberSystem,r,!1);o.useGrouping&&(o.groupSeparator=i.numberMapper.numberSymbols[n[2]],o.groupData=R.getGroupingDetails(c.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")}return o}function S(e,t,n){for(var i={nlead:e[0],nend:e[1]},r=0;r<2;r++){var o=e[r],s=o.indexOf(t);if(-1!==s&&(s<o.indexOf("'")||s>o.lastIndexOf("'"))){i[a[r]]=o.substr(0,s)+n+o.substr(s+1),i[a[t]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=s,e.getDependables=l,e.getSymbolPattern=d,e.ConvertDateToWeekFormat=h,e.compareBlazorDateFormats=p,e.getProperNumericSkeleton=m,e.getFormatData=v,e.getCurrencySymbol=b,e.customFormat=function(e,t,n){for(var i={},r=e.split(";"),o=["pData","nData","zeroData"],a=0;a<r.length;a++)i[o[a]]=x(r[a],t,n);return f(i.nData)&&(i.nData=u({},i.pData),i.nData.nlead=f(t)?"-"+i.nData.nlead:t.minusSymbol+i.nData.nlead),i},e.isCurrencyPercent=S,e.getDateSeparator=function(e){var t=(c("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,n,o){var a=l(n,e,t.calendar);w()&&(t=p(t,e));var d=t.format||s(t.skeleton,a.dateObject,t.type);if(o){if(-1!==(d=d.replace(i,(function(e){return r[e]}))).indexOf("z")){var h=d.match(/z/g).length,u=void 0,f={timeZone:{}};f.numMapper=E.getNumberMapper(a.parserObject,E.getNumberingSystem(n)),f.timeZone=c("dates.timeZoneNames",a.parserObject);var g=(new Date).getTimezoneOffset(),m=h<4?"+H;-H":f.timeZone.hourFormat;m=m.replace(/:/g,f.numMapper.timeSeparator),0===g?u=f.timeZone.gmtZeroFormat:(u=j.getTimeZoneValue(g,m),u=f.timeZone.gmtFormat.replace(/\{0\}/,u)),d=d.replace(/[z]+/,'"'+u+'"')}d=d.replace(/ $/,"")}return d},e.getActualNumberFormat=function(t,n,i,r){var o,a,s=l(i,t,"",!0),h={custom:!0},p=s.numericObject,f={},g=(n.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(n.format)?m(n.format||"N"):{},x={};if(g){x.numberMapper=w()?u({},s.numericObject):E.getNumberMapper(s.parserObject,E.getNumberingSystem(i),!0);var S=w()?c("currencySymbol",s.numericObject):b(s.numericObject,n.currency||q,n.altSymbol),C=d("currency",x.numberMapper.numberSystem,s.numericObject,/a/i.test(n.format)),O=(C=C.replace(/\u00A4/g,S)).split(";");f.hasNegativePattern=!!w()||O.length>1,f.nData=w()?c(y.type+"nData",p):v(O[1]||"-"+O[0],!0,S),f.pData=w()?c(y.type+"pData",p):v(O[0],!1,S),g[2]||n.minimumFractionDigits||n.maximumFractionDigits||(o=v(C.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(n.format)||!n.format){if(u(h,m(n.format||"N")),h.custom=!1,a="###0",h.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||o){h.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=h.fractionDigits),a=function(e,t,n){e+=".";for(var i=0;i<t;i++)e+="0";if(t<n)for(var r=n-t,o=0;o<r;o++)e+="#";return e}(a,o||h.fractionDigits||n.minimumFractionDigits||0,n.maximumFractionDigits||0)}if(n.minimumIntegerDigits&&(a=function(e,t){for(var n=e.split("."),i="",r=0;r<t;r++)i+="0";return n[1]?i+"."+n[1]:i}(a,n.minimumIntegerDigits)),n.useGrouping&&(a=function(e){var t=e.split("."),n=t[0],i=3-n.length%3;e="";for(var r=(n=(i&&1===i?"#":2===i?"##":"")+n).length-1;r>0;r-=3)e=","+n[r-2]+n[r-1]+n[r]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(a)),"currency"===h.type||h.type&&w()){w()&&"currency"!==h.type&&(f.pData=c(h.type+"pData",p),f.nData=c(h.type+"nData",p));var P=a;a=f.pData.nlead+P+f.pData.nend,(f.hasNegativePattern||w())&&(a+=";"+f.nData.nlead+P+f.nData.nend)}"percent"!==h.type||w()||(a+=" %")}else a=n.format.replace(/\'/g,'"');return Object.keys(x).length>0&&(a=r?a:function(e,t){if(-1!==e.indexOf(",")){var n=e.split(",");e=n[0]+c("numberMapper.numberSymbols.group",t)+n[1].replace(".",c("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",c("numberMapper.numberSymbols.decimal",t));return e}(a,x)),a},e.getWeekData=function(e,t){var n="sun",i=c("supplemental.weekData.firstDay",t),r=e;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),i&&(n=i[r]||"sun"),o[n]},e.replaceBlazorCurrency=function(e,t,n){var i=c(n||"",T);if(t!==i)for(var r=0,o=e;r<o.length;r++){var a=o[r];a.nend=a.nend.replace(t,i),a.nlead=a.nlead.replace(t,i)}},e.getWeekOfYear=function(e){var t,n=new Date(e.getFullYear(),0,1),i=n.getDay();i=i>=0?i:i+7;var r=Math.floor((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;if(i<4){if((t=Math.floor((r+i-1)/7)+1)>52){var o=new Date(this.getFullYear()+1,0,1).getDay();t=(o=o>=0?o:o+7)<4?1:53}}else t=Math.floor((r+i-1)/7);return t}}(Z||(Z={}));var $=/^(.*?):[ \t]*([^\r\n]*)$/gm,Q=function(){function e(e,t,n,i){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!f(n)||n):"object"===typeof e&&(this.options=e,p(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:i}return e.prototype.send=function(e){var t=this;this.data=f(e)?this.data:e;var n={cancel:!1,httpRequest:null};return new Promise((function(e,i){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,i)},f(t.onLoad)||(t.httpRequest.onload=t.onLoad),f(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),f(t.onAbort)||(t.httpRequest.onabort=t.onAbort),f(t.onError)||(t.httpRequest.onerror=t.onError),f(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),f(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(n.httpRequest=t.httpRequest,t.beforeSend(n)),n.cancel||t.httpRequest.send(f(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(i){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(n)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,n;t={};for(var i=$.exec(this.httpRequest.getAllResponseHeaders());i;)t[i[1].toLowerCase()]=i[2],i=$.exec(this.httpRequest.getAllResponseHeaders());return f(n=t[e.toLowerCase()])?null:n},e}(),J=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,ee=/msie|trident/i,te=/Trident\/7\./,ne=/(ipad|iphone|ipod touch)/i,ie=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,re=/android/i,oe=/trident|windows phone|edge/i,ae=/(version)[ \/]([\w.]+)/i,se={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var le=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},n=[],i=0,r=Object.keys(se);i<r.length;i++){var o=r[i];if(n=e.userAgent.match(se[o])){if(t.name="opr"===n[1].toLowerCase()?"opera":n[1].toLowerCase(),t.name="crios"===n[1].toLowerCase()?"chrome":t.name,t.version=n[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(te)){t.name="msie";break}var a=e.userAgent.match(ae);"safari"===t.name&&a&&(t.version=a[2]);break}}return t},e.getEvent=function(t){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?n[t].isPointer:e.isTouch?n[t].isTouch+(e.isDevice?"":" "+n[t].isDevice):n[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,n){var i=window.browserDetails;return"undefined"===typeof i[t]?i[t]=n.test(e.userAgent):i[t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return g(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",ee)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return g(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return g(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return g(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",J)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",ne)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",ie)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",re)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return g(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(g(window.cordova)&&g(window.PhoneGap)&&g(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",oe)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return g(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return g(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return g(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return g(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),ce=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,n,i,r,o){var a,s=e.addOrGetEventData(t);a=o?function(e,t){var n;return function(){var i=this,r=arguments,o=function(){return n=null,e.apply(i,r)};clearTimeout(n),n=setTimeout(o,t)}}(i,o):i,r&&(a=a.bind(r));for(var l=n.split(" "),c=0;c<l.length;c++)s.push({name:l[c],listener:i,debounce:a}),le.isIE?t.addEventListener(l[c],a):t.addEventListener(l[c],a,{passive:!1});return a},e.remove=function(t,n,i){for(var r=e.addOrGetEventData(t),o=n.split(" "),a=function(e){var n,a=-1;r&&0!==r.length&&r.some((function(t,r){return t.name===o[e]&&t.listener===i&&(a=r,n=t.debounce,!0)})),-1!==a&&r.splice(a,1),n&&t.removeEventListener(o[e],n)},s=0;s<o.length;s++)a(s)},e.clearEvents=function(t){var n,i;i=u([],i,n=e.addOrGetEventData(t));for(var r=0;r<i.length;r++)t.removeEventListener(i[r].name,i[r].debounce),n.shift()},e.trigger=function(t,n,i){for(var r=0,o=e.addOrGetEventData(t);r<o.length;r++){var a=o[r];a.name===n&&a.debounce.call(this,i)}},e}(),de=new RegExp("\\n|\\r|\\s\\s+","g"),he=new RegExp(/'|"/g),pe=new RegExp("if ?\\("),ue=new RegExp("else if ?\\("),fe=new RegExp("else"),ge=new RegExp("for ?\\("),me=new RegExp("(/if|/for)"),ve=new RegExp("\\((.*)\\)",""),ye=new RegExp("^[0-9]+$","g"),be=new RegExp("[\\w\"'.\\s+]+","g"),we=new RegExp('"(.*?)"',"g"),xe=new RegExp("[\\w\"'@#$.\\s+]+","g"),Se=new RegExp("\\${([^}]*)}","g"),Ce=/^\..*/gm,Oe=/\\/gi,Pe=/\\\\/gi,Ee=new RegExp("[\\w\"'@#$.\\s+]+","g"),Te=/\window\./gm;function ke(e,t){var n=function(e,t,n){var i=0,r=[],o=e.match(/class="([^\"]+|)\s{2}/g),a="";o&&o.forEach((function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}));return e.replace(de,"").replace(we,"'$1'").replace(Se,(function(e,o,a,s){var l=o.match(ve);if(l){var c=l[1];if(ue.test(o))o='";} '+o.replace(l[1],c.replace(be,(function(e){return Ie(e=e.trim(),!he.test(e)&&-1===r.indexOf(e),t,r)})))+'{ \n str = str + "';else if(pe.test(o))o='"; '+o.replace(l[1],c.replace(xe,(function(e){return je(e,t,r)})))+'{ \n str = str + "';else if(ge.test(o)){var d=l[1].split(" of ");o='"; '+o.replace(l[1],(function(e){return r.push(d[0]),r.push(d[0]+"Index"),"var i"+(i+=1)+"=0; i"+i+" < "+Ie(d[1],!0,t,r)+".length; i"+i+"++"}))+"{ \n "+d[0]+"= "+Ie(d[1],!0,t,r)+"[i"+i+"]; \n var "+d[0]+"Index=i"+i+'; \n str = str + "'}else{var h=o.split("("),p=n&&n.hasOwnProperty(h[0])?"this.":"global";p=/\./.test(h[0])?"":p;var u=l[1].split(",");0===l[1].length||/data/.test(u[0])||/window./.test(u[0])||(l[1]="global"===p?t+"."+l[1]:l[1]);if(Te.test(o)&&/\]\./gm.test(o)||/\@|\$|\#/gm.test(o)){/\@|\$|\#|\]\./gm.test(o)&&(o='"+ '+("global"===p?"":p)+o.replace(l[1],c.replace(Ee,(function(e){return je(e,t,r)})))+'+ "')}else o='" + '+("global"===p?"":p)+o.replace(c,Ie(l[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==p,t,r))+'+"'}}else fe.test(o)?o='"; '+o.replace(fe,'} else { \n str = str + "'):o.match(me)?o=o.replace(me,'"; \n } \n str = str + "'):/\@|\#|\$/gm.test(o)?(o.match(Oe)&&(o=Me(o)),o='"+'+Ae(o,-1===r.indexOf(o),t,r)+'"]+"'):o=o.match(Oe)?'"+'+Ae(o=Me(o),-1===r.indexOf(o),t,r)+'"]+"':'"+'+Ie(o.replace(/\,/gi,"+"+t+"."),-1===r.indexOf(o),t,r)+'+"';return o}))}(e,"data",t);return new Function("data",'var str="'+n+'"; return str;').bind(t)}function Ie(e,t,n,i){return t&&!ye.test(e)&&-1===i.indexOf(e.split(".")[0])?n+"."+e:e}function Ae(e,t,n,i){return t&&!ye.test(e)&&-1===i.indexOf(e.split(".")[0])?n+'["'+e:e}function Me(e){return e=e.match(Pe)?e:e.replace(Oe,"\\\\")}function je(e,t,n){e=e.trim();if(/\window\./gm.test(e))return e;var i=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=Ae(e,-1===n.indexOf(e),t,n)+'"]'),Ce.test(e)?function(e,t,n,i){return!t||ye.test(e)||-1!==i.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:n+"."+e}(e,!i.test(e)&&-1===n.indexOf(e),t,n):Ie(e,!i.test(e)&&-1===n.indexOf(e),t,n)}var De=/^[\n\r.]+\<tr|^\<tr/,Le=/^[\n\r.]+\<svg|^\<path|^\<g/,Re={};function Ne(){return"-"+Math.random().toString(36).substr(2,5)}function ze(e,t){var n=We.compile(e,t);return function(e,t,i,r,o,a){var s=n(e,t,i);if(w()&&!o){var l=r+Ne();if(Re[r]||(Re[r]=[]),f(a))e.BlazorTemplateId=l,Re[r].push(e);else for(var c=0,d=Object.keys(Re[r][a]);c<d.length;c++){var h=d[c];"BlazorTemplateId"!==h&&e[h]&&(Re[r][a][h]=e[h]),"BlazorTemplateId"===h&&(l=Re[r][a][h])}return"rowTemplate"===i?[rt("tr",{id:l,className:"e-blazor-template"})]:[rt("div",{id:l,className:"e-blazor-template"})]}return"string"===typeof s?Le.test(s)?rt("svg",{innerHTML:s}).childNodes:rt(De.test(s)?"table":"div",{innerHTML:s}).childNodes:s}}function Be(e,t,n,i,r){if(w()){window.sfBlazor.updateTemplate(t,Re[e],e,n,r),!1!==i&&(Re[e]=[])}}function He(e,t,n){var i=document.getElementById(e);if(i)for(var r=i.getElementsByClassName("blazor-inner-template"),o=0;o<r.length;o++){var a=" ";a=f(n)?r[o].getAttribute("data-templateId"):r[n].getAttribute("data-templateId");var s=document.getElementById(a);if(s)for(var l=s.childNodes.length,c=0;c<l;c++)f(n)?r[o].appendChild(s.childNodes[0]):(r[n].appendChild(s.childNodes[0]),o=r.length)}}var _e,We={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t){return void 0===t&&(t={}),ke(e,t)},e}())).compile},Fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ve=/(?:#([\w-]+)|(\w+)|\.([\w-]+))/g,Ue=/^(\.|#)/,Ye={".":"className","#":"id"},Xe={className:"attributes.className",id:"attributes.id",tagName:"tagName"},Ge=["area","base","basefont","br","col","frame","hr","img","input","link","meta","param","embed","command","keygen","source","track","wbr"],qe=["a","address","article","applet","aside","audio","blockquote","button","canvas","center","dd","del","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","ins","isindex","li","map","menu","noframes","noscript","object","ol","output","p","pre","section","script","table","tbody","td","tfoot","th","thead","tr","ul","video"],Ze=["abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],Ke=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],$e=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"],Qe=["Script","style"],Je={tabindex:"tabIndex"},et=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,tt=/^<\/([-A-Za-z0-9_]+)[^>]*>/,nt=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;!function(e){function t(e,t){t&&e&&e.forEach((function(e){return h(e)&&(e.parent&&n(e),e.parent=t),e}))}function n(e){var t=e.parent;if(t){var n=t.children.indexOf(e);-1!==n&&t.children.splice(n)}return t}function i(e,t){var n=e.match(Ue),i={};if(n){var r=Ye[n[0]];if("className"===r){var o=t.filter((function(e){return e.hasOwnProperty("className")}))[0],a=!1;o||(a=!0,o={});var s=o[r]||"";o[r]=s+"(?=.*?\\b{value}\\b)".replace("{value}",e.replace(".","")),a&&t.push(o)}else i[r]=e.replace(n[0],""),t.push(i)}else t.push({tagName:e})}function r(e,t,n,i){if(e.children){var o=e.children.filter((function(e){if("string"!==typeof e){for(var n=!0,i=0,r=t;i<r.length;i++){var o=r[i],a=Object.keys(o)[0],s=o[a],l=c(Xe[a],e);if("className"===a){if(!new RegExp("^"+s+".*$").test(l)){n=!1;break}}else if(l!==s){n=!1;break}}return n}return!1}));return i||o.length&&!n||e.children.forEach((function(e){h(e)&&(o=o.concat(r(e,t,n)))})),o}return[]}function o(e){for(var t,n=[],i=[],r=[];e;){t=!0;var o=a(i);if(o&&s(Qe,o))e=e.replace(new RegExp("([\\s\\S]*?)</"+a(r)+"[^>]*>"),(function(e,t){return u(t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2")),""})),p("",a(i));else{if(0===e.indexOf("</"))(l=e.match(tt))&&(e=e.substring(l[0].length),l[0].replace(tt,p)),t=!1;else if(0===e.indexOf("<")){var l;(l=e.match(et))&&(e=e.substring(l[0].length),l[0].replace(et,h)),t=!1}if(t){var c=e.indexOf("<"),d=c<0?e:e.substring(0,c);e=c<0?"":e.substring(c),u(d)}}e}function h(e,t,o){if(t=t.toLowerCase(),s(qe,t))for(;a(i)&&s(Ze,a(i));)p("",a(i));s(Ke,t)&&a(i)&&p("",t);var l=s(Ge,t);l||i.push(t);var c={};o.replace(nt,(function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[2]?n[2]:n[3]?n[3]:n[4]?n[4]:s($e,t)?t:"";if("style"===t){for(var o=r.split(";"),a={},l=0,d=o.length;l<d;l++){var h=o[l],p=h.split(":");a[p[0]]=p[1]}r=a}c[t=Je[t]||t]=r})),c["data-id"]=Ne();var d={tagName:t,attributes:c};if(l){var h=r[0]||n;void 0===h.children&&(h.children=[]),d.parent=h,h.children.push(d)}else r.unshift(d)}function p(e,t){var o;if(t)for(o=i.length-1;o>=0&&i[o]!==t;o--);else o=0;if(o>=0){for(var a=r.length-1;a>=o;a--){var s=r.shift();if(0===r.length)n.push(s);else{var l=r[0];void 0===l.children&&(l.children=[]),s.parent=l,l.children.push(s)}}i.length=o}}function u(e){if(0===r.length)n.push(e);else{var t=r[0];void 0===t.children&&(t.children=[]),t.children.push(e)}}return n}function a(e){return e[e.length-1]}function s(e,t){return-1!==e.indexOf(t)}e.createElement=function(e,t){var n=[],i=u({},{},t,!0);if(!f(t)&&Object.keys(t).length&&(i.innerHTML&&(n=o(i.innerHTML),delete i.innerHTML),i.attrs&&(u(i,i.attrs),delete i.attrs),i.styles)){for(var r=i.styles.split(";"),a={},s=0,l=r.length;s<l;s++){var c=r[s].split(":");a[c[0]]=c[1]}delete i.styles,i.style=a}return{tagName:e,attributes:i||{},children:n}},e.assignParent=t,e.append=function(e,n){t(e,n),n.children?n.children=n.children.concat(e):n.children=[].concat(e)},e.prepend=function(e,n){if(t(e,n),n.children&&n.children.length)for(var i=e.length-1;i>=0;i--)n.children.unshift(e[i]);else n.children=[],n.children.concat(e)},e.detach=n,e.vDomSelector=function e(t){for(var n=t.ele,o=t.selector,a=t.selectAll,s=t.immediateParent,l=o.split(" "),c=n,d=0,h=l.length;d<h;d++){var p=!1,u=c,f=l[d],g=[];if(Fe.test(f))!0,i(f,g);else if(-1===f.indexOf(">"))for(var m=0,v=f.match(Ve);m<v.length;m++){i(v[m],g)}else if(-1!==f.indexOf(">")){p=!0;for(var y=n,b=void 0,w=0,x=0,S=f.split(">");x<S.length;x++){var C=S[x];if(!y)break;if(y.length){for(var O=[],P=0,E=y;P<E.length;P++){var T=E[P];O=O.concat(e({ele:T,selector:C,selectAll:a,immediateParent:!!w}))}b=O}else b=e({ele:y,selector:C,selectAll:a,immediateParent:!!w});w++,y=b}b&&(c=b)}if(!p)if(u.length){for(var k=[],I=0,A=u;I<A.length;I++){var M=A[I];k=k.concat(r(M,g,a,s))}c=k}else c=r(u,g,a,s)}return a?c:c[0]||null},e.accessElement=r,e.ConvertHTMLToJSon=o,e.cloneNode=function(e,t){return h(e)?t?u({},{},e,!0):{tagName:e.tagName,attributes:e.attributes}:e.cloneNode(t)},e.setStyleAttribute=function(e,t){e.attributes.style?e.attributes.style=u({},t):e.attributes.style=u(e.attributes.style,t)}}(_e||(_e={}));var it=/^svg|^path|^g/;function rt(e,t){var n=it.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(n.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(n.className=t.className),void 0!==t.id&&(n.id=t.id),void 0!==t.styles&&n.setAttribute("style",t.styles),void 0!==t.attrs&&ft(n,t.attrs)),n}function ot(e,t){for(var n=st(t),i=0,r=e;i<r.length;i++)for(var o=r[i],a=0,s=n;a<s.length;a++){var l=s[a];if(h(o)){var p=c("attributes.className",o);f(p)?d("attributes.className",l,o):new RegExp("\\b"+l+"\\b","i").test(p)||d("attributes.className",p+" "+l,o)}else o.classList.contains(l)||o.classList.add(l)}return e}function at(e,t){for(var n=st(t),i=0,r=e;i<r.length;i++){var o=r[i],a=h(o);if(a?c("attributes.className",o):""!==o.className)for(var s=0,l=n;s<l.length;s++){var p=l[s];if(a){var u=c("attributes.className",o).split(" "),f=u.indexOf(p);-1!==f&&u.splice(f,1),d("attributes.className",u.join(" "),o)}else o.classList.remove(p)}}return e}function st(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function lt(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function ct(e,t,n){if(h(t))_e.prepend(e,t);else{for(var i=document.createDocumentFragment(),r=0,o=e;r<o.length;r++){var a=o[r];i.appendChild(a)}t.insertBefore(i,t.firstElementChild),n&&ht(t)}return e}function dt(e,t,n){if(h(t))_e.append(e,t);else{for(var i=document.createDocumentFragment(),r=0,o=e;r<o.length;r++){var a=o[r];i.appendChild(a)}t.appendChild(i),n&&ht(t)}return e}function ht(e){e.querySelectorAll("script").forEach((function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),pt(t)}))}function pt(e){return h(e)?_e.detach(e):e.parentNode.removeChild(e)}function ut(e){if(h(e))_e.detach(e);else{var t=e.parentNode;ce.clearEvents(e),t.removeChild(e)}}function ft(e,t){for(var n=e,i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];if(h(n)){var a=o;"tabindex"===o&&(a="tabIndex"),n.attributes[a]=t[o]}else n.setAttribute(o,t[o])}return n}function gt(e,t,n){return void 0===t&&(t=document),h(t)&&n?_e.vDomSelector({ele:t,selector:e,selectAll:!1}):t.querySelector(e)}function mt(e,t,n){return void 0===t&&(t=document),h(t)&&!n?_e.vDomSelector({ele:t,selector:e,selectAll:!0}):t.querySelectorAll(e)}function vt(e,t){var n=e;if("function"===typeof n.closest)return n.closest(t);for(;n&&1===n.nodeType;){if(wt(n,t))return n;n=n.parentNode}return null}function yt(e,t){void 0!==t&&(h(e)?_e.setStyleAttribute(e,t):Object.keys(t).forEach((function(n){e.style[n]=t[n]})))}function bt(e,t,n){ot([e],t),at([e],n)}function wt(e,t){var n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return n?n.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var xt=new RegExp("]"),St=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new V(this),g(t)||(this.element="string"===typeof t?document.querySelector(t):t,f(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),g(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!t,p(this,e),!0!==t?(p(this.changedProperties,e),this.dataBind()):w()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n},e.callChildDataBind=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(t[r]instanceof Array)for(var o=0,a=t[r];o<a.length;o++){var s=a[o];void 0!==s.dataBind&&s.dataBind()}else t[r].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,n=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,i),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(w()&&(e=e||{},u(this.bulkChanges,{},e,!0),this.allowServerDataBinding)){window.sfBlazor.updateModel(this),this.bulkChanges={}}},e.prototype.saveChanges=function(e,t,n){if(w()){var i={};i[e]=t,this.serverDataBind(i)}this.isProtectedOnChange||(this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var i="ej2"+function(e){for(var t="",n=0;n<5;n++)t+=(n?",":"")+e[n];return t}(n),r=function(n){n.source===window&&"string"===typeof n.data&&n.data.length<=32&&n.data===i&&(e(),t())};return window.addEventListener("message",r,!1),window.postMessage(i,"*"),t=function(){window.removeEventListener("message",r),e=r=i=void 0}}(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,n,i){var r=this;if(!0!==this.isDestroyed){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(e,t,n,i);if(xt.test(e)){var s=c(e,this);if(s){if(window.Blazor){var l=s.call(this,t);l&&"function"===typeof l.then?n?l.then((function(e){n&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,n.call(r,e))})).catch((function(e){i&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,i.call(r,e))})):a=l:n&&n.call(this,t)}else s.call(this,t),n&&n.call(this,t)}else n&&n.call(this,t)}return this.isProtectedOnChange=o,a}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();ot([this.element],["e-lib",e]),f(this.element.ej2_instances)?d("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),at([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&at([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function Ct(e,t,n,i){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof i||(e.properties[t]=l(i,[e,t,n])),e.properties[t]}function Ot(e,t,n,i,r,o){for(var a=[],s=n?n.length:0,c=0;c<s;c++){var d=i;if(o&&(d=i(n[c],e)),r){var h=l(d,[e,t,{},!0]);h.setProperties(n[c],!0),a.push(h)}else a.push(l(d,[e,t,n[c],!1]))}return a}function Pt(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function Et(e,t){return function(n){if(this.properties[t]!==n){var i=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,n,i),this.properties[t]=n}}}function Tt(e,t,n){return function(){return Ct(this,t,e,n)}}function kt(e,t,n){return function(i){Ct(this,t,e,n).setProperties(i)}}function It(e,t,n){return function(){var i=n({});return this.properties.hasOwnProperty(t)?this.properties[t]:Ct(this,t,e,i)}}function At(e,t,n){return function(i){var r=n(i,this);Ct(this,t,e,r).setProperties(i)}}function Mt(e,t,n){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var r=Ot(this,t,e,n,!1);this.properties[t]=r}var o=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||o||["push","pop"].forEach((function(e){var r={value:Rt(e,t,n,i.properties[t]).bind(i),configurable:!0};Object.defineProperty(i.properties[t],e,r)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function jt(e,t,n){return function(i){this.isComplexArraySetter=!0;var r=Ot(this,t,e,n,!1),o=Ot(this,t,i,n,!0);this.isComplexArraySetter=!1,this.saveChanges(t,o,r),this.properties[t]=o}}function Dt(e,t,n){return function(i){var r=this.properties.hasOwnProperty(t)?this.properties[t]:e,o=Ot(this,t,i,n,!0,!0);this.saveChanges(t,o,r),this.properties[t]=o}}function Lt(e,t,n){return function(){var i=n({});if(!this.properties.hasOwnProperty(t)){var r=Ot(this,t,e,i,!1);this.properties[t]=r}return this.properties[t]}}function Rt(e,t,n,i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var a=0;a<n.length;a++){Array.prototype[e].apply(i,[n[a]]);var s=Nt(o+(i.length-1),n[a],!this.controlParent,e);this.serverDataBind(s,n[a],!1,e)}break;case"pop":Array.prototype[e].apply(i);var l=Nt(o+i.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return i}}function Nt(e,t,n,i){var r=e;if(n&&((r={})[e]=t,t&&"object"===typeof t)){r[e].ejsAction=i}return r}function zt(e){return function(t,n){var i={set:Et(e,n),get:Pt(e,n),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),Ut(t,n,"prop",e)}}function Bt(e,t){return function(n,i){var r={set:kt(e,i,t),get:Tt(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),Ut(n,i,"complexProp",e,t)}}function Ht(e){return function(t,n){var i={set:At({},n,e),get:It({},n,e),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),Ut(t,n,"complexProp",{},e)}}function _t(e,t){return function(n,i){var r={set:jt(e,i,t),get:Mt(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),Ut(n,i,"colProp",e,t)}}function Wt(e){return function(t,n){var i={set:Dt([],n,e),get:Lt([],n,e),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),Ut(t,n,"colProp",{},e)}}function Ft(){return function(e,t){var n={set:function(e){var n=this.properties[t];if(n!==e){var i=function e(t,n){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:n};var i=c("propName",t);return i&&(n=i+"-"+n),e(c("parentObj",t),n)}(this,t);!1===g(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,e),this.properties[t]=e}},get:Pt(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n),Ut(e,t,"event")}}function Vt(e){}function Ut(e,t,n,i,r){g(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[n+"s"].push({propertyName:t,defaultValue:i,type:r}),e.propList[n+"Names"].push(t)}var Yt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xt=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gt=function(e){function t(t){var n=e.call(this,t,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var n;return Yt(t,e),n=t,t.prototype.animate=function(e,t){t=t||{};var i=this.getModel(t);if("string"===typeof e)for(var r=0,o=Array.prototype.slice.call(mt(e,document));r<o.length;r++){var a=o[r];i.element=a,n.delayAnimation(i)}else i.element=e,n.delayAnimation(i)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var n=e.getAttribute("e-animation-id");if(n){var i=parseInt(n,10);cancelAnimationFrame(i),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout((function(){n.applyAnimation(e)}),e.delay):n.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var n=0,i=0,r=0,o=e.duration;e.element.setAttribute("e-animate","true");!function a(s){try{if(s){r=0===r?s:r,e.timeStamp=s+e.timeStamp-r,r=s,!n&&e.begin&&e.begin.call(t,e),n+=1;var l=e.timeStamp/n;e.timeStamp<o&&e.timeStamp+l<o&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(a)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else performance.now(),i=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",i.toString())}catch(c){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,c)}}()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},Xt([zt("FadeIn")],t.prototype,"name",void 0),Xt([zt(400)],t.prototype,"duration",void 0),Xt([zt("ease")],t.prototype,"timingFunction",void 0),Xt([zt(0)],t.prototype,"delay",void 0),Xt([Ft()],t.prototype,"progress",void 0),Xt([Ft()],t.prototype,"begin",void 0),Xt([Ft()],t.prototype,"end",void 0),Xt([Ft()],t.prototype,"fail",void 0),t=n=Xt([Vt],t)}(St);function qt(e,t,n){var i=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!Jt?Function:(e.setAttribute("data-ripple","true"),ce.add(e,"mousedown",Zt,{parent:e,rippleOptions:i}),ce.add(e,"mouseup",Kt,{parent:e,rippleOptions:i,done:n}),ce.add(e,"mouseleave",$t,{parent:e,rippleOptions:i}),le.isPointer&&ce.add(e,"transitionend",$t,{parent:e,rippleOptions:i}),function(){e.removeAttribute("data-ripple"),ce.remove(e,"mousedown",Zt),ce.remove(e,"mouseup",Kt),ce.remove(e,"mouseleave",$t),ce.remove(e,"transitionend",$t)})}function Zt(e){var t=e.target,n=this.rippleOptions.selector,i=n?vt(t,n):t;if(!(!i||this.rippleOptions&&vt(t,this.rippleOptions.ignore))){var r=i.getBoundingClientRect(),o=e.pageX-document.body.scrollLeft,a=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),s=Math.max(Math.abs(o-r.left),Math.abs(o-r.right)),l=Math.max(Math.abs(a-r.top),Math.abs(a-r.bottom)),c=Math.sqrt(s*s+l*l),d=2*c+"px",h=o-r.left-c,p=a-r.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(h=0,p=0,d="100%"),i.classList.add("e-ripple");var u=rt("div",{className:"e-ripple-element",styles:"width: "+d+";height: "+d+";left: "+h+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)",i!==this.parent&&ce.add(i,"mouseleave",$t,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Kt(e){Qt(e,this)}function $t(e){Qt(e,this)}function Qt(e,t){var n=t.rippleOptions.duration,i=e.target,r=t.rippleOptions.selector,o=r?vt(i,r):i;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var a=mt(".e-ripple-element",o),s=a[a.length-1];s&&(s.style.opacity="0.5"),t.parent!==o&&ce.remove(o,"mouseleave",$t),setTimeout((function(){s&&s.parentNode&&s.parentNode.removeChild(s),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),t.done&&t.done(e)}),n)}}var Jt=!1;var en,tn=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(var i=0;i<n;i++)for(var r=e[i],o=0,a=t;o<a.length;o++){var s=a[o],c=r.member;if(s.prototype.getModuleName()===r.member&&!this.isModuleLoaded(c)){var h=l(s,r.args),p=this.getMemberName(c);r.isProperty?d(p,s,this.parent):d(p,h,this.parent);var u=r;u.member=p,this.loadedModules.push(u)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var n=t[e];n.isProperty||c(n.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t,n,i=this,r=e.map((function(e){return i.getMemberName(e.member)})),o=0,a=this.loadedModules.filter((function(e){return-1===r.indexOf(e.member)}));o<a.length;o++){var s=a[o];s.isProperty||c(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),t=this.parent,n=s.member,delete t[n]}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,n=this.loadedModules;t<n.length;t++){if(n[t].member===this.getMemberName(e))return!0}return!1},e}(),nn=function(){function e(e,t,n,i){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=c("callChildDataBind",St),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=i,this.setProperties(n,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(p(this,e),this.updateChange(!1,this.propName),this.clearChanges()):p(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(d(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),d(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,n,i){this.controlParent.isProtectedOnChange||(i||this.serverDataBind(e,t,!0),this.oldProperties[e]=n,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,n,i){if(w()&&!this.parentObj.isComplexArraySetter){var r,o={},a=n?this.getParentKey(!0)+"."+e:e;if(-1!==a.indexOf(".")){var s=a.split(".");r=o;for(var l=0;l<s.length;l++){var c=l===s.length-1;r[s[l]]=c?t:{},r=c?r:r[s[l]]}}else o[a]={},r=o[a],o[a][e]=t;if(this.isParentArray){r.ejsAction=i||"none"}this.controlParent.serverDataBind(o)}},e.prototype.getParentKey=function(e){var t="",n=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var i=this.parentObj[this.propName].length;i=e?i:i>0?i-1:0,n+=t=-1!==t?"-"+t:"-"+i}return this.controlParent!==this.parentObj&&(n=this.parentObj.getParentKey()+"."+this.propName+t),n},e}(),rn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),on=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},an=0,sn=0,ln=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),i.isStringTemplate=!1,i.needsID=!1,i.isReactHybrid=!1,f(i.enableRtl)&&i.setProperties({enableRtl:Y},!0),f(i.locale)&&i.setProperties({locale:G},!0),i.moduleLoader=new tn(i),i.localObserver=new V(i),U.on("notifyExternalChange",i.detectFunction,i,i.randomId),g(n)||i.appendTo(),i}return rn(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(at([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),U.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new V(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.appendTo=function(t){if(f(t)||"string"!==typeof t?f(t)||(this.element=t):this.element=document.querySelector(t),!f(this.element)){var n="e-"+this.getModuleName().toLowerCase();ot([this.element],["e-control",n]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var i=c("ej2_instances",this.element);i&&-1!==i.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(w()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,n){if("string"===typeof e)this.localObserver.on(e,t,n);else for(var i=0,r=e;i<r.length;i++){var o=r[i];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var n=0,i=e;n<i.length;n++){var r=i[n];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[n])&&this.prototype.injectedModules.push(e[n])},t.prototype.createElement=function(e,t,n){return n&&this.isReactHybrid?(t&&(t={}),t["data-id"]=Ne(),_e.createElement(e,t)):rt(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);f(e)||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(an=0),en=this.pageID(location.href),sn=history.length,e+"_"+en+"_"+an++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return en!==this.pageID(location.href)||sn!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,n={},i=0,r=e;i<r.length;i++){var o,a=r[i];g(o=c(a,this))||d(a,this.getActualProperties(o),n)}return JSON.stringify(n,(function(e,n){return t.getActualProperties(n)}))},t.prototype.getActualProperties=function(e){return e instanceof nn?c("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var n={},i=function(i){if(-1===t.indexOf(i)){var o=e[i];if("object"!==typeof o||o instanceof Array)n[i]=o;else{var a=t.filter((function(e){return new RegExp(i+".").test(e)})).map((function(e){return e.replace(i+".","")}));n[i]=r.iterateJsonProperties(r.getActualProperties(o),a)}}},r=this,o=0,a=Object.keys(e);o<a.length;o++){i(a[o])}return n},on([zt(!1)],t.prototype,"enablePersistence",void 0),on([zt()],t.prototype,"enableRtl",void 0),on([zt()],t.prototype,"locale",void 0),t=on([Vt],t)}(St);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){an=0}));var cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hn={left:0,top:0,bottom:0,right:0},pn={isDragged:!1},un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cn(t,e),dn([zt(0)],t.prototype,"left",void 0),dn([zt(0)],t.prototype,"top",void 0),t}(nn),fn=function(e){function t(t,i){var r=e.call(this,i,t)||this;return r.dragLimit=n.getDefaultPosition(),r.borderWidth=n.getDefaultPosition(),r.padding=n.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.parentScrollX=0,r.parentScrollY=0,r.droppables={},r.bind(),r}var n;return cn(t,e),n=t,t.prototype.bind=function(){this.toggleEvents(),le.isIE&&ot([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return u({},hn)},t.prototype.toggleEvents=function(e){var t;g(this.handle)||(t=gt(this.handle,this.element));var n=this.enableTapHold&&le.isDevice&&le.isTouch?this.mobileInitialize:this.initialize;e?ce.remove(t||this.element,le.touchStartEvent,n):ce.add(t||this.element,le.touchStartEvent,n,this)},t.prototype.mobileInitialize=function(e){var t=this,n=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,n)}),this.tapHoldThreshold),ce.add(document,le.touchMoveEvent,this.removeTapholdTimer,this),ce.add(document,le.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),ce.remove(document,le.touchMoveEvent,this.removeTapholdTimer),ce.remove(document,le.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return f(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),f(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var n=this.abort;"string"===typeof n&&(n=[n]);for(var i=0;i<n.length;i++)if(!f(vt(e.target,n[i])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!g(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var r=this.getCoordinates(e);if(this.initialPosition={x:r.pageX,y:r.pageY},!this.clone){var o=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=r.pageX-(o.left+this.parentScrollX),this.relativeYPosition=r.pageY-(o.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(ce.add(document,le.touchMoveEvent,this.intDragStart,this),ce.add(document,le.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,ce.trigger(document.documentElement,le.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!g(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var n,i=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var a=vt(e.target,this.dragTarget);f(a)||(o=a)}this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);var s=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(s*s+l*l)>=this.distance||this.externalInitialize){var c=this.getHelperElement(e);if(!c||f(c))return;var d=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(d.offsetParent),this.dragStart){var h={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:w()?this.bindDragEvents.bind(this):null,dragElement:d};this.trigger("dragStart",h)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var p=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},yt(d,this.getDragPosition({position:"absolute",left:p.left,top:p.top})),ce.remove(document,le.touchMoveEvent,this.intDragStart),ce.remove(document,le.touchEndEvent,this.intDestroy),w()||this.bindDragEvents(d)}}},t.prototype.bindDragEvents=function(e){lt(e)?(ce.add(document,le.touchMoveEvent,this.intDrag,this),ce.add(document,le.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(f(e))return{left:0,top:0};var t=e.getBoundingClientRect(),n=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(n.marginLeft,10),top:t.top+window.pageYOffset-parseInt(n.marginTop,10)}},t.prototype.intDrag=function(e){if(g(e.changedTouches)||1===e.changedTouches.length){var t,n;this.position=this.getMousePosition(e,this.isDragScroll);var i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var o=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:o})}var a=this.checkTargetElement(e);if(a.target&&a.instance){var s=!0;this.hoverObject&&(this.hoverObject.instance!==a.instance?this.triggerOutFunction(e,a):s=!1),s&&(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a)}else this.hoverObject&&this.triggerOutFunction(e,a);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var c=this.parentClientRect.left,d=this.parentClientRect.top,h=this.getCoordinates(e),p=h.pageX,u=h.pageY,m=this.position.left-this.diffX,v=this.position.top-this.diffY;if(this.dragArea){var y=getComputedStyle(l);if(this.pageX!==p||this.skipDistanceCheck){var b=l.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>m&&m>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<m+b&&m>0?m-(m-this.dragLimit.right)+window.pageXOffset-b:m<0?this.dragLimit.left:m}if(this.pageY!==u||this.skipDistanceCheck){var w=l.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));n=this.dragLimit.top>v&&v>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<v+w&&v>0?v-(v-this.dragLimit.bottom)+window.pageYOffset-w:v<0?this.dragLimit.top:v}}else t=m,n=v;var x,S,C=d+this.borderWidth.top,O=c+this.borderWidth.left;this.dragProcessStarted&&(f(n)&&(n=this.prevTop),f(t)&&(t=this.prevLeft)),this.dragArea?(x=n-C<0?this.dragLimit.top:n-C,S=t-O<0?this.dragElePosition.left:t-O):(x=n-C,S=t-O);var P=this.getProcessedPositionValue({top:x+"px",left:S+"px"});yt(l,this.getDragPosition(P)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=n,this.position.left=t,this.position.top=n,this.pageX=p,this.pageY=u}},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=u({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,n=document.documentElement;return Math.max(t["scroll"+e],n["scroll"+e],t["offset"+e],n["offset"+e],n["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,g(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(e);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(e,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),ce.remove(document,le.touchMoveEvent,this.intDragStart),ce.remove(document,le.touchEndEvent,this.intDragStop),ce.remove(document,le.touchEndEvent,this.intDestroy),ce.remove(document,le.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(pn.isDragged=!pn.isDragged),pn.isDragged},t.prototype.setDragArea=function(){var e,t,n,i=0,r=0;if(n="string"===typeof this.dragArea?gt(this.dragArea):this.dragArea){var o=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:o.right-o.left,t=n.scrollHeight?n.scrollHeight:o.bottom-o.top;for(var a=["Top","Left","Bottom","Right"],s=getComputedStyle(n),l=0;l<a.length;l++){var c=a[l],d=s["border"+c+"Width"],h=s["padding"+c],p=c.toLowerCase();this.borderWidth[p]=isNaN(parseFloat(d))?0:parseFloat(d),this.padding[p]=isNaN(parseFloat(h))?0:parseFloat(h)}i=o.top,r=o.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,n=this.getCoordinates(e),i=this.helperElement.style.pointerEvents||"";return v(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=i):t=e.target,t},t.prototype.getMousePosition=function(e,t){var n,i,r=void 0!==e.srcElement?e.srcElement:e.target,o=this.getCoordinates(e),a=f(r.offsetParent);return t?(n=this.clone?o.pageX:o.pageX+(a?0:r.offsetParent.scrollLeft)-this.relativeXPosition,i=this.clone?o.pageY:o.pageY+(a?0:r.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,i=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=rt("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,n){this.droppables[this.scope]=e?null:{draggable:t,helper:n,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),n=this.getDropInstance(t);if(!n&&t&&!f(t.parentNode)){var i=vt(t.parentNode,".e-droppable")||t.parentElement;i&&(n=this.getDropInstance(i))}return{target:t,instance:n}},t.prototype.getDropInstance=function(e){var t,n=e&&e.ej2_instances;if(n)for(var i=0,r=n;i<r.length;i++){var o=r[i];if("droppable"===o.getModuleName()){t=o;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},dn([Bt({},un)],t.prototype,"cursorAt",void 0),dn([zt(!0)],t.prototype,"clone",void 0),dn([zt()],t.prototype,"dragArea",void 0),dn([zt()],t.prototype,"isDragScroll",void 0),dn([Ft()],t.prototype,"drag",void 0),dn([Ft()],t.prototype,"dragStart",void 0),dn([Ft()],t.prototype,"dragStop",void 0),dn([zt(1)],t.prototype,"distance",void 0),dn([zt()],t.prototype,"handle",void 0),dn([zt()],t.prototype,"abort",void 0),dn([zt()],t.prototype,"helper",void 0),dn([zt("default")],t.prototype,"scope",void 0),dn([zt("")],t.prototype,"dragTarget",void 0),dn([zt()],t.prototype,"axis",void 0),dn([zt()],t.prototype,"queryPositionInfo",void 0),dn([zt(!1)],t.prototype,"enableTailMode",void 0),dn([zt(!1)],t.prototype,"skipDistanceCheck",void 0),dn([zt(!0)],t.prototype,"preventDefault",void 0),dn([zt(!1)],t.prototype,"enableAutoScroll",void 0),dn([zt(!1)],t.prototype,"enableTapHold",void 0),dn([zt(750)],t.prototype,"tapHoldThreshold",void 0),t=n=dn([Vt],t)}(St),gn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mn=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vn=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.mouseOver=!1,i.dragData={},i.dragStopCalled=!1,i.bind(),i}return gn(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){ce.add(this.element,le.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:n}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var n,i=!0,r=this.dragData[this.scope],o=!!r&&(r.helper&&lt(r.helper));o&&(n=this.isDropArea(e,r.helper,t),this.accept&&(i=wt(r.helper,this.accept))),o&&this.drop&&n.canDrop&&i&&this.trigger("drop",{event:e,target:n.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,n){var i={canDrop:!0,target:n||e.target},r="touchend"===e.type;if(r||i.target===t){t.style.display="none";var o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);i.canDrop=!1,i.canDrop=v(a,this.element),i.canDrop&&(i.target=a),t.style.display=""}return i},t.prototype.destroy=function(){ce.remove(this.element,le.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},mn([zt()],t.prototype,"accept",void 0),mn([zt("default")],t.prototype,"scope",void 0),mn([Ft()],t.prototype,"drop",void 0),mn([Ft()],t.prototype,"over",void 0),mn([Ft()],t.prototype,"out",void 0),t=mn([Vt],t)}(St),yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bn=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},wn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},xn=function(e){function t(t,i){var r=e.call(this,i,t)||this;return r.keyPressHandler=function(e){for(var t=e.altKey,i=e.ctrlKey,o=e.shiftKey,a=e.which,s=0,l=Object.keys(r.keyConfigs);s<l.length;s++)for(var c=l[s],d=0,h=r.keyConfigs[c].split(",");d<h.length;d++){var p=h[d],u=n.getKeyConfigData(p.trim());t===u.altKey&&i===u.ctrlKey&&o===u.shiftKey&&a===u.keyCode&&(e.action=c,r.keyAction&&r.keyAction(e))}},r.bind(),r}var n;return yn(t,e),n=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?i.keyCode=Number(t[t.length-1]):i.keyCode=n.getKeyCode(t[t.length-1]),n.configCache[e]=i,i},t.getKeyCode=function(e){return wn[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},bn([zt({})],t.prototype,"keyConfigs",void 0),bn([zt("keyup")],t.prototype,"eventName",void 0),bn([Ft()],t.prototype,"keyAction",void 0),t=n=bn([Vt],t)}(St),Sn=function(){function e(e,t,n){this.controlName=e,this.localeStrings=t,this.setLocale(n||G)}return e.prototype.setLocale=function(t){var n=this.intGetControlConstant(e.locale,t);this.currentLocale=n||this.localeStrings},e.load=function(e){this.locale=u(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return f(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},e.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},e.locale={},e}(),Cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),On=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cn(t,e),On([zt(50)],t.prototype,"swipeThresholdDistance",void 0),t}(nn),En=/(Up|Down)/,Tn=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.touchAction=!0,i.tapCount=0,i.startEvent=function(e){if(!0===i.touchAction){var t=i.updateChangeTouches(e);void 0!==e.changedTouches&&(i.touchAction=!1),i.isTouchMoved=!1,i.movedDirection="",i.startPoint=i.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},i.startEventData=t,i.hScrollLocked=i.vScrollLocked=!1,i.tStampStart=Date.now(),i.timeOutTapHold=setTimeout((function(){i.tapHoldEvent(e)}),i.tapHoldThreshold),ce.add(i.element,le.touchMoveEvent,i.moveEvent,i),ce.add(i.element,le.touchEndEvent,i.endEvent,i),ce.add(i.element,le.touchCancelEvent,i.cancelEvent,i)}},i.moveEvent=function(e){var t=i.updateChangeTouches(e);i.movedPoint=t,i.isTouchMoved=!(t.clientX===i.startPoint.clientX&&t.clientY===i.startPoint.clientY);var n={};i.isTouchMoved&&(clearTimeout(i.timeOutTapHold),i.calcScrollPoints(e),n=u(n,{},{startEvents:i.startEventData,originalEvent:e,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,scrollDirection:i.scrollDirection,velocity:i.getVelocity(t)}),i.trigger("scroll",n),i.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},i.cancelEvent=function(e){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap),i.tapCount=0,i.swipeFn(e),ce.remove(i.element,le.touchCancelEvent,i.cancelEvent)},i.endEvent=function(e){i.swipeFn(e),i.isTouchMoved||"function"===typeof i.tap&&(i.trigger("tap",{originalEvent:e,tapCount:++i.tapCount}),i.timeOutTap=setTimeout((function(){i.tapCount=0}),i.tapThreshold)),i.modeclear()},i.swipeFn=function(e){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap);var t=i.updateChangeTouches(e),n=t.clientX-i.startPoint.clientX,r=t.clientY-i.startPoint.clientY;n=Math.floor(n<0?-1*n:n),r=Math.floor(r<0?-1*r:n),i.isTouchMoved=n>1||r>1,i.endPoint=t,i.calcPoints(e);var o={originalEvent:e,startEvents:i.startEventData,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,swipeDirection:i.movedDirection,velocity:i.getVelocity(t)};if(i.isTouchMoved){var a=void 0,s=i.swipeSettings.swipeThresholdDistance;a=u(a,i.defaultArgs,o);var l=!1,c=i.element,d=i.isScrollable(c),h=En.test(i.movedDirection);(s<i.distanceX&&!h||s<i.distanceY&&h)&&(l=!d||i.checkSwipe(c,h)),l&&i.trigger("swipe",a)}i.modeclear()},i.modeclear=function(){i.modeClear=setTimeout((function(){i.touchAction=!0}),"function"!==typeof i.tap?0:20),i.lastTapTime=(new Date).getTime(),ce.remove(i.element,le.touchMoveEvent,i.moveEvent),ce.remove(i.element,le.touchEndEvent,i.endEvent),ce.remove(i.element,le.touchCancelEvent,i.cancelEvent)},i.bind(),i}return Cn(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),le.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){ce.add(this.element,le.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){ce.remove(this.element,le.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),n=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(n)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,ce.remove(this.element,le.touchMoveEvent,this.moveEvent),ce.remove(this.element,le.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),ce.remove(this.element,le.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,n=e.clientY,i=Date.now(),r=t-this.startPoint.clientX,o=n-this.startPoint.clientX,a=i-this.tStampStart;return Math.sqrt(r*r+o*o)/a},t.prototype.checkSwipe=function(e,t){var n=["scroll","offset"],i=t?["Height","Top"]:["Width","Left"];return e[n[0]+i[0]]<=e[n[1]+i[0]]||(0===e[n[0]+i[1]]||e[n[1]+i[0]]+e[n[0]+i[1]]>=e[n[0]+i[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},On([Ft()],t.prototype,"tap",void 0),On([Ft()],t.prototype,"tapHold",void 0),On([Ft()],t.prototype,"swipe",void 0),On([Ft()],t.prototype,"scroll",void 0),On([zt(350)],t.prototype,"tapThreshold",void 0),On([zt(750)],t.prototype,"tapHoldThreshold",void 0),On([Bt({},Pn)],t.prototype,"swipeSettings",void 0),t=On([Vt],t)}(St),kn=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],In=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],An=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"],Mn=function(){function e(){}return e.beforeSanitize=function(){return{selectors:{tags:kn,attributes:In}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var n=this.wrapElement.innerHTML;return this.removeElement(),n},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var n=e[t].attributes,i=0;i<n.length;i++)this.wrapElement.children[t].removeAttribute(n[i].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){pt(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+An.join("],[")+"]");e.length>0&&e.forEach((function(e){An.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,n){var i=e.wrapElement.querySelectorAll(t.selector);i.length>0&&i.forEach((function(e){e.removeAttribute(t.attribute)}))}))},e}(),jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dn=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],Ln=["accordion","tab","splitter"],Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReact=!0,t}return jn(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.isReact=!0;var e=Object.keys(this.props);this.htmlattributes={},this.attrKeys=Dn.concat(this.controlAttributes||[]);for(var t=0,n=e;t<n.length;t++){var i=n[t];-1===i.indexOf("data-")&&-1===i.indexOf("aria-")&&-1===this.attrKeys.indexOf(i)||(this.htmlattributes[i]=this.props[i])}},t.prototype.componentDidMount=function(){var e=this;this.refreshChild(!0),this.canDelayUpdate=-1!==Ln.indexOf(this.getModuleName()),this.props.immediateRender?this.renderReactComponent():this.cachedTimeOut=setTimeout((function(){e.renderReactComponent()}))},t.prototype.renderReactComponent=function(){var e=r.findDOMNode(this);e&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(r.findDOMNode(this))),this.updateProperties(e)):this.updateProperties(e,!0)},t.prototype.updateProperties=function(e,t){for(var n=this,i=u({},e),r=0,o=Object.keys(e);r<o.length;r++){var a=o[r],s="className"===a;s||f(this.htmlattributes[a])||this.htmlattributes[a]===i[a]||(this.htmlattributes[a]=i[a]),this.props[a]===e[a]?delete i[a]:-1!==this.attrKeys.indexOf(a)&&(s?(this.element.classList.remove(this.props[a]),this.element.classList.add(i[a])):"disabled"!==a&&delete i[a])}i.children&&delete i.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout((function(){n.refreshProperties(i,e,t)})):this.refreshProperties(i,e,t)},t.prototype.refreshProperties=function(e,t,n){Object.keys(e).length&&(n||this.processComplexTemplate(e,this),this.setProperties(e,n)),this.refreshChild(n,t)},t.prototype.processComplexTemplate=function(e,t){var n=t.complexTemplate;if(n)for(var i in n){var r=n[i];e[i]&&d(r,c(i,e),e)}},t.prototype.getDefaultAttributes=function(){return this.htmlattributes},t.prototype.trigger=function(e,t,n){if(!0!==this.isDestroyed){"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var i=this.isProtectedOnChange;this.isProtectedOnChange=!1,this.modelObserver.notify(e,t,n),this.isProtectedOnChange=i}},t.prototype.compareValues=function(e,t){var n=typeof e;if(n===typeof t){if(e.constructor!==t.constructor)return!1;if(e===t)return!0;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number||"function"===n)return e.tostring===t.tostring;if(h(e)||Array.isArray(e)){var i=e,r=t;return h(i)&&(i=[e],r=[t]),this.compareObjects(i,r).status}}return!1},t.prototype.compareObjects=function(e,t,n){var i,r=[];if(e.length===t.length)for(var o=0,a=t.length;o<a;o++){for(var s={},l=e[o],c=t[o],d=0,h=Object.keys(c);d<h.length;d++){var p=h[d],u=l[p],f=c[p];if(!l.hasOwnProperty(p)||!this.compareValues(f,u)){if(!n)return{status:!1};i=!1,s[p]=f}}Object.keys(s).length&&r.push({index:o,value:s,key:n})}else i=!1;return{status:i,changedProperties:r}},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var n=this.getInjectedModules()||[],i=0,r=this.getInjectedServices()||[];i<r.length;i++){var o=r[i];-1===n.indexOf(o)&&n.push(o)}this.injectedModules=n}if(this.directivekeys){var a=[],s=this.validateChildren({},this.directivekeys,t||this.props);if(s&&Object.keys(s).length){if(!e&&this.skipRefresh)for(var l=0,d=this.skipRefresh;l<d.length;l++){delete s[d[l]]}if(this.prevProperties)for(var h=Object.keys(this.prevProperties),p=0;p<h.length;p++){var f=h[p];if(s.hasOwnProperty(f)){var g=this.compareObjects(this.prevProperties[f],s[f],f);if(g.status)delete s[f];else{g.changedProperties.length&&(a=a.concat(g.changedProperties));var m={};m[f]=s[f],this.prevProperties=u(this.prevProperties,m)}}}else this.prevProperties=u({},s,{},!0);if(a.length)for(var v=0,y=a;v<y.length;v++){var b=y[v],w=c(b.key+"."+b.index,this);w&&w.setProperties?w.setProperties(b.value):u(w,b.value)}else this.setProperties(s,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut),this.initRenderCalled&&this.destroy()},t.prototype.validateChildren=function(e,t,n){for(var r=!1,o=0,a=i.Children.toArray(n.children);o<a.length;o++){var s=a[o],l=this.getChildType(s),c=t[l];if(l&&t){var d=this.getChildProps(i.Children.toArray(s.props.children),c);d.length&&(r=!0,e[s.type.propertyName||l]=d)}}return r?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i],a=!1,s=void 0;"string"===typeof t?(a=!0,s=t):s=Object.keys(t)[0];var l=o.props;if(this.getChildType(o)===s)if(a||!l.children){var c=u({},l,{},!0);this.processComplexTemplate(c,o.type),n.push(c)}else{var d=this.validateChildren(u({},l),t[s],l)||l;d.children&&delete d.children,this.processComplexTemplate(d,o.type),n.push(d)}}return n},t.prototype.getInjectedServices=function(){for(var e=0,t=i.Children.toArray(this.props.children);e<t.length;e++){var n=t[e];if(n.type.isService)return n.props.services}return[]},t}(i.PureComponent),Nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.isReact=!0,t}Nn(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.isReact=!0},t.prototype.generateReactElements=function(e){var t=e.children;if(t&&t.length){for(var n=[],r=0,o=t.length;r<o;r++){var a=t[r];"string"===typeof a?n.push(a):a.tagName?n.push(this.generateReactElements(a)):a.template&&n.push(i.createElement(a.template,a.data||{}))}return i.createElement(e.tagName,e.attributes,n)}return i.createElement(e.tagName,e.attributes)},t.prototype.componentDidMount=function(){this.mount&&this.mount()},t.prototype.componentDidUpdate=function(){this.currentContext(this.currentContext.calls,this.currentContext.args)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(r.findDOMNode(this)));for(var n=u({},e),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s="className"===a;s||f(this.htmlattributes[a])||this.htmlattributes[a]===n[a]||(this.htmlattributes[a]=n[a]),this.props[a]===e[a]?delete n[a]:-1!==this.attrKeys.indexOf(a)&&(s?(this.element.classList.remove(this.props[a]),this.element.classList.add(n[a])):"disabled"!==a&&delete n[a])}n.children&&delete n.children,this.canDelayUpdate||this.props.delayUpdate?setTimeout((function(){t.refreshProperties(n,e)})):this.refreshProperties(n,e)},t.prototype.refreshProperties=function(e,t){Object.keys(e).length&&(this.processComplexTemplate(e,this),this.setProperties(e)),this.refreshChild(!1,t)},t.prototype.processComplexTemplate=function(e,t){var n=t.complexTemplate;if(n)for(var i in n){var r=n[i];e[i]&&d(r,c(i,e),e)}},t.prototype.trigger=function(e,t,n){if(!0!==this.isDestroyed){"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var i=this.isProtectedOnChange;this.isProtectedOnChange=!1,this.modelObserver.notify(e,t,n),this.isProtectedOnChange=i}},t.prototype.compareObjects=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var n=this.getInjectedModules()||[],i=0,r=this.getInjectedServices()||[];i<r.length;i++){var o=r[i];-1===n.indexOf(o)&&n.push(o)}this.injectedModules=n}if(this.directivekeys){var a=this.validateChildren({},this.directivekeys,t||this.props);if(a){if(!e&&this.skipRefresh)for(var s=0,l=this.skipRefresh;s<l.length;s++){delete a[l[s]]}if(this.prevProperties)for(var c=Object.keys(this.prevProperties),d=0;d<c.length;d++){var h=c[d];if(this.compareObjects(this.prevProperties[h],a[h]))delete a[h];else{var p={};p[h]=a[h],this.prevProperties=u(this.prevProperties,p)}}else this.prevProperties=u({},a,{},!0);this.setProperties(a,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut),this.destroy()},t.prototype.validateChildren=function(e,t,n){for(var r=!1,o=0,a=i.Children.toArray(n.children);o<a.length;o++){var s=a[o],l=this.getChildType(s),c=t[l];if(l&&t){var d=this.getChildProps(i.Children.toArray(s.props.children),c);d.length&&(r=!0,e[s.type.propertyName||l]=d)}}return r?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i],a=!1,s=void 0;"string"===typeof t?(a=!0,s=t):s=Object.keys(t)[0];var l=o.props;if(this.getChildType(o)===s)if(a||!l.children){var c=u({},l,{},!0);this.processComplexTemplate(c,o.type),n.push(c)}else{var d=this.validateChildren(u({},l),t[s],l)||l;d.children&&delete d.children,this.processComplexTemplate(d,o.type),n.push(d)}}return n},t.prototype.getInjectedServices=function(){for(var e=0,t=i.Children.toArray(this.props.children);e<t.length;e++){var n=t[e];if(n.type.isService)return n.props.services}return[]}}(i.PureComponent);function zn(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]=t.prototype[n]}))}))}var Bn,Hn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hn(t,e),t.prototype.render=function(){return null},t.isDirective=!0,t}(i.PureComponent),Wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Wn(t,e),t.prototype.render=function(){return null},t.isService=!0}(i.PureComponent),We.compile);Bn={compile:function(e,t){return"string"===typeof e?Fn(e,t):function(t,n){var i=e,o=t;if("object"===typeof i&&(i=e.template,o=u({},t,e.data||{})),n&&n.isReactHybrid)return[{template:i,data:t}];var a=document.createElement("div");return document.body.appendChild(a),r.render(i(o),a),pt(a),a.children}}},We.compile=Bn.compile;var Vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Un=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Vn(t,e),t.moduleName="layer"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Vn(t,e),t.propertyName="layers",t.moduleName="layers"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Yn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Un(t,e),t.moduleName="customCursor"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Un(t,e),t.propertyName="customCursor",t.moduleName="customCursors"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Xn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Yn(t,e),t.moduleName="connector"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Yn(t,e),t.propertyName="connectors",t.moduleName="connectors"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Gn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Xn(t,e),t.moduleName="connectorAnnotation"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Xn(t,e),t.propertyName="annotations",t.moduleName="connectorAnnotations"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),qn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gn(t,e),t.moduleName="node"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gn(t,e),t.propertyName="nodes",t.moduleName="nodes"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Zn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qn(t,e),t.moduleName="nodeAnnotation"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qn(t,e),t.propertyName="annotations",t.moduleName="nodeAnnotations"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Kn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Zn(t,e),t.moduleName="port"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Zn(t,e),t.propertyName="ports",t.moduleName="ports"}(_n),function(){function e(e,t){this.width=e,this.height=t}return e.prototype.isEmpty=function(){return 0===this.height&&0===this.width},e.prototype.clone=function(){return new e(this.width,this.height)},e}()),$n=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qn=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $n(t,e),t.equals=function(e,t){return e===t||!(!e||!t)&&(!e||!t||e.x===t.x&&e.y===t.y)},t.isEmptyPoint=function(e){return!e.x||!e.y},t.transform=function(e,t,n){var i={x:0,y:0};return i.x=Math.round(100*(e.x+n*Math.cos(t*Math.PI/180)))/100,i.y=Math.round(100*(e.y+n*Math.sin(t*Math.PI/180)))/100,i},t.findLength=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.findAngle=function(e,t){var n=Math.atan2(t.y-e.y,t.x-e.x);return n=180*n/Math.PI,(n%=360)<0&&(n+=360),n},t.distancePoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getLengthFromListOfPoints=function(e){for(var t=0,n=0;n<e.length-1;n++)t+=this.distancePoints(e[n],e[n+1]);return t},t.adjustPoint=function(e,t,n,i){var r,o=n?{x:e.x,y:e.y}:{x:t.x,y:t.y};return e.x===t.x?e.y<t.y&&n||e.y>t.y&&!n?o.y+=i:o.y-=i:e.y===t.y?e.x<t.x&&n||e.x>t.x&&!n?o.x+=i:o.x-=i:n?(r=this.findAngle(e,t),o=this.transform(e,r,i)):(r=this.findAngle(t,e),o=this.transform(t,r,i)),o},t.direction=function(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"Right":"Left":e.y<t.y?"Bottom":"Top"},t.prototype.getClassName=function(){return"Point"},Qn([zt(0)],t.prototype,"x",void 0),Qn([zt(0)],t.prototype,"y",void 0),t}(nn);function ei(e){var t,n=[],i=function(e){var t=/([a-z]+)|([+-]?(?:\d+\.?\d*|\.\d+))/gi,n=[],i=[],r={};t.lastIndex=0;var o=!1;r=t.exec(e);for(;r;){if("e"===r[1]){o=!0}else r[1]?("zm"===r[1].toLowerCase()?(n.length&&i.push(n),i.push(["Z"]),n=[r[1].substring(1,2)]):(n.length&&i.push(n),n=[r[1]]),o=!1):(n.length||(n=[]),o||n.push(Number(r[2])),o=!1);r=t.exec(e)}n.length&&i.push(n);return i}(e);if(i.length>0)for(var r=0;r<i.length;r++){var o=i[r],a="";switch((a=o[0]).toLowerCase()){case"m":for(t=1;t<o.length;t++)n.push({command:a,x:o[t],y:o[t+1]}),t+=1,"m"===a?a="l":"M"===a&&(a="L");break;case"l":case"t":for(t=1;t<o.length;t++)n.push({command:a,x:o[t],y:o[t+1]}),t+=1;break;case"h":for(t=1;t<o.length;t++)n.push({command:a,x:o[t]});break;case"v":for(t=1;t<o.length;t++)n.push({command:a,y:o[t]});break;case"z":n.push({command:a});break;case"c":for(t=1;t<o.length;t++)n.push({command:a,x1:o[t],y1:o[t+1],x2:o[t+2],y2:o[t+3],x:o[t+4],y:o[t+5]}),t+=5;break;case"s":for(t=1;t<o.length;t++)n.push({command:a,x2:o[t],y2:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"q":for(t=1;t<o.length;t++)n.push({command:a,x1:o[t],y1:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"a":for(t=1;t<o.length;t++)n.push({command:a,r1:o[t],r2:o[t+1],angle:o[t+2],largeArc:o[t+3],sweep:o[t+4],x:o[t+5],y:o[t+6]}),t+=6}}return n}function ti(e){var t,n,i="";for(i="M"+e[0].x+" "+e[0].y,n=1;n<e.length;n++)i+="L"+(t=e[n]).x+" "+t.y;return i+="Z"}function ni(e){var t,n,i,r,o,a,s,l,c,d,h=[];for(s=0,l=0,d=0,c=e.length;d<c;++d){var p,u=e[d];p=u.command,"y1"in u&&(r=u.y1),"y2"in u&&(a=u.y2),"x1"in u&&(i=u.x1),"x2"in u&&(o=u.x2),"x"in u&&(s=u.x),"y"in u&&(l=u.y);var f=h[h.length-1];switch(p){case"M":h.push({command:"M",x:s,y:l});break;case"L":h.push({command:"L",x0:t,y0:n,x:s,y:l});break;case"H":h.push({command:"L",x0:t,y0:n,x:s,y:n});break;case"V":h.push({command:"L",x0:t,y0:n,x:t,y:l});break;case"C":h.push({command:"C",x0:t,y0:n,x1:i,y1:r,x2:o,y2:a,x:s,y:l});break;case"S":if(f){var g=void 0,m={x:2*t-(g="C"===f.command||"S"===f.command?{x:f.x2,y:f.y2}:{x:t,y:n}).x,y:2*n-g.y};h.push({command:"C",x0:t,y0:n,x1:m.x,y1:m.y,x2:o,y2:a,x:s,y:l})}break;case"Q":h.push({command:"Q",x0:t,y0:n,x1:i,y1:r,x:s,y:l});break;case"T":if(f){g=void 0,m={x:2*t-(g="Q"===f.command?{x:f.x1,y:f.y1}:{x:t,y:n}).x,y:2*n-g.y};h.push({command:"Q",x0:t,y0:n,x1:m.x,y1:m.y,x:s,y:l})}break;case"A":var v=u;v.command="A",h.push(v);break;case"Z":case"z":h.push({command:"Z"}),s=t,l=n}"M"!==p&&"m"!==p||(s,l),t=s,n=l}return h}function ii(e,t,n,i,r,o,a,s){var l,c,d,h,p,u,f,g,m;for(p=0,u=0,g=0,f=e.length;g<f;++g){var v=e[g],y=v.command;"x"in v&&(p=v.x),"y"in v&&(u=v.y),"y1"in v&&(c=v.y1),"y2"in v&&(h=v.y2),"x1"in v&&(l=v.x1),"x2"in v&&(d=v.x2),i?(void 0!==p&&(p=oi(p,t,r,a)),void 0!==u&&(u=oi(u,n,o,s)),void 0!==l&&(l=oi(l,t,r,a)),void 0!==c&&(c=oi(c,n,o,s)),void 0!==d&&(d=oi(d,t,r,a)),void 0!==h&&(h=oi(h,n,o,s))):(void 0!==p&&(p=Number((p+t).toFixed(2))),void 0!==u&&(u=Number((u+n).toFixed(2))),void 0!==l&&(l=Number((l+t).toFixed(2))),void 0!==c&&(c=Number((c+n).toFixed(2))),void 0!==d&&(d=Number((d+t).toFixed(2))),void 0!==h&&(h=Number((h+n).toFixed(2)))),(m=ri(v,y,{x:p,y:u,x1:l,y1:c,x2:d,y2:h,r1:v.r1,r2:v.r2},i,t,n))&&(e[g]=m),"M"!==y&&"m"!==y||(p,u)}return si(e)}function ri(e,t,n,i,r,o){switch(t){case"M":case"L":e.x=n.x,e.y=n.y;break;case"H":e.x=n.x;break;case"V":e.y=n.y;break;case"C":e.x=n.x,e.y=n.y,e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2;break;case"S":e.x=n.x,e.y=n.y,e.x2=n.x2,e.y2=n.y2;break;case"Q":e.x=n.x,e.y=n.y,e.x1=n.x1,e.y1=n.y1;break;case"T":e.x=n.x,e.y=n.y;break;case"A":var a=n.r1,s=n.r2;i&&(n.r1=a*=r,n.r2=s*=o),e.x=n.x,e.y=n.y,e.r1=n.r1,e.r2=n.r2;break;case"z":case"Z":e={command:"Z"}}return e}function oi(e,t,n,i){return e!==n?e=i!==n?e*t-(Number(n)*t-Number(n))+(i-Number(n)):Number(e)*t-(Number(n)*t-Number(n)):i!==n&&(e=i),Number(e.toFixed(2))}function ai(e){var t,n,i,r,o,a,s,l,c,d;for(s=0,l=0,d=0,c=e.length;d<c;++d){var h=e[d],p=h.command;if(/[MLHVCSQTA]/.test(p))"x"in h&&(h.x=s=h.x),"y"in h&&(h.y=l=h.y);else{"x1"in h&&(h.x1=i=s+h.x1),"x2"in h&&(h.x2=o=s+h.x2),"y1"in h&&(h.y1=r=l+h.y1),"y2"in h&&(h.y2=a=l+h.y2),"x"in h&&(h.x=s+=h.x),"y"in h&&(h.y=l+=h.y);var u=void 0;switch(p){case"m":case"M":u={command:"M",x:s,y:l};break;case"l":case"L":u={command:"L",x:s,y:l};break;case"h":case"H":u={command:"H",x:s};break;case"v":case"V":u={command:"V",y:l};break;case"c":case"C":u={command:"C",x:s,y:l,x1:i,y1:r,x2:o,y2:a};break;case"s":case"S":u={command:"S",x:s,y:l,x2:o,y2:a};break;case"q":case"Q":u={command:"Q",x:s,y:l,x1:i,y1:r};break;case"t":case"T":u={command:"T",x:s,y:l};break;case"a":case"A":(u={command:"A",x:s,y:l}).r1=h.r1,u.r2=h.r2,u.angle=h.angle,u.largeArc=h.largeArc,u.sweep=h.sweep;break;case"z":case"Z":u={command:"Z"},s=t,l=n,u=e[d]}u&&(e[d]=u)}"M"!==p&&"m"!==p||(t=s,n=l)}return e}function si(e){var t,n="";for(t=0;t<e.length;t++)n+=0===t?li(e[t]):" "+li(e[t]);return n}function li(e){var t="";switch(e.command){case"Z":case"z":t=e.command;break;case"M":case"m":case"L":case"l":t=e.command+" "+e.x+" "+e.y;break;case"C":case"c":t=e.command+" "+e.x1+" "+e.y1+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"Q":case"q":t=e.command+" "+e.x1+" "+e.y1+" "+e.x+" "+e.y;break;case"A":case"a":var n=e.command,i=e.angle,r=e.largeArc?"1":"0",o=e.sweep?"1":"0";t=n+" "+e.r1+" "+e.r2+" "+i+" "+r+" "+o+" "+e.x+" "+e.y;break;case"H":case"h":t=e.command+" "+e.x;break;case"V":case"v":t=e.command+" "+e.y;break;case"S":case"s":t=e.command+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"T":case"t":t=e.command+" "+e.x+" "+e.y}return t}var ci,di=function(){function e(e,t,n,i){this.x=Number.MAX_VALUE,this.y=Number.MAX_VALUE,this.width=0,this.height=0,void 0===e||void 0===t?(e=t=Number.MAX_VALUE,n=i=0):(void 0===n&&(n=0),void 0===i&&(i=0)),this.x=e,this.y=t,this.width=n,this.height=i}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return{x:this.left,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return{x:this.right,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return{x:this.left,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return{x:this.right,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleLeft",{get:function(){return{x:this.left,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleRight",{get:function(){return{x:this.right,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topCenter",{get:function(){return{x:this.x+this.width/2,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomCenter",{get:function(){return{x:this.x+this.width/2,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),e.prototype.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},e.prototype.uniteRect=function(e){var t=Math.max(Number.NaN===this.right||this.x===Number.MAX_VALUE?e.right:this.right,e.right),n=Math.max(Number.NaN===this.bottom||this.y===Number.MAX_VALUE?e.bottom:this.bottom,e.bottom);return this.x=Math.min(this.left,e.left),this.y=Math.min(this.top,e.top),this.width=t-this.x,this.height=n-this.y,this},e.prototype.unitePoint=function(e){if(this.x===Number.MAX_VALUE)return this.x=e.x,void(this.y=e.y);var t=Math.min(this.left,e.x),n=Math.min(this.top,e.y),i=Math.max(this.right,e.x),r=Math.max(this.bottom,e.y);this.x=t,this.y=n,this.width=i-this.x,this.height=r-this.y},e.prototype.Inflate=function(e){return this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e,this},e.prototype.intersects=function(e){return!(this.right<e.left||this.left>e.right||this.top>e.bottom||this.bottom<e.top)},e.prototype.containsRect=function(e){return this.left<=e.left&&this.right>=e.right&&this.top<=e.top&&this.bottom>=e.bottom},e.prototype.containsPoint=function(e,t){return void 0===t&&(t=0),this.left-t<=e.x&&this.right+t>=e.x&&this.top-t<=e.y&&this.bottom+t>=e.y},e.toBounds=function(t){for(var n=new e,i=0,r=t;i<r.length;i++){var o=r[i];n.unitePoint(o)}return n},e.empty=new e(Number.MAX_VALUE,Number.MIN_VALUE,0,0),e}();!function(e){e[e.Identity=0]="Identity",e[e.Translation=1]="Translation",e[e.Scaling=2]="Scaling",e[e.Unknown=4]="Unknown"}(ci||(ci={}));var hi=function(e,t,n,i,r,o,a){this.m11=e,this.m12=t,this.m21=n,this.m22=i,this.offsetX=r,this.offsetY=o,this.type=a};function pi(){return new hi(1,0,0,1,0,0,ci.Identity)}function ui(e,t){var n=function(e,t,n){switch(e.type){case ci.Identity:break;case ci.Translation:t+=e.offsetX,n+=e.offsetY;break;case ci.Scaling:t*=e.m11,n*=e.m22;break;case ci.Translation|ci.Scaling:t*=e.m11,t+=e.offsetX,n*=e.m22,n+=e.offsetY;break;default:var i=n*e.m21+e.offsetX,r=t*e.m12+e.offsetY;t*=e.m11,t+=i,n*=e.m22,n+=r}return{x:t,y:n}}(e,t.x,t.y);return{x:Math.round(100*n.x)/100,y:Math.round(100*n.y)/100}}function fi(e,t,n,i){vi(e,function(e,t,n){var i=pi(),r=Math.sin(e),o=Math.cos(e),a=t*(1-o)+n*r,s=n*(1-o)-t*r;return i.type=ci.Unknown,yi(i,o,r,-r,o,a,s),i}(.017453292519943295*(t%=360),n||0,i||0))}function gi(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=0),vi(e,function(e,t,n,i){var r=pi();return r.type=n||i?ci.Scaling|ci.Translation:ci.Scaling,yi(r,e,0,0,t,n-e*n,i-t*i),r}(t,n,i,r))}function mi(e,t,n){return e.type&ci.Identity?(e.type=ci.Translation,void yi(e,1,0,0,1,t,n)):e.type&ci.Unknown?(e.offsetX+=t,void(e.offsetY+=n)):(e.offsetX+=t,e.offsetY+=n,void(e.type|=ci.Translation))}function vi(e,t){var n=e.type,i=t.type;if(i!==ci.Identity){if(n===ci.Identity)return bi(e,t),void(e.type=t.type);if(i===ci.Translation)return e.offsetX+=t.offsetX,e.offsetY+=t.offsetY,void(n!==ci.Unknown&&(e.type|=ci.Translation));if(n!==ci.Translation){var r=n<<4|i;switch(r){case 34:return e.m11*=t.m11,void(e.m22*=t.m22);case 35:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,void(e.type=ci.Translation|ci.Scaling);case 36:break;default:switch(r){case 50:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX*=t.m11,void(e.offsetY*=t.m22);case 51:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.m11*e.offsetX+t.offsetX,void(e.offsetY=t.m22*e.offsetY+t.offsetY);case 52:break;default:switch(r){case 66:case 67:case 68:break;default:return}}}var o=pi();return yi(o,e.m11*t.m11+e.m12*t.m21,e.m11*t.m12+e.m12*t.m22,e.m21*t.m11+e.m22*t.m21,e.m21*t.m12+e.m22*t.m22,e.offsetX*t.m11+e.offsetY*t.m21+t.offsetX,e.offsetX*t.m12+e.offsetY*t.m22+t.offsetY),o.m21||o.m12?o.type=ci.Unknown:((o.m11&&1!==o.m11||o.m22&&1!==o.m22)&&(o.type=ci.Scaling),(o.offsetX||o.offsetY)&&(o.type|=ci.Translation),(o.type&(ci.Translation|ci.Scaling))===ci.Identity&&(o.type=ci.Identity),o.type=ci.Scaling|ci.Translation),bi(e,o),void(e.type=o.type)}var a=e.offsetX,s=e.offsetY;e.offsetX=a*t.m11+s*t.m21+t.offsetX,e.offsetY=a*t.m12+s*t.m22+t.offsetY,i!==ci.Unknown?e.type=ci.Translation|ci.Scaling:e.type=ci.Unknown}}function yi(e,t,n,i,r,o,a){e.m11=t,e.m12=n,e.m21=i,e.m22=r,e.offsetX=o,e.offsetY=a}function bi(e,t){e.m11=t.m11,e.m12=t.m12,e.m21=t.m21,e.m22=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,e.type=t.type}var wi,xi,Si,Ci,Oi,Pi,Ei,Ti,ki,Ii,Ai,Mi,ji,Di,Li,Ri,Ni,zi,Bi,Hi,_i,Wi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fi=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vi=function(e){if(e){if(w())return Zi;switch(e.type){case"Linear":return Ki;case"Radial":return $i;default:return Ki}}return Ki},Ui=function(e,t,n,i){this.left=e,this.right=t,this.top=n,this.bottom=i},Yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt(0)],t.prototype,"left",void 0),Fi([zt(0)],t.prototype,"right",void 0),Fi([zt(0)],t.prototype,"top",void 0),Fi([zt(0)],t.prototype,"bottom",void 0),t}(nn),Xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt(45)],t.prototype,"angle",void 0),Fi([zt(5)],t.prototype,"distance",void 0),Fi([zt(.7)],t.prototype,"opacity",void 0),Fi([zt("lightgrey")],t.prototype,"color",void 0),t}(nn),Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),t.prototype.getClassName=function(){return"Stop"},Fi([zt("")],t.prototype,"color",void 0),Fi([zt(0)],t.prototype,"offset",void 0),Fi([zt(1)],t.prototype,"opacity",void 0),t}(nn),qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([_t([],Gi)],t.prototype,"stops",void 0),Fi([zt("None")],t.prototype,"type",void 0),Fi([zt("")],t.prototype,"id",void 0),t}(nn),Zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt(0)],t.prototype,"x1",void 0),Fi([zt(0)],t.prototype,"x2",void 0),Fi([zt(0)],t.prototype,"y1",void 0),Fi([zt(0)],t.prototype,"y2",void 0),Fi([zt(0)],t.prototype,"cx",void 0),Fi([zt(0)],t.prototype,"cy",void 0),Fi([zt(0)],t.prototype,"fx",void 0),Fi([zt(0)],t.prototype,"fy",void 0),Fi([zt(50)],t.prototype,"r",void 0),t}(qi),Ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt(0)],t.prototype,"x1",void 0),Fi([zt(0)],t.prototype,"x2",void 0),Fi([zt(0)],t.prototype,"y1",void 0),Fi([zt(0)],t.prototype,"y2",void 0),t}(qi),$i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt(0)],t.prototype,"cx",void 0),Fi([zt(0)],t.prototype,"cy",void 0),Fi([zt(0)],t.prototype,"fx",void 0),Fi([zt(0)],t.prototype,"fy",void 0),Fi([zt(50)],t.prototype,"r",void 0),t}(qi),Qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt("white")],t.prototype,"fill",void 0),Fi([zt("black")],t.prototype,"strokeColor",void 0),Fi([zt("")],t.prototype,"strokeDashArray",void 0),Fi([zt(1)],t.prototype,"strokeWidth",void 0),Fi([zt(1)],t.prototype,"opacity",void 0),Fi([Ht(Vi)],t.prototype,"gradient",void 0),t}(nn),Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt("transparent")],t.prototype,"fill",void 0),t}(Qi),er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),Fi([zt("black")],t.prototype,"color",void 0),Fi([zt("Arial")],t.prototype,"fontFamily",void 0),Fi([zt(12)],t.prototype,"fontSize",void 0),Fi([zt(!1)],t.prototype,"italic",void 0),Fi([zt(!1)],t.prototype,"bold",void 0),Fi([zt("CollapseSpace")],t.prototype,"whiteSpace",void 0),Fi([zt("WrapWithOverflow")],t.prototype,"textWrapping",void 0),Fi([zt("Center")],t.prototype,"textAlign",void 0),Fi([zt("None")],t.prototype,"textDecoration",void 0),Fi([zt("Wrap")],t.prototype,"textOverflow",void 0),Fi([zt("transparent")],t.prototype,"fill",void 0),t}(Qi);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Wi(t,e),Fi([zt("white")],t.prototype,"fill",void 0),Fi([zt("Wrap")],t.prototype,"textOverflow",void 0),Fi([zt(1)],t.prototype,"strokeWidth",void 0),Fi([Ht(Vi)],t.prototype,"gradient",void 0),Fi([zt(1)],t.prototype,"opacity",void 0),Fi([zt(!1)],t.prototype,"italic",void 0),Fi([zt("")],t.prototype,"strokeDashArray",void 0),Fi([zt("black")],t.prototype,"color",void 0),Fi([zt(12)],t.prototype,"fontSize",void 0),Fi([zt("Arial")],t.prototype,"fontFamily",void 0),Fi([zt("CollapseSpace")],t.prototype,"whiteSpace",void 0),Fi([zt("Center")],t.prototype,"textAlign",void 0),Fi([zt("None")],t.prototype,"textDecoration",void 0),Fi([zt(!1)],t.prototype,"bold",void 0),Fi([zt("black")],t.prototype,"strokeColor",void 0),Fi([zt("WrapWithOverflow")],t.prototype,"textWrapping",void 0)}(nn);!function(e){e[e.Default=0]="Default",e[e.expandNode=2]="expandNode",e[e.interaction=4]="interaction"}(wi||(wi={})),function(e){e[e.Visible=1]="Visible",e[e.Hidden=2]="Hidden",e[e.Hover=4]="Hover",e[e.Connect=8]="Connect"}(xi||(xi={})),function(e){e[e.None=0]="None",e[e.ShowHorizontalLines=1]="ShowHorizontalLines",e[e.ShowVerticalLines=2]="ShowVerticalLines",e[e.ShowLines=3]="ShowLines",e[e.SnapToHorizontalLines=4]="SnapToHorizontalLines",e[e.SnapToVerticalLines=8]="SnapToVerticalLines",e[e.SnapToLines=12]="SnapToLines",e[e.SnapToObject=16]="SnapToObject",e[e.All=31]="All"}(Si||(Si={})),function(e){e[e.None=1]="None",e[e.ConnectorSourceThumb=2]="ConnectorSourceThumb",e[e.ConnectorTargetThumb=4]="ConnectorTargetThumb",e[e.ResizeSouthEast=8]="ResizeSouthEast",e[e.ResizeSouthWest=16]="ResizeSouthWest",e[e.ResizeNorthEast=32]="ResizeNorthEast",e[e.ResizeNorthWest=64]="ResizeNorthWest",e[e.ResizeEast=128]="ResizeEast",e[e.ResizeWest=256]="ResizeWest",e[e.ResizeSouth=512]="ResizeSouth",e[e.ResizeNorth=1024]="ResizeNorth",e[e.Rotate=2048]="Rotate",e[e.UserHandle=4096]="UserHandle",e[e.ToolTip=8192]="ToolTip",e[e.ResizeAll=2046]="ResizeAll",e[e.All=16382]="All"}(Ci||(Ci={})),function(e){e[e.None=1]="None",e[e.Select=2]="Select",e[e.Delete=4]="Delete",e[e.Drag=8]="Drag",e[e.DragSourceEnd=16]="DragSourceEnd",e[e.DragTargetEnd=32]="DragTargetEnd",e[e.DragSegmentThumb=64]="DragSegmentThumb",e[e.AllowDrop=128]="AllowDrop",e[e.Bridging=256]="Bridging",e[e.BridgeObstacle=512]="BridgeObstacle",e[e.InheritBridging=1024]="InheritBridging",e[e.PointerEvents=2048]="PointerEvents",e[e.Tooltip=4096]="Tooltip",e[e.InheritTooltip=8192]="InheritTooltip",e[e.Interaction=4218]="Interaction",e[e.ReadOnly=16384]="ReadOnly",e[e.LineRouting=32768]="LineRouting",e[e.InheritLineRouting=65536]="InheritLineRouting",e[e.ConnectToNearByNode=131072]="ConnectToNearByNode",e[e.ConnectToNearByPort=262144]="ConnectToNearByPort",e[e.ConnectToNearByElement=393216]="ConnectToNearByElement",e[e.Default=470590]="Default"}(Oi||(Oi={})),function(e){e[e.ReadOnly=2]="ReadOnly",e[e.InheritReadOnly=4]="InheritReadOnly",e[e.Select=8]="Select",e[e.Drag=16]="Drag",e[e.Resize=32]="Resize",e[e.Rotate=64]="Rotate",e[e.Interaction=120]="Interaction",e[e.None=0]="None"}(Pi||(Pi={})),function(e){e[e.None=0]="None",e[e.Select=2]="Select",e[e.Drag=4]="Drag",e[e.Rotate=8]="Rotate",e[e.Shadow=16]="Shadow",e[e.PointerEvents=32]="PointerEvents",e[e.Delete=64]="Delete",e[e.InConnect=128]="InConnect",e[e.OutConnect=256]="OutConnect",e[e.Individual=512]="Individual",e[e.Expandable=1024]="Expandable",e[e.AllowDrop=2048]="AllowDrop",e[e.Inherit=78]="Inherit",e[e.ResizeNorthEast=4096]="ResizeNorthEast",e[e.ResizeEast=8192]="ResizeEast",e[e.ResizeSouthEast=16384]="ResizeSouthEast",e[e.ResizeSouth=32768]="ResizeSouth",e[e.ResizeSouthWest=65536]="ResizeSouthWest",e[e.ResizeWest=131072]="ResizeWest",e[e.ResizeNorthWest=262144]="ResizeNorthWest",e[e.ResizeNorth=524288]="ResizeNorth",e[e.Resize=1044480]="Resize",e[e.AspectRatio=1048576]="AspectRatio",e[e.Tooltip=2097152]="Tooltip",e[e.InheritTooltip=4194304]="InheritTooltip",e[e.ReadOnly=8388608]="ReadOnly",e[e.HideThumbs=16777216]="HideThumbs",e[e.AllowMovingOutsideLane=33554432]="AllowMovingOutsideLane",e[e.Default=5240814]="Default"}(Ei||(Ei={})),function(e){e[e.None=0]="None",e[e.ElementIsPort=2]="ElementIsPort",e[e.ElementIsGroup=4]="ElementIsGroup"}(Ti||(Ti={})),function(e){e[e.Rotate=2]="Rotate",e[e.ConnectorSource=4]="ConnectorSource",e[e.ConnectorTarget=8]="ConnectorTarget",e[e.ResizeNorthEast=16]="ResizeNorthEast",e[e.ResizeEast=32]="ResizeEast",e[e.ResizeSouthEast=64]="ResizeSouthEast",e[e.ResizeSouth=128]="ResizeSouth",e[e.ResizeSouthWest=256]="ResizeSouthWest",e[e.ResizeWest=512]="ResizeWest",e[e.ResizeNorthWest=1024]="ResizeNorthWest",e[e.ResizeNorth=2048]="ResizeNorth",e[e.Default=4094]="Default"}(ki||(ki={})),function(e){e[e.None=1]="None",e[e.Bridging=2]="Bridging",e[e.UndoRedo=4]="UndoRedo",e[e.Tooltip=8]="Tooltip",e[e.UserInteraction=16]="UserInteraction",e[e.ApiUpdate=32]="ApiUpdate",e[e.PageEditable=48]="PageEditable",e[e.Zoom=64]="Zoom",e[e.PanX=128]="PanX",e[e.PanY=256]="PanY",e[e.Pan=384]="Pan",e[e.ZoomTextEdit=512]="ZoomTextEdit",e[e.Virtualization=1024]="Virtualization",e[e.LineRouting=2048]="LineRouting",e[e.Default=500]="Default"}(Ii||(Ii={})),function(e){e[e.None=0]="None",e[e.SingleSelect=1]="SingleSelect",e[e.MultipleSelect=2]="MultipleSelect",e[e.ZoomPan=4]="ZoomPan",e[e.DrawOnce=8]="DrawOnce",e[e.ContinuousDraw=16]="ContinuousDraw",e[e.Default=3]="Default"}(Ai||(Ai={})),function(e){e[e.Self=1]="Self",e[e.Parent=2]="Parent"}(Mi||(Mi={})),function(e){e[e.Canvas=0]="Canvas",e[e.Svg=1]="Svg"}(ji||(ji={})),function(e){e[e.None=0]="None",e[e.Control=1]="Control",e[e.Meta=1]="Meta",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift"}(Di||(Di={})),function(e){e[e.None=null]="None",e[e.Number0=0]="Number0",e[e.Number1=1]="Number1",e[e.Number2=2]="Number2",e[e.Number3=3]="Number3",e[e.Number4=4]="Number4",e[e.Number5=5]="Number5",e[e.Number6=6]="Number6",e[e.Number7=7]="Number7",e[e.Number8=8]="Number8",e[e.Number9=9]="Number9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Delete=46]="Delete",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.BackSpace=8]="BackSpace",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.Star=56]="Star",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus"}(Li||(Li={})),function(e){e[e.Render=2]="Render",e[e.PublicMethod=4]="PublicMethod",e[e.ToolAction=8]="ToolAction",e[e.UndoRedo=16]="UndoRedo",e[e.TextEdit=32]="TextEdit",e[e.Group=64]="Group",e[e.Clear=128]="Clear",e[e.PreventClearSelection=256]="PreventClearSelection",e[e.Interactions=512]="Interactions",e[e.PreventHistory=1024]="PreventHistory",e[e.PreventIconsUpdate=2048]="PreventIconsUpdate",e[e.PreventCollectionChangeOnDragOver=4096]="PreventCollectionChangeOnDragOver",e[e.PreventZIndexOnDragging=8192]="PreventZIndexOnDragging",e[e.isGroupDragging=16384]="isGroupDragging",e[e.DragUsingMouse=32768]="DragUsingMouse",e[e.DecoratorPropertyChange=65536]="DecoratorPropertyChange"}(Ri||(Ri={})),function(e){e[e.None=2]="None",e[e.DrawSelectorBorder=4]="DrawSelectorBorder",e[e.PreventRenderSelector=8]="PreventRenderSelector"}(Ni||(Ni={})),function(e){e[e.None=0]="None",e[e.PreventDrag=2]="PreventDrag",e[e.PreventScale=4]="PreventScale",e[e.PreventDataInit=8]="PreventDataInit",e[e.hScrollbarMoved=16]="hScrollbarMoved",e[e.vScrollbarMoved=32]="vScrollbarMoved",e[e.AnimationClick=64]="AnimationClick",e[e.EnableGroupAction=128]="EnableGroupAction",e[e.PanInProgress=256]="PanInProgress",e[e.OverViewAction=512]="OverViewAction"}(zi||(zi={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"}(Bi||(Bi={})),function(e){e[e.collectionChange=0]="collectionChange",e[e.rotateChange=1]="rotateChange",e[e.positionChange=2]="positionChange",e[e.propertyChange=3]="propertyChange",e[e.selectionChange=4]="selectionChange",e[e.sizeChange=5]="sizeChange",e[e.drop=6]="drop",e[e.sourcePointChange=7]="sourcePointChange",e[e.targetPointChange=8]="targetPointChange",e[e.connectionChange=9]="connectionChange",e[e.animationComplete=10]="animationComplete",e[e.click=11]="click",e[e.doubleClick=12]="doubleClick",e[e.scrollChange=13]="scrollChange",e[e.dragEnter=14]="dragEnter",e[e.dragLeave=15]="dragLeave",e[e.dragOver=16]="dragOver",e[e.textEdit=17]="textEdit",e[e.paletteSelectionChange=18]="paletteSelectionChange",e[e.historyChange=19]="historyChange",e[e.mouseEnter=20]="mouseEnter",e[e.mouseLeave=21]="mouseLeave",e[e.mouseOver=22]="mouseOver",e[e.expandStateChange=23]="expandStateChange",e[e.segmentCollectionChange=24]="segmentCollectionChange",e[e.commandExecute=25]="commandExecute",e[e.historyStateChange=26]="historyStateChange",e[e.onUserHandleMouseDown=27]="onUserHandleMouseDown",e[e.onUserHandleMouseUp=28]="onUserHandleMouseUp",e[e.onUserHandleMouseEnter=29]="onUserHandleMouseEnter",e[e.onUserHandleMouseLeave=30]="onUserHandleMouseLeave",e[e.onImageLoad=31]="onImageLoad",e[e.onDoBindingInit=32]="onDoBindingInit",e[e.keyUp=33]="keyUp",e[e.keyDown=34]="keyDown"}(Hi||(Hi={})),function(e){e[e.None=1]="None",e[e.Drag=2]="Drag",e[e.Draw=4]="Draw",e[e.InConnect=8]="InConnect",e[e.OutConnect=16]="OutConnect",e[e.Default=24]="Default"}(_i||(_i={}));var tr=function(){function e(){this.pivot={x:.5,y:.5},this.isDirt=!0,this.isExport=!1,this.exportScaleValue={x:0,y:0},this.exportScaleOffset={x:0,y:0},this.canApplyStyle=!0,this.visible=!0,this.offsetX=0,this.offsetY=0,this.cornerRadius=0,this.minHeight=void 0,this.minWidth=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.width=void 0,this.height=void 0,this.rotateAngle=0,this.margin={left:0,right:0,top:0,bottom:0},this.horizontalAlignment="Auto",this.verticalAlignment="Auto",this.flip="None",this.relativeMode="Point",this.transform=Mi.Self|Mi.Parent,this.style={fill:"white",strokeColor:"black",opacity:1,strokeWidth:1},this.desiredSize=new Kn,this.actualSize=new Kn,this.parentTransform=0,this.preventContainer=!1,this.isSvgRender=!1,this.bounds=new di(0,0,0,0),this.shadow=null,this.description="",this.staticSize=!1,this.isRectElement=!1,this.isCalculateDesiredSize=!0,this.flipOffset={x:0,y:0},this.elementActions=Ti.None,this.inversedAlignment=!0,this.position=void 0,this.unitMode=void 0,this.float=!1,this.floatingBounds=void 0}return e.prototype.setOffsetWithRespectToBounds=function(e,t,n){this.unitMode=n,this.position={x:e,y:t}},e.prototype.getAbsolutePosition=function(e){if(void 0!==this.position)return"Absolute"===this.unitMode?this.position:{x:this.position.x*e.width,y:this.position.y*e.height}},Object.defineProperty(e.prototype,"outerBounds",{get:function(){return this.floatingBounds||this.bounds},set:function(e){this.floatingBounds=e},enumerable:!0,configurable:!0}),e.prototype.measure=function(e,t,n){var i=void 0!==this.width?this.width:(e.width||0)-this.margin.left-this.margin.right,r=void 0!==this.height?this.height:(e.height||0)-this.margin.top-this.margin.bottom;return this.desiredSize=new Kn(i,r),this.isCalculateDesiredSize&&(this.desiredSize=this.validateDesiredSize(this.desiredSize,e)),this.desiredSize},e.prototype.arrange=function(e){return this.actualSize=e,this.updateBounds(),this.actualSize},e.prototype.updateBounds=function(){this.bounds=wh(this)},e.prototype.validateDesiredSize=function(e,t){return!this.isRectElement||this.width||this.minWidth||this.maxWidth||(e.width=50),!this.isRectElement||this.height||this.minHeight||this.maxHeight||(e.height=50),(void 0===e||void 0!==this.width&&void 0!==this.height)&&((e=e||new Kn).width=void 0===this.width?(t.width||0)-this.margin.left-this.margin.right:this.width,e.height=void 0===this.height?(t.height||0)-this.margin.top-this.margin.bottom:this.height),void 0!==this.minWidth&&(e.width=Math.max(e.width,this.minWidth)),void 0!==this.minHeight&&(e.height=Math.max(e.height,this.minHeight)),void 0!==this.maxWidth&&0!==this.maxWidth&&(e.width=Math.min(e.width,this.maxWidth)),void 0!==this.maxHeight&&0!==this.maxHeight&&(e.height=Math.min(e.height,this.maxHeight)),e},e}(),nr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=new Ui(0,0,0,0),t.desiredBounds=void 0,t.measureChildren=!0,t.prevRotateAngle=0,t}return nr(t,e),t.prototype.hasChildren=function(){return void 0!==this.children&&this.children.length>0},t.prototype.measure=function(e,n,i){this.desiredBounds=void 0;var r,o,a=void 0;if(this.hasChildren()){for(var s=0;s<this.children.length;s++){"Stretch"!==(r=this.children[s]).horizontalAlignment||e.width||(e.width=r.bounds.width),"Stretch"!==r.verticalAlignment||e.height||(e.height=r.bounds.height);var l="Stretch"===r.horizontalAlignment||"Stretch"===r.verticalAlignment;(this.measureChildren||l||r instanceof t&&void 0!==r.measureChildren)&&r.measure(e,n,i),o=this.GetChildrenBounds(r),"Stretch"!==r.horizontalAlignment&&"Stretch"!==r.verticalAlignment?void 0===this.desiredBounds?this.desiredBounds=o:this.desiredBounds.uniteRect(o):!this.actualSize||this.actualSize.width||this.actualSize.height||r.preventContainer||"Stretch"!==r.horizontalAlignment||"Stretch"!==r.verticalAlignment||(void 0===this.desiredBounds?this.desiredBounds=r.bounds:this.desiredBounds.uniteRect(r.bounds))}if(void 0!==this.desiredBounds&&0!==this.rotateAngle){var c={x:this.desiredBounds.x+this.desiredBounds.width*this.pivot.x,y:this.desiredBounds.y+this.desiredBounds.height*this.pivot.y},d=jh(this.rotateAngle,void 0,void 0,c);this.desiredBounds.x=d.x-this.desiredBounds.width*this.pivot.x,this.desiredBounds.y=d.y-this.desiredBounds.height*this.pivot.y}this.desiredBounds&&(a=new Kn(this.desiredBounds.width,this.desiredBounds.height))}return a=this.validateDesiredSize(a,e),this.stretchChildren(a),this.desiredSize=a,a},t.prototype.arrange=function(e){var n,i=this.desiredBounds;if(i){this.offsetX,this.offsetY;if(this.offsetX=i.x+i.width*this.pivot.x,this.offsetY=i.y+i.height*this.pivot.y,this.hasChildren())for(var r=0;r<this.children.length;r++){var o=!1;"Stretch"===(n=this.children[r]).horizontalAlignment&&(n.offsetX=this.offsetX,n.parentTransform=this.parentTransform+this.rotateAngle,this.flip&&this.elementActions&Ti.ElementIsGroup&&(n.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-n.parentTransform:n.parentTransform),o=!0),"Stretch"===n.verticalAlignment&&(n.offsetY=this.offsetY,n.parentTransform=this.parentTransform+this.rotateAngle,o=!0),(o||this.measureChildren||n instanceof t&&void 0!==n.measureChildren)&&n.arrange(n.desiredSize)}}return this.actualSize=e,this.updateBounds(),this.prevRotateAngle=this.rotateAngle,e},t.prototype.stretchChildren=function(e){if(this.hasChildren())for(var n=0,i=this.children;n<i.length;n++){var r=i[n];"Stretch"!==r.horizontalAlignment&&void 0!==r.desiredSize.width||(r.desiredSize.width=e.width-r.margin.left-r.margin.right),"Stretch"!==r.verticalAlignment&&void 0!==r.desiredSize.height||(r.desiredSize.height=e.height-r.margin.top-r.margin.bottom),r instanceof t&&r.stretchChildren(r.desiredSize)}},t.prototype.applyPadding=function(e){e.width+=this.padding.left+this.padding.right,e.height+=this.padding.top+this.padding.bottom},t.prototype.findChildOffsetFromCenter=function(e,t){var n=function(e,t){var n=e.x+t.desiredSize.width*t.pivot.x,i=e.y+t.desiredSize.height*t.pivot.y;return{x:n,y:i}}({x:t.x-e.desiredSize.width/2,y:t.y-e.desiredSize.height/2},e);n=jh(e.rotateAngle,t.x,t.y,n),n=jh(this.rotateAngle+this.parentTransform,this.offsetX,this.offsetY,n),e.offsetX=n.x,e.offsetY=n.y},t.prototype.GetChildrenBounds=function(e){var t;t=e.desiredSize.clone();e.rotateAngle,this.rotateAngle;var n=e.offsetX,i=e.offsetY,r=n-t.width*e.pivot.x,o=i-t.height*e.pivot.y,a=r+t.width,s=o+t.height,l={x:r,y:o},c={x:a,y:o},d={x:r,y:s},h={x:a,y:s};return l=jh(e.rotateAngle,e.offsetX,e.offsetY,l),c=jh(e.rotateAngle,e.offsetX,e.offsetY,c),d=jh(e.rotateAngle,e.offsetX,e.offsetY,d),h=jh(e.rotateAngle,e.offsetX,e.offsetY,h),0!==this.rotateAngle&&(l=jh(-this.rotateAngle,void 0,void 0,l),c=jh(-this.rotateAngle,void 0,void 0,c),d=jh(-this.rotateAngle,void 0,void 0,d),h=jh(-this.rotateAngle,void 0,void 0,h)),di.toBounds([l,c,d,h])},t}(tr),rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),or=function(e){function t(){var t=e.call(this)||this;return t.textContent="",t.canMeasure=!0,t.isLaneOrientation=!1,t.canConsiderBounds=!0,t.hyperlink={color:"blue"},t.doWrap=!0,t.textNodes=[],t.style={color:"black",fill:"transparent",strokeColor:"black",strokeWidth:1,fontFamily:"Arial",fontSize:12,whiteSpace:"CollapseSpace",textWrapping:"WrapWithOverflow",textAlign:"Center",italic:!1,bold:!1,textDecoration:"None",strokeDashArray:"",opacity:5,gradient:null,textOverflow:"Wrap"},t.style.fill="transparent",t.style.strokeColor="transparent",t}return rr(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.textContent},set:function(e){this.textContent!==e&&(this.textContent=e,this.isDirt=!0,this.doWrap=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.textNodes},set:function(e){this.textNodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapBounds",{get:function(){return this.textWrapBounds},set:function(e){this.textWrapBounds=e},enumerable:!0,configurable:!0}),t.prototype.refreshTextElement=function(){this.isDirt=!0},t.prototype.measure=function(e){var t;return t=this.isDirt&&this.canMeasure?function(e,t,n,i,r){var o,a,s=new Kn(0,0),l=function(e,t){var n={fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray,opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,width:t||e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5};return n.fontSize=e.style.fontSize,n.fontFamily=e.style.fontFamily,n.textOverflow=e.style.textOverflow,n.textDecoration=e.style.textDecoration,n.doWrap=e.doWrap,n.whiteSpace=Ah(e.style.whiteSpace,e.style.textWrapping),n.content=e.content,n.textWrapping=e.style.textWrapping,n.breakWord=Eh(e.style.textWrapping),n.textAlign=Ph(e.style.textAlign),n.color=e.style.color,n.italic=e.style.italic,n.bold=e.style.bold,n.dashArray="",n.strokeWidth=0,n.fill="",n}(e,i);e.childNodes=o=function(e,t,n){var i,r,o=[],a=0,s=t||e.content;if("nowrap"!==e.whiteSpace&&"pre"!==e.whiteSpace)if("breakall"===e.breakWord)for(i="",i+=s[0],a=0;a<s.length;a++)if((r=Th(i,e))>=e.width&&i.length>0)o[o.length]={text:i,x:0,dy:0,width:r},i="";else{(i+=s[a+1]||"").indexOf("\n")>-1&&(o[o.length]={text:i,x:0,dy:0,width:Th(i,e)},i="");var l=Th(i,e);Math.ceil(l)+2>=e.width&&i.length>0&&(o[o.length]={text:i,x:0,dy:0,width:l},i=""),a===s.length-1&&i.length>0&&(o[o.length]={text:i,x:0,dy:0,width:l},i="")}else o=function(e,t,n){var i,r,o,a,s=[],l="",c=0,d=0,h="nowrap"!==e.whiteSpace,p=(t||e.content).split("\n");for(c=0;c<p.length;c++)for("",i="NoWrap"!==e.textWrapping?p[c].split(" "):"NoWrap"===e.textWrapping?[p[c]]:p,d=0;d<i.length;d++){l+=((0!==d||1===i.length)&&h&&l.length>0?" ":"")+i[d];var u=Th(r=l+" "+(i[d+1]||""),e);Math.floor(u)>(n||e.width)-2&&l.length>0?(s[s.length]={text:l,x:0,dy:0,width:r===l?u:l===a?o:Th(l,e)},l=""):d===i.length-1&&(s[s.length]={text:l,x:0,dy:0,width:u},l=""),a=r,o=u}return s}(e,t,n);else o[o.length]={text:s,x:0,dy:0,width:Th(s,e)};return o}(l,r,e.isLaneOrientation?i:void 0),e.wrapBounds=a=function(e,t){var n,i,r={x:0,width:0},o=0;for(o=0;o<t.length;o++)n=t[o].width,i=n,n="left"===e.textAlign?0:"center"===e.textAlign?n>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)?0:-n/2:"right"===e.textAlign?-n:t.length>1?0:-n/2,t[o].dy=1.2*e.fontSize,t[o].x=n,r?(r.x=Math.min(r.x,n),r.width=Math.max(r.width,i)):r={x:n,width:i};return r}(l,o),s.width=a.width,e.wrapBounds.width>=i&&"Wrap"!==l.textOverflow&&(s.width=i);return s.height=o.length*e.style.fontSize*1.2,s}(this,this.style,this.content,this.isLaneOrientation?e.height:this.width||e.width):this.desiredSize,void 0===this.width||void 0===this.height?this.desiredSize=new Kn(t.width,t.height):this.desiredSize=new Kn(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return(e.width!==this.actualSize.width||e.height!==this.actualSize.height||this.isDirt)&&(this.doWrap=!0),this.actualSize=e,this.updateBounds(),this.isDirt=!1,this.actualSize},t}(tr),ar=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.measureChildren=void 0,t}return ar(t,e),t.prototype.measure=function(t,n,i){var r=void 0,o=void 0;if(this.hasChildren()){for(var a=0,s=this.children;a<s.length;a++){var l=s[a];l instanceof or?l.canMeasure&&(t.width=t.width||this.maxWidth||this.minWidth,l.measure(t)):l instanceof or||l.measure(t,n,i);var c=l.desiredSize.clone();0!==l.rotateAngle&&(c=Mh(c,l.rotateAngle));var d=c.width+l.margin.right,h=c.height+l.margin.bottom,p=new di(l.margin.left,l.margin.top,d,h);if(l.float)if(void 0!==l.getAbsolutePosition(c))continue;l instanceof or&&!(l instanceof or&&l.canConsiderBounds)||(void 0===o?o=p:o.uniteRect(p))}if(o){var u,f;u=Math.max(o.left,0),f=Math.max(o.top,0),r=new Kn(o.width+u,o.height+f)}}return r=e.prototype.validateDesiredSize.call(this,r,t),e.prototype.stretchChildren.call(this,r),r.width+=this.padding.left+this.padding.right,r.height+=this.padding.top+this.padding.bottom,this.desiredSize=r,r},t.prototype.arrange=function(t,n){if(this.outerBounds=new di,this.hasChildren()){var i,r;i=this.offsetY-t.height*this.pivot.y+this.padding.top,r=this.offsetX-t.width*this.pivot.x+this.padding.left;for(var o=0,a=this.children;o<a.length;o++){var s=a[o];if(0!==(s.transform&Mi.Parent)){s.parentTransform=this.parentTransform+this.rotateAngle,("None"!==this.flip||this.elementActions&Ti.ElementIsGroup)&&(s.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-s.parentTransform:s.parentTransform);var l,c=s.desiredSize.clone(),d=void 0,h=r,p=i;if("Point"===s.relativeMode){var u=s.getAbsolutePosition(t);void 0!==u&&(h+=u.x,p+=u.y)}l={x:(d="Object"===s.relativeMode?this.alignChildBasedOnParent(s,c,t,h,p):this.alignChildBasedOnaPoint(s,h,p)).x+c.width/2,y:d.y+c.height/2},e.prototype.findChildOffsetFromCenter.call(this,s,l)}!n||"Stretch"!==s.horizontalAlignment&&"Stretch"!==s.verticalAlignment?s instanceof or&&s.canMeasure?(s.arrange(s.desiredSize),this.outerBounds.uniteRect(s.outerBounds)):s instanceof or||(s.arrange(s.desiredSize),this.outerBounds.uniteRect(s.outerBounds)):s.arrange(t)}}return this.actualSize=t,this.updateBounds(),this.outerBounds.uniteRect(this.bounds),t},t.prototype.alignChildBasedOnParent=function(e,t,n,i,r){switch(e.horizontalAlignment){case"Auto":case"Left":i+=e.margin.left;break;case"Right":i+=n.width-t.width-e.margin.right;break;case"Stretch":case"Center":i+=n.width/2-t.width/2}switch(e.verticalAlignment){case"Auto":case"Top":r+=e.margin.top;break;case"Bottom":r+=n.height-t.height-e.margin.bottom;break;case"Stretch":case"Center":r+=n.height/2-t.height/2}return{x:i,y:r}},t.prototype.alignChildBasedOnaPoint=function(e,t,n){switch(t+=e.margin.left-e.margin.right,n+=e.margin.top-e.margin.bottom,e.horizontalAlignment){case"Auto":case"Left":t=e.inversedAlignment?t:t-e.desiredSize.width;break;case"Stretch":case"Center":t-=e.desiredSize.width*e.pivot.x;break;case"Right":t=e.inversedAlignment?t-e.desiredSize.width:t}switch(e.verticalAlignment){case"Auto":case"Top":n=e.inversedAlignment?n:n-e.desiredSize.height;break;case"Stretch":case"Center":n-=e.desiredSize.height*e.pivot.y;break;case"Bottom":n=e.inversedAlignment?n-e.desiredSize.height:n}return{x:t,y:n}},t}(ir);function lr(e){return cr[e.toString()]}var cr={Rectangle:"M0,0 L50,0 L50,50 L0,50 z",Ellipse:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Hexagon:"M30,0 L60,0 L90,30 L60,60 L30,60 L0,30 L30,0 z",Parallelogram:"M30,0 L60,0 L45,30 L15,30 z",Triangle:"M45,0 L90,45 L0,45 L45,0 z",Plus:"M696.6084,158.2656 L674.8074,158.2656 L674.8074,136.4656 L658.4084,136.4656 L658.4084,158.2656 L636.6084,158.2656L636.6084,174.6646 L658.4084,174.6646 L658.4084,196.4656 L674.8074,196.4656 L674.8074,174.6646 L696.6084,174.6646L696.6084,158.2656 z",Star:"M540.3643,137.9336 L546.7973,159.7016 L570.3633,159.7296 L550.7723,171.9366 L558.9053,194.9966 L540.3643,179.4996L521.8223,194.9966 L529.9553,171.9366 L510.3633,159.7296 L533.9313,159.7016 L540.3643,137.9336 z",Pentagon:"M30,0 L60,30 L50,70 L10,70 L0,30 L30,0 z",Heptagon:"M223.7783,195.7134 L207.1303,174.8364 L213.0713,148.8034 L237.1303,137.2174 L261.1883,148.8034 L267.1303,174.8364L250.4813,195.7134 L223.7783,195.7134 z",Octagon:"M98.7319,196.4653 L81.1579,178.8923 L81.1579,154.0393 L98.7319,136.4653 L123.5849,136.4653L141.1579,154.0393 L141.1579,178.8923 L123.5849,196.4653 L98.7319,196.4653 z",Trapezoid:"M127.2842,291.4492 L95.0322,291.4492 L81.1582,256.3152 L141.1582,256.3152 L127.2842,291.4492 z",Decagon:"M657.3379,302.4141 L642.3369,291.5161 L636.6089,273.8821 L642.3369,256.2481 L657.3379,245.3511 L675.8789,245.3511L690.8789,256.2481 L696.6089,273.8821L690.8789,291.5161 L675.8789,302.4141 L657.3379,302.4141 z",RightTriangle:"M836.293,292.9238 L776.293,292.9238 L776.293,254.8408 L836.293,292.9238 z",Cylinder:"M 542.802,362.009C 542.802,368.452 525.341,373.676 503.802,373.676C 482.263,373.676 464.802,368.452 464.802,362.009L 464.802,466.484C 464.802,472.928 482.263,478.151 503.802,478.151C 525.341,478.151 542.802,472.928 542.802,466.484L 542.802,362.016C 542.802,368.459 525.341,373.534 503.802,373.534C 482.263,373.534 464.802,368.31 464.802,361.867L 464.802,362.016C 464.802,355.572 482.263,350.349 503.802,350.349C 525.341,350.349 542.802,355.572 542.802,362.016",Diamond:"M397.784,287.875 L369.5,316.159 L341.216,287.875 L369.5,259.591 L397.784,287.875 z"},dr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hr=function(e){function t(){var t=e.call(this)||this;return t.pathData="",t.transformPath=!0,t.absolutePath="",t.canMeasurePath=!1,t.absoluteBounds=new di,t}return dr(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.pathData},set:function(e){this.pathData!==e&&(this.pathData=e,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.getPoints=function(){var e=this;return this.pointTimer||(this.pointTimer=setTimeout((function(){e.points=null,e.pointTimer=null}),200)),this.points=this.points||function(e){var t,n,i=[];window.measureElement.style.visibility="visible";var r=_d(window.measureElement.children[2])[0];r.setAttributeNS(null,"d",e.data);var o=e.absoluteBounds,a=Vd(e,o,e);r.setAttributeNS(null,"d",a);var s=r.getTotalLength();for(n=0;n<=s;n+=10)t=r.getPointAtLength(n),i.push({x:t.x,y:t.y});return window.measureElement.style.visibility="hidden",i}(this),function(e,t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],a={x:e.offsetX-e.actualSize.width*e.pivot.x+o.x,y:e.offsetY-e.actualSize.height*e.pivot.y+o.y},s=void 0,l=e.rotateAngle+e.parentTransform;l&&fi(s=pi(),l,e.offsetX,e.offsetY),s&&(a=ui(s,a)),n.push(a)}return n}(this,this.points)},t.prototype.measure=function(e){return this.staticSize&&void 0!==this.width&&void 0!==this.height?this.absoluteBounds=new di(this.offsetX-this.width*this.pivot.x,this.offsetY-this.height*this.pivot.y,this.width,this.height):(!this.isDirt||!this.transformPath&&void 0!==this.width&&void 0!==this.height||this.absoluteBounds&&0!==this.absoluteBounds.height)&&!this.canMeasurePath||(this.absoluteBounds=Wd(this.data?this.data:"")),void 0===this.width?this.desiredSize=new Kn(this.absoluteBounds.width,this.height||this.absoluteBounds.height):void 0===this.height?this.desiredSize=new Kn(this.width||this.absoluteBounds.width,this.absoluteBounds.height):this.desiredSize=new Kn(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.canMeasurePath=!1,this.desiredSize},t.prototype.arrange=function(e){return(this.isDirt||this.actualSize.width!==e.width||this.actualSize.height!==e.height)&&(this.isDirt=!0,this.absolutePath=this.updatePath(this.data,this.absoluteBounds,e),this.staticSize||(this.points=null)),this.actualSize=this.desiredSize,this.updateBounds(),this.isDirt=!1,this.actualSize},t.prototype.updatePath=function(e,t,n){var i=!1,r="",o=-t.x,a=-t.y,s=[];return n.width===t.width&&n.height===t.height||(o=n.width/Number(t.width?t.width:1),a=n.height/Number(t.height?t.height:1),i=!0),s=ai(s=ei(e)),r=(i||this.isDirt)&&this.transformPath?ii(s,o,a,i,t.x,t.y,0,0):si(s),i=!1,r},t}(tr),pr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(e){function t(){var t=e.call(this)||this;return t.imageSource="",t.imageScale="None",t.imageAlign="None",t.stretch="Stretch",t}return pr(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this.imageSource},set:function(e){this.imageSource=e,this.isDirt=!0},enumerable:!0,configurable:!0}),t.prototype.measure=function(e,t,n){return this.isDirt&&("Stretch"!==this.stretch||void 0===this.width&&void 0===this.height)&&(this.contentSize=function(e,t,n,i){window.measureElement.style.visibility="visible";var r=window.measureElement.children[1];r.setAttribute("src",e);var o=r.getBoundingClientRect(),a=o.width,s=o.height;t=new Kn(a,s),window.measureElement.style.visibility="hidden";var l=document.createElement("img");return l.setAttribute("src",e),ph(l,{id:n+"sf-imageNode",style:"display: none;"}),document.body.appendChild(l),l.onload=function(e){var t=e.currentTarget;i&&i(n,{width:t.width,height:t.height})},t}(this.source,this.contentSize,t,n),this.isDirt=!1),void 0!==this.width&&void 0!==this.height?(this.desiredSize=new Kn(this.width,this.height),this.contentSize=this.desiredSize):this.desiredSize=this.contentSize,this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new Kn(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(tr),fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gr=function(e){function t(t,n){var i=e.call(this)||this;return i.data="",i.nodeId="",i.diagramId="",i.scale="Stretch",i.diagramId=n,i.nodeId=t,i}return fr(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.canReset||(this.canReset=!0,this.template=ch(this,!1),this.canReset=!1,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){if(this.isDirt){var t=function(e){window.measureElement.style.visibility="visible";var t=window.measureElement.children[2];t.appendChild(e);var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=n;return r.x=n.left-i.left,r.y=n.top-i.top,t.removeChild(e),window.measureElement.style.visibility="hidden",r}(this.template);this.contentSize=new Kn,this.contentSize.width=t.width,this.contentSize.height=t.height;var n=t.x,i=t.y;this.templatePosition={x:n,y:i},this.isDirt=!1}if(void 0===this.width||void 0===this.height){var r=function(e){window.measureElement.style.visibility="visible";var t=window.measureElement.children[2];t.appendChild(e);var n=t.getBoundingClientRect();return t.removeChild(e),window.measureElement.style.visibility="hidden",n}(this.template);this.desiredSize=new Kn(r.width,r.height)}else this.desiredSize=new Kn(this.width,this.height);return this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new Kn(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(tr),mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vr=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yr=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.inEdges=[],o.outEdges=[],o}return mr(t,e),vr([zt("")],t.prototype,"id",void 0),vr([zt("Center")],t.prototype,"horizontalAlignment",void 0),vr([zt("Center")],t.prototype,"verticalAlignment",void 0),vr([Bt({},Yi)],t.prototype,"margin",void 0),vr([zt(12)],t.prototype,"width",void 0),vr([zt(12)],t.prototype,"height",void 0),vr([Bt({},Qi)],t.prototype,"style",void 0),vr([zt("Square")],t.prototype,"shape",void 0),vr([zt(xi.Connect)],t.prototype,"visibility",void 0),vr([zt("")],t.prototype,"pathData",void 0),vr([zt(_i.Default)],t.prototype,"constraints",void 0),vr([zt()],t.prototype,"addInfo",void 0),vr([zt()],t.prototype,"outEdges",void 0),vr([zt()],t.prototype,"inEdges",void 0),t}(nn),br=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return mr(t,e),t.prototype.getClassName=function(){return"PointPort"},vr([Bt({x:.5,y:.5},Jn)],t.prototype,"offset",void 0),t}(yr),wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xr=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wr(t,e),xr([zt("blue")],t.prototype,"color",void 0),xr([zt("")],t.prototype,"content",void 0),xr([zt("")],t.prototype,"link",void 0),xr([zt("None")],t.prototype,"textDecoration",void 0),t}(nn),Cr=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return i.id||(t.parentObj&&t.parentObj.propName&&"phases"===t.parentObj.propName?o.id=t.parentObj.id:o.id=mh()),o}return wr(t,e),xr([zt("")],t.prototype,"content",void 0),xr([zt(void 0)],t.prototype,"template",void 0),xr([zt("String")],t.prototype,"annotationType",void 0),xr([zt(!0)],t.prototype,"visibility",void 0),xr([zt(Pi.InheritReadOnly)],t.prototype,"constraints",void 0),xr([Bt(void 0,Sr)],t.prototype,"hyperlink",void 0),xr([zt("")],t.prototype,"id",void 0),xr([zt()],t.prototype,"width",void 0),xr([zt()],t.prototype,"height",void 0),xr([zt(0)],t.prototype,"rotateAngle",void 0),xr([Bt({strokeWidth:0,strokeColor:"transparent",fill:"transparent"},er)],t.prototype,"style",void 0),xr([zt("Center")],t.prototype,"horizontalAlignment",void 0),xr([zt("Center")],t.prototype,"verticalAlignment",void 0),xr([Bt({},Yi)],t.prototype,"margin",void 0),xr([Bt({top:void 0,bottom:void 0,left:void 0,right:void 0},Yi)],t.prototype,"dragLimit",void 0),xr([zt("Shape")],t.prototype,"type",void 0),xr([zt()],t.prototype,"addInfo",void 0),t}(nn),Or=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return wr(t,e),t.prototype.getClassName=function(){return"ShapeAnnotation"},xr([Bt({x:.5,y:.5},Jn)],t.prototype,"offset",void 0),t}(Cr),Pr=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return wr(t,e),t.prototype.getClassName=function(){return"PathAnnotation"},xr([zt(.5)],t.prototype,"offset",void 0),xr([Bt({x:0,y:0},Jn)],t.prototype,"displacement",void 0),xr([zt("Center")],t.prototype,"alignment",void 0),xr([zt(!1)],t.prototype,"segmentAngle",void 0),t}(Cr);function Er(e){return Tr[e.toString()]}var Tr={X:"M14,14 L106,106 M106,14 L14,106",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Square:"M0,0 L10,0 L10,10 L0,10 z"},kr={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z"};function Ir(e){return Lr[e.toString()]}var Ar,Mr,jr,Dr,Lr={Process:"M419.511,76.687L359.511,76.687L359.511,43.086L419.511,43.086z",Decision:"M 253.005,115.687L 200.567,146.071L 148.097,115.687L 200.534,85.304L 253.005,115.687 Z",Document:"M 60 31.9 c 0 0 -11 -7.7 -30 0 s -30 0 -30 0 V 0 h 60 V 31.9 Z",PreDefinedProcess:"M 0,0 L 50,0 L 50,50 L 0,50 Z  M 8.334,0 L 8.334,50 M 41.667,0 L 41.667,50",Terminator:"M 269.711,29.33C 269.71,44.061 257.77,56 243.04,56L 158.058,56C 143.33,56 131.39,44.061 131.39,29.33L 131.39,29.33C 131.391,14.6057 143.33,2.669 158.058,2.669L 243.044,2.669C 257.772,2.669 269.711,14.6057 269.711,29.333 Z",PaperTap:"M0.0009,17.2042 L0.0009,47.165 C0.001,47.165 14.403,53.5455 25.00,47.165 C35.599,40.7852 44.403,43.5087 50.00,47.165L50.001,17.2042 M50.001,32.7987 L50.001,2.8405 C50.001,2.8405 35.599,-3.5427 25.001,2.8405C14.403,9.2237 5.599,6.494 0.0009,2.8405 L0.0009,32.7987",DirectData:"M 132.62 0 L 17.38 0 C 7.78 0 0 13.43 0 30 C 0 46.57 7.78 60 17.38 60 L 132.62 60 M 132.62 0C 123.02 0 115.24 13.43 115.24 30 C 115.24 46.57 123.02 60 132.62 60 C 142.22 60 150 46.57 150 30 C 150 13.43 142.22 0 132.62 0 z ",SequentialData:"M0.0029,24.999 C0.0029,11.1922 10.433,0.0021 23.295,0.0021 C36.159,0.00216 46.585,11.1922 46.585,24.999C46.585,38.8057 36.159,49.9979 23.295,49.9979 C10.433,49.9979 0.0029,38.8057 0.0029,24.999 z M23.294,49.999 L50.002,49.999",Sort:"M50.001,24.9971 L25.001,49.9971 L0.00097,24.9971 L25.001,-0.00286865 L50.001,24.9971 z M0.000976562,24.9971 L50.001,24.9971",MultiDocument:"M43.6826,40 C44.8746,40.6183 45.8586,41.3502 46.8366,42.1122 L46.8366,4.74487 L3.09857,4.74487 L3.09857,10.9544 M46.837,35.143 C48.027,35.765 49.025,36.604 50.003,37.369 L50.003,0.002 L6.264,0.002 L6.264,4.744 M43.682,47.113 L43.682,10.765 L0.0025,10.7652 L0.0025,47.1132 C0.0025,47.1132 12.5846,53.6101 21.8426,47.1132 C31.1006,40.6163 38.792,43.393 43.6826,47.1132 z",Collate:"M50.001,0.0028 L25.001,25.0029 L0.00097,0.0028 L50.001,0.002 z M0.0009,50.002 L25.001,25.002L50.001,50.002 L0.0009,50.0029 z",SummingJunction:"M7.3252,42.6768 L42.6772,7.3247 M42.6768,42.6768 L7.3248,7.3247 M0.0009,25.001 C0.0009,11.193 11.197,0.0009 25.001,0.0009 C38.809,0.0009 50.001,11.193 50.001,25.001 C50.001,38.809 38.809,50.001 25.001,50.001 C11.197,50.00 0.0009,38.809 0.0009,25.00 z",Or:"M 0 50 L 100 50 M 50 100 L 50 0.0 M 0 50 C 0 22.384 22.392 0 50 0 C 77.616 0 100 22.384 100 50 C 100 77.616 77.616 100 50 100 C 22.392 100 0 77.616 0 50 Z",InternalStorage:"M 0 3.81946A 2.5,3.81946 0 0,1 2.5,0L 47.5 0A 2.5,3.81946 0 0,1 50,3.81946L 50 45.836A 2.5,3.819446 0 0,1 47.5,49.652778L 2.5 49.652778A 2.5,3.819446 0 0,1 0,45.8336L 0 3.819446ZM 0 11.45834L 50 11.4583334M 12.5 0L 12.5 49.652778",Extract:"M0,35 L30,0 L60,35 Z",ManualOperation:"M46.4,28.8 L14.8,28.8 L0,0 L60,0 Z",Merge:"M60,0 L30,35 L0,0 Z",OffPageReference:"M60,33.3 L30.1,39 L0,33.3 L0,0 L60,0 Z",SequentialAccessStorage:"M 60 30 C 60 13.4 46.6 0 30 0 S 0 13.4 0 30 s 13.4 30 30 30 h 28.6 v -6.5 h -9.9C 55.5 48 60 39.5 60 30 Z",Annotation:"M49.9984,50.0029 L-0.00271199,50.0029 L-0.00271199,0.00286865 L49.9984,0.00286865",Annotation2:"M49.9977,50.0029 L25.416,50.0029 L25.416,0.00286865 L49.9977,0.00286865 M25.4166,25.0029 L-0.00227869,25.0029",Data:"M 10 0 L 40 0 L 30 40 L 0 40 Z",Card:"M275,60 L400,60 L400,110 L260,110 L260,75 Z",Delay:"M0,0 L12.029,0 C14.212999,0 16,1.7869979 16,3.9709952 C16,6.1549926 14.212999,7.9409904 12.029,7.9409904 L0,7.9409904 z",Preparation:"M 1048.17 572 C 1051.06 568.86 1055.17 567.05 1059.5 567 L 1094.51 567 C 1098.84 567.05 1102.95 568.86 1105.84 572 L 1126.43 595 C 1127.01 596.28 1127.01 597.72 1126.43 599 L 1105.84 622 C 1102.95 625.14 1098.84 626.95 1094.51 627 L 1059.5 627 C 1055.17 626.95 1051.06 625.14 1048.17 622 L 1027.58 599 C 1027 597.72 1027 596.28 1027.58 595 L 1048.17 572 Z",Display:"M47.8809,19.2914 L32.7968,-0.00594145 L11.3902,-0.00594145 C7.93166,-0.00594145 0.00124586,11.187 0.00124586,24.9968C0.00124586,38.8032 7.93166,49.9962 11.3902,49.9962 L32.7968,49.99 L47.615,31.038 C47.615,31.0388 52.798,24.9968 47.880,19.2914 z",ManualInput:"M 912 732 L 1006.85 707 C 1008.2 707 1009.5 707.53 1010.46 708.46 C 1011.41 709.4 1011.95 710.67 1011.95 712 L 1011.95 762C 1012 764.41 1010.28 766.52 1007.87 767 L 917.1 767 C 915.75 767 914.45 766.47 913.49 765.54 C 912.54 764.6 912 763.33 912 762 L 912 732 Z",LoopLimit:"M 8 9 L 27 9 L 33 15 L 33 26 C 33 27 33 27 32 27 L 4 27 C 3 27 2 27 2 26 L 2 15 L 8 9 Z",StoredData:"M 5.55 0L 50 0A 1.5,30 0 0,1 50,0A 5.555,25 0 0,0 50,50A 1.5,30 0 0,1 50,50L 5.555 50A 5.55,25 0 0,1 5.555,0Z"};function Rr(e,t){var n;return n=function(e,t,n,i){var r,o,a=e.sourceWrapper,s=e.targetWrapper,l=e.sourcePortWrapper,c=e.targetPortWrapper,d=[],h={corners:void 0,point:t,direction:void 0,margin:{left:5,right:5,bottom:5,top:5}},p={corners:void 0,point:n,direction:void 0,margin:{left:5,right:5,bottom:5,top:5}};void 0!==a&&void 0!==s&&(r=bh(a),o=bh(s),h.corners=a.corners,p.corners=s.corners);if(void 0!==l){var u={x:l.offsetX,y:l.offsetY};h.direction=mo(u,r,a.bounds,!1)}if(void 0!==c){var f={x:c.offsetX,y:c.offsetY};p.direction=mo(f,o,s.bounds,!1)}if(void 0!==a&&void 0!==s)return void 0!==h.direction&&void 0!==p.direction||(i?function(e,t,n){"LeftToRight"===n?(e.direction=e.direction?e.direction:"Right",t.direction=t.direction?t.direction:"Left"):"RightToLeft"===n?(e.direction=e.direction?e.direction:"Left",t.direction=t.direction?t.direction:"Right"):"TopToBottom"===n?(e.direction=e.direction?e.direction:"Bottom",t.direction=t.direction?t.direction:"Top"):"BottomToTop"===n&&(e.direction=e.direction?e.direction:"Top",t.direction=t.direction?t.direction:"Bottom")}(h,p,i):h.corners.top>p.corners.bottom&&Math.abs(h.corners.top-p.corners.bottom)>h.margin.top+h.margin.bottom?(h.direction=h.direction?h.direction:"Top",p.direction=p.direction?p.direction:"Bottom"):h.corners.bottom<p.corners.top&&Math.abs(h.corners.bottom-p.corners.top)>h.margin.bottom+h.margin.top?(h.direction=h.direction?h.direction:"Bottom",p.direction=p.direction?p.direction:"Top"):h.corners.right<p.corners.left&&Math.abs(h.corners.right-p.corners.left)>h.margin.right+h.margin.left||h.corners.right+13<p.corners.left||p.corners.right>=h.corners.left-13&&h.corners.left>p.corners.left?(h.direction=h.direction?h.direction:"Right",p.direction=p.direction?p.direction:"Left"):h.corners.left>p.corners.right&&Math.abs(h.corners.left-p.corners.right)>h.margin.left+h.margin.right||p.corners.right+13<h.corners.left||h.corners.right>=p.corners.left-13&&h.corners.left<p.corners.left?(h.direction=h.direction?h.direction:"Left",p.direction=p.direction?p.direction:"Right"):a.id!==s.id&&!r.equals(r,o)&&o.containsPoint(r.topCenter,h.margin.top)?(h.direction=h.direction?h.direction:"Bottom",p.direction=p.direction?p.direction:"Top"):(h.direction=h.direction?h.direction:"Top",p.direction=p.direction?p.direction:"Bottom")),function(e,t,n,i,r){var o,a=e.sourceWrapper,s=e.targetWrapper,l=e.sourcePortWrapper,c=e.targetPortWrapper,d=[],h=a.corners,p=s.corners,u=(p.center,{corners:h,point:i,direction:t,margin:{left:5,right:5,bottom:5,top:5}}),f={corners:p,point:r,direction:n,margin:{left:5,right:5,bottom:5,top:5}},g=Xr(a,h,e.sourceWrapper.bounds),m=Xr(s,p,e.targetWrapper.bounds),v=!1;e.sourceWrapper&&e.targetWrapper&&(v=function(e,t,n){for(var i=Ur(e,n.sourcePadding),r=Ur(t,n.targetPadding),o=0;o<i.length-1;o++)for(var a=i[o],s=0;s<r.length-1;s++){var l=r[s];if(Ql(a,l).enabled)return!0}return!1}(e.sourceWrapper,e.targetWrapper,e));if(void 0!==l){switch(u.point={x:l.offsetX,y:l.offsetY},u.direction){case"Bottom":case"Top":u.point.y=u.point.y;break;case"Left":case"Right":u.point.x=u.point.x}e.sourcePadding&&!v&&(c&&(f.point={x:c.offsetX,y:c.offsetY}),u.point=Vr(e,u,f,!1))}else"Orthogonal"===e.type?(e.segments&&e.segments.length>0&&e.segments[0].direction&&(u.direction=e.segments[0].direction),u.point=no(g,u.direction),o=no(g,yo(u.direction)),u.point=ro(e,a,u.point,o,!1)):u.point=a.corners.center;if(void 0!==c){switch(f.point={x:c.offsetX,y:c.offsetY},f.direction){case"Bottom":case"Top":f.point.y=f.point.y;break;case"Left":case"Right":f.point.x=f.point.x}e.targetPadding&&!v&&(f.point=Vr(e,u,f,!0))}else"Orthogonal"===e.type?(f.point=no(m,f.direction),o=no(m,yo(f.direction)),f.point=ro(e,s,f.point,o,!0)):f.point=s.corners.center;if("Orthogonal"!==e.type){var y=void 0,b=void 0;if(Zr(e),void 0===e.sourcePortWrapper){u.point=u.corners.center,e.segments&&e.segments.length>0&&(b=e.segments[0],y=Jn.isEmptyPoint(b.point)?void 0:b);var w=void 0!==y?y.point:f.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[0].vector1.angle&&e.segments[0].vector1.distance){var x=Math.max(u.corners.width,u.corners.height);w=Jn.transform(u.point,e.segments[0].vector1.angle,x/2)}u.point=v?e.sourceWrapper.bounds.center:ro(e,a,u.point,w,!1)}if(void 0===e.targetPortWrapper){f.point=f.corners.center,e.segments&&e.segments.length>1&&(b=e.segments[e.segments.length-2],y=Jn.isEmptyPoint(b.point)?void 0:b);var S=y?y.point:u.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[e.segments.length-1].vector2.angle&&e.segments[e.segments.length-1].vector2.distance){x=Math.max(u.corners.width,u.corners.height);S=Jn.transform(f.point,e.segments[0].vector2.angle,x/2)}f.point=v?e.targetWrapper.bounds.center:ro(e,s,S,f.point,!0)}d=Gr(e,u,f)}else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].direction)d=function(e,t,n,i,r,o,a){var s,l,c,d;Zr(e);for(var h=0;h<e.segments.length;h++){if(l=e.segments[h],i&&t.direction===yo(l.direction)&&(l.direction=t.direction),h>0&&e.segments[h-1].direction===l.direction)h=Kr(e,h,t);else if(l.direction)t.point=Nr(t,e.segments[h]);else{var p=e.segments[h-1];t.point=p.points[p.points.length-1]}if(h===e.segments.length-1)if(Qr(e,t),Fr(s=void 0===r?$r(e,t,n):_r(e,t,n),e,t),l.points=[],s.length>=2)for(c=0;c<s.length;c++)l.points.push(s[c]);else d=h;if(void 0!==d&&(d===e.segments.length-1&&(e.segments[d-1].direction=null,e.segments[d-1].length=null),e.segments.splice(d,1)),i&&0===h){var u=Wr(e,i,o);u&&(t.point=u)}}return Jr(e,[])}(e,u,f,l,c,a);else{if(!e.segments[0]){y=new _a(e,"segments",{type:"Orthogonal"},!0);e.segments.push(y)}e.segments[0].points=d=function(e,t,n,i){var r,o;(r=function(e,t){var n=!1;switch(e){case"Left":switch(t){case"Right":case"Bottom":n=!0}break;case"Top":switch(t){case"Left":case"Right":case"Bottom":n=!0}break;case"Bottom":switch(t){case"Right":n=!0}}return n}(t.direction,n.direction))&&go(t,n);"Right"===t.direction&&"Left"===n.direction?o=function(e,t,n,i){var r,o=e.sourcePortWrapper,a=(e.targetPortWrapper,Math.round(Math.abs(t.point.y-n.point.y))),s=(Math.round(Math.abs(t.point.x-n.point.x)),{x:Math.max(t.point.x,t.corners.right),y:t.point.y}),l={x:Math.min(n.point.x,n.corners.left),y:n.point.y},c=10;if(i){var d;d=l,l=s,s=d}t.corners.bottom+c<n.corners.top-c||t.corners.top-c>n.corners.bottom+c||(c=0);t.margin={left:c,right:c,top:c,bottom:c},n.margin={left:c,right:c,top:c,bottom:c},r=0===a&&(t.corners.right<n.corners.left||i&&t.corners.right<n.corners.left)?Bi.One:t.point.x+t.margin.right<n.point.x-n.margin.left||e.sourceWrapper!==e.targetWrapper&&(bh(e.sourceWrapper).containsPoint(l)||bh(e.targetWrapper).containsPoint(s))?Bi.Three:(t.corners.bottom<=n.corners.top||t.corners.top>=n.corners.top||void 0!==o&&o.offsetY<=n.corners.top||void 0===o&&t.corners.right<=n.corners.top||void 0!==o&&o.offsetY>=n.corners.bottom||void 0===o&&(t.corners.right,n.corners.bottom),Bi.Five);return r}(e,t,n,r):"Right"===t.direction&&"Right"===n.direction?o=function(e,t,n){var i,r=e.sourcePortWrapper,o=e.targetPortWrapper,a=t.point.x-n.point.x,s=t.point.y-n.point.y;n.margin={left:10,right:10,top:10,bottom:10},t.margin={left:10,right:10,top:10,bottom:10},i=t.corners.right>=n.corners.right?void 0!==r&&(r.offsetY<n.corners.top||r.offsetY>n.corners.bottom)||void 0===r&&t.corners.middleRight.y<n.corners.top||void 0!==r&&r.offsetY>n.corners.bottom+n.margin.bottom&&t.corners.top>n.corners.bottom||void 0===r&&t.corners.middleRight.y>n.corners.bottom||void 0!==r&&r.offsetY<n.corners.top&&t.corners.bottom>n.corners.top||void 0===r&&t.corners.middleRight.y>n.corners.bottom?Bi.Three:t.corners.right<n.corners.left||n.corners.right<t.corners.left?Bi.Five:0===a||0===s?Bi.One:Bi.Three:void 0!==o&&t.corners.bottom<o.offsetY||void 0===o&&t.corners.bottom<n.corners.middleRight.y||void 0!==o&&t.corners.top>o.offsetY||void 0===o&&t.corners.top>n.corners.middleRight.y||void 0!==o&&(void 0!==r&&r.offsetX<n.corners.left&&r.offsetX!==o.offsetX&&r.offsetY!==o.offsetY&&Math.abs(t.corners.right-n.corners.left)<=20||void 0===r&&t.corners.right<n.corners.left&&t.corners.center.x!==n.corners.center.x&&t.corners.center.y!==n.corners.center.y)?Bi.Three:t.corners.right<n.corners.left?Bi.Five:0===a||0===s?Bi.One:Bi.Three;return i}(e,t,n):"Right"===t.direction&&"Top"===n.direction?o=function(e,t,n,i){var r,o=e.targetPortWrapper,a=e.sourcePortWrapper,s={x:Math.max(t.point.x,t.corners.right),y:t.point.y},l={x:n.point.x,y:Math.min(n.point.y,n.corners.top)};if(n.margin={left:5,right:5,top:5,bottom:5},t.margin={top:5,bottom:5,left:5,right:5},i){var c;c=a,a=o,o=c}r=void 0!==a&&a.offsetY<n.corners.top-n.margin.top||void 0===a&&t.corners.bottom<n.corners.top-n.margin.top?t.corners.bottom<n.corners.top?void 0!==o&&t.corners.right+t.margin.right<o.offsetX||void 0===o&&t.corners.right+t.margin.right<n.corners.topCenter.x?Bi.Two:Bi.Four:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.topCenter.x?Bi.Four:Bi.Two:void 0!==a&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(a.offsetY-n.corners.top)<=25||void 0!==o&&Math.abs(o.offsetX-t.corners.topCenter.x)>=25&&t.corners.middleRight.y<o.offsetY?Bi.Two:t.corners.right<n.corners.left?Bi.Four:e.sourceWrapper!==e.targetWrapper&&(bh(e.sourceWrapper).containsPoint(l)||bh(e.targetWrapper).containsPoint(s))?Bi.Two:Bi.Four;return r}(e,t,n,r):"Right"===t.direction&&"Bottom"===n.direction?o=function(e,t,n,i){var r;t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10};var o=e.sourcePortWrapper,a=e.targetPortWrapper;Math.max(t.point.x,t.corners.right),t.point.y,n.point.x,Math.max(n.point.y,n.corners.bottom);if(i){var s;s=o,o=a,a=s}r=void 0!==o&&o.offsetY>n.corners.bottom+n.margin.bottom||void 0===o&&t.corners.middleRight.y>n.corners.bottom+n.margin.bottom?t.corners.top>n.corners.bottom?void 0!==a&&t.corners.right+t.margin.right<a.offsetX||void 0===a&&t.corners.right+t.margin.right<n.corners.bottomCenter.x?Bi.Two:Bi.Four:void 0!==a&&t.corners.left>a.offsetX||void 0===a&&t.corners.left>n.corners.bottomCenter.x?Bi.Four:Bi.Two:void 0!==o&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(o.offsetY-n.corners.bottom)<=25?Bi.Two:(t.corners.right,n.corners.left,Bi.Four);return r}(e,t,n,r):"Bottom"===t.direction&&"Top"===n.direction?o=function(e,t){var n,i=e.point.x-t.point.x,r=(e.point.y,t.point.y,e.point.x,Math.max(e.point.y,e.corners.bottom),t.point.x,Math.min(t.point.y,t.corners.top),10);e.corners.right+r<t.corners.left-r||e.corners.left-r>t.corners.right+r||(r=0);e.margin={left:r,right:r,top:r,bottom:r},t.margin={left:r,right:r,top:r,bottom:r},n=0===i&&e.corners.bottom<t.corners.top?Bi.One:e.corners.bottom+e.margin.bottom<t.corners.top-t.margin.top?Bi.Three:(e.corners.right+e.margin.right<t.corners.left-t.margin.left||(e.corners.left,e.margin.left,t.corners.right,t.margin.right),Bi.Five);return n}(t,n):"Bottom"===t.direction&&"Bottom"===n.direction?(t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10},o=function(e,t,n){var i,r=e.sourcePortWrapper,o=e.targetPortWrapper,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(n.point.y-n.point.y));i=t.corners.bottom<n.corners.bottom?void 0!==r&&r.offsetX<n.corners.left-n.margin.left||void 0===r&&t.corners.bottomCenter.x<n.corners.left-n.margin.left||void 0!==r&&r.offsetX>n.corners.right+n.margin.right||void 0===r&&t.corners.bottomCenter.x>n.corners.right+n.margin.right?Bi.Three:t.corners.bottom<n.corners.top?Bi.Five:0===a||0===s?Bi.One:Bi.Three:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.left||void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<n.corners.right?Bi.Three:t.corners.top>n.corners.bottom?Bi.Five:0===a||0===s?Bi.One:Bi.Three;return i}(e,t,n)):"Bottom"===t.direction&&"Left"===n.direction?o=function(e,t,n,i){var r,o=e.sourcePortWrapper,a=e.targetPortWrapper;t.point.x,Math.max(t.point.y,t.corners.bottom),Math.min(n.point.x,n.corners.left),n.point.y;if(i){var s;s=o,o=a,a=s}r=void 0!==o&&o.offsetX<n.corners.left-n.margin.left||void 0===o&&t.corners.bottomCenter.x<n.corners.bottomLeft.x-n.margin.left?t.corners.right<n.corners.left?void 0!==a&&t.corners.bottom+t.margin.bottom<a.offsetY||void 0===a&&t.corners.bottom+t.margin.bottom<n.corners.middleLeft.y?Bi.Two:Bi.Four:void 0!==a&&t.corners.top>a.offsetY||void 0===a&&t.corners.top>n.corners.middleLeft.y?Bi.Four:Bi.Two:void 0!==a&&Math.abs(t.corners.right-n.corners.left)<=25&&Math.abs(a.offsetY-t.corners.bottom)<=25?Bi.Two:Bi.Four;return r}(e,t,n,r):"Left"===t.direction&&"Left"===n.direction?o=function(e,t,n){var i=e.sourcePortWrapper,r=e.targetPortWrapper;t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10};var o,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(t.point.y-n.point.y));o=t.corners.left<n.corners.left?void 0!==r&&t.corners.bottom+t.margin.bottom<r.offsetY||void 0===r&&t.corners.bottom+t.margin.bottom<n.corners.middleLeft.y||void 0!==r&&t.corners.top-t.margin.top>r.offsetY||void 0===r&&t.corners.top-t.margin.top>n.corners.middleLeft.y?Bi.Three:t.corners.right<n.corners.left||n.corners.right<t.corners.left?Bi.Five:0===a||0===s?Bi.One:Bi.Three:void 0!==i&&i.offsetY<n.corners.top-n.margin.top||void 0===i&&t.corners.middleLeft.y<n.corners.top||void 0!==i&&i.offsetY>n.corners.bottom+n.margin.bottom||void 0===i&&t.corners.middleLeft.y>n.corners.bottom+n.margin.bottom?Bi.Three:t.corners.left>n.corners.right?Bi.Five:0===a||0===s?Bi.One:Bi.Three;return o}(e,t,n):"Left"===t.direction&&"Top"===n.direction?o=function(e,t,n,i){var r,o=e.sourcePortWrapper,a=e.targetPortWrapper,s={x:Math.min(t.point.x,t.corners.left),y:t.point.y},l={x:n.point.x,y:Math.min(n.point.y,n.corners.top)};if(i){var c;c=o,o=a,a=c}r=void 0!==o&&o.offsetY<n.corners.top-n.margin.top||void 0===o&&(t.corners.bottom<n.corners.top-n.margin.top||t.corners.middleLeft.y<n.corners.top-n.margin.top)?t.corners.bottom<n.corners.top?void 0!==a&&t.corners.left-t.margin.left>a.offsetX||void 0===a&&t.corners.left-t.margin.left>n.corners.topCenter.x?Bi.Two:Bi.Four:void 0!==a&&t.corners.right<a.offsetX||void 0===a&&t.corners.right<n.corners.topCenter.x?Bi.Four:Bi.Two:void 0!==o&&Math.abs(t.corners.left-n.corners.right)<=25&&Math.abs(o.offsetY-n.corners.top)<=25||e.sourceWrapper!==e.targetWrapper&&(bh(e.sourceWrapper).containsPoint(l)||bh(e.targetWrapper).containsPoint(s))?Bi.Two:(t.corners.left,n.corners.right,Bi.Four);return r}(e,t,n,r):"Top"===t.direction&&"Top"===n.direction&&(o=function(e,t,n){var i,r=e.sourcePortWrapper,o=e.targetPortWrapper,a=Math.round(Math.abs(t.point.x-n.point.x)),s=Math.round(Math.abs(t.point.y-n.point.y));t.margin={left:10,right:10,top:10,bottom:10},n.margin={left:10,right:10,top:10,bottom:10},i=t.corners.top<n.corners.top?void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>n.corners.left||void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<n.corners.right?Bi.Three:t.corners.bottom<n.corners.top?Bi.Five:0===a||0===s?Bi.One:Bi.Three:void 0!==r&&r.offsetX>n.corners.right||void 0===r&&t.corners.left>n.corners.right||void 0!==r&&r.offsetX<n.corners.left||void 0===r&&t.corners.bottomRight.x<n.corners.left?Bi.Three:t.corners.top>n.corners.bottom?Bi.Five:0===a||0===s?Bi.One:Bi.Three;return i}(e,t,n));r&&go(t,n);return function(e,t,n,i,r){var o,a=e.sourceWrapper,s=e.targetWrapper,l=(e.targetPortWrapper,a.corners),c=s.corners,d=20;if((n.direction!==i.direction||t===Bi.Five)&&(n.direction===yo(i.direction)||t===Bi.Three))switch(n.direction){case"Left":l.middleLeft.x>c.middleRight.x&&(d=Math.min(d,(l.middleLeft.x-c.middleRight.x)/2));break;case"Right":l.middleRight.x<c.middleLeft.x&&(d=Math.min(d,(c.middleLeft.x-l.middleRight.x)/2));break;case"Top":l.topCenter.y>c.bottomCenter.y&&(d=Math.min(d,(l.topCenter.y-c.bottomCenter.y)/2));break;case"Bottom":l.bottomCenter.y<c.topCenter.y&&(d=Math.min(d,(c.topCenter.y-l.bottomCenter.y)/2))}d=co(l,n,d),r&&(d=Math.max(d,r));t===Bi.One&&(o=[n.point,i.point]);t===Bi.Two&&(o=ho(n,i));t===Bi.Three&&(o=po(e,n,i,d));if(t===Bi.Four){o=uo(n,i,void 0,o,d)}t===Bi.Five&&(o=function(e,t,n){void 0===n&&(n=20);var i,r,o=n,a=e.corners.left-e.margin.left,s=e.corners.right+e.margin.right,l=e.corners.bottom+e.margin.bottom,c=e.corners.top-e.margin.top,d=t.corners.left-t.margin.left,h=t.corners.right+t.margin.right,p=t.corners.bottom+t.margin.bottom,u=t.corners.top-t.margin.top;switch(e.direction){case"Left":(c>u&&c<p||l<p&&l>u)&&a>d&&a<=h&&n>=20&&(o=e.point.x-t.corners.left+o),r=io(e.point,o,180);break;case"Top":(a>d&&a<h||s<h&&s>d)&&c>u&&c<=p&&n>=20&&(o=e.point.y-t.corners.top+o),r=io(e.point,o,270);break;case"Right":(c>u&&c<p||l<p&&l>u)&&s<h&&s>=d&&n>=20&&(o=t.corners.right-e.point.x+o),r=io(e.point,o,0);break;case"Bottom":(a>d&&a<h||s<h&&s>d)&&l<p&&l>=u&&n>=20&&(o=t.corners.bottom-e.point.y+o),r=io(e.point,o,90)}if(i=[e.point,r],"Top"===e.direction||"Bottom"===e.direction){var f=e.direction;e.direction=r.x>t.point.x?"Left":"Right",e.point=r,i=uo(e,t,f,i)}else{f=e.direction;e.direction=r.y>t.point.y?"Top":"Bottom",e.point=r,i=uo(e,t,f,i)}return i}(n,i,d));return o}(e,o,t,n,i)}(e,u,f)}return d}(e,h.direction,p.direction,h.point,p.point);Zr(e),(e.sourceWrapper||e.targetWrapper)&&function(e,t,n){var i,r=e.sourcePortWrapper,o=e.targetPortWrapper,a=e.sourceWrapper,s=t.point,l={left:0,right:0,top:0,bottom:0},c={x:0,y:0},d="Top";a?(s=n.point,l=t.margin):(a=e.targetWrapper,l=n.margin);if("Orthogonal"===e.type)if(e.segments&&e.segments.length>0&&e.sourceWrapper&&e.segments[0].direction)t.direction=e.segments[0].direction,c=no(a.corners,t.direction),i=no(a.corners,yo(t.direction)),c=ro(e,a,c,i,!1);else{var h={corners:null,direction:null,point:null,margin:null};eo(a,{corners:null,direction:null,point:s,margin:l},h,e),c=h.point,d=h.direction}else{var p=void 0;e.segments&&e.segments.length>1&&(p=a===e.sourceWrapper?e.segments[0].point:e.segments[e.segments.length-2].point),c=ro(e,a,a.bounds.center,e.segments&&e.segments.length>1?p:s,a===e.targetWrapper)}a===e.sourceWrapper?(t.direction=t.direction||d,t.point=c,e.sourcePortWrapper&&(t.point={x:r.offsetX,y:r.offsetY},e.sourcePadding&&(t.point=Vr(e,t,n,!1)))):(n.direction=n.direction||d,n.point=c,e.targetPortWrapper&&(n.point={x:o.offsetX,y:o.offsetY},e.targetPadding&&(n.point=Vr(e,t,n,!0))))}(e,h,p);if("Straight"===e.type||"Bezier"===e.type)d=Gr(e,h,p);else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].length&&null!==e.segments[0].direction)d=function(e,t,n,i,r,o,a){var s,l,c,d,h,p=[];if(Zr(e),e.segments.length>0){for(var u=0;u<e.segments.length;u++){var f=e.segments[u];if(0===u&&void 0!==e.sourcePortWrapper&&(d={x:o.offsetX,y:o.offsetY},c=mo(d,bh(i),i.bounds,!1),f.direction===yo(c)&&(f.direction=c)),u>0&&e.segments[u-1].direction===f.direction)u=Kr(e,u,t);else{var g=e.segments[u-1];t.point=f.direction?Nr(t,f):g.points[g.points.length-1]}if(u===e.segments.length-1&&(a||r?e.targetWrapper&&void 0===e.targetPortWrapper?(Qr(e,t),l=Br(e,t,n)):l=_r(e,t,n):l=zr(e,t,n),l))if(Fr(l,e,t),f.points=[],l.length>=2)for(s=0;s<l.length;s++)f.points.push(l[s]);else h=u;if(o&&0===u){var m=Wr(e,o,i);m&&(t.point=m)}}void 0!==h&&(h===e.segments.length-1&&(e.segments[h-1].direction=null,e.segments[h-1].length=null),e.segments.splice(h,1)),p=Jr(e,p)}return p}(e,h,p,a,s,l,c);else{var g=void 0;h.direction?g=co(a.bounds,h,20):h.direction=p.direction?void 0!==e.targetPortWrapper?p.direction:yo(p.direction):Jn.direction(h.point,p.point),e.segments[0].points=d=po(e,h,p,g)}return d}(e,"Straight"!==e.type&&e.sourceWrapper?e.sourceWrapper.corners.center:function(e){var t;if(e.sourcePortWrapper){var n=e.sourcePortWrapper,i=e.sourceWrapper,r={x:n.offsetX,y:n.offsetY};mo(r,bh(i),i.bounds,!1);t=r}else if(e.sourceID&&e.sourceWrapper)if(e.targetWrapper){var o=e.sourceWrapper.corners.center,a=e.targetWrapper.corners.center;t=ro(e,e.sourceWrapper,o,a,!1)}else t=e.sourcePoint;else t=e.sourcePoint;return t}(e),e.targetPoint,t),oo(e,n[0],!1),oo(e,n[n.length-1],!0),n}function Nr(e,t){var n,i,r;return e.direction=t.direction,t.points=[],t.points.push(e.point),r="Left"===t.direction||"Top"===t.direction?-t.length:t.length,i="Left"===t.direction||"Right"===t.direction?0:90,n=io(e.point,r,i),t.points.push(n),n}function zr(e,t,n){var i,r,o,a;(t.corners=e.sourceWrapper?e.sourceWrapper.corners:void 0,e.sourcePortWrapper)&&(o=mo({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},bh(e.sourceWrapper),e.sourceWrapper.bounds,!1),!t.corners||"Bottom"!==t.direction&&"Top"!==t.direction?!t.corners||"Left"!==t.direction&&"Right"!==t.direction||n.point.y>t.corners.top&&n.point.y<t.corners.bottom&&(r=t.point.x>n.point.x?"Left":"Right"):n.point.x>t.corners.left&&n.point.x<t.corners.right&&(r=t.point.y>n.point.y?"Top":"Bottom"));e.sourcePortWrapper&&o===yo(r)?(("Left"===o||"Right"===o)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.center.y&&n.point.y>=t.corners.top&&n.point.y<=t.corners.center.y?(t.direction="Top",a=t.point.y-t.corners.top+20):("Left"===o||"Right"===o)&&t.point.y>t.corners.center.y&&t.point.y<=t.corners.bottom&&n.point.y>t.corners.center.y&&n.point.y<=t.corners.bottom?(t.direction="Bottom",a=t.corners.bottom-t.point.y+20):("Top"===o||"Bottom"===o)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.center.x&&n.point.x>=t.corners.left&&n.point.x<=t.corners.center.x?(t.direction="Left",a=t.point.x-t.corners.left+20):("Top"===o||"Bottom"===o)&&t.point.x<=t.corners.right&&t.point.x>t.corners.center.x&&n.point.x<=t.corners.right&&n.point.x<t.corners.center.x&&(t.direction="Right",a=t.corners.right-t.point.x+20),t.direction&&a&&(i=po(e,t,n,a,!0))):(t.direction=r||qr(t.direction,t.point,n.point),i=ho(t,n));return i}function Br(e,t,n){var i;n.corners=e.targetWrapper.corners,eo(e.targetWrapper,t,n,e);var r=qr(n.direction,t.point,n.point);t.direction!==n.direction||"Left"!==t.direction&&"Right"!==t.direction?(t.direction=r,i=ho(t,n)):(t.direction=r,i=po(e,t,n,e.targetWrapper.width/2+20),t.point=i[1],eo(e.targetWrapper,t,n,e),i=po(e,t,n));return i}function Hr(e,t,n){var i,r,o;n.corners=e.targetWrapper.corners,"Left"!==t.direction&&"Right"!==t.direction?n.corners.center.y!==t.point.y||n.corners.left<=t.point.x&&t.point.x<=n.corners.right?n.corners.center.y===t.point.y&&"Bottom"===e.segments[e.segments.length-2].direction||n.corners.center.y>t.point.y&&t.point.y>=n.corners.top?(r="Top",o=t.point.y-n.corners.top+20):n.corners.center.y===t.point.y&&"Top"===e.segments[e.segments.length-2].direction||n.corners.center.y<t.point.y&&t.point.y<=n.corners.bottom?(r="Bottom",o=n.corners.bottom-t.point.y+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.top<=t.point.y&&t.point.y<=t.corners.bottom&&(r=t.direction,o=t.point.y>n.point.y?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):(r="Top",o=n.corners.height/2+20):n.corners.center.x!==t.point.x||n.corners.top<t.point.y&&t.point.y<=n.corners.bottom?n.corners.center.x===t.point.x&&"Right"===e.segments[e.segments.length-2].direction||n.corners.center.x>t.point.x&&t.point.x>=n.corners.left?(r="Left",o=t.point.x-n.corners.left+20):n.corners.center.x===t.point.x&&"Left"===e.segments[e.segments.length-2].direction||n.corners.center.x<=t.point.x&&t.point.x<=n.corners.right?(r="Right",o=n.corners.right-t.point.x+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.left<=t.point.x&&t.point.x<=t.corners.right&&(r=t.direction,o=t.point.x>n.point.x?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20):(r="Left",o=n.corners.width/2+20);var a="Left"===r||"Top"===r?-o:o,s="Left"===r||"Right"===r?0:90;i=t.point,t.point=io(t.point,a,s),t.direction=Jn.direction(t.point,n.point),void 0===e.sourcePortWrapper||void 0===e.targetPortWrapper||t.corners.center.x!==n.corners.center.x&&t.corners.center.y!==n.corners.center.y||(t.direction=n.direction);var l=po(e,t,n);return l.splice(0,0,i),l}function _r(e,t,n){var i,r;(n.corners=e.targetWrapper.corners,void 0!==e.sourcePortWrapper)&&(r=mo({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},bh(e.sourceWrapper),e.sourceWrapper.bounds,!1));var o=function(e,t,n,i){var r=!1;switch(n.direction){case"Left":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Right"===i&&t.point.x>n.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||("Bottom"===i&&t.point.y>n.point.y||"Top"===i&&t.point.y<n.point.y)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction="Right"===i?t.point.y>n.point.y?"Top":"Bottom":t.point.x<n.point.x?"Right":"Left",r=!0):t.point.x>n.point.x&&(t.point.y>n.point.y||t.point.y<n.point.y)&&!(n.corners.top>t.point.y&&n.corners.bottom<t.point.y)?t.direction="Left":t.point.x<n.point.x&&t.point.y>n.point.y||t.point.x>n.point.x&&t.point.y<=n.point.y&&n.corners.top<t.point.y&&n.corners.center.y>=t.point.y?t.direction="Top":t.point.x<n.point.x&&t.point.y<n.point.y||t.point.x>n.point.x&&t.point.y>n.point.y&&n.corners.bottom<t.point.y&&n.corners.center.y>t.point.y?t.direction="Bottom":t.point.y===n.point.y&&t.point.x<n.point.x&&(t.direction="Right");break;case"Right":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&("Bottom"===i&&t.point.y>n.point.y||"Top"===i&&t.point.y<n.point.y)&&t.point.x>n.point.x&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction=t.point.x>n.point.x?"Left":"Right",r=!0):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Left"===i&&t.point.x<n.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=t.point.y>n.point.y?"Top":"Bottom",r=!0):t.point.x<n.point.x&&n.corners.top<=t.point.y&&n.corners.bottom>=t.point.y&&t.point.y===n.point.y||t.point.y>n.point.y&&t.point.x>n.point.x?t.direction="Top":t.point.y<n.point.y&&t.point.x>n.point.x?t.direction="Bottom":t.point.x<n.point.x&&(t.point.y>n.point.y||t.point.y<n.point.y)?t.direction="Right":t.point.y===n.point.y&&t.point.x>n.point.x&&(t.direction="Left");break;case"Top":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Bottom"===i&&t.point.y>n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right||("Right"===i&&t.point.x>n.point.x||"Left"===i&&n.point.y>t.point.y&&n.point.x>t.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction="Bottom"===i?t.point.x>n.point.x?"Left":"Right":t.point.y<n.point.y?"Bottom":"Top",r=!0):t.point.x===n.point.x&&t.point.y<n.point.y?t.direction="Bottom":t.point.y>n.point.y&&t.point.x>n.corners.left&&t.point.x<n.corners.right?t.direction="Left":t.point.y>=n.point.y?t.direction="Top":t.point.y<n.point.y&&t.point.x>n.point.x?t.direction="Left":t.point.y<n.point.y&&t.point.x<n.point.x&&(t.direction="Right");break;case"Bottom":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&(("Right"===i||"Left"===i&&n.point.x>t.point.x)&&t.point.y>n.point.y&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Top"===i&&t.point.y<n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?(t.direction="Right"===i||"Left"===i?t.point.y>n.point.y?"Top":"Bottom":t.point.x>n.point.x?"Left":"Right",r=!0):t.point.y<n.point.y&&t.point.x>n.corners.left&&n.corners.right>t.point.x?t.point.y<n.point.y&&t.point.x>n.corners.left&&n.corners.center.x>=t.point.x?t.direction="Left":t.point.y<n.point.y&&t.point.x<n.corners.right&&n.corners.center.x<t.point.x&&(t.direction="Right"):t.point.y>n.point.y&&t.point.x>n.point.x?t.direction="Left":t.point.y>n.point.y&&t.point.x<n.point.x?t.direction="Right":t.point.y<=n.point.y&&(t.point.x>n.point.x||n.point.x>t.point.x)&&(t.direction="Bottom")}return r}(e,t,n,r);return void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&n.direction===yo(r)&&(("Left"===n.direction&&t.point.x>n.point.x||"Right"===n.direction&&t.point.x<n.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Bottom"===n.direction&&t.point.y<n.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?i=Hr(e,t,n):t.direction===n.direction?i=po(e,t,n):("Left"===n.direction&&t.point.x>n.point.x||"Right"===n.direction&&t.point.x<n.point.x)&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.y<=n.point.y&&n.corners.top<=t.point.y&&n.corners.bottom>=t.point.y||"Top"===n.direction&&t.point.y>n.point.y||"Bottom"===n.direction&&t.point.y<n.point.y&&n.corners.left<=t.point.x&&n.corners.right>=t.point.x?i=Hr(e,t,n):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Left"===t.direction||"Right"===t.direction)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom&&("Top"===n.direction||"Bottom"===n.direction)&&n.corners.center.x===t.corners.center.x?(t.direction="Top"===n.direction?"Bottom":"Top",i=po(e,t,n,"Top"===n.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&("Left"===n.direction||"Right"===n.direction)&&n.corners.center.y===t.corners.center.y?(t.direction="Left"===n.direction?"Right":"Left",i=po(e,t,n,"Left"===n.direction?t.corners.right-t.point.x+20:t.point.x-t.corners.left+20)):i=o?po(e,t,n,"Left"===t.direction||"Right"===t.direction?"Left"===t.direction?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20:"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):ho(t,n),i}function Wr(e,t,n){var i,r={x:t.offsetX,y:t.offsetY},o=bh(n),a=mo(r,o,n.bounds,!1),s=e.segments[0];return s.direction!==a&&(!function(e,t,n,i,r,o){var a,s,l=[];l.push(i),i.y===r.y&&("Left"===t&&r.x<i.x||"Right"===t&&r.x>i.x)||i.x===r.x&&("Top"===t&&r.y<i.y||"Bottom"===t&&r.y>i.y)||("Top"===t||"Bottom"===t?"Top"===t&&r.y<i.y&&r.y>i.y-13||"Bottom"===t&&r.y>i.y&&r.y<i.y+13?(s="Top"===t?n.top-13:n.bottom+13,l.push({x:i.x,y:s}),l.push({x:i.x+(r.x-i.x)/2,y:s}),l.push({x:i.x+(r.x-i.x)/2,y:r.y})):Math.abs(i.x-r.x)>13&&("Top"===t&&r.y<i.y||"Bottom"===t&&r.y>i.y)?l.push({x:i.x,y:r.y}):(s="Top"===t?n.top-13:n.bottom+13,a=r.x<i.x?n.left-13:n.right+13,l.push({x:i.x,y:s}),l.push({x:r.x,y:s})):"Left"===t&&r.x<i.x&&r.x>i.x-13||"right"===t&&r.x>i.x&&r.x<i.x+13?(a="Left"===t?n.left-13:n.right+13,l.push({x:a,y:i.y}),l.push({x:a,y:i.y+(r.y-i.y)/2}),l.push({x:r.x,y:i.y+(r.y-i.y)/2})):Math.abs(i.y-r.y)>13&&("Left"===t&&r.x<i.x||"Right"===t&&r.x>i.x)?l.push({x:r.x,y:i.y}):(a="Left"===t?n.left-13:n.right+13,l.push({x:a,y:i.y}),l.push({x:a,y:r.y})),o&&(l.push(e.points[0]),l.reverse()),e.points=l)}(s,a,o,s.points[0],s.points[s.points.length-1],!1),i=s.points[s.points.length-1],s.direction=Jn.direction(s.points[s.points.length-2],s.points[s.points.length-1])),i}function Fr(e,t,n){var i,r=t.segments[t.segments.length-2],o=r.points[r.points.length-1];("Top"!==r.direction&&"Bottom"!==r.direction||o.x!==e[1].x)&&("Left"!==r.direction&&"Right"!==r.direction||o.y!==e[1].y)||(r.points[r.points.length-1]=e[1],i=Jn.direction(r.points[0],r.points[r.points.length-1]),void 0!==t.sourceWrapper&&void 0===t.sourcePortWrapper&&i===yo(r.direction)&&("Left"===r.direction||"Right"===r.direction?r.points[0].x="Right"===r.direction?r.points[0].x-t.sourceWrapper.corners.width:r.points[0].x+t.sourceWrapper.corners.width:r.points[0].y="Bottom"===r.direction?r.points[0].y-t.sourceWrapper.corners.height:r.points[0].y+t.sourceWrapper.corners.height),r.direction=i,r.length=Jn.distancePoints(r.points[0],r.points[r.points.length-1]),e.splice(0,1))}function Vr(e,t,n,i){var r=e.sourcePortWrapper,o=e.targetPortWrapper,a=i?e.targetPadding:e.sourcePadding,s=i?o:r,l=new di(s.bounds.x-a,s.bounds.y-a,s.actualSize.width+2*a,s.actualSize.height+2*a),c=[l.topLeft,l.topRight,l.bottomRight,l.bottomLeft];c[c.length]=c[0];c.length;var d={x1:t.point.x,y1:t.point.y,x2:n.point.x,y2:n.point.y},h=i?n.point:t.point;return ao(d,c,!0,h)||h}function Ur(e,t){var n=[],i=tc(e,e.corners,t);i.push(i[0]);for(var r=0;r<i.length-1;r++)n.push(Yr(i[r],i[r+1]));return n}function Yr(e,t){return{x1:e.x,y1:e.y,x2:t.x,y2:t.y}}function Xr(e,t,n){var i,r=e.rotateAngle+e.parentTransform;if(r){if(r<45)return t;if(r<=135)i={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.middleLeft,topRight:t.topLeft,middleLeft:t.bottomCenter,center:n.center,middleRight:t.topCenter,bottomLeft:t.bottomRight,bottomCenter:t.middleRight,bottomRight:t.topRight,left:n.left,right:n.right,top:n.top,bottom:n.bottom};else if(r<=225)i={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.bottomCenter,topRight:t.bottomRight,middleLeft:t.middleRight,center:n.center,middleRight:t.middleLeft,bottomLeft:t.topLeft,bottomCenter:t.topCenter,bottomRight:t.topRight,left:n.left,right:n.right,top:n.top,bottom:n.bottom};else{if(!(r<=315))return t;i={width:t.width,height:t.height,topLeft:t.topRight,topCenter:t.middleRight,topRight:t.bottomRight,middleLeft:t.topCenter,center:n.center,middleRight:t.bottomCenter,bottomLeft:t.topLeft,bottomCenter:t.middleLeft,bottomRight:t.bottomLeft,left:n.left,right:n.right,top:n.top,bottom:n.bottom}}return i}return t}function Gr(e,t,n){var i=[];if(e.segments&&e.segments.length>0){var r=void 0,o=[],a=t.point;for(r=0;r<e.segments.length;r++){var s=e.segments[r];if((o=[]).push(a),r!==e.segments.length-1?(o.push(s.point),a=s.point):o.push(n.point),e.segments[r].points=o,e.segments.length>1&&Jn.equals(s.points[0],s.points[1])&&e.segments.splice(r,1),s)for(var l=0;l<s.points.length;l++)(l>0||0===r)&&i.push(s.points[l])}}return i}function qr(e,t,n){return"Top"===e||"Bottom"===e?n.x>t.x?"Right":"Left":n.y>t.y?"Bottom":"Top"}function Zr(e){if("Straight"===e.type||"Bezier"===e.type){if(0===e.segments.length||e.segments.length>0&&!Jn.isEmptyPoint(e.segments[e.segments.length-1].point)){var t=void 0;t="Bezier"===e.type?new Ha(e,"segments",{type:"Bezier"},!0):new Ba(e,"segments",{type:"Straight"},!0),e.segments.push(t)}}else if(0===e.segments.length||e.segments[e.segments.length-1].direction){t=new _a(e,"segments",{type:"Orthogonal"},!0);e.segments.push(t)}}function Kr(e,t,n){var i=e.segments[t],r="Left"===i.direction||"Top"===i.direction?-i.length:i.length,o="Left"===i.direction||"Right"===i.direction?0:90,a=io(n.point,r,o);return e.segments[t-1].length+=i.length,e.segments[t-1].points[1]=n.point=a,e.segments.splice(t,1),--t}function $r(e,t,n){var i,r;e.sourcePortWrapper&&(r=mo({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},bh(e.sourceWrapper),e.sourceWrapper.bounds,!1));eo(e.targetWrapper,t,n,e);var o=qr(n.direction,t.point,n.point);if(void 0===e.sourcePortWrapper||t.direction!==n.direction||("Top"!==t.direction&&"Bottom"!==t.direction||t.corners.center.x!==n.corners.center.x)&&("Left"!==t.direction&&"Right"!==t.direction||t.corners.center.y!==n.corners.center.y))if(n.point.x>=t.corners.left&&n.point.x<=t.corners.right&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom){t.direction=n.point.y>t.point.y?"Bottom":"Top",i=po(e,t,n,"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20)}else if(e.sourcePortWrapper&&r===yo(o)){var a;("Left"===r||"Right"===r)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=n.point.y>t.point.y?"Bottom":"Top",a=t.corners.height/2+20):("Top"===r||"Bottom"===r)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&(t.direction=n.point.x>t.point.x?"Right":"Left",a=t.corners.width/2+20),t.direction&&a?i=po(e,t,n,a,!0):(t.direction=o,i=ho(t,n))}else if(!e.sourcePortWrapper||r!==n.direction||"Top"!==r&&"Bottom"!==r||t.corners.center.x!==n.corners.center.x)t.direction=o,i=ho(t,n);else{t.direction=n.point.y>t.point.y?"Bottom":"Top",i=po(e,t,n,"Bottom"===t.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)}else t.direction=o,i=po(e,t,n,"Top"===o||"Bottom"===o?e.sourceWrapper.height/2+20:e.sourceWrapper.width/2+20),t.point=i[1],"Left"===o||"Right"===o?(n.direction=o,n.point="Left"===o?n.corners.middleLeft:n.corners.middleRight):eo(e.targetWrapper,t,n,e),i=po(e,t,n);return i}function Qr(e,t){if(void 0!==e.targetWrapper&&void 0===e.targetPortWrapper&&bh(e.targetWrapper).containsPoint(t.point)){var n=e.targetWrapper,i=e.segments[e.segments.length-2],r=i.points[i.points.length-1],o=yo(i.direction);"Bottom"===o?r.y<n.corners.bottom&&(i.points[i.points.length-1].y=n.corners.bottom+20,i.length=Jn.distancePoints(i.points[0],i.points[i.points.length-1])):"Top"===o?r.y>n.corners.top&&(i.points[i.points.length-1].y=n.corners.top-20,i.length=Jn.distancePoints(i.points[0],i.points[i.points.length-1])):"Left"===o?r.x>n.corners.left&&(i.points[i.points.length-1].x=n.corners.left-20,i.length=Jn.distancePoints(i.points[0],i.points[i.points.length-1])):"Right"===o&&r.x<n.corners.right&&(i.points[i.points.length-1].x=n.corners.right+20,i.length=Jn.distancePoints(i.points[0],i.points[i.points.length-1])),t.point=i.points[i.points.length-1]}}function Jr(e,t){for(var n=0;n<e.segments.length;n++)for(var i=e.segments[n],r=0;r<i.points.length;r++)(r>0||0===n)&&t.push(i.points[r]);return t}function eo(e,t,n,i){var r,o={x:0,y:0},a=Xr(e,e.corners,e.bounds),s=t.margin,l=t.point;if(a.bottomCenter.y+s.bottom<l.y)r="Bottom",o=a.bottomCenter;else if(a.topCenter.y-s.top>l.y)r="Top",o=a.topCenter;else if(a.middleLeft.x-s.left>l.x)r="Left",o=a.middleLeft;else if(a.middleRight.x+s.right<l.x)r="Right",o=a.middleRight;else{var c=Math.abs(l.y-a.topCenter.y),d=Math.abs(l.x-a.middleRight.x),h=Math.abs(l.y-a.bottomCenter.y),p=Math.abs(l.x-a.middleLeft.x),u=Number.MAX_VALUE;u=c,r="Top",o=a.topCenter,u>d&&(u=d,r="Right",o=a.middleRight),u>h&&(u=h,r="Bottom",o=a.bottomCenter),u>p&&(r="Left",o=a.middleLeft)}n.point=o,n.direction=r;var f=no(a,yo(n.direction));n.point=ro(i,e,n.point,f,e===i.targetWrapper)}function to(e,t){var n={x:t.x,y:e.y},i=(Jn.findLength(e,n),Jn.findLength(n,t)),r=Jn.findLength(t,e),o=Math.asin(i/r);return o=180*o/Math.PI,e.x<t.x?e.y>t.y&&(o=360-o):o=e.y<t.y?180-o:180+o,o}function no(e,t){var n;switch(t){case"Left":n=e.middleLeft;break;case"Top":n=e.topCenter;break;case"Right":n=e.middleRight;break;case"Bottom":n=e.bottomCenter}return n}function io(e,t,n){return Jn.transform(e,n,t)}function ro(e,t,n,i,r){n={x:n.x,y:n.y},i={x:i.x,y:i.y};var o,a,s,l=Jn.findAngle(i,n),c=r?e.targetWrapper:e.sourceWrapper,d=r?e.targetPadding:e.sourcePadding,h=r||"Orthogonal"===e.type?n:i;Jn.transform(n,l,Math.max(c.actualSize.height/2,c.actualSize.width/2));o=c;var p=jh(-c.parentTransform,c.offsetX,c.offsetY,n),u=jh(-c.parentTransform,c.offsetX,c.offsetY,i);if("Orthogonal"===e.type){p.x===u.x&&(p.y<u.y?p.y-=5:p.y+=5),p.y===u.y&&(p.x<u.x?p.x-=5:p.x+=5),n=jh(c.parentTransform,c.offsetX,c.offsetY,p)}else{r?Jn.findAngle(n,i):Jn.findAngle(i,n);if(r){var f=Jn.findAngle(n,i);i=Jn.transform({x:i.x,y:i.y},f,Math.max(c.actualSize.width,c.actualSize.height))}else{var g=Jn.findAngle(i,n);n=Jn.transform({x:n.x,y:n.y},g,Math.max(c.actualSize.width,c.actualSize.height))}}(e.sourcePadding||e.targetPadding)&&(a=new di(c.bounds.x-d,c.bounds.y-d,c.actualSize.width+2*d,c.actualSize.height+2*d)),c instanceof hr&&c.data?(s=a?[a.topLeft,a.topRight,a.bottomRight,a.bottomLeft]:o.getPoints(),o.data.split("m").length-1+(o.data.split("M").length-1)===1&&(s[s.length]=s[0])):(s=a?[a.topLeft,a.topRight,a.bottomRight,a.bottomLeft]:tc(c,c.corners))[s.length]=s[0];s.length;return ao({x1:n.x,y1:n.y,x2:i.x,y2:i.y},s,!0,h)||n}function oo(e,t,n){return t.x=Math.round(100*t.x)/100,t.y=Math.round(100*t.y)/100,n?e.targetPoint=t:e.sourcePoint=t,t}function ao(e,t,n,i){var r,o=t.length,a={x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y},s=so(e,a);if(s&&(r=Jn.distancePoints(s,i)),isNaN(r)||r>0)for(var l=1;l<o-1;l++){var c=so(e,a={x1:t[l].x,y1:t[l].y,x2:t[l+1].x,y2:t[l+1].y});if(c){var d=Jn.distancePoints(c,i);if((isNaN(r)||r>d)&&(r=d,s=c),r>=0&&r<=1)break}}return s}function so(e,t){var n,i,r,o,a,s,l,c,d,h,p,u,f,g=e.x1,m=e.y1,v=e.x2,y=e.y2,b=t.x1,w=t.y1,x=t.x2,S=t.y2;return h=(n=y-m)*x+(r=g-v)*S+(a=v*m-g*y),0!==(d=n*b+r*w+a)&&0!==h&&lo(d,h)?null:(c=(i=S-w)*v+(o=b-x)*y+(s=x*w-b*S),0!==(l=i*g+o*m+s)&&0!==c&&lo(l,c)||0===(p=n*o-i*r)?null:(u=p<0?-p/2:p/2,u=0,{x:(f=r*s-o*a)<0?(f-u)/p:(f+u)/p,y:(f=i*a-n*s)<0?(f-u)/p:(f+u)/p}))}function lo(e,t){return e*t>=0}function co(e,t,n){switch(t.direction){case"Left":t.point.x>e.left&&(n=t.point.x-e.left>n?t.point.x-e.left+n:n);break;case"Right":t.point.x<e.right&&(n=e.right-t.point.x>n?e.right-t.point.x+n:n);break;case"Top":t.point.y>e.top&&(n=t.point.y-e.top>n?t.point.y-e.top+n:n);break;case"Bottom":t.point.y<e.bottom&&(n=e.bottom-t.point.y>n?e.bottom-t.point.y+n:n)}return n}function ho(e,t){var n;switch(e.direction){case"Left":case"Right":var i={x:t.point.x,y:e.point.y};n=Jn.equals(e.point,i)||Jn.equals(t.point,i)?[e.point,t.point]:[e.point,i,t.point];break;case"Top":case"Bottom":var r={x:e.point.x,y:t.point.y};n=Jn.equals(e.point,r)||Jn.equals(t.point,r)?[e.point,t.point]:[e.point,r,t.point]}return n}function po(e,t,n,i,r){i||(i=20);var o,a,s,l=e.sourcePortWrapper,c=n.point.x-t.point.x,d=n.point.y-t.point.y;if(!r&&(Math.abs(c)<.001||Math.abs(d)<.001)&&void 0===n.direction)return[t.point,n.point];if(void 0===e.targetWrapper&&Math.abs(c)<=31&&Math.abs(d)<=31){if("Left"===t.direction||"Right"===t.direction?Math.abs(d)<12&&(t.direction=t.point.y>n.point.y?"Top":"Bottom"):Math.abs(c)<12&&(t.direction=t.point.x>n.point.x?"Left":"Right"),Math.abs(c)>12||Math.abs(d)>12)return ho(t,n);i+=5}return"Left"===t.direction||"Right"===t.direction?("Right"===t.direction?(void 0!==n.direction&&"Right"===n.direction&&(i=Math.max(t.point.x,n.point.x)-t.point.x+i),t.point.x>n.point.x&&void 0===l&&(i=-i)):(void 0!==n.direction&&"Left"===n.direction&&(i=t.point.x-Math.min(t.point.x,n.point.x)+i),(t.point.x>n.point.x||void 0!==l||"Left"===t.direction)&&(i=-i)),s=n.point.y-t.point.y,o=io(t.point,i,0),0!==(s=n.point.y-o.y)&&(a=io(o,n.point.y-o.y,90))):"Top"!==t.direction&&"Bottom"!==t.direction||("Bottom"===t.direction?void 0!==n.direction&&"Bottom"===n.direction&&(i=Math.max(t.point.y,n.point.y)-t.point.y+i):(void 0!==n.direction&&"Top"===n.direction&&(i=t.point.y-Math.min(t.point.y,n.point.y)+i),(t.point.y>n.point.y||void 0!==l||"Top"===t.direction)&&(i=-i)),s=n.point.x-t.point.x,o=(t.direction,io(t.point,i,90)),0!==(s=n.point.x-o.x)&&(a=io(o,n.point.x-o.x,0))),0===s?[t.point,n.point]:[t.point,o,a,n.point]}function uo(e,t,n,i,r){var o;switch(void 0===r&&(r=20),void 0===n?(e.margin={left:2,right:2,top:2,bottom:2},t.margin={left:0,right:5,top:0,bottom:5}):"Bottom"===e.direction?t.corners.top>e.corners.bottom&&t.corners.top-e.corners.bottom<20&&(r=(t.corners.top-e.corners.bottom)/2):"Top"===e.direction?t.corners.bottom<e.corners.top&&e.corners.top-t.corners.bottom<20&&(r=(e.corners.top-t.corners.bottom)/2):"Right"===e.direction?t.corners.left>e.corners.right&&t.corners.left-e.corners.right<20&&(r=(t.corners.left-e.corners.right)/2):"Left"===e.direction&&t.corners.right<e.corners.left&&e.corners.left-t.corners.right<20&&(r=(e.corners.left-t.corners.right)/2),e.direction){case"Left":r=function(e,t,n,i){e.corners.left-e.margin.left>t.corners.left-t.margin.left&&e.corners.left-e.margin.left<=t.corners.right+t.margin.right?(("Bottom"===t.direction&&e.point.y<t.point.y||"Top"===t.direction&&e.point.y>t.point.y)&&(i+=e.corners.left-t.corners.left),i+=e.point.x-e.corners.left):void 0!==n&&"Top"!==n&&"Bottom"===t.direction&&e.point.y<t.point.y||void 0!==n&&"Bottom"!==n&&"Top"===t.direction&&t.point.y<e.point.y?i+=Math.abs(e.point.x-t.corners.right):i+=e.point.x-e.corners.left;return i}(e,t,n,r),o=io(e.point,r,180);break;case"Right":r=function(e,t,n,i){e.corners.right+e.margin.right<t.corners.right+t.margin.right&&e.corners.right+e.margin.right>=t.corners.left-t.margin.left?(("Bottom"===t.direction&&e.point.y<t.point.y||"Top"===t.direction&&e.point.y>t.point.y)&&(n+=t.corners.right-e.corners.right),n+=e.corners.right-e.point.x):void 0!==i&&"Top"!==i&&"Bottom"===t.direction&&e.point.y<t.point.y||void 0!==i&&"Bottom"!==i&&"Top"===t.direction&&t.point.y<e.point.y?n+=Math.abs(e.point.x-t.corners.right):n+=e.corners.right-e.point.x;return n}(e,t,r,n),o=io(e.point,r,0);break;case"Top":r=function(e,t,n,i){e.corners.top-e.margin.top>t.corners.top+t.margin.top&&e.corners.top-e.margin.top<=t.corners.bottom+t.margin.bottom?(("Right"===t.direction&&e.point.x<t.point.x||"Left"===t.direction&&e.point.x>t.point.x)&&(i+=e.corners.top-t.corners.top),i+=e.point.y-e.corners.top):void 0!==n&&"Left"!==n&&"Right"===t.direction&&e.point.x<t.point.x||void 0!==n&&"Right"!==n&&"Left"===t.direction&&t.point.x<e.point.x?i+=Math.abs(e.point.y-t.corners.bottom):i+=e.point.y-e.corners.top;return i}(e,t,n,r),o=io(e.point,r,270);break;case"Bottom":r=function(e,t,n,i){e.corners.bottom+e.margin.bottom<t.corners.bottom+t.margin.bottom&&e.corners.bottom+e.margin.bottom>=t.corners.top-t.margin.top?(("Right"===t.direction&&e.point.x<t.point.x||"Left"===t.direction&&e.point.x>t.point.x)&&(n+=t.corners.bottom-e.corners.bottom),n+=e.corners.bottom-e.point.y):void 0!==i&&"Left"!==i&&"Right"===t.direction&&e.point.x<t.point.x||void 0!==i&&"Right"!==i&&"Left"===t.direction&&t.point.x<e.point.x?n+=Math.abs(e.point.y-t.corners.bottom):n+=e.corners.bottom-e.point.y;return n}(e,t,r,n),o=io(e.point,r,90)}return void 0!==i?i.push(o):i=[e.point,o],"Top"===e.direction||"Bottom"===e.direction?fo(o,"horizontal",e,t,i):"Right"!==e.direction&&"Left"!==e.direction||fo(o,"vertical",e,t,i),i}function fo(e,t,n,i,r){var o,a,s;"horizontal"===t?(n.margin={left:0,right:10,top:0,bottom:10},i.margin={left:0,right:10,top:0,bottom:10}):"vertical"===t&&(n.margin={left:10,right:0,top:10,bottom:0},i.margin={left:10,right:0,top:10,bottom:0});var l=20;if("horizontal"===t){switch(i.direction){case"Left":if(n.corners.right+n.margin.right<i.corners.left-i.margin.left&&(i.corners.left-n.corners.right>l||n.corners.top-n.margin.top<=i.point.y&&n.corners.bottom+n.margin.bottom>=i.point.y)){var c=Math.min(Math.abs(i.corners.left-n.corners.right)/2,20);l=n.corners.right-e.x+c}else l="Top"===n.direction&&e.y>i.point.y||"Bottom"===n.direction&&e.y<i.point.y?Math.min(i.corners.left,e.x)-e.x-20:e.x>=n.corners.left-n.margin.left&&e.x<=n.corners.right+n.margin.right?Math.min(i.corners.left,n.corners.left)-e.x-20:i.corners.left-e.x-20;break;case"Right":if(n.corners.left-n.margin.left>i.corners.right+i.margin.right&&(n.corners.left-i.corners.right>l||n.corners.top-n.margin.top<=i.point.y&&n.corners.bottom+n.margin.bottom>=i.point.y)){c=Math.min(Math.abs(n.corners.left-i.corners.right)/2,20);l=n.corners.left-e.x-c}else l="Top"===n.direction&&e.y>i.point.y||"Bottom"===n.direction&&e.y<i.point.y?Math.max(i.corners.right,e.x)-e.x+20:e.x>=n.corners.left-n.margin.left&&e.x<=n.corners.right+n.margin.right?Math.max(i.corners.right,n.corners.right)-e.x+20:i.corners.right-e.x+20}o=io(e,l,0),a=io(o,i.point.y-e.y,90),s=i.point}else if("vertical"===t){switch(i.direction){case"Top":if(n.corners.bottom+n.margin.bottom<i.corners.top-i.margin.top&&(i.corners.top-n.corners.bottom>l||n.corners.left-n.margin.left<=i.point.x&&n.corners.right+n.margin.right>=i.point.x)){c=Math.min(Math.abs(i.corners.top-n.corners.bottom)/2,20);l=n.corners.bottom-e.y+c}else l="Left"===n.direction&&e.x>i.point.x||"Right"===n.direction&&e.x<i.point.x?Math.min(i.corners.top,e.y)-e.y-20:e.y>=n.corners.top-n.margin.top&&e.y<=n.corners.bottom+n.margin.bottom?Math.min(i.corners.top,n.corners.top)-e.y-20:i.corners.top-e.y-20;break;case"Bottom":if(n.corners.top-n.margin.top>i.corners.bottom+i.margin.bottom&&(n.corners.top-i.corners.bottom>l||n.corners.left-n.margin.left<=i.point.x&&n.corners.right+n.margin.right>=i.point.x)){c=Math.min(Math.abs(n.corners.top-i.corners.bottom)/2,20);l=n.corners.top-e.y-c}else l="Left"===n.direction&&e.x>i.point.x||"Right"===n.direction&&e.x<i.point.x?Math.max(i.corners.bottom,e.y)-e.y+20:e.y>=n.corners.top-n.margin.top&&e.y<=n.corners.bottom+n.margin.bottom?Math.max(i.corners.bottom,n.corners.bottom)-e.y+20:i.corners.bottom-e.y+20}o=io(e,l,90),a=io(o,i.point.x-e.x,0),s=i.point}r.push(o),r.push(a),r.push(s)}function go(e,t){var n=e.direction;e.direction=t.direction,t.direction=n;var i=e.point;e.point=t.point,t.point=i;var r=e.corners;e.corners=t.corners,t.corners=r}function mo(e,t,n,i){var r=void 0===t?n:t,o=r.topLeft,a=r.topRight,s=r.bottomRight,l=r.bottomLeft,c=r.center,d=to(c,e),h=to(c,s),p=to(c,l),u=to(c,o),f=to(c,a);return d>u&&d<f?"Top":d>=h&&d<p?"Bottom":d>=p&&d<=u?"Left":"Right"}function vo(e){var t;return t=e.wrapper.children[0].bounds,"None"!==e.sourceDecorator.shape&&t.uniteRect(e.wrapper.children[1].bounds),"None"!==e.targetDecorator.shape&&t.uniteRect(e.wrapper.children[2].bounds),t}function yo(e){switch(e){case"Top":return"Bottom";case"Bottom":return"Top";case"Left":return"Right";case"Right":return"Left"}return"auto"}var bo,wo,xo=!1;function So(e,t,n,i,r){if(Mr=n+t==="topright"?void 0:r,Mr=r,xo=!!i,!e)return{left:0,top:0};t||(t="left"),n||(n="top"),Dr=e.ownerDocument,jr=e;return function(e,t,n){switch(Ar=jr.getBoundingClientRect(),t+e){case"topcenter":Co(jo(),n),Oo(Io(),n);break;case"topright":Co(Mo(),n),Oo(Io(),n);break;case"centercenter":Co(jo(),n),Oo(ko(),n);break;case"centerright":Co(Mo(),n),Oo(ko(),n);break;case"centerleft":Co(Ao(),n),Oo(ko(),n);break;case"bottomcenter":Co(jo(),n),Oo(To(),n);break;case"bottomright":Co(Mo(),n),Oo(To(),n);break;case"bottomleft":Co(Ao(),n),Oo(To(),n);break;default:case"topleft":Co(Ao(),n),Oo(Io(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})}function Co(e,t){t.left=e}function Oo(e,t){t.top=e}function Po(){return Dr.documentElement.scrollTop||Dr.body.scrollTop}function Eo(){return Dr.documentElement.scrollLeft||Dr.body.scrollLeft}function To(){return xo?Ar.bottom:Ar.bottom+Po()}function ko(){return Io()+Ar.height/2}function Io(){return xo?Ar.top:Ar.top+Po()}function Ao(){return Ar.left+Eo()}function Mo(){return Ar.right+Eo()-(Mr?Mr.width:0)}function jo(){return Ao()+Ar.width/2}function Do(e,t,n,i){if(void 0===t&&(t=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var r=e.getBoundingClientRect();if(wo=t,bo=e.ownerDocument,i||(i=So(e,"left","top")),n.X){var o=wo?Ho():Ko(),a=Uo(),s=Yo(),l=a-i.left,c=i.left+r.width-s;r.width>o?i.left=l>0&&c<=0?s-r.width:c>0&&l<=0?a:l>c?s-r.width:a:l>0?i.left+=l:c>0&&(i.left-=c)}if(n.Y){var d=wo?_o():Zo(),h=Vo(),p=Xo(),u=h-i.top,f=i.top+r.height-p;r.height>d?i.top=u>0&&f<=0?p-r.height:f>0&&u<=0?h:u>f?p-r.height:h:u>0?i.top+=u:f>0&&(i.top-=f)}return i}function Lo(e,t,n,i){void 0===t&&(t=null);var r=So(e,"left","top");n&&(r.left=n),i&&(r.top=i);var o=[];wo=t,bo=e.ownerDocument;var a=e.getBoundingClientRect(),s=r.top,l=r.left,c=r.left+a.width,d=Bo(s,r.top+a.height),h=zo(l,c);return d.topSide&&o.push("top"),h.rightSide&&o.push("right"),h.leftSide&&o.push("left"),d.bottomSide&&o.push("bottom"),o}function Ro(e,t,n,i,r,o,a,s,l){if(void 0===a&&(a=null),void 0===s&&(s={X:!0,Y:!0}),t&&e&&r&&o&&(s.X||s.Y)){var c={TL:null,TR:null,BL:null,BR:null},d={TL:null,TR:null,BL:null,BR:null},h=e.getBoundingClientRect(),p={posX:r,posY:o,offsetX:n,offsetY:i,position:{left:0,top:0}};wo=a,bo=t.ownerDocument,function(e,t,n,i,r){n.position=So(e,n.posX,n.posY,i,r),t.TL=So(e,"left","top",i,r),t.TR=So(e,"right","top",i,r),t.BR=So(e,"left","bottom",i,r),t.BL=So(e,"right","bottom",i,r)}(t,c,p,l,h),No(d,p,h),s.X&&function e(t,n,i,r,o,a){var s=zo(n.TL.left,n.TR.left);i.TL.left-qo()<=Uo()&&(s.leftSide=!1);i.TR.left>=Yo()&&(s.rightSide=!1);(s.leftSide&&!s.rightSide||!s.leftSide&&s.rightSide)&&("right"===r.posX?r.posX="left":r.posX="right",r.offsetX=r.offsetX+o.width,r.offsetX=-1*r.offsetX,r.position=So(t,r.posX,r.posY,!1),No(n,r,o),a&&e(t,n,i,r,o,!1))}(t,d,c,p,h,!0),s.Y&&c.TL.top>-1&&function e(t,n,i,r,o,a){var s=Bo(n.TL.top,n.BL.top);i.TL.top-Go()<=Vo()&&(s.topSide=!1);i.BL.top>=Xo()&&(s.bottomSide=!1);(s.topSide&&!s.bottomSide||!s.topSide&&s.bottomSide)&&("top"===r.posY?r.posY="bottom":r.posY="top",r.offsetY=r.offsetY+o.height,r.offsetY=-1*r.offsetY,r.position=So(t,r.posX,r.posY,!1,o),No(n,r,o),a&&e(t,n,i,r,o,!1))}(t,d,c,p,h,!0),function(e,t,n){var i=0,r=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var o=So(e.offsetParent,"left","top",!1,n);i=o.left,r=o.top}e.style.top=t.position.top+t.offsetY-r+"px",e.style.left=t.position.left+t.offsetX-i+"px"}(e,p,h)}}function No(e,t,n){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+n.width},e.BL={top:e.TL.top+n.height,left:e.TL.left},e.BR={top:e.TL.top+n.height,left:e.TL.left+n.width}}function zo(e,t){var n=!1,i=!1;return e-qo()<Uo()&&(n=!0),t>Yo()&&(i=!0),{leftSide:n,rightSide:i}}function Bo(e,t){var n=!1,i=!1;return e-Go()<Vo()&&(n=!0),t>Xo()&&(i=!0),{topSide:n,bottomSide:i}}function Ho(){return wo.getBoundingClientRect().width}function _o(){return wo.getBoundingClientRect().height}function Wo(){return wo.getBoundingClientRect().left}function Fo(){return wo.getBoundingClientRect().top}function Vo(){return wo?Fo():0}function Uo(){return wo?Wo():0}function Yo(){return wo?qo()+Wo()+Ho():qo()+Ko()}function Xo(){return wo?Go()+Fo()+_o():Go()+Zo()}function Go(){return bo.documentElement.scrollTop||bo.body.scrollTop}function qo(){return bo.documentElement.scrollLeft||bo.body.scrollLeft}function Zo(){return window.innerHeight}function Ko(){var e=window.innerWidth;return e-(e-(f(document.documentElement)?0:document.documentElement.offsetWidth))}var $o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qo=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $o(t,e),Qo([zt("left")],t.prototype,"X",void 0),Qo([zt("top")],t.prototype,"Y",void 0),t}(nn),ea="e-popup",ta="e-rtl",na="e-popup-open",ia="e-popup-close",ra=function(e){function t(t,n){return e.call(this,n,t)||this}return $o(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"width":yt(this.element,{width:b(e.width)});break;case"height":yt(this.element,{height:b(e.height)});break;case"zIndex":yt(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var r=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":var o=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.remove(ea,ta,na,ia),this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(ea);var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=b(this.width)),"auto"!==this.height&&(e.height=b(this.height)),yt(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){le.isDevice&&ce.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];ce.add(n,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){le.isDevice&&ce.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];ce.remove(n,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||f(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"===typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,t){for(var n=this.getScrollableParent(e),i=0;i<n.length;i++)if(!this.isElementVisible(e,n[i]))return!1;return!0},t.prototype.isElementVisible=function(e,t){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(f(this.checkGetBoundingClientRect(t))){var i=window,r={top:i.scrollY,left:i.scrollX,right:i.scrollX+i.outerWidth,bottom:i.scrollY+i.outerHeight},o=So(e),a={top:o.top,left:o.left,right:o.left+n.width,bottom:o.top+n.height},s={top:r.bottom-a.top,left:r.right-a.left,bottom:a.bottom-r.top,right:a.right-r.left};return s.top>0&&s.left>0&&s.right>0&&s.bottom>0}var l=t.getBoundingClientRect();return!(n.bottom<l.top)&&!(n.bottom>l.bottom)&&!(n.right>l.right)&&!(n.left<l.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(ta):this.element.classList.remove(ta)},t.prototype.setContent=function(){f(this.content)||(this.element.innerHTML="","string"===typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))},t.prototype.orientationOnChange=function(){var e=this;setTimeout((function(){e.refreshPosition()}),200)},t.prototype.refreshPosition=function(e,t){f(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},t.prototype.reposition=function(){var e,t,n=this.getRelateToElement();if("number"===typeof this.position.X&&"number"===typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"===typeof this.position.X&&"number"===typeof this.position.Y||"number"===typeof this.position.X&&"string"===typeof this.position.Y){var i=this.element.style.display,r=void 0;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"===typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=i,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(n){i=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=i}else e={left:0,top:0};f(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return null}},t.prototype.getAnchorPosition=function(e,t,n,i,r){var o=this.checkGetBoundingClientRect(t),a=this.checkGetBoundingClientRect(e);if(f(o)||f(a))return null;var s=e,l={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?l=So(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==s.tagName&&(t=t.parentElement),l=function(e,t){var n=!1,i={left:0,top:0},r=e;if(!e||!t)return i;for(f(t.offsetParent)&&"fixed"===t.style.position&&(n=!0);(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;for(e=r;(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left-=e.scrollLeft,i.top-=e.scrollTop,e=e.parentElement;return i}(s,t)),n.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.left+=window.innerWidth/2-o.width/2:"container"===this.targetType?l.left+=a.width/2-o.width/2:l.left+=a.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.left+=window.innerWidth-o.width:"container"===this.targetType?l.left+=a.width-o.width:l.left+=a.width}switch(n.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.top+=window.innerHeight/2-o.height/2:"container"===this.targetType?l.top+=a.height/2-o.height/2:l.top+=a.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?l.top+=window.innerHeight-o.height:"container"===this.targetType?l.top+=a.height-o.height:l.top+=a.height}return l.left+=i,l.top+=r,l},t.prototype.callFlip=function(e){var t=this.getRelateToElement();Ro(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==Lo(this.element,this.viewPortElement).length)if(f(this.viewPortElement)){var t=Do(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(f(n)||f(i))return null;e&&!0===e.Y&&(i.top>n.top?this.element.style.top="0px":i.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-i.bottom)+"px")),e&&!0===e.X&&(i.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-i.right)+"px":i.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,t){var n=this;if(this.wireEvents(),1e3===this.zIndex||!f(t)){var i=f(t)?this.element:t;this.zIndex=aa(i),yt(this.element,{zIndex:this.zIndex})}e=f(e)||"object"!==typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(at([this.element],ia),ot([this.element],na),this.checkCollision(),at([this.element],na),ot([this.element],ia)),f(e)?(at([this.element],ia),ot([this.element],na),this.trigger("open")):(e.begin=function(){n.isDestroyed||(at([n.element],ia),ot([n.element],na))},e.end=function(){n.isDestroyed||n.trigger("open")},new Gt(e).animate(this.element))},t.prototype.hide=function(e){var t=this;e=f(e)||"object"!==typeof e?this.hideAnimation:e,f(e)?(at([this.element],na),ot([this.element],ia),this.trigger("close")):(e.end=function(){t.isDestroyed||(at([t.element],na),ot([t.element],ia),t.trigger("close"))},new Gt(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),oa(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var n=getComputedStyle(t);"fixed"===n.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,f(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},Qo([zt("auto")],t.prototype,"height",void 0),Qo([zt("auto")],t.prototype,"width",void 0),Qo([zt(null)],t.prototype,"content",void 0),Qo([zt("container")],t.prototype,"targetType",void 0),Qo([zt(null)],t.prototype,"viewPortElement",void 0),Qo([zt({X:"none",Y:"none"})],t.prototype,"collision",void 0),Qo([zt("")],t.prototype,"relateTo",void 0),Qo([Bt({},Jo)],t.prototype,"position",void 0),Qo([zt(0)],t.prototype,"offsetX",void 0),Qo([zt(0)],t.prototype,"offsetY",void 0),Qo([zt(1e3)],t.prototype,"zIndex",void 0),Qo([zt(!1)],t.prototype,"enableRtl",void 0),Qo([zt("reposition")],t.prototype,"actionOnScroll",void 0),Qo([zt(null)],t.prototype,"showAnimation",void 0),Qo([zt(null)],t.prototype,"hideAnimation",void 0),Qo([Ft()],t.prototype,"open",void 0),Qo([Ft()],t.prototype,"close",void 0),Qo([Ft()],t.prototype,"targetExitViewport",void 0),t=Qo([Vt],t)}(ln);function oa(e,t){for(var n=getComputedStyle(e),i=[],r=/(auto|scroll)/,o=e.parentElement;o&&"HTML"!==o.tagName;){var a=getComputedStyle(o);"absolute"===n.position&&"static"===a.position||!r.test(a.overflow+a.overflowY+a.overflowX)||i.push(o),o=o.parentElement}return t||i.push(document),i}function aa(e){for(var t=e.parentElement,n=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==r&&n.push(i),t=t.parentElement}for(var o=[],a=0;a<document.body.children.length;a++)if(!e.isEqualNode(document.body.children[a])){i=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");"auto"!==i&&"static"!==r&&o.push(i)}o.push("999");var s=[];if(!f(e.parentElement)&&"BODY"!==e.parentElement.tagName){var l=[].slice.call(e.parentElement.children);for(a=0;a<l.length;a++){i=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("position");"auto"!==i&&"static"!==r&&s.push(i)}}var c=n.concat(o,s),d=Math.max.apply(Math,c)+1;return d>2147483647?2147483647:d}var sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),la=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ca="e-tooltip",da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sa(t,e),la([zt({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),la([zt({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(nn),ha=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isBlazorTooltip=!1,i.contentTargetValue=null,i.contentEvent=null,i.contentAnimation=null,i}return sa(t,e),t.prototype.initialize=function(){this.formatPosition(),this.isServerRender()||ot([this.element],ca)},t.prototype.isServerRender=function(){return w()&&this.isServerRendered},t.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},t.prototype.renderArrow=function(){var e;(this.setTipClass(this.position),this.isServerRender())?(ot([(e=this.tooltipEle.querySelector(".e-arrow-tip")).querySelector(".e-arrow-tip-outer")],this.tipClass),ot([e.querySelector(".e-arrow-tip-inner")],this.tipClass),this.tooltipEle.appendChild(e)):((e=this.createElement("div",{className:"e-arrow-tip "+this.tipClass})).appendChild(this.createElement("div",{className:"e-arrow-tip-outer "+this.tipClass})),e.appendChild(this.createElement("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(e))},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass="e-tip-left":0===e.indexOf("Bottom")?this.tipClass="e-tip-top":0===e.indexOf("Left")?this.tipClass="e-tip-right":this.tipClass="e-tip-bottom"},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new ra(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=So(e,this.tooltipPositionX,this.tooltipPositionY),n=this.calculateTooltipOffset(this.position),i=this.collisionFlipFit(e,t.left+n.left,t.top+n.top);return this.tooltipEle.style.display="",i},t.prototype.reposition=function(e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)},t.prototype.closePopupHandler=function(){He(this.element.id+"content"),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)},t.prototype.calculateTooltipOffset=function(e){var t={top:0,left:0},n=this.tooltipEle.offsetWidth,i=this.tooltipEle.offsetHeight,r=this.tooltipEle.querySelector(".e-arrow-tip"),o=r?r.offsetWidth:0,a=r?r.offsetHeight:0,s=this.showTipPointer?0:8,l=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(s+=2),e){case"RightTop":t.left+=o+s,t.top-=i-l;break;case"RightCenter":t.left+=o+s,t.top-=i/2;break;case"RightBottom":t.left+=o+s,t.top-=l;break;case"BottomRight":t.top+=a+s,t.left-=c;break;case"BottomCenter":t.top+=a+s,t.left-=n/2;break;case"BottomLeft":t.top+=a+s,t.left-=n-c;break;case"LeftBottom":t.left-=o+n+s,t.top-=l;break;case"LeftCenter":t.left-=o+n+s,t.top-=i/2;break;case"LeftTop":t.left-=o+n+s,t.top-=i-l;break;case"TopLeft":t.top-=i+a+s,t.left-=n-c;break;case"TopRight":t.top-=i+a+s,t.left-=c;break;default:t.top-=i+a+s,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},t.prototype.updateTipPosition=function(e){var t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");at(t,["e-tip-bottom","e-tip-top","e-tip-left","e-tip-right"]),this.setTipClass(e),ot(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,n,i){if(!1!==this.showTipPointer){var r,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";var a,s=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,c=this.tooltipEle.querySelector(".e-arrow-tip"),d=this.tooltipEle.querySelector(".e-arrow-tip-inner"),h=c.offsetWidth,p=c.offsetHeight;if(this.tooltipEle.style.display="","e-tip-bottom"===this.tipClass||"e-tip-top"===this.tipClass){if("e-tip-bottom"===this.tipClass?(o="99.9%",d.style.top="-"+(p-2)+"px"):(o=-(p-1)+"px",d.style.top="-"+(p-6)+"px"),e)r=(a="Center"!==n||s>e.offsetWidth||this.mouseTrail)&&"Left"===n||!a&&"End"===this.tipPointerPosition?s-h-2+"px":a&&"Right"===n||!a&&"Start"===this.tipPointerPosition?"2px":s/2-h/2+"px"}else"e-tip-right"===this.tipClass?(r="99.9%",d.style.left="-"+(h-2)+"px"):(r=-(h-1)+"px",d.style.left=h-2-h+"px"),o=(a="Center"!==i||l>e.offsetHeight||this.mouseTrail)&&"Top"===i||!a&&"End"===this.tipPointerPosition?l-p-2+"px":a&&"Bottom"===i||!a&&"Start"===this.tipPointerPosition?"2px":l/2-p/2+"px";c.style.top=o,c.style.left=r}},t.prototype.renderContent=function(e){var t=this.tooltipEle.querySelector(".e-tip-content");if(this.cssClass&&ot([this.tooltipEle],this.cssClass.split(" ")),e&&!f(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),f(this.content))e&&!f(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(this.isBlazorTooltip||!this.isServerRender())if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content&&this.content.indexOf("<div>Blazor")<0)this.enableHtmlSanitizer&&this.setProperties({content:Mn.sanitize(this.content)},!0),t.innerHTML=this.content;else{dt(ze(this.content)({},null,null,this.element.id+"content"),t),"string"===typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0,Be(this.element.id+"content","Content",this))}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),ce.add(e,le.touchStartEvent,this.onStickyClose,this)}},t.prototype.addDescribedBy=function(e,t){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),ft(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})},t.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),i=n.indexOf(t);-1!==i&&n.splice(i,1),e.removeAttribute("data-tooltip-id");var r=n.join(" ").trim();r?e.setAttribute("aria-describedby",r):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var t=this;if(!this.isSticky){this.autoCloseTimer=setTimeout((function(){t.close()}),1500)}},t.prototype.targetClick=function(e){var t;f(t=this.target?vt(e.target,this.target):this.element)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){var t;if(!f(t=this.target?vt(e.target,this.target):this.element)&&null===t.getAttribute("data-tooltip-id")){for(var n=0,i=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]"));n<i.length;n++){var r=i[n];this.restoreElement(r)}this.showTooltip(t,this.animation.open,e)}},t.prototype.showTooltip=function(e,t,n){var i=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!f(n)};this.trigger("beforeRender",this.tooltipEventArgs,function(r){i.beforeRenderCallback(r,e,n,t)}.bind(this))},t.prototype.beforeRenderCallback=function(e,t,n,i){var r=!1;if(e.cancel)this.isHidden=!0,this.clear();else if(this.isHidden=!1,f(this.tooltipEle)){if(this.isServerRender()){this.contentTargetValue=t,this.contentEvent=n,this.contentAnimation=i;this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"true"}),r=!0}else this.ctrlId=this.element.getAttribute("id")?m(this.element.getAttribute("id")):m("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+b(this.width)+";height:"+b(this.height)+";position:absolute;"}),this.beforeRenderBlazor(t,this);r||this.afterRenderBlazor(t,n,i,this)}else this.isServerRender()&&(ot([this.tooltipEle],"e-popup-open"),document.body.appendChild(this.tooltipEle),this.renderCloseIcon(),this.renderPopup(t)),t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),Gt.stop(this.tooltipEle),this.reposition(t),this.afterRenderBlazor(t,n,i,this))},t.prototype.contentUpdated=function(e){f(this.tooltipEle)&&this.isServerRender()&&(this.ctrlId=this.element.id,this.tooltipEle=document.querySelector("#"+this.ctrlId+"_content"),this.tooltipEle&&(this.tooltipEle.setAttribute("style","width:"+b(this.width)+";height:"+b(this.height)+";position:absolute;"),this.beforeRenderBlazor(this.contentTargetValue,this),this.afterRenderBlazor(this.contentTargetValue,this.contentEvent,this.contentAnimation,this),this.contentTargetValue=this.contentEvent=this.contentAnimation=null))},t.prototype.beforeRenderBlazor=function(e,t){e&&(le.isDevice&&ot([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=b(t.width)),this.isServerRender()||t.tooltipEle.appendChild(t.createElement("div",{className:"e-tip-content"})),document.body.appendChild(t.tooltipEle),at([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),ot([t.tooltipEle],"e-popup-open"),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),Gt.stop(t.tooltipEle),t.reposition(e))},t.prototype.afterRenderBlazor=function(e,t,n,i){if(e){at([i.tooltipEle],"e-popup-open"),ot([i.tooltipEle],"e-popup-close"),i.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:i.tooltipEle,isInteracted:!f(t)},i.needTemplateReposition()&&!i.mouseTrail&&(i.tooltipEle.style.display="none");i.trigger("beforeOpen",i.tooltipEventArgs,function(r){i.beforeOpenCallback(r,e,n,t)}.bind(i))}},t.prototype.beforeOpenCallback=function(e,t,n,i){var r=this;if(e.cancel)this.isHidden=!0,this.clear(),this.restoreElement(t);else{var o={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if("None"===n.effect&&(o=void 0),this.openDelay>0){this.showTimer=setTimeout((function(){r.popupObj&&r.popupObj.show(o,t)}),this.openDelay)}else this.popupObj&&this.popupObj.show(o,t)}i&&this.wireMouseEvents(i,t)},t.prototype.needTemplateReposition=function(){return!f(this.viewContainerRef)&&"string"!==typeof this.viewContainerRef||this.isServerRender()&&this.isBlazorTemplate},t.prototype.checkCollision=function(e,t,n){var i={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=Lo(this.tooltipEle,this.target?this.element:null,t,n);return r.length>0&&(i.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,i.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),i},t.prototype.collisionFlipFit=function(e,t,n){var i=this.checkCollision(e,t,n),r=i.position;if(this.tooltipPositionY!==i.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?i.vertical+this.tooltipPositionX:this.tooltipPositionX+i.vertical),this.tooltipPositionX!==i.horizontal&&(0===r.indexOf("Left")&&(i.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=i.vertical+"Left"),0===r.indexOf("Right")&&(i.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=i.vertical+"Right"),i.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),i.position!==r){var o=So(e,i.horizontal,i.vertical);this.adjustArrow(e,r,i.horizontal,i.vertical);var a=this.calculateTooltipOffset(r);a.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,a.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,i.position=r,i.left=o.left+a.left,i.top=o.top+a.top}else this.adjustArrow(e,r,i.horizontal,i.vertical);var s={left:i.left,top:i.top},l=Do(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},s).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){var c=this.tooltipEle.querySelector(".e-arrow-tip"),d=parseInt(c.style.left,10)-(l-i.left);d<0?d=0:d+c.offsetWidth>this.tooltipEle.clientWidth&&(d=this.tooltipEle.clientWidth-c.offsetWidth),c.style.left=d.toString()+"px"}return this.tooltipEle.style.display="",s.left=l,s},t.prototype.hideTooltip=function(e,t,n){var i,r=this;i=t?this.target?n||t.target:this.element:document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:i,event:t||null,element:this.tooltipEle,isInteracted:!f(t)},this.trigger("beforeClose",this.tooltipEventArgs,(function(t){t.cancel?r.isHidden=!1:r.isServerRender()?r.blazorHide(e,i):r.popupHide(e,i)}))},t.prototype.blazorHide=function(e,t){var n=this;this.popupObj?this.popupHide(e,t):setTimeout((function(){n.popupHide(e,t)}),200)},t.prototype.popupHide=function(e,t){var n=this;this.clearTemplate(),t&&this.restoreElement(t),this.isHidden=!0;var i={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};if("None"===e.effect&&(i=void 0),this.closeDelay>0){this.hideTimer=setTimeout((function(){n.popupObj&&n.popupObj.hide(i)}),this.closeDelay)}else this.popupObj&&this.popupObj.hide(i)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),f(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){if(this.tooltipEle&&(at([this.tooltipEle],"e-popup-close"),ot([this.tooltipEle],"e-popup-open")),this.isHidden){if(this.popupObj&&this.popupObj.destroy(),this.isServerRender()&&this.tooltipEle){this.tooltipEle.style.display="none";this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"false"}),ut(this.tooltipEle)}else this.tooltipEle&&ut(this.tooltipEle);this.tooltipEle=null,this.popupObj=null}},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var n=vt(t,".e-tooltip-wrap.e-lib.e-popup");n?(ce.add(n,"mouseleave",this.tooltipElementMouseOut,this),this.unwireMouseEvents(e.target)):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),ce.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var t=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),Gt.stop(this.tooltipEle),at([this.tooltipEle],"e-popup-close"),ot([this.tooltipEle],"e-popup-open"),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var i=this.calculateTooltipOffset(this.position),r=t+i.left+this.offsetX,o=n+i.top+this.offsetY,a=this.checkCollision(e.target,r,o);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=s,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var l=this.calculateTooltipOffset(a.position);a.left=t+l.left-this.offsetX,a.top=n+l.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===vt(e.target,"."+ca)&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&(vt(e.target,".e-tooltip-wrap.e-lib.e-popup")||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass="e-tip-bottom",this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var i=n[t];if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&ce.add(this.element,le.touchStartEvent,this.targetClick,this),"Hover"===i&&(le.isDevice?(this.touchModule=new Tn(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),ce.add(this.element,le.touchEndEvent,this.touchEndHandler,this)):(ce.add(this.element,"mouseover",this.targetHover,this),this.isServerRender()&&!this.isSticky&&ce.add(this.element,"mouseleave",this.onMouseOut,this)))}ce.add(document,"touchend",this.touchEnd,this),ce.add(document,"scroll wheel",this.scrollHandler,this),ce.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=le.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(f(this.target))ce.add(this.element,"focus",this.targetHover,this);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var n=t[e];ce.add(n,"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&ce.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&(this.isServerRender()||ce.add(t,"mouseleave",this.onMouseOut,this))),this.mouseTrail&&ce.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var i=n[t];if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&ce.remove(this.element,le.touchStartEvent,this.targetClick),"Hover"===i&&(le.isDevice?(this.touchModule&&this.touchModule.destroy(),ce.remove(this.element,le.touchEndEvent,this.touchEndHandler)):(ce.remove(this.element,"mouseover",this.targetHover),this.isServerRender()&&!this.isSticky&&ce.remove(this.element,"mouseleave",this.onMouseOut)))}ce.remove(document,"touchend",this.touchEnd),ce.remove(document,"scroll wheel",this.scrollHandler),ce.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(f(this.target))ce.remove(this.element,"focus",this.targetHover);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var n=t[e];ce.remove(n,"focus",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky)for(var t=0,n=this.getTriggerList(this.opensOn);t<n.length;t++){var i=n[t];"Focus"===i&&ce.remove(e,"blur",this.onMouseOut),"Hover"!==i||le.isDevice||this.isServerRender()||ce.remove(e,"mouseleave",this.onMouseOut)}this.mouseTrail&&ce.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var n=this.findTarget(),i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=b(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=b(e.height),this.reposition(n));break;case"content":if(this.tooltipEle)this.isServerRender()&&(this.isBlazorTooltip=!0),this.renderContent();else if(this.isServerRender()){var o={content:e.content};this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",o)}break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var a=this.tooltipEle.querySelector(".e-arrow-tip-inner");a.style.top=a.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var l=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+l).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&at([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&ot([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?ot([this.tooltipEle],"e-rtl"):at([this.tooltipEle],"e-rtl"))}}},t.prototype.open=function(e,t){f(t)&&(t=this.animation.open),f(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)},t.prototype.destroy=function(){if(this.isServerRender()||(e.prototype.destroy.call(this),this.tooltipEle&&ut(this.tooltipEle)),this.isServerRender()&&this.tooltipEle){var t=document.querySelector("#"+this.ctrlId+"_content_placeholder");t&&t.appendChild(this.tooltipEle)}this.popupObj&&this.popupObj.destroy(),at([this.element],ca),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null},la([zt("auto")],t.prototype,"width",void 0),la([zt("auto")],t.prototype,"height",void 0),la([zt()],t.prototype,"content",void 0),la([zt()],t.prototype,"target",void 0),la([zt("TopCenter")],t.prototype,"position",void 0),la([zt(0)],t.prototype,"offsetX",void 0),la([zt(0)],t.prototype,"offsetY",void 0),la([zt(!0)],t.prototype,"showTipPointer",void 0),la([zt("Auto")],t.prototype,"tipPointerPosition",void 0),la([zt("Auto")],t.prototype,"opensOn",void 0),la([zt(!1)],t.prototype,"mouseTrail",void 0),la([zt(!1)],t.prototype,"isSticky",void 0),la([Bt({},da)],t.prototype,"animation",void 0),la([zt(0)],t.prototype,"openDelay",void 0),la([zt(0)],t.prototype,"closeDelay",void 0),la([zt()],t.prototype,"cssClass",void 0),la([zt(!1)],t.prototype,"enableHtmlSanitizer",void 0),la([Ft()],t.prototype,"beforeRender",void 0),la([Ft()],t.prototype,"beforeOpen",void 0),la([Ft()],t.prototype,"afterOpen",void 0),la([Ft()],t.prototype,"beforeClose",void 0),la([Ft()],t.prototype,"afterClose",void 0),la([Ft()],t.prototype,"beforeCollision",void 0),la([Ft()],t.prototype,"created",void 0),la([Ft()],t.prototype,"destroyed",void 0),t=la([Vt],t)}(ln),pa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ua=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pa(t,e),ua([zt("")],t.prototype,"content",void 0),ua([zt("TopLeft")],t.prototype,"position",void 0),ua([zt("Mouse")],t.prototype,"relativeMode",void 0),ua([zt(!0)],t.prototype,"showTipPointer",void 0),ua([zt("auto")],t.prototype,"width",void 0),ua([zt("auto")],t.prototype,"height",void 0),ua([zt("Auto")],t.prototype,"openOn",void 0),ua([zt()],t.prototype,"animation",void 0),t}(nn);function ga(e){var t=new ha;t=ya(e.tooltip,t);var n=new ha(t);return n.beforeCollision=va,n.beforeOpen=ma,n.cssClass="e-diagram-tooltip",n.opensOn="custom",n.appendTo("#"+e.element.id),n.close(),n}function ma(e){""!==this.content&&void 0!==this.content||(e.element.style.display="none")}function va(e){e.collidedPosition&&e.collidedPosition!==this.position&&(e.element.style.display="none")}function ya(e,t){return e.content?(t.content=e.content,t.position=e.position,t.showTipPointer=e.showTipPointer,t.width=e.width,t.height=e.height,e.animation?t.animation=e.animation:t.animation={close:{effect:"None"}}):t.close(),t}var ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wa=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ba(t,e),wa([zt()],t.prototype,"width",void 0),wa([zt()],t.prototype,"height",void 0),t}(nn),Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ba(t,e),wa([zt()],t.prototype,"width",void 0),wa([zt()],t.prototype,"height",void 0),wa([zt()],t.prototype,"fit",void 0),wa([zt()],t.prototype,"description",void 0),wa([zt()],t.prototype,"template",void 0),wa([zt()],t.prototype,"tooltip",void 0),t}(nn),Ca=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oa=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Oa([zt("")],t.prototype,"id",void 0),Oa([zt(-1)],t.prototype,"zIndex",void 0),Oa([Bt({},Yi)],t.prototype,"margin",void 0),Oa([zt(!0)],t.prototype,"visible",void 0),Oa([Bt({},fa)],t.prototype,"tooltip",void 0),Oa([zt(!1)],t.prototype,"excludeFromLayout",void 0),Oa([zt()],t.prototype,"addInfo",void 0),Oa([zt("None")],t.prototype,"flip",void 0),Oa([Bt({},Sa)],t.prototype,"symbolInfo",void 0),t}(nn),Ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ta=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.data="",o.nodeId="",o.annotationId="",o.diagramId="",o.diagramId=n,o.nodeId=t,o.annotationId=i,o.templateFn=yh(r),o}return Ea(t,e),t.prototype.getNodeTemplate=function(){return this.templateFn},Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.isTemplate||(this.template=ch(this,!0)),this.isDirt=!0},enumerable:!0,configurable:!0}),t}(tr),ka=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ia=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Aa=function(e){if(w())return Ka;if(e)switch(e.type){case"Bpmn":return Na;case"UmlActivity":return Ra;case"UmlClassifier":return Za;default:return La}return La},Ma=function(e){if(e){if(w())return Wa;switch(e.type){case"Straight":return Ba;case"Bezier":return Ha;case"Orthogonal":return _a;default:return Ba}}},ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt(10)],t.prototype,"width",void 0),Ia([zt(10)],t.prototype,"height",void 0),Ia([zt("Arrow")],t.prototype,"shape",void 0),Ia([Bt({fill:"black",strokeColor:"black",strokeWidth:1},Qi)],t.prototype,"style",void 0),Ia([Bt({x:0,y:.5},Jn)],t.prototype,"pivot",void 0),Ia([zt("")],t.prototype,"pathData",void 0),t}(nn),Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt(0)],t.prototype,"angle",void 0),Ia([zt(0)],t.prototype,"distance",void 0),t}(nn),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("None")],t.prototype,"type",void 0),t}(nn),Ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("Object")],t.prototype,"flow",void 0),Ia([zt(30)],t.prototype,"exceptionFlowHeight",void 0),t}(La),Na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("Sequence")],t.prototype,"flow",void 0),Ia([zt("Normal")],t.prototype,"sequence",void 0),Ia([zt("Default")],t.prototype,"message",void 0),Ia([zt("Default")],t.prototype,"association",void 0),t}(La),za=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.points=[],o}return ka(t,e),Ia([zt("Straight")],t.prototype,"type",void 0),Ia([zt(!0)],t.prototype,"allowDrag",void 0),t}(nn),Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.getClassName=function(){return"StraightSegment"},Ia([Bt({x:0,y:0},Jn)],t.prototype,"point",void 0),t}(za),Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.getClassName=function(){return"BezierSegment"},Ia([Bt({x:0,y:0},Jn)],t.prototype,"point1",void 0),Ia([Bt({x:0,y:0},Jn)],t.prototype,"point2",void 0),Ia([Bt({angle:0,distance:0},Da)],t.prototype,"vector1",void 0),Ia([Bt({angle:0,distance:0},Da)],t.prototype,"vector2",void 0),t}(Ba),_a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.getClassName=function(){return"OrthogonalSegment"},Ia([zt(null)],t.prototype,"length",void 0),Ia([zt(null)],t.prototype,"direction",void 0),t}(za),Wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t.prototype.getClassName=function(){return"DiagramConnectorSegment"},Ia([zt("Straight")],t.prototype,"type",void 0),Ia([zt(!0)],t.prototype,"allowDrag",void 0),Ia([Bt({x:0,y:0},Jn)],t.prototype,"point",void 0),Ia([Bt({x:0,y:0},Jn)],t.prototype,"point1",void 0),Ia([Bt({x:0,y:0},Jn)],t.prototype,"point2",void 0),Ia([Bt({angle:0,distance:0},Da)],t.prototype,"vector1",void 0),Ia([Bt({angle:0,distance:0},Da)],t.prototype,"vector2",void 0),Ia([zt(null)],t.prototype,"length",void 0),Ia([zt(null)],t.prototype,"direction",void 0),t}(nn);function Fa(e,t,n){var i=e.center,r=n?45:180/(2+2/(e.height/e.width)),o=r,a=180-r,s=a+2*r,l=360-r,c=to(t,i);return c>o&&c<a?"top":c>a&&c<s?"right":c>s&&c<l?"bottom":"left"}function Va(e){return!e.distance&&!e.angle}function Ua(e,t,n){var i=60,r={x:0,y:0};switch(n||(n=Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"right":"left":e.y<t.y?"bottom":"top"),n){case"bottom":case"top":i=Math.min(.45*Math.abs(e.y-t.y),i),r={x:e.x,y:e.y+("bottom"===n?i:-i)};break;case"right":case"left":i=Math.min(.45*Math.abs(e.x-t.x),i),r={x:e.x+("right"===n?i:-i),y:e.y}}return r}function Ya(e,t,n,i,r){var o=0,a=0,s=0,l=0,c=Number((r.distance(t,e)+r.distance(n,t)+r.distance(i,n))/3);if(0!==c)for(var d=0;d<=c;d++){var h=d/c,p=(1-h)*(1-h)*(1-h)*e.x+3*h*(1-h)*(1-h)*t.x+3*h*h*(1-h)*n.x+h*h*h*i.x,u=(1-h)*(1-h)*(1-h)*e.y+3*h*(1-h)*(1-h)*t.y+3*h*h*(1-h)*n.y+h*h*h*i.y;0===d?(o=s=p,a=l=u):(o=Math.min(p,o),a=Math.min(u,a),s=Math.max(p,s),l=Math.max(u,l))}return{x:o,y:a,width:s-o,height:l-a,left:o,top:a,right:o+(s-o),bottom:a+(l-a),center:{x:(o+(s-o))/2,y:(a+(l-a))/2}}}function Xa(e,t,n,i,r,o,a){var s={x:0,y:0},l=o/a,c=(1-l)*(1-l)*(1-l)*t.x+3*l*(1-l)*(1-l)*n.x+3*l*l*(1-l)*i.x+l*l*l*r.x;s.x=c;var d=(1-l)*(1-l)*(1-l)*t.y+3*l*(1-l)*(1-l)*n.y+3*l*l*(1-l)*i.y+l*l*l*r.y;return s.y=d,s}var Ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt(!0)],t.prototype,"optional",void 0),Ia([zt(void 0)],t.prototype,"lowerBounds",void 0),Ia([zt(void 0)],t.prototype,"upperBounds",void 0),t}(nn),qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("OneToOne")],t.prototype,"type",void 0),Ia([Bt({},Ga)],t.prototype,"target",void 0),Ia([Bt({},Ga)],t.prototype,"source",void 0),t}(nn),Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("UmlClassifier")],t.prototype,"type",void 0),Ia([zt("Aggregation")],t.prototype,"relationship",void 0),Ia([zt("Directional")],t.prototype,"associationType",void 0),Ia([Bt({},qa)],t.prototype,"multiplicity",void 0),t}(La),Ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),Ia([zt("None")],t.prototype,"type",void 0),Ia([zt("Directional")],t.prototype,"associationType",void 0),Ia([zt("Aggregation")],t.prototype,"relationship",void 0),Ia([Bt({},qa)],t.prototype,"multiplicity",void 0),Ia([zt("Sequence")],t.prototype,"bpmnFlow",void 0),Ia([zt("Default")],t.prototype,"message",void 0),Ia([zt("Normal")],t.prototype,"sequence",void 0),Ia([zt("Default")],t.prototype,"association",void 0),Ia([zt("Object")],t.prototype,"umlActivityFlow",void 0),Ia([zt(30)],t.prototype,"exceptionFlowHeight",void 0),t}(nn),$a=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.parentId="",o.bridges=[],o.status="None",o.shape&&"UmlActivity"===o.shape.type&&Xl(i,o),i&&i.shape&&"None"!==i.shape.type&&Gl(i,o),o}return ka(t,e),t.prototype.setPortID=function(e,t){if(this.targetID&&this.sourceID)for(var n=e.nameTable[this.targetID],i=e.nameTable[this.sourceID],r=t?n&&n.ports:i&&i.ports,o=void 0,a=0;r&&a<r.length;a++)o=r[a],this.targetPortID===o.id&&t?!(o.constraints&_i.None)&&o.constraints&_i.InConnect||(this.targetPortID=""):this.sourcePortID!==o.id||t||!(o.constraints&_i.None)&&o.constraints&_i.OutConnect||(this.sourcePortID="")},t.prototype.init=function(e){var t;this.id||(this.id=mh()),this.sourcePortID&&this.setPortID(e),this.targetPortID&&this.setPortID(e,!0);var n=new sr,i=new hr;i.id=this.id+"_path";var r,o=new hr,a=new hr;i=this.getSegmentElement(this,i);var s=[];switch(s=this.getConnectorPoints(this.type),s=this.clipDecorators(this,s),r=di.toBounds(s),n.width=r.width,n.height=r.height,n.offsetX=r.x+n.pivot.x*r.width,n.offsetY=r.y+n.pivot.y*r.height,this.shape.type){case"Bpmn":switch(w()?this.shape.bpmnFlow:this.shape.flow){case"Sequence":t=this.getBpmnSequenceFlow();break;case"Association":(t=new hr).visible=!1,this.getBpmnAssociationFlow();break;case"Message":t=this.getBpmnMessageFlow(),i=this.getSegmentElement(this,i),this.updateShapePosition(this,t)}break;case"UmlActivity":switch(w()?this.shape.umlActivityFlow:this.shape.flow){case"Object":this.getUMLObjectFlow();break;case"Exception":this.getUMLExceptionFlow(i)}break;case"UmlClassifier":this.getConnectorRelation()}var l=this.intermediatePoints;if("Bezier"===this.type){var c=this.segments[0],d=this.segments[this.segments.length-1];l=[Jn.isEmptyPoint(d.point2)?d.bezierPoint2:d.point2,Jn.isEmptyPoint(c.point1)?c.bezierPoint1:c.point1]}var h=e.getDescription;this.sourceWrapper&&this.sourceWrapper.style.strokeWidth;if(o=this.getDecoratorElement(s[0],l[1],this.sourceDecorator,!0,h),a=this.getDecoratorElement(s[s.length-1],l[l.length-2],this.targetDecorator,!1,h),o.id=this.id+"_srcDec",a.id=this.id+"_tarDec",i.style=this.style,i.style.fill="transparent",void 0!==h){var p=h(this,e);i.description=p||this.id}n.style.strokeColor="transparent",n.style.fill="transparent",n.style.strokeWidth=0,n.children=[i,o,a],n.id=this.id,void 0!==t&&n.children.push(t),n.offsetX=i.offsetX,n.offsetY=i.offsetY,n.width=i.width,n.height=i.height;for(var u=0;this.annotations,u<this.annotations.length;u++)n.children.push(this.getAnnotationElement(this.annotations[u],this.intermediatePoints,r,h,e.element.id,e.annotationTemplate));return this.wrapper=n,n},t.prototype.getConnectorRelation=function(){var e=this.shape;"Association"===e.relationship?(this.segments[0].type="Straight",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Inheritance"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"):"Composition"===e.relationship||"Aggregation"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="Diamond",this.targetDecorator.shape="None"):"Dependency"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="OpenArrow"):"Realization"===e.relationship&&(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow"),"BiDirectional"===e.associationType&&(this.sourceDecorator.shape="None",this.targetDecorator.shape="None");var t,n,i,r,o="",a="";e.multiplicity.source&&(e.multiplicity.source.lowerBounds=e.multiplicity.source.lowerBounds,e.multiplicity.source.upperBounds=e.multiplicity.source.upperBounds),e.multiplicity.target&&(e.multiplicity.target.lowerBounds=e.multiplicity.target.lowerBounds,e.multiplicity.target.upperBounds=e.multiplicity.target.upperBounds),n=e.multiplicity.source,i=e.multiplicity.target,r=n.upperBounds?n.lowerBounds+"..."+n.upperBounds:n.lowerBounds,t=i.upperBounds?i.lowerBounds+"..."+i.upperBounds:i.lowerBounds,"ManyToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,o=r||"*",a="1"),"OneToMany"===e.multiplicity.type&&(e.multiplicity.source.optional=!1,a=t||"*",o="1"),"ManyToOne"===e.multiplicity.type&&(o=r||"*",a=t||"*"),"OneToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,e.multiplicity.source.optional=!1,o="1",a="1"),this.annotations=[{id:this.id+"sourcelabel",content:o,offset:0,alignment:"Before",margin:{right:5,bottom:5}},{id:this.id+"targetlabel",content:a,offset:1,alignment:"Before",margin:{right:5,bottom:5}}]},t.prototype.getBpmnSequenceFlow=function(){var e=new hr,t=new hr;if("Normal"===this.shape.sequence&&"Bezier"!==this.type&&(this.targetDecorator.shape="Arrow"),"Default"===this.shape.sequence){e=this.getSegmentElement(this,e);var n=this.intermediatePoints;t=Hc(n,this),this.targetDecorator.shape="Arrow"}return"Conditional"===this.shape.sequence&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Diamond",t.id=this.id+this.shape.type),t},t.prototype.getUMLObjectFlow=function(){if(this.annotations)for(var e=0;e<this.annotations.length;e++)this.annotations[e].content="["+this.annotations[e].content+"]"},t.prototype.getUMLExceptionFlow=function(e){this.type="Straight";var t=this.shape.exceptionFlowHeight/2,n={x:(this.targetPoint.x+this.sourcePoint.x)/2,y:(this.targetPoint.y+this.sourcePoint.y)/2},i=n.x-this.sourcePoint.x,r=n.y-this.sourcePoint.y,o=t/Math.sqrt(i*i+r*r),a={x:n.x-i*o,y:n.y-r*o},s={x:n.x+i*o,y:n.y+r*o},l=pi();fi(l,315,n.x,n.y),this.segments=[];var c=new Ba(this,"segments",{type:"Straight",point:ui(l,s)},!0);this.segments.push(c),c=new Ba(this,"segments",{type:"Straight",point:ui(l,a)},!0),this.segments.push(c),e=this.getSegmentElement(this,e)},t.prototype.getBpmnAssociationFlow=function(){"Default"===this.shape.association&&(this.targetDecorator.shape="Arrow"),"Directional"===this.shape.association&&(this.targetDecorator.shape="Arrow"),"BiDirectional"===this.shape.association&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Arrow")},t.prototype.getBpmnMessageFlow=function(){var e=new hr;return this.targetDecorator.shape="Arrow",this.targetDecorator.width=5,this.targetDecorator.height=10,this.sourceDecorator.shape="Circle","InitiatingMessage"!==this.shape.message&&"NonInitiatingMessage"!==this.shape.message||(e.id=this.id+"_"+this.shape.message,e.width=25,e.height=15,e.data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.horizontalAlignment="Center",e.verticalAlignment="Center",e.transform=Mi.Self,e.style.fill="NonInitiatingMessage"===this.shape.message?"lightgrey":"white"),e},t.prototype.distance=function(e,t){return Fc(e,t)},t.prototype.findPath=function(e,t){return Wc(e,t)},t.prototype.getAnnotationElement=function(e,t,n,i,r,o){var a,s;e.id=e.id||mh(),w()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),r&&(e.template||"Template"===e.annotationType||o&&""===e.content)?a=gh(a=new Ta(this.id,r,e.id,o),e,o):((a=new or).content=e.content,a.style.textOverflow="Wrap"),a.constraints=e.constraints,a.visible=e.visibility,a.rotateAngle=e.rotateAngle,a.horizontalAlignment=e.horizontalAlignment,a.verticalAlignment=e.verticalAlignment,a.width=e.width,a.height=e.height,void 0===n.width||e.template||(a.width=(e.width||n.width)-e.margin.left-e.margin.right),a.margin=e.margin,a.id=this.id+"_"+e.id,0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth),a.style=e.style;var l=Dh(i);return l&&(s=l(e,this)),a.description=s||a.id,this.updateAnnotation(e,t,n,a),a},t.prototype.updateAnnotation=function(e,t,n,i,r){var o,a,s,l,c,d,h,p,u={x:0,y:0};i instanceof Ta||r||i.refreshTextElement(),i.width=e.width||n.width,a=(o=rc(t,e,n)).point,e.segmentAngle&&(i.rotateAngle=e.rotateAngle+o.angle,i.rotateAngle=(i.rotateAngle+360)%360),0===n.width&&(n.width=this.style.strokeWidth),0===n.height&&(n.height=this.style.strokeWidth),d={x:(a.x-n.x)/n.width,y:(a.y-n.y)/n.height},u.x=n.width*d.x,u.y=n.height*d.y,s=function(e,t,n){t%=360;var i,r;switch(e.alignment){case"Before":t>=45&&t<=135?(r="right",i=.5===e.offset?"center":"top"):t>=225&&t<=315?(r="left",i=.5===e.offset?"center":"bottom"):t>45&&t<225?(i="top",r=.5===e.offset?"center":"right"):(i="bottom",r=.5===e.offset?"center":"left");break;case"After":t>=45&&t<=135?(r="left",i=.5===e.offset?"center":"top"):t>=225&&t<=315?(r="right",i=.5===e.offset?"center":"bottom"):t>45&&t<225?(i="bottom",r=.5===e.offset?"center":"right"):(i="top",r=.5===e.offset?"center":"left");break;case"Center":r="center",i="center"}if(0===e.offset||1===e.offset){switch(o=n[0],a=n[1],Math.abs(a.x-o.x)>Math.abs(a.y-o.y)?o.x<a.x?"right":"left":o.y<a.y?"bottom":"top"){case"left":r=0===e.offset?"right":"left";break;case"right":r=0===e.offset?"left":"right";break;case"bottom":i=0===e.offset?"top":"bottom";break;case"top":i=0===e.offset?"bottom":"top"}}var o,a;return{hAlign:r,vAlign:i}}(e,o.angle,t),l=s.hAlign,c=s.vAlign,"left"===l?(h="Left",u.x+=e.displacement.x):"right"===l?(h="Right",u.x-=e.displacement.x):"center"===l&&(h="Center"),"top"===c?(p="Top",u.y+=e.displacement.y):"bottom"===c?(p="Bottom",u.y-=e.displacement.y):"center"===c&&(p="Center"),i.horizontalAlignment=h,i.verticalAlignment=p,i.setOffsetWithRespectToBounds(u.x,u.y,"Absolute"),i.relativeMode="Point"},t.prototype.getConnectorPoints=function(e,t,n){Math.abs(this.sourcePoint.x-this.targetPoint.x),Math.abs(this.sourcePoint.y-this.targetPoint.y);var i=Rr(this,n).slice(0);return i&&i.length>0&&(this.sourcePoint=i[0],this.targetPoint=i[i.length-1]),i},t.prototype.clipDecorator=function(e,t,n,i){var r,o,a={x:0,y:0},s=t.length;r=n?t[0]:t[s-1],o=n?t[1]:t[s-2];var l=Jn.distancePoints(r,o);l=0===l?1:l;var c=1,d=n?e.sourceWrapper:e.targetWrapper;d&&(c=d.style.strokeWidth,i&&i&Ri.DecoratorPropertyChange&&(c=1));var h=c-1;return a.x=Math.round(r.x+h*(o.x-r.x)/l),a.y=Math.round(r.y+h*(o.y-r.y)/l),(n&&"None"!==e.sourceDecorator.shape||!n&&"None"!==e.targetDecorator.shape)&&(a=Jn.adjustPoint(a,o,!0,i&Ri.DecoratorPropertyChange?0:c/2)),a},t.prototype.clipDecorators=function(e,t,n){return"None"!==e.sourceDecorator.shape&&(t[0]=this.clipDecorator(e,t,!0,n)),"None"!==e.targetDecorator.shape&&(t[t.length-1]=this.clipDecorator(e,t,!1,n)),t},t.prototype.updateSegmentElement=function(e,t,n,i){var r,o=new di;if(r=this.getSegmentPath(e,t,i),"Bezier"===e.type){if(this.segments.length>0)for(var a=0;a<this.segments.length;a++){var s=this.segments[a],l=e.segments[a],c=Jn.isEmptyPoint(s.point1)?l.bezierPoint1:l.point1,d=Jn.isEmptyPoint(s.point2)?l.bezierPoint2:l.point2;o.uniteRect(Ya(s.points[0],c,d,s.points[1],e))}}else o=di.toBounds(t);return n.width=o.width,n.height=o.height,n.offsetX=o.x+n.width/2,n.offsetY=o.y+n.height/2,n.data=r,e.wrapper&&(e.wrapper.offsetX=n.offsetX,e.wrapper.offsetY=n.offsetY,e.wrapper.width=o.width,e.wrapper.height=o.height),n},t.prototype.getSegmentElement=function(e,t,n,i){var r;return Rc(e),r=this.getConnectorPoints(e.type,void 0,n),this.intermediatePoints=r,t.staticSize=!0,t=this.updateSegmentElement(e,r,t,i)},t.prototype.getDecoratorElement=function(e,t,n,i,r){var o=new hr;if(o.transform=Mi.Self,this.updateDecoratorElement(o,e,t,n),void 0!==r){var a=r(n,this);o.description=a||"source"}return o},t.prototype.bridgePath=function(e,t,n){var i=t;if(e.bridges.length>0)if("Straight"===e.type&&e.segments.length<2)for(var r=0;r<e.bridges.length;r++){(o=e.bridges[r]).rendered||(i+=" L"+o.startPoint.x+" "+o.startPoint.y,i+=o.path,o.rendered=!0)}else if("Orthogonal"===e.type||"Straight"===e.type&&e.segments.length>1)for(r=0;r<e.bridges.length;r++){var o;(o=e.bridges[r]).segmentPointIndex===n&&(o.rendered||o.segmentPointIndex===n&&(i+=" L"+o.startPoint.x+" "+o.startPoint.y,i+=o.path,o.rendered=!0))}return i},t.prototype.updateDecoratorElement=function(e,t,n,i){var r,o;e.offsetX=t.x,e.offsetY=t.y,o=Jn.findAngle(t,n),r=function(e,t){return"Custom"===e?t.pathData:kr[e]}(i.shape,i);var a=new Kn(i.width,i.height);e.pivot.x=i.pivot.x,e.pivot.y=i.pivot.y,e.style=i.style,e.rotateAngle=o,e.data=r,e.canMeasurePath=!0,e.width=a.width,e.height=a.height},t.prototype.getSegmentPath=function(e,t,n){for(var i,r,o,a="",s=[],l=0;l<t.length;)s.push({x:t[l].x,y:t[l].y}),l++;for(var c=0;c<e.bridges.length;c++){e.bridges[c].rendered=!1}if(s=this.clipDecorators(e,s,n),this.cornerRadius>0&&"Bezier"!==this.type)for(var d=0;d<s.length-1;d++){i=s[d],0===d&&(a="M"+i.x+" "+i.y);var h=Jn.distancePoints(s[d],s[d+1]);h>0&&(r=d<s.length-2?h<2*this.cornerRadius?Jn.adjustPoint(s[d],s[d+1],!1,h/2):Jn.adjustPoint(s[d],s[d+1],!1,this.cornerRadius):s[d+1],d>0&&(h<2*this.cornerRadius?(o=Jn.adjustPoint(s[d],s[d+1],!0,h/2),d<s.length-2&&(r=null)):o=Jn.adjustPoint(s[d],s[d+1],!0,this.cornerRadius)),o&&(a+="Q"+i.x+" "+i.y+" "+o.x+" "+o.y),r&&(e.bridges.length>0&&(a=this.bridgePath(e,a,d),"Orthogonal"===e.type&&(a=this.bridgePath(e,a,d+1))),a+=" L"+r.x+" "+r.y))}else if("Bezier"===this.type){for(var p=void 0,u=this.segments,f=0;f<u.length;f++)s.length>2&&(u[f].bezierPoint1={x:0,y:0},u[f].bezierPoint2={x:0,y:0}),!Jn.isEmptyPoint(u[f].point1)||u[f].vector1.angle||u[f].vector1.distance?u[f].vector1.angle||u[f].vector1.distance?u[f].bezierPoint1=Jn.transform(s[f],u[f].vector1.angle,u[f].vector1.distance):u[f].bezierPoint1={x:u[f].point1.x||u[f].bezierPoint1.x,y:u[f].point1.y||u[f].bezierPoint1.y}:((e.sourceID||this.sourcePortID)&&this.sourceWrapper&&(p=Fa(this.sourceWrapper.bounds,s[f],!0)),u[f].bezierPoint1=Ua(s[f],s[f+1],p)),!Jn.isEmptyPoint(u[f].point2)||u[f].vector2.angle||u[f].vector2.distance?u[f].vector2.angle||u[f].vector2.distance?u[f].bezierPoint2=Jn.transform(s[f+1],u[f].vector2.angle,u[f].vector2.distance):u[f].bezierPoint2={x:u[f].point2.x||u[f].bezierPoint2.x,y:u[f].point2.y||u[f].bezierPoint2.y}:((e.targetID||this.targetPortID)&&this.targetWrapper&&(p=Fa(this.targetWrapper.bounds,s[f+1],!0)),u[f].bezierPoint2=Ua(s[f+1],s[f],p));s.splice(1,0,{x:u[0].bezierPoint1.x,y:u[0].bezierPoint1.y}),s.splice(s.length-1,0,{x:u[u.length-1].bezierPoint2.x,y:u[u.length-1].bezierPoint2.y}),s=this.clipDecorators(e,s,n);for(var g=0;g<u.length;g++){0===g&&(a="M"+s[0].x+" "+s[0].y);var m=g===u.length-1?s[s.length-1].x+" "+s[s.length-1].y:u[g].points[u[g].points.length-1].x+" "+u[g].points[u[g].points.length-1].y;a+="C"+u[g].bezierPoint1.x+" "+u[g].bezierPoint1.y+" "+u[g].bezierPoint2.x+" "+u[g].bezierPoint2.y+" "+m}}else for(var v=0;v<s.length;v++)i=s[v],0===v&&(a="M"+i.x+" "+i.y),v>0&&(a=this.bridgePath(e,a,v),a+=" L"+i.x+" "+i.y);return a},t.prototype.updateShapeElement=function(e){var t;switch(e.shape.type){case"Bpmn":e.wrapper.children[3]instanceof hr&&(t=e.wrapper.children[3]),("Message"===e.shape.flow||w()&&"Message"===e.shape.bpmnFlow)&&this.updateShapePosition(e,t);break;case"UmlActivity":("Exception"===e.shape.flow||w()&&"Exception"===e.shape.umlActivityFlow)&&this.getUMLExceptionFlow(e.wrapper.children[0])}},t.prototype.updateShapePosition=function(e,t){for(var n,i,r=0,o=this.intermediatePoints,a=0;a<o.length-1;a++){var s=.5*(r+=this.distance(o[a],o[a+1]));r>=s&&(n=to(o[a],o[a+1]),i=Jn.transform(o[a],n,s))}t.offsetX=i.x,t.offsetY=i.y},t.prototype.scale=function(e,t,n,i,r){var o=0,a=0;if(this.wrapper&&this.wrapper.outerBounds){var s=vo(this),l=(this.wrapper.bounds.width||this.style.strokeWidth||1)-2,c=(this.wrapper.bounds.height||this.style.strokeWidth||1)-2;o=s.width-l,a=s.height-c,e=(n-Math.max(o,a))/l,t=(i-Math.max(o,a))/c,o=a=Math.min(o,a)}e=t=Math.min(e,t);var d=pi();fi(d,-(r=r||this.wrapper).rotateAngle,r.offsetX,r.offsetY),gi(d,e,t,r.offsetX,r.offsetY),fi(d,r.rotateAngle,r.offsetX,r.offsetY);var h=function(e,t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];n.push(ui(e,o))}return n}(d,this.intermediatePoints);return this.sourcePoint=h[0],this.targetPoint=h[h.length-1],bc(this,h=this.intermediatePoints=Rr(this)),{x:o,y:a}},t.prototype.getClassName=function(){return"Connector"},Ia([Ht(Aa)],t.prototype,"shape",void 0),Ia([zt(Oi.Default)],t.prototype,"constraints",void 0),Ia([zt(10)],t.prototype,"bridgeSpace",void 0),Ia([_t([],Pr)],t.prototype,"annotations",void 0),Ia([Bt({},Jn)],t.prototype,"sourcePoint",void 0),Ia([Bt({},Jn)],t.prototype,"targetPoint",void 0),Ia([Wt(Ma)],t.prototype,"segments",void 0),Ia([zt("")],t.prototype,"sourceID",void 0),Ia([zt("")],t.prototype,"targetID",void 0),Ia([zt(10)],t.prototype,"hitPadding",void 0),Ia([zt(0)],t.prototype,"connectionPadding",void 0),Ia([zt("Straight")],t.prototype,"type",void 0),Ia([zt(0)],t.prototype,"cornerRadius",void 0),Ia([Bt({shape:"None"},ja)],t.prototype,"sourceDecorator",void 0),Ia([Bt({shape:"Arrow"},ja)],t.prototype,"targetDecorator",void 0),Ia([Bt({},fa)],t.prototype,"tooltip",void 0),Ia([zt("")],t.prototype,"sourcePortID",void 0),Ia([zt("")],t.prototype,"targetPortID",void 0),Ia([zt(0)],t.prototype,"sourcePadding",void 0),Ia([Bt({},xa)],t.prototype,"previewSize",void 0),Ia([Bt({},xa)],t.prototype,"dragSize",void 0),Ia([zt(0)],t.prototype,"targetPadding",void 0),Ia([Bt({strokeWidth:1,strokeColor:"black"},Ji)],t.prototype,"style",void 0),Ia([zt(null)],t.prototype,"wrapper",void 0),t}(Pa),Qa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ja=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},es=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.offset=0,i.scale=1,i}return Qa(t,e),t.prototype.preRender=function(){this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.updateRulerGeometry(),this.renderComplete()},t.prototype.getModuleName=function(){return"Ruler"},t.prototype.destroy=function(){this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),this.element.classList.remove("e-ruler")},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"length":case"interval":case"segmentWidth":case"tickAlignment":case"markerColor":case"thickness":this.updateRuler()}}},t.prototype.updateRulerGeometry=function(){this.element.style.textAlign="left",this.renderRulerSpace(),this.updateRuler()},t.prototype.renderRulerSpace=function(){var e=this.getRulerGeometry(),t=document.getElementById(this.element.id+"_ruler_space");return t||(t=ih("div",{id:this.element.id+"_ruler_space",style:"height:"+e.height+"px;width:"+e.width+"px;cssFloat:left;"}),this.element.appendChild(t)),t},t.prototype.updateRuler=function(){var e=this.getRulerSize(),t=this.getRulerGeometry(),n=0,i=0,r=new Kn,o=this.getRulerSVG(t);if(o&&(n=this.length,r.height=e,i=this.offset,n&&n!==1/0)){var a=n+this.segmentWidth,s=i;this.updateSegments(s,a+Math.abs(s),o,e)}},t.prototype.updateSegments=function(e,t,n,i){for(var r=e,o={trans:0};r<t;){var a=this.getNewSegment(r,n);a&&(n.appendChild(a.segment),r=this.updateSegment(e,t,a,r,o,i))}},t.prototype.updateSegment=function(e,t,n,i,r,o){var a=this.updateSegmentWidth(this.scale);i===e?(this.startValue=Math.floor(e/a)*a/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString(),this.defStartValue=i=this.startValue*this.scale,"Horizontal"===this.orientation?this.hRulerOffset=e-i:this.vRulerOffset=e-i):(this.startValue=i/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,n.label.textContent=this.startValue.toString()),this.updateTickLabel(n,o);var s="Horizontal"===this.orientation?r.trans+.5+",0.5":"0.5,"+(r.trans+.5);return n.segment.setAttribute("transform","translate("+s+")"),r.trans+=a,i+=a},t.prototype.updateTickLabel=function(e,t){var n=e.segment.lastChild.getBBox(),i="Horizontal"===this.orientation,r="RightOrBottom"===this.tickAlignment,o=i?2:0,a=i?r?t/2+5.5-5.5:t/2+5.5:n.height,s=r?-(n.width+2)+","+(t/2-n.height):-(n.width+2)+","+(t/2-n.height/2),l=i?{x:o,y:a}:{x:o,y:a,transform:"rotate(270)translate("+s+")"};dh(e.segment.lastChild,l)},t.prototype.getNewSegment=function(e,t){var n=this.createNewTicks(e,t);return{segment:n,label:this.createTickLabel(t,n)}},t.prototype.createNewTicks=function(e,t){var n,i,r,o=this.updateSegmentWidth(this.scale);r=rh("g",{class:"e-ruler-segment"});for(var a=0;a<this.interval;a++)i=o/this.interval,n=this.createTick(t,i,a+1,e),r.appendChild(n);return r},t.prototype.getLinePoint=function(e,t,n){var i=this.updateSegmentWidth(this.scale),r=this.getRulerSize();return n=(t*=n-1)%i===0?r:.3*r},t.prototype.createTick=function(e,t,n,i){var r,o,a=this.getLinePoint(e,t,n),s=this.getRulerSize(),l="Horizontal"===this.orientation,c="RightOrBottom"===this.tickAlignment,d=Dh(this.arrangeTick);o={ruler:void 0,tickLength:a,tickInterval:this.segmentWidth/this.interval*(n-1)},d&&d(o),a=o.tickLength;var h=t*(n-1);return(r=rh("line",{x1:l?h:c?s:0,y1:l?c?s:s-(s-a):h,x2:l?h:c?s-a:s-(s-a),y2:l?c?s-a:0:h,"stroke-width":"1",stroke:"black"})).setAttribute("class","e-ruler-tick"),r},t.prototype.createTickLabel=function(e,t){var n;if(t){n=rh("text",{class:"e-ruler-tick-label"}),t.appendChild(n)}return n},t.prototype.updateSegmentWidth=function(e){if(100!==this.segmentWidth)return this.segmentWidth;var t,n=1;for(t=100,t=100/Math.pow(2,Math.round(Math.log(e)/Math.log(2)));t>100;)n/=10,t/=10;for(;t<25;)n*=10,t*=10;return t>=25&&t%25!==0&&(t=25*Math.round(t/25)),t*e/n},t.prototype.createMarkerLine=function(e,t,n){var i;return t&&((i=e.getElementById(t.id+"_marker"))&&i.parentNode.removeChild(i),i=rh("line",n)),i},t.prototype.drawRulerMarker=function(e,t,n){var i,r,o,a,s,l,c,d="Horizontal"===this.orientation,h=e.getElementsByTagName("svg");for(s=0;s<h.length;s++){h[s]&&(i=h[s]);break}if(i){r=this.getRulerSize(),l={id:e.id+"_marker",x1:0,y1:0,x2:d?0:r,y2:d?r:0,stroke:this.markerColor,"stroke-width":1.5,class:"e-d-ruler-marker"},c=this.createMarkerLine(i,e,l),o=this.scale,a=this.offset-this.defStartValue;var p=(d?t.x:t.y)*o+n+a;c.setAttribute("transform","translate("+(d?p+.5+" 0.5":"0.5 "+(p+.5))+")"),i.appendChild(c)}},t.prototype.getRulerGeometry=function(){return new Kn(this.element?this.element.getBoundingClientRect().width:0,this.element?this.element.getBoundingClientRect().height:0)},t.prototype.getRulerSize=function(){return this.thickness},t.prototype.getRulerSVG=function(e){var t,n,i=this.getRulerSize();if(this.element&&(t=document.getElementById(this.element.id+"_ruler_space"))){if(n=rh("svg",{id:this.element.id+"_Ruler_svg",width:"Horizontal"===this.orientation?e.width+200:i+"px",height:"Horizontal"===this.orientation?i:e.height+200+"px",style:"position:inherit;"}),t.childNodes.length>0)for(var r=t.childNodes.length-1;r>=0;r--)t.childNodes[r].parentNode.removeChild(t.childNodes[r]);t.appendChild(n)}return n},t.prototype.wireEvents=function(){},t.prototype.unWireEvents=function(){},Ja([zt(5)],t.prototype,"interval",void 0),Ja([zt(100)],t.prototype,"segmentWidth",void 0),Ja([zt("Horizontal")],t.prototype,"orientation",void 0),Ja([zt("RightOrBottom")],t.prototype,"tickAlignment",void 0),Ja([zt("red")],t.prototype,"markerColor",void 0),Ja([zt(25)],t.prototype,"thickness",void 0),Ja([zt(null)],t.prototype,"arrangeTick",void 0),Ja([zt(400)],t.prototype,"length",void 0),t}(ln);function ts(e,t){var n=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler")),i=rs(e),r=os(e),o=t?"margin-left:"+i.width+"px;":"margin-top:"+i.height+"px;";if(!n){var a="height:"+(t?i.height:r.height+100)+"px;overflow:hidden;width:"+(t?r.width+100:i.width)+"px;position:absolute;font-size:11px;"+o;n=ih("div",{id:e.element.id+(t?"_hRuler":"_vRuler"),style:a})}e.element.insertBefore(n,e.element.firstChild);var s=t?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler,l=new es(s);l.orientation=t?"Horizontal":"Vertical",l.length=(t?r.width:r.height)+s.segmentWidth,l.appendTo("#"+e.element.id+(t?"_hRuler":"_vRuler")),t?e.hRuler=l:e.vRuler=l;var c=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler"));t?e.hRuler.element=c:e.vRuler.element=c}function ns(e){var t=-e.scroller.horizontalOffset,n=-e.scroller.verticalOffset;e&&e.rulerSettings.showRulers?(e.hRuler.length=0,e.vRuler.length=0,void 0!==t&&e.hRuler.element&&as(e,e.hRuler,t,!0),void 0!==n&&e.vRuler.element&&as(e,e.vRuler,n,!1)):is(e)}function is(e){lh(e.element.id+"_hRuler"),lh(e.element.id+"_vRuler"),lh(e.element.id+"_overlapRuler")}function rs(e){var t=0,n=0;return e.rulerSettings.showRulers&&(t=e.rulerSettings.horizontalRuler.thickness,n=e.rulerSettings.verticalRuler.thickness),new Kn(n,t)}function os(e){var t=rs(e),n=e.scroller.viewPortHeight,i=e.scroller.viewPortWidth;return i<e.element.clientWidth-t.width&&(i=e.element.clientWidth-t.width),n<e.element.clientHeight-t.height&&(n=e.element.clientHeight-t.height),e.hRuler&&e.hRuler.length&&(i=e.hRuler.length),e.vRuler&&e.vRuler.length&&(n=e.vRuler.length),new Kn(i,n)}function as(e,t,n,i){var r=rs(e),o=os(e),a=i?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler;!function(e,t,n){var i=document.getElementById(e.element.id+(n?"_hRuler":"_vRuler")),r=n?e.hRuler:e.vRuler;i&&e&&t&&(i.style.width=(n?t.width+r.segmentWidth:r.thickness)+"px",i.style.height=(n?r.thickness:t.height+r.segmentWidth)+"px",(i=document.getElementById(e.element.id+"_overlapRuler"))&&(n?i.style.height=r.thickness+"px":i.style.width=r.thickness+"px"))}(e,o,i),function(e,t,n){var i=document.getElementById(e.element.id+(n?"_hRuler_ruler_space":"_vRuler_ruler_space")),r=n?e.hRuler:e.vRuler;i&&e&&t&&(i.style.width=(n?t.width+2*r.segmentWidth:r.thickness)+"px",i.style.height=(n?r.thickness:t.height+2*r.segmentWidth)+"px")}(e,o,i),t.offset=n,t.scale=e.scroller.currentZoom,t.length=(i?o.width:o.height)+100,t.arrangeTick=Dh(a.arrangeTick),t.dataBind();var s=i?e.hRuler.element:e.vRuler.element;i?s.style.marginLeft=r.width-t.hRulerOffset+"px":s.style.marginTop=r.height-t.vRulerOffset+"px"}function ss(e){if(e){return e instanceof Or||e instanceof Pr?e.constraints&Pi.Select:e instanceof $a?e.constraints&Oi.Select:e.constraints&Ei.Select}return 1}function ls(e){if(e){return e instanceof Or||e instanceof Pr?e.constraints&Pi.Drag:e instanceof $a?e.constraints&Oi.Drag:e instanceof Hd?1:e.constraints&Ei.Drag}return 1}function cs(e){return e.constraints&Oi.DragSourceEnd}function ds(e){return e.constraints&Oi.DragTargetEnd}function hs(e){return e.constraints&Oi.DragSegmentThumb}function ps(e){return e instanceof Or||e instanceof Pr?e.constraints&Pi.Rotate:e.constraints&Ei.Rotate}function us(e){return e.constraints&Ei.Shadow}function fs(e){return e instanceof Dd&&e.constraints&Ei.InConnect?e.constraints&Ei.InConnect:0}function gs(e){return e&&e.constraints&&!(e.constraints&_i.None)&&e.constraints&_i.InConnect?e.constraints&_i.InConnect:0}function ms(e){return e instanceof Dd&&e.constraints&Ei.OutConnect?e.constraints&Ei.OutConnect:0}function vs(e){return e&&e.constraints&&!(e.constraints&_i.None)&&e.constraints&_i.OutConnect?e.constraints&_i.OutConnect:0}function ys(e,t){var n=0;return e instanceof Or||e instanceof Pr?n=e.constraints&Pi.Resize:e&&("SouthEast"===t?n=e.constraints&Ei.ResizeSouthEast:"East"===t?n=e.constraints&Ei.ResizeEast:"NorthEast"===t?n=e.constraints&Ei.ResizeNorthEast:"South"===t?n=e.constraints&Ei.ResizeSouth:"North"===t?n=e.constraints&Ei.ResizeNorth:"SouthWest"===t?n=e.constraints&Ei.ResizeSouthWest:"West"===t?n=e.constraints&Ei.ResizeWest:"NorthWest"===t&&(n=e.constraints&Ei.ResizeNorthWest)),n}function bs(e){return e instanceof $a?e.constraints&Oi.AllowDrop:e.constraints&Ei.AllowDrop}function ws(e){return e.constraints&Ii.Virtualization}function xs(e){return e.tool&Ai.SingleSelect}function Ss(e){return e.tool&Ai.MultipleSelect}function Cs(e){return e.tool&Ai.ZoomPan}function Os(e){return e.tool&Ai.ContinuousDraw}function Ps(e){return e.tool&Ai.DrawOnce}function Es(e){return e.tool&Ai.SingleSelect||e.tool&Ai.MultipleSelect}function Ts(e){return e.constraints&Ii.UserInteraction}function ks(e){return e.constraints&Ii.ZoomTextEdit}function Is(e){return function(e){return e.constraints&Ii.ApiUpdate}(e)||e.diagramActions&Ri.ToolAction}function As(e,t){return e.constraints&_i.Draw}function Ms(e,t){return e.constraints&_i.Drag}function js(e){return!(e&Ni.DrawSelectorBorder)}function Ds(e){return!!(e&Ni.PreventRenderSelector)}var Ls=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rs=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ls(t,e),t.prototype.getClassName=function(){return"UserHandle"},Rs([zt("")],t.prototype,"name",void 0),Rs([zt("")],t.prototype,"pathData",void 0),Rs([zt("")],t.prototype,"content",void 0),Rs([zt("")],t.prototype,"source",void 0),Rs([zt("#000000")],t.prototype,"backgroundColor",void 0),Rs([zt("Top")],t.prototype,"side",void 0),Rs([zt("")],t.prototype,"borderColor",void 0),Rs([zt(.5)],t.prototype,"borderWidth",void 0),Rs([zt(25)],t.prototype,"size",void 0),Rs([zt("white")],t.prototype,"pathColor",void 0),Rs([zt(10)],t.prototype,"displacement",void 0),Rs([zt(!0)],t.prototype,"visible",void 0),Rs([zt(0)],t.prototype,"offset",void 0),Rs([Bt({},Yi)],t.prototype,"margin",void 0),Rs([zt("Center")],t.prototype,"horizontalAlignment",void 0),Rs([zt("Center")],t.prototype,"verticalAlignment",void 0),Rs([zt(!1)],t.prototype,"disableNodes",void 0),Rs([zt(!1)],t.prototype,"disableConnectors",void 0),Rs([zt("")],t.prototype,"template",void 0),t}(nn);function zs(e){return Bs[e.toString()]}var Bs={Action:"M 90 82.895 C 90 86.819 86.776 90 82.8 90 H 7.2 C 3.224 90 0 86.819 0 82.895 V 7.105 C 0 3.181 3.224 0 7.2 0 h 75.6 C 86.776 0 90 3.181 90 7.105 V 82.895 Z",Decision:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",MergeNode:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",InitialNode:"M10,19.5c-5.238,0-9.5-4.262-9.5-9.5S4.762,0.5,10,0.5s9.5,4.262,9.5,9.5S15.238,19.5,10,19.5z",ForkNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",JoinNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",TimeEvent:"M50.001,0.00286865 L25.001,25.0029 L0.000976562,0.00286865 L50.001,0.00286865 z M0.000976562,50.0029 L25.001,25.0029 L50.001,50.0029 L0.000976562,50.0029 z",AcceptingEvent:"M17.8336 32.164 L29.64 24 L17.32 16 L48.1664 16 L48.5 32 Z",SendSignal:"M48.164 31.8336 L56 23.832 L47.836 16 L16.168 16 L16.1668 31.8336 Z",ReceiveSignal:"M48.1664 31.8336 L39.836 24 L47.836 16 L16.168 16 L16.168 31.836 Z",StructuredNode:"M0,0 L50,0 L50,50 L0,50 z",Note:"M20 12 L4 12 L4 22 L22 22 L22 14 L20 14 L20 12 L22 14 Z"},Hs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_s=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),_s([zt()],t.prototype,"key",void 0),_s([zt()],t.prototype,"keyModifiers",void 0),t}(nn),Fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),t.prototype.getClassName=function(){return"Command"},_s([zt("")],t.prototype,"name",void 0),_s([zt()],t.prototype,"canExecute",void 0),_s([zt()],t.prototype,"execute",void 0),_s([Bt({},Ws)],t.prototype,"gesture",void 0),_s([zt("")],t.prototype,"parameter",void 0),t}(nn),Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),_s([_t([],Fs)],t.prototype,"commands",void 0),t}(nn),Us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),_s([zt()],t.prototype,"show",void 0),_s([zt()],t.prototype,"showCustomMenuOnly",void 0),_s([zt()],t.prototype,"items",void 0),t}(nn),Ys=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childTable=[],t.cellStyle={},t.desiredRowHeight=[],t.desiredCellWidth=[],t}return Ys(t,e),t.prototype.rowDefinitions=function(){return this.rowDefns},t.prototype.columnDefinitions=function(){return this.colDefns},t.prototype.addObject=function(e,t,n,i,r){if(this.rows.length>=t){var o=this.rows[t];if(o.cells.length>n){r=r||1,i=i||1;var a=o.cells[n];a.columnSpan=Math.max(r,a.columnSpan),a.rowSpan=Math.max(i,a.rowSpan);var s=new $s;(s=e).rowId=t,s.columnId=n,s.columnSpan=r,this.childTable[s.id]=s,this.addObjectToCell(s,a)}}},t.prototype.addObjectToCell=function(e,t){t.children||(t.children=[]),e.style.strokeColor="black",e.style.strokeWidth=1,e.style.fill="white",t.children.push(e)},t.prototype.updateProperties=function(e,t,n,i){this.offsetX=e,this.offsetY=t,this.width=n,this.height=i},t.prototype.setDefinitions=function(e,t){this.rowDefns=e,this.colDefns=t,this.children=[],this.rows=this.rows||[];for(var n=0;n<e.length;n++){var i=e[n],r=new Zs;r.cells=[];var o=new qs;o.width=this.width;var a=this.colDefns;(void 0===a||a.length<1)&&(a=[o]),this.addCellInRow(a,i,r),this.rows.push(r)}},t.prototype.addCellInRow=function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=new Ks;o.children=[],this.cellStyle.fill="none",this.cellStyle.strokeColor="none",o.id=mh(),o.style=this.cellStyle,o.desiredCellWidth=o.minWidth=r.width,o.desiredCellHeight=o.minHeight=t.height,n.cells.push(o),this.children.push(o)}},t.prototype.calculateSize=function(){for(var e=this.rows||[],t=0,n=0,i=0;i<e.length;i++){var r=this.rows[i];n=0;for(var o=0;o<r.cells.length;o++)if(n+=r.cells[o].desiredCellWidth,o===r.cells.length-1&&(this.width&&this.width!==n&&(r.cells[o].desiredCellWidth+=this.width-n,r.cells[o].minWidth=r.cells[o].desiredCellWidth,r.cells[o].children&&r.cells[o].children.length&&(r.cells[o].children[0].width=r.cells[o].desiredCellWidth),this.colDefns[o].width=r.cells[o].desiredCellWidth),t+=r.cells[o].desiredCellHeight,i===e.length-1&&this.height&&this.height!==t)){var a=this.height-t;if(a>0){for(var s=0;s<r.cells.length;s++)r.cells[s].desiredCellHeight+=a,r.cells[s].minHeight=r.cells[s].desiredCellHeight=r.cells[s].desiredCellHeight,r.cells[s].children&&r.cells[s].children.length&&(r.cells[s].children[0].height=r.cells[s].desiredCellHeight);this.rowDefns[i].height+=a}}}},t.prototype.updateRowHeight=function(e,t,n,i){var r=this.rows[e];this.rowDefns[e].height=t,void 0!==this.height&&(this.height+=t-r.cells[0].desiredCellHeight);for(var o=0;o<r.cells.length;o++)r.cells[o].desiredCellHeight=r.cells[o].minHeight=t,r.cells[o].children&&r.cells[o].children.length&&(r.cells[o].children[0].height=t,this.setTextRefresh(r.cells[o].children[0]));if(this.desiredRowHeight[e]=t,this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize),n){var a=void 0!==i?this.calculateCellHeightBasedOnChildren(e,i):this.calculateCellHeight(e);a>t&&this.updateRowHeight(e,a,!1)}},t.prototype.setTextRefresh=function(e){if(e.children&&e.children.length)for(var t=e.children,n=0;n<t.length;n++)t[n]instanceof or&&t[n].refreshTextElement(),t[n]instanceof sr&&this.setTextRefresh(t[n])},t.prototype.updateColumnWidth=function(e,t,n,i){this.colDefns[e].width=t,void 0!==this.width&&(this.width+=t-this.rows[this.rows.length-1].cells[e].desiredCellWidth);for(var r=0;r<this.rows.length;r++)this.setTextRefresh(this.rows[r].cells[0]),this.rows[r].cells[e].desiredCellWidth=this.rows[r].cells[e].minWidth=t,this.rows[r].cells[e].children&&this.rows[r].cells[e].children.length&&(this.rows[r].cells[e].children[0].width=t);if(this.desiredCellWidth[e]=t,this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize),n){var o=void 0!==i?this.calculateCellWidthBasedOnChildren(e,i):this.calculateCellWidth(e);o>t&&this.updateColumnWidth(e,o,!1)}},t.prototype.calculateCellWidth=function(e){for(var t,n,i,r=0;r<this.rows.length;r++)1===(i=this.rows[r].cells[e]).columnSpan&&(n=i.outerBounds.width>i.bounds.width&&(0===i.children.length||void 0===i.children[0].maxWidth)?i.outerBounds.width:i.bounds.width,t=t?t<n?n:t:n);return t},t.prototype.calculateCellHeight=function(e){for(var t,n,i,r=this.rows[e],o=0;o<r.cells.length;o++)n=(i=r.cells[o]).outerBounds.height>i.bounds.height?i.outerBounds.height:i.bounds.height,t=t?t<n?n:t:n;return t},t.prototype.calculateCellSizeBasedOnChildren=function(e,t,n,i){var r,o;if((o=e&&e.children.length>0?e.children[0]:void 0)&&1===e.columnSpan){r="Width"===t?o.bounds.right:o.bounds.bottom,i||(i="Width"===t?o.bounds.width:o.bounds.height);for(var a=0;a<o.children.length;a++){var s=o.children[a];if(s instanceof sr&&-1===s.id.indexOf("header")){var l=("Width"===t?s.bounds.right:s.bounds.bottom)+n;if(l>r){var c=l-r+("Width"===t?o.bounds.width:o.bounds.height);i&&(i=i<c?c:i)}}}}return i},t.prototype.calculateCellWidthBasedOnChildren=function(e,t){for(var n,i,r=0;r<this.rows.length;r++)i=this.rows[r].cells[e],n=this.calculateCellSizeBasedOnChildren(i,"Width",t,n);return n},t.prototype.calculateCellHeightBasedOnChildren=function(e,t){for(var n,i,r=this.rows[e],o=0;o<r.cells.length;o++)i=r.cells[o],n=this.calculateCellSizeBasedOnChildren(i,"Height",t,n);return n},t.prototype.addRow=function(e,t,n){this.rowDefns.length>0?this.rowDefns.splice(e,0,t):this.rowDefns.push(t);var i=new Zs;i.cells=[],(new qs).width=this.width;var r=this.colDefns;this.addCellInRow(r,t,i),e>this.rows.length-1?this.rows.push(i):this.rows.splice(e,0,i),n&&(this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.addColumn=function(e,t,n){var i,r,o,a,s=this.rows;this.colDefns.length>0?this.colDefns.splice(e,0,t):this.colDefns.push(t),void 0!==this.width&&(this.width+=t.width);for(var l=0;l<s.length;l++)i=s[l],r=this.rowDefns[l],o=t,(a=new Ks).style=this.cellStyle,a.desiredCellWidth=a.minWidth=o.width,a.desiredCellHeight=a.minHeight=r.height,a.children=[],e>i.cells.length-1?i.cells.push(a):i.cells.splice(e,0,a),this.children.push(a);n&&(this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.removeRow=function(e){var t,n,i=this.rows[e];this.height-=this.rowDefns[e].height;for(var r=0;r<i.cells.length;r++)t=i.cells[r],this.children.splice(this.children.indexOf(t),1),(n=document.getElementById(t.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n);this.rows.splice(e,1),this.rowDefns.splice(e,1),this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.removeColumn=function(e){var t,n,i=this.rows;this.width-=this.colDefns[e].width;for(var r=0;r<i.length;r++)t=i[r].cells[e],this.children.splice(this.children.indexOf(t),1),(n=document.getElementById(t.id+"_groupElement"))&&n.parentElement&&n.parentElement.removeChild(n),i[r].cells.splice(e,1);this.colDefns.splice(e,1),this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateRowIndex=function(e,t){this.rows;var n=this.rows[e];this.rows.splice(e,1),this.rows.splice(t,0,n);var i=this.rowDefns[e];this.rowDefns.splice(e,1),this.rowDefns.splice(t,0,i),this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateColumnIndex=function(e,t,n){for(var i,r,o,a=e;a<this.rows.length;a++)i=this.rows[a],r=this.rows[a].cells[t],i.cells.splice(t,1),i.cells.splice(n,0,r);var s=this.colDefns[t];this.colDefns.splice(t,1),this.colDefns.splice(n,0,s),o=this.desiredCellWidth[t],this.desiredCellWidth.splice(t,1),this.desiredCellWidth.splice(n,0,o),this.measure(new Kn(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.measure=function(t){var n=void 0;if(void 0!==this.rows&&this.rows.length>0){var i=0,r=0;n=new Kn(0,0),this.calculateSize();for(var o=0,a=this.rows;o<a.length;o++){r=0;for(var s=0,l=(u=a[o]).cells;s<l.length;s++){var c=(v=l[s]).measure(new Kn(v.desiredCellWidth,v.desiredCellHeight));1===v.rowSpan&&(0===r||void 0===this.desiredRowHeight[i]?this.desiredRowHeight[i]=c.height:this.desiredRowHeight[i]=Math.max(c.height,this.desiredRowHeight[i])),1===v.columnSpan&&(0===i||void 0===this.desiredCellWidth[r]?this.desiredCellWidth[r]=c.width:this.desiredCellWidth[r]=Math.max(c.width,this.desiredCellWidth[r]),i===this.rows.length-1&&(n.width+=this.desiredCellWidth[r])),r++}n.height+=this.desiredRowHeight[i],i++}i=r=0;for(var d=0,h=0,p=this.rows;h<p.length;h++){var u;r=0;for(var f=0,g=0,m=(u=p[h]).cells;g<m.length;g++){var v;if(1!==(v=m[g]).columnSpan){v.desiredSize.width=0;for(var y=0;y<v.columnSpan;y++)y+r<u.cells.length&&(v.desiredSize.width+=this.desiredCellWidth[y+r],v.minWidth=v.desiredSize.width,v.measure(v.desiredSize));r++}else v.desiredSize.width=this.desiredCellWidth[f],v.measure(v.desiredSize);if(1!==v.rowSpan){v.desiredSize.height=0;for(y=0;y<v.rowSpan;y++)y+d<this.rows.length&&(v.desiredSize.height+=this.desiredRowHeight[y+d],v.minHeight=v.desiredSize.height,v.measure(v.desiredSize))}else v.desiredSize.height=this.desiredRowHeight[d],v.measure(v.desiredSize);i++,f++}d++}}return void 0===n&&(n=e.prototype.validateDesiredSize.call(this,n,t)),e.prototype.stretchChildren.call(this,n),this.desiredSize=n,n},t.prototype.arrange=function(e,t){var n=0,i=0;if(void 0!==this.rows&&this.rows.length>0){for(var r=this.offsetX-e.width*this.pivot.x,o=this.offsetY-e.height*this.pivot.y,a=r,s=0,l=this.rows;s<l.length;s++){a=r,n=0;for(var c=0,d=(f=l[s]).cells;c<d.length;c++){var h=d[c],p=Math.max(this.desiredCellWidth[n],h.desiredSize.width),u=Math.max(this.desiredRowHeight[i],h.desiredSize.height);h.offsetX=a+p*h.pivot.x,h.offsetY=o+u*h.pivot.y,a+=this.desiredCellWidth[n],h.arrange(new Kn(p,u)),n++}o+=this.desiredRowHeight[i],i++}if(t){h=void 0;var f=void 0,g=void 0,m=void 0,v=void 0;for(i=0;i<this.rows.length;i++)for(f=this.rows[i],n=0;n<f.cells.length;n++)if((h=f.cells[n]).columnSpan>1&&this.children.splice(this.children.indexOf(h)+1,h.columnSpan-1),h.rowSpan>1)for(g=i,m=0;g+h.rowSpan-1<this.rows.length&&m<h.rowSpan-1;g++,m++)v=this.rows[g+1].cells[n],this.children.splice(this.children.indexOf(v),1)}}return this.actualSize=e,this.updateBounds(),e},t}(ir),Gs=function(){this.height=void 0},qs=function(){this.width=void 0},Zs=function(){this.cells=null},Ks=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columnSpan=1,t.rowSpan=1,t}return Ys(t,e),t}(sr),$s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowId=0,t.columnId=0,t.rowSpan=1,t.columnSpan=1,t}return Ys(t,e),t}(tr);function Qs(e,t,n,i){var r;if(el(e,t,!0)){var o=e.isProtectedOnChange;e.protectPropertyChange(!0);var a=(r=e.nameTable[t.parentId]).wrapper;if(r&&"Canvas"===r.container.type&&!i&&!(a.bounds.x<=n.x&&a.bounds.right>=n.x&&a.bounds.y<=n.y&&a.bounds.bottom>=n.y)&&!(t.constraints&Ei.AllowMovingOutsideLane)){var s=xh(t);e.clearSelection(),nl(e,t),t.parentId="";var l={type:"ChildCollectionChanged",category:"Internal",undoObject:s,redoObject:xh(t)};e.addHistoryEntry(l),e.commandHandler.isContainer&&(e.commandHandler.isContainer=!1,e.endGroupAction()),rl(t,e)}e.protectPropertyChange(o)}}function Js(e,t){var n,i,r;if(e.enableServerDataBinding(!1),!w()||w()&&e.diagramActions&Ri.ToolAction)if(e.selectedObject.helperObject)r=e.selectedObject.helperObject;else if(e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0){if(t instanceof Hd&&t.nodes.length+t.connectors.length===1?(n=t.nodes.length>0?t.nodes[0]:t.connectors[0],i=e.selectedItems.wrapper.children[0]):(n=t,i=w()?t===e.selectedItems.nodes[0]?e.selectedItems.wrapper:t.wrapper:e.selectedItems.wrapper),e.selectedObject.actualObject=n,!e.currentSymbol&&(n.isLane&&Wl(n,e)&&el(e,n)||!n.isLane&&el(e,n)||e.constraints&Ii.LineRouting&&e.selectedItems.nodes.length>0))r=function(e,t){for(var n,i={},r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];i[a]=t[a]}return Lc(t)===Dd&&((n=new Dd(e,"nodes",i,!0)).id=t.id,e.initObject(n)),e.updateDiagramObject(n),n}(e,{id:"helper",rotateAngle:i.rotateAngle,offsetX:i.offsetX,offsetY:i.offsetY,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.actualSize.width,height:i.actualSize.height,style:{strokeDashArray:"2 2",fill:"transparent",strokeColor:"#7D7D7D",strokeWidth:2}}),e.selectedObject.helperObject=r}return e.enableServerDataBinding(!0),r}function el(e,t,n){var i=n?e.nameTable[t.parentId]:e.nameTable[t.parentId]||t;return!(!i||!i.container)}function tl(e,t){var n=e.nameTable[t.parentId];"Canvas"===n.container.type&&(t.margin.left=t.offsetX-n.wrapper.bounds.x-t.width/2,t.margin.top=t.offsetY-n.wrapper.bounds.y-t.height/2),e.nodePropertyChange(t,{},{width:t.width,height:t.height,offsetX:t.offsetX,offsetY:t.offsetY,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},rotateAngle:t.rotateAngle}),n.isLane||(n.wrapper.measure(new Kn),n.wrapper.arrange(n.wrapper.desiredSize))}function nl(e,t){if(t.parentId&&""!==t.parentId){var n=e.nameTable[t.parentId];if(n.isLane&&n.parentId)for(var i=e.nameTable[n.parentId],r=n.id.slice(i.id.length),o=r.substring(0,r.length-1),a=i.shape.lanes,s=void 0,l=0;l<a.length;l++)if(o===(s=a[l]).id)for(var c=0;c<s.children.length;c++)s.children[c].id===t.id&&(s.children.splice(c,1),c--);e.deleteChild(t)}}function il(e,t,n,i,r){if(!e.currentSymbol){e.protectPropertyChange(!0);var o=e.nameTable[t.parentId];n=e.getObject(n.id)||n;var a=-1!==e.nodes.indexOf(n)?n.id:n;if("Canvas"!==t.container.type||r){if(o){var s=o.wrapper.bounds,l=t.wrapper.bounds;if("Horizontal"===o.shape.orientation)n.margin.left-=l.x-s.x;else{var c=t.parentId+o.shape.lanes[0].id+"_0_header";n.margin.top-=l.y-s.y-e.nameTable[c].wrapper.bounds.height}}}else{var d=n.wrapper.offsetX-n.wrapper.actualSize.width/2-(t.wrapper.offsetX-t.wrapper.actualSize.width/2),h=n.wrapper.offsetY-n.wrapper.actualSize.height/2-(t.wrapper.offsetY-t.wrapper.actualSize.height/2);n.margin.left=d,n.margin.top=h}var p=e.nameTable[t.id];if(p.children||(p.children=[]),-1===p.children.indexOf(n.id)){nl(e,n),e.getObject(n.id)&&e.removeElements(n);var u=xh(n);if(e.addChild(p,a),n=e.getObject(n.id),p.isLane&&p.parentId)for(var f=(o=e.nameTable[p.parentId]).shape.lanes,g=p.id.slice(o.id.length),m=g.substring(0,g.length-1),v=0;v<f.length;v++)p.isLane&&m===f[v].id&&(n.parentObj instanceof cu||(n.parentObj=f[v]),f[v].children.push(n));if(e.updateDiagramObject(n),rl(n,e),p.parentId?i||ol(p,o,n,e):e.updateDiagramObject(p),!(e.diagramActions&Ri.UndoRedo)){var y={type:"ChildCollectionChanged",category:"Internal",undoObject:u,redoObject:xh(n),historyAction:r?"AddNodeToLane":void 0};e.addHistoryEntry(y)}}e.protectPropertyChange(!1)}}function rl(e,t){var n=Yd(e.id+"_groupElement",t.element.id),i=Yd(e.parentId?e.parentId+"_groupElement":t.element.id+"_diagramLayer",t.element.id);n&&i&&i.appendChild(n)}function ol(e,t,n,i,r){var o,a=xh(e),s=!1,l=t.shape.padding,c=e.wrapper.bounds,d=e.wrapper.outerBounds,h=n.wrapper.bounds;if(t&&"SwimLane"===t.shape.type&&(c.right<h.right+l||c.bottom<h.bottom+l)){var p=t.wrapper.children[0],u=p.bounds.x,f=p.bounds.y,g=void 0;if(c.right<h.right+l&&d.x<=c.x&&(g=h.right-c.right,o=!1,p.updateColumnWidth(e.columnIndex,c.width+g,!0,l)),c.bottom<h.bottom+l&&d.y<=c.y&&(g=h.bottom-c.bottom,o=!0,p.updateRowHeight(e.rowIndex,c.height+g,!0,l)),!(i.diagramActions&Ri.UndoRedo)&&(r&&(i.startGroupAction(),s=!0),void 0!==o)){var m={category:"Internal",type:o?"RowHeightChanged":"ColumnWidthChanged",undoObject:a,redoObject:xh(e)};i.addHistoryEntry(m)}t.width=t.wrapper.width=p.width,t.height=t.wrapper.height=p.height,fl(t),"Horizontal"===t.shape.orientation&&Pl(t,i,e.wrapper,e.columnIndex),El(i,t),i.drag(t,u-p.bounds.x,f-p.bounds.y),bl(t,i),yl(t)}return function(e,t,n){var i=e.nameTable[t.parentId];if(i&&i.isLane){var r=e.nameTable[i.parentId],o=r.wrapper.children[0];r.wrapper.bounds.x,r.wrapper.bounds.y;o.updateColumnWidth(i.columnIndex,o.columnDefinitions()[i.columnIndex].width,!0,n),o.updateRowHeight(i.rowIndex,o.rowDefinitions()[i.rowIndex].height,!0,n);var a=i.wrapper,s=void 0;t.margin.left<n&&(t.margin.left=n),t.margin.top<n&&(t.margin.top=n);for(var l=0;l<a.children.length;l++){var c=a.children[l];if(c instanceof sr){var d=e.nameTable[c.id];if(d.isLane){s=d.wrapper,!0;break}}}s&&("Horizontal"===r.shape.orientation?t.margin.left<n+s.actualSize.width&&(t.margin.left=n+s.actualSize.width):t.margin.top<n+s.actualSize.height&&(t.margin.top=n+s.actualSize.height)),r.wrapper.measure(new Kn(r.width,r.height)),r.wrapper.arrange(r.wrapper.desiredSize),t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY,e.nodePropertyChange(t,{},{margin:{left:t.margin.left,top:t.margin.top}}),o.measure(new Kn(o.width,o.height)),o.arrange(o.desiredSize),r.width=r.wrapper.width=r.wrapper.children[0].actualSize.width,r.height=r.wrapper.height=r.wrapper.children[0].actualSize.height}}(i,n,l),i.updateDiagramElementQuad(),s}function al(e,t,n,i,r,o){var a=Gd(i.element.id);i.diagramRenderer.renderStackHighlighter(e,a,i.scroller.transform,t,n,r,o)}function sl(e,t,n){n.width||0!==n.shape.phases.length||(n.width=100);var i=[],r=[],o=0,a=n.shape,s="Horizontal"===a.orientation;if(a.header&&a.hasHeader&&hl(i,a.header.height),function(e,t,n){var i,r=0,o=n.shape;if(e.length>0)for(var a=0;a<e.length;a++)r+=e[a].height;if(t){if(o.phases.length>0&&o.phaseSize&&(r+=o.phaseSize,hl(e,o.phaseSize)),o.lanes.length>0)for(a=0;a<o.lanes.length;a++)i=o.lanes[a].height,r+=i,a===o.lanes.length-1&&r<n.height&&(i+=n.height-r),hl(e,i)}else if(o.phases.length>0){var s=0;for(a=0;a<o.phases.length;a++){var l=o.phases[a].offset;s+=0===a?l:l-=s,r+=i=l,a===o.phases.length-1&&r<n.height&&(i+=n.height-r),hl(e,i)}}else hl(e,n.height)}(i,s,n),function(e,t,n){var i,r,o,a,s=0,l=n.shape;if(l.phases.length>0&&"Horizontal"===l.orientation)for(a=0;a<l.phases.length;a++)i=l.phases[a].offset,s+=0===a?i:i-=s,r=pl(i),a===l.phases.length-1&&s<n.width&&(r.width+=n.width-s),e.push(r);else if(t)r=pl(n.width),e.push(r);else{for(l.phaseSize&&l.phases.length>0?l.lanes.length+1:l.lanes.length,l.phaseSize&&l.phases.length>0&&(s+=l.phaseSize,r=pl(l.phaseSize),e.push(r)),o=0;o<l.lanes.length;o++)s+=l.lanes[o].width,r=pl(l.lanes[o].width),o===l.lanes.length-1&&s<n.width&&(r.width+=n.width-s),e.push(r);0===l.phases.length&&0===l.lanes.length&&(r=pl(n.width),e.push(r))}}(r,s,n),e.setDefinitions(i,r),a.header&&a.hasHeader&&(!function(e,t,n){for(var i=0,r=e.columnDefinitions(),o=n.shape,a=0;a<r.length;a++)i+=r[a].width;o.header.id=o.header.id||mh();var s={id:n.id+o.header.id,annotations:[xh(o.header.annotation)],style:o.header.style?o.header.style:void 0,offsetX:n.offsetX,offsetY:n.offsetY,rowIndex:0,columnIndex:0,maxWidth:i,container:{type:"Canvas",orientation:"Horizontal"}};ss(n)||(s.constraints&=~Ei.Select);var l=ll(t,e,n,s,!0);e.addObject(l,0,0,1,e.columnDefinitions().length)}(e,t,n),o++),a.phases.length>0&&a.phaseSize){for(var l=0;l<a.phases.length;l++)""===a.phases[l].id&&(a.phases[l].id=mh()),cl(e,t,n,o,s,l);o++}if(a.lanes.length>0)for(l=0;l<a.lanes.length;l++)""===a.lanes[l].id&&(a.lanes[l].id=mh()),dl(e,t,n,o,l,s),o++}function ll(e,t,n,i,r,o,a,s){var l=new Dd(e,"nodes",i,!0);if(l.parentId=n.id,l.isHeader=!!r,l.isPhase=!!o,l.isLane=!!a,s&&(l[o?"PhaseHeaderParent":"LaneHeaderParent"]=s),l.constraints&=~(Ei.InConnect|Ei.OutConnect),l.constraints|=Ei.HideThumbs,e.initObject(l),e.nodes.push(l),l.wrapper.children.length>0){for(var c=0;c<l.wrapper.children.length;c++){var d=l.wrapper.children[c];d instanceof tr&&(d.isCalculateDesiredSize=!1),d instanceof or&&(d.canConsiderBounds=!1,(!r&&"Vertical"===n.shape.orientation&&o||"Vertical"!==n.shape.orientation&&a)&&(d.isLaneOrientation=!0,d.refreshTextElement()))}l.wrapper.measure(new Kn(void 0,void 0)),l.wrapper.arrange(l.wrapper.desiredSize)}return l.wrapper}function cl(e,t,n,i,r,o){var a,s=0,l=0,c=n.shape;r?(l=o,s=i,a=e.columnDefinitions()[o].width):s=c.header&&c.hasHeader?o+1:o;var d={annotations:[xh(c.phases[o].header.annotation)],maxWidth:a,id:n.id+c.phases[o].id+"_header",offsetX:n.offsetX,offsetY:n.offsetY,style:c.phases[o].style,rowIndex:s,columnIndex:l,container:{type:"Canvas",orientation:r?"Horizontal":"Vertical"}};d.annotations[0].rotateAngle=r?0:270,ss(n)||(d.constraints&=~Ei.Select),c.phases[o].header.id=d.id;var h=ll(t,0,n,d,!1,!0,!1,c.phases[o].id);e.addObject(h,s,l)}function dl(e,t,n,i,r,o){for(var a,s,l,c,d,h=n.shape,p=h.phases.length||1,u=h.header&&h.hasHeader?1:0,f=0,g=o?i:u,m=h.phaseSize&&h.phases.length>0?1:0,v=0;v<p;v++)f=o?v:r+m,l=e.rows[g].cells[f],c={id:n.id+h.lanes[r].id+v,rowIndex:g,columnIndex:f,width:l.minWidth,height:l.minHeight,offsetX:n.offsetX,offsetY:n.offsetY,style:h.lanes[r].style,constraints:Ei.Default|Ei.ReadOnly|Ei.AllowDrop,container:{type:"Canvas",orientation:o?"Horizontal":"Vertical"}},ss(n)||(c.constraints&=~Ei.Select),(s=ll(t,0,n,c,!1,!1,!0)).children[0].isCalculateDesiredSize=!1,0===v&&((a={id:n.id+h.lanes[r].id+"_"+v+"_header",style:h.lanes[r].header.style,annotations:[xh(h.lanes[r].header.annotation)],offsetX:n.offsetX,offsetY:n.offsetY,rowIndex:g,columnIndex:f,container:{type:"Canvas",orientation:o?"Horizontal":"Vertical"}}).annotations[0].rotateAngle=o?270:0,h.lanes[r].header.id=a.id,o?a.width=h.lanes[r].header.width:a.height=h.lanes[r].header.height,ss(n)||(a.constraints&=~Ei.Select),d=ll(t,0,n,a,!1,!1,!0,h.lanes[r].id),s.children.push(d)),e.addObject(s,g,f),o||g++,f=o?v:r+1}function hl(e,t){var n=new Gs;n.height=t,e.push(n)}function pl(e){var t=new qs;return t.width=e,t}function ul(e,t,n,i){for(var r,o,a,s,l,c,d,h=[],p=0,u=t.rowDefinitions().length,f=0;f<u;f++)for(c=t.rows[f],s=0;s<c.cells.length;s++)if((l=c.cells[s].children[0])&&l.children&&l.children.length)for(a=1;a<l.children.length;a++)if(r=l.children[a],(o=e.getObject(r.id))&&(o.inEdges.length>0||o.outEdges.length>0))for(d=o.inEdges.concat(o.outEdges),p=0;p<d.length;p++)-1===h.indexOf(d[p])&&h.push(d[p]);return h}function fl(e){var t=e.wrapper;if(t.measure(new Kn(e.width,e.height)),t.children[0]instanceof Xs){var n=t.children[0],i=!1;n.width&&n.width<n.desiredSize.width&&(i=!0,n.width=n.desiredSize.width),n.height&&n.height<n.desiredSize.height&&(i=!0,n.height=n.desiredSize.height),i&&n.measure(new Kn(n.width,n.height))}t.arrange(t.desiredSize)}function gl(e,t,n){var i,r,o,a,s,l,c,d,h=t.wrapper.children[0];for(i=n;i<h.rows.length;i++)for(l=h.rows[i],r=0;r<l.cells.length;r++)if((c=l.cells[r]).children&&c.children.length>0)for(o=0;o<c.children.length;o++)d=c.children[o],(a=e.nameTable[d.id]).isLane&&d.children.length>1&&(s=e.nameTable[d.children[1].id])&&s.isLane&&(s.rowIndex=i,s.columnIndex=r),a.rowIndex=i,a.columnIndex=r}function ml(e,t){var n,i,r,o,a,s,l,c,d=t.wrapper.children[0],h=t.shape,p=h.padding,u=h.lanes,f=d.bounds.y,g=h.phaseSize>0?h.phases.length:0,m="Horizontal"===h.orientation,v=m?h.phases.length||1:u.length+1,y=m?(h.header&&h.hasHeader?1:0)+(h.phases.length>0?1:0)+h.lanes.length:(h.header&&h.hasHeader?1:0)+h.phases.length;if(0===g&&!m&&h.lanes.length&&(y+=1),m?(n=(h.header&&h.hasHeader?1:0)+(g>0?1:0),i=0):(n=h.header&&h.hasHeader?1:0,i=g>0?1:0),u.length>0)for(f+=h.header&&h.hasHeader?h.header.height:0,s=0;s<u.length;s++){for(l=0;l<u[s].children.length;l++)if((r=u[s].children[l]).offsetX=u[s].width,r.offsetY=u[s].height,e.initObject(r),e.nodes.push(r),o=r.wrapper,m){for(c=i;c<v;c++)if(a=d.rows[n].cells[c],o.margin.left<a.bounds.right-d.bounds.x){r.parentId=a.children[0].id,c>i?o.margin.left=o.margin.left-(a.bounds.left-d.bounds.left):a.children[0].children[1].actualSize.width+p>=o.margin.left&&(o.margin.left=a.children[0].children[1].actualSize.width+p),o.margin.left<p&&(o.margin.left=p),o.margin.top<p&&(o.margin.top=p),vl(o,r,e);break}}else for(var b=n;b<y;b++)if(a=d.rows[b].cells[i],o.margin.top<a.bounds.bottom-f){r.parentId=a.children[0].id,b>n?o.margin.top=o.margin.top-(a.bounds.top-f):a.children[0].children[1].actualSize.height+p>=o.margin.top&&(o.margin.top=a.children[0].children[1].actualSize.height+p),o.margin.left<p&&(o.margin.left=p),o.margin.top<p&&(o.margin.top=p),vl(o,r,e);break}m?n++:i++}d.measure(new Kn(t.width,t.height)),d.arrange(d.desiredSize),function(e,t){var n,i,r,o,a,s,l=e.columnDefinitions(),c=e.rowDefinitions(),d=Ol(t);"Vertical"===t.shape.orientation&&0===d&&(d=t.shape.header&&t.shape.hasHeader?1:0);var h=t.shape.padding;for(n=0;n<l.length;n++)e.updateColumnWidth(n,l[n].width,!0,h);for(n=d;n<c.length;n++)e.updateRowHeight(n,c[n].height,!0,h);for(i=0;i<c.length;i++)for(s=e.rows[i],n=0;n<l.length;n++)if((o=s.cells[n]).children&&o.children.length>0)for(r=0;r<o.children.length;r++)(a=o.children[r]).maxWidth&&(a.maxWidth=o.actualSize.width),a.maxHeight&&(a.maxHeight=o.actualSize.height)}(d,t),t.width=t.wrapper.width=d.width,t.height=t.wrapper.height=d.height,El(e,t),t.wrapper.measure(new Kn(t.width,t.height)),t.wrapper.arrange(d.desiredSize),function(e){if("SwimLane"===e.shape.type)for(var t=e.shape.lanes,n=void 0,i=void 0,r=0;r<t.length;r++){n=t[r];for(var o=0;o<n.children.length;o++)(i=n.children[o]).offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY}}(t),bl(t,e),yl(t)}function vl(e,t,n){e.measure(new Kn(t.width,t.height)),e.arrange(e.desiredSize);var i=n.getObject(t.parentId);n.addChild(i,t.id)}function yl(e){if("SwimLane"===e.shape.type&&!e.shape.isLane&&!e.shape.isPhase){var t=void 0,n=void 0,i=void 0,r=e.shape.lanes,o=Ol(e),a=e.wrapper.children[0].rowDefinitions();for(n=0;n<r.length;n++,o++)t=r[n],"Horizontal"===e.shape.orientation?(i=a[o].height,t.height!==i&&(t.height=i)):(i=e.wrapper.children[0].columnDefinitions()[o].width,t.width!==i&&(t.width=i))}}function bl(e,t){var n,i,r,o,a=e.shape,s=a.phases,l=a.header&&a.hasHeader?1:0,c=e.wrapper.children[0],d=c.bounds.y+(a.header&&a.hasHeader?a.header.height:0);if("SwimLane"===e.shape.type&&(e=t.getObject(e.id)||e,s.length>0))if(c=e.wrapper.children[0],"Horizontal"===a.orientation)for(r=a.header&&a.hasHeader?c.rows[1]:c.rows[0],n=0;n<s.length;n++)i=(o=r.cells[n].children[0]).bounds.right-c.bounds.x,s[n].offset!==i&&(s[n].offset=i),t.nameTable[o.id].maxWidth=o.maxWidth;else for(n=0;n<s.length;n++)i=(o=c.rows[l+n].cells[0].children[0]).bounds.bottom-d,s[n].offset!==i&&(s[n].offset=i),t.nameTable[o.id].maxWidth=o.maxWidth}function wl(e,t){if(e&&e.length>0){var n=void 0;t.lineRoutingModule&&t.constraints&Ii.LineRouting&&t.lineRoutingModule.renderVirtualRegion(t,!0);for(var i=0;i<e.length;i++)n=t.getObject(e[i]),t.lineRoutingModule&&t.constraints&Ii.LineRouting&&"Orthogonal"===n.type?t.lineRoutingModule.refreshConnectorSegments(t,n,!0):t.connectorPropertyChange(n,{},{sourceID:n.sourceID,targetID:n.targetID})}}function xl(e,t,n,i){var r,o,a,s,l,c,d,h,p=e.getObject(t.parentId),u=p.shape,f=p.wrapper.children[0],g=u.lanes,m=ul(e,f,t.rowIndex);if("Horizontal"===u.orientation&&t.rowIndex!==n.rowIndex||"Vertical"===u.orientation&&t.columnIndex!==n.columnIndex){if("Horizontal"===u.orientation)s=t.rowIndex,l=n.rowIndex,r=(u.header&&u.hasHeader?1:0)+(u.phases.length&&u.phaseSize?1:0),d=t.rowIndex-r,h=n.rowIndex-r,g[d].canMove&&(d<h?i&&n.wrapper.offsetY>i.y&&(l+=h>0?-1:1,h+=h>0?-1:1):i&&n.wrapper.offsetY<i.y&&(l+=1,h+=1),s!==l&&f.updateRowIndex(s,l));else if(s=t.columnIndex,l=n.columnIndex,r=u.phases.length&&u.phaseSize?1:0,d=t.columnIndex-r,h=n.columnIndex-r,u.header&&u.hasHeader?1:0,g[d].canMove&&(d<h?i&&n.wrapper.offsetX>i.x&&(l+=h>0?-1:1,h+=h>0?-1:1):i&&n.wrapper.offsetX<i.x&&(l+=1,h+=1),s!==l)){if((0===u.phaseSize||0===u.phases.length)&&(0===l||0===s)&&u.header&&u.hasHeader){var v=0===l?s:l;f.rows[0].cells[v].children=f.rows[0].cells[0].children,f.rows[0].cells[v].columnSpan=f.rows[0].cells[0].columnSpan,f.rows[0].cells[0].children=[]}f.updateColumnIndex(0,s,l)}s!==l&&(c=g[d]).canMove&&(o={target:xh(n),source:xh(t)},c=g[d],g.splice(d,1),g.splice(h,0,c),a={type:"LanePositionChanged",redoObject:{target:xh(o.source),source:xh(o.target)},undoObject:o,category:"Internal"},e.diagramActions&Ri.UndoRedo||e.commandHandler.addHistoryEntry(a),gl(e,p,0),wl(m,e),function(e,t){for(var n,i,r=0;r<e.length;r++){n=e[r];for(var o=0;o<n.children.length;o++)(i=t.nameTable[n.children[o].id]).offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY}}(g,e),p.wrapper.measure(new Kn(p.width,p.height)),p.wrapper.arrange(p.wrapper.desiredSize),e.updateDiagramObject(p))}e.updateDiagramElementQuad()}function Sl(e,t,n,i){var r=e.getObject(n.id),o=r.shape,a=o.header&&o.hasHeader?1:0,s=o.lanes,l=o.phases,c=i.wrapper.actualSize.width,d=i.wrapper.actualSize.height,h=t.wrapper.actualSize.width,p=t.wrapper.actualSize.height;"SwimLane"===r.shape.type&&("Horizontal"===o.orientation?t.isPhase?l[t.columnIndex].offset+=c-h:(a=o.phaseSize&&o.phases.length>0?a+1:a,s[t.rowIndex-a].height+=d-p):t.isPhase?l[t.rowIndex-a].offset+=d-p:(a=o.phaseSize&&o.phases.length>0?1:0,s[t.columnIndex-a].width+=c-h))}function Cl(e,t){var n,i=e.shape,r=i.header&&i.hasHeader?1:0;return"Horizontal"===i.orientation?(r+=i.phases.length>0?1:0,n=t.rowIndex-r):n=t.columnIndex-(i.phaseSize&&i.phases.length>0?1:0),n}function Ol(e){var t=0,n=e.shape;return"Horizontal"===n.orientation&&(t=n.header&&n.hasHeader?1:0),n.phases.length>0&&n.phaseSize&&(t+=1),t}function Pl(e,t,n,i){var r=e.shape;if(r.phases.length>0){var o=t.nameTable[r.phases[i].header.id];o&&o.maxWidth<n.outerBounds.width&&(o.maxWidth=n.outerBounds.width,o.wrapper.maxWidth=n.outerBounds.width)}}function El(e,t){if(t.shape.header&&t.shape.hasHeader){var n=t.wrapper.children[0].rows[0].cells[0].children[0].id,i=e.nameTable[n];i&&i.isHeader&&i.maxWidth<t.width&&(i.maxWidth=t.width,i.wrapper.maxWidth=t.width)}}function Tl(e,t,n,i){var r,o=e.nameTable[t.id];if("SwimLane"===o.shape.type){e.protectPropertyChange(!0);var a,s,l=o.wrapper.children[0],c=l.bounds,d=o.shape,h=void 0,p=!1,u=void 0,f=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,w=void 0,x=void 0;if(g=new Rd(d,"lanes",n,!0),f=d.header&&d.hasHeader?1:0,"Horizontal"===d.orientation&&(p=!0,f=d.phases.length>0?f+1:f),a=ul(e,l),f+=s=void 0!==i?i:d.lanes.length,r={element:g,cause:e.diagramActions,state:"Changing",type:"Addition",cancel:!1,laneIndex:s},e.triggerEvent(Hi.collectionChange,r),!r.cancel){if(p){var S=new Gs;S.height=n.height,l.addRow(f,S,!1),o.height=void 0!==o.height?o.height+n.height:o.height,o.wrapper.height=l.height=o.height}else{var C=new qs;C.width=n.width,l.addColumn(s+1,C,!1),o.width&&(o.width+=n.width,o.wrapper.width=l.width=o.width),e.diagramActions&Ri.UndoRedo||(l.rows[0].cells[0].columnSpan+=1)}if(e.diagramActions&Ri.UndoRedo||(g.id+=mh()),void 0!==i?d.lanes.splice(i,0,g):d.lanes.push(g),r={element:g,cause:e.diagramActions,state:"Changed",type:"Addition",cancel:!1,laneIndex:s},e.triggerEvent(Hi.collectionChange,r),dl(l,e,o,f,s,p),h="Horizontal"===d.orientation?e.nameTable[l.rows[f].cells[0].children[0].id]:d.header&&d.hasHeader?e.nameTable[l.rows[1].cells[f].children[0].id]:e.nameTable[l.rows[0].cells[f].children[0].id],e.diagramActions&Ri.UndoRedo||(u={type:"LaneCollectionChanged",changeType:"Insert",undoObject:xh(g),redoObject:xh(h),category:"Internal"},e.addHistoryEntry(u)),gl(e,o,"Horizontal"===d.orientation?f:d.header&&d.hasHeader?1:0),fl(o),El(e,o),(m=n.children)&&m.length>0)for(v=0;v<m.length;v++)if(x={x:(w=m[v]).wrapper.offsetX,y:w.wrapper.offsetY},"Horizontal"===d.orientation)for(l.rows[f].cells[y],y=0;y<l.rows[f].cells.length;y++)kl(e,l.rows[f].cells[y],x,w);else for(b=0;b<l.rows.length;b++)kl(e,l.rows[b].cells[f],x,w);wl(a,e),e.drag(o,c.x-l.bounds.x,c.y-l.bounds.y)}e.protectPropertyChange(!1)}}function kl(e,t,n,i){if(t.children&&t.children.length>0){var r=t.children[0],o=e.nameTable[r.id];r.bounds.containsPoint(n)&&e.addChild(o,i)}}function Il(e,t,n){if("SwimLane"===t.shape.type){var i,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,h=t.wrapper.bounds.x,p=t.wrapper.bounds.y,u=t.shape,f=u.padding,g=u.phases,m=void 0,v=t.wrapper.children[0],y="Horizontal"===u.orientation;if(r=u.header&&u.hasHeader?0:-1,u.phases.length>0&&(r+=1,0),i=y?u.lanes[0].header.width:u.lanes[0].header.height,n.offset>i){for(d=0;d<g.length;d++)if(a=g[d],s=d>0?g[d-1]:a,a.offset>n.offset){if(m=d>0?n.offset-s.offset:n.offset,y){var b=v.columnDefinitions()[d];b.width-=m,(l=e.nameTable[u.phases[d].header.id]).maxWidth=l.wrapper.maxWidth=b.width,v.updateColumnWidth(d,b.width,!1);var w=new qs;w.width=m,c=d,v.addColumn(d,w,!1);break}var x=v.rowDefinitions()[d+r];x.height-=m,l=e.nameTable[u.phases[d].header.id],v.updateRowHeight(d+r,x.height,!1);var S=new Gs;S.height=m,c=d,v.addRow(d+r,S,!1);break}if(e.diagramActions&Ri.UndoRedo&&void 0===c)(A=e.historyManager.currentEntry.next).isLastPhase&&function(e,t,n,i,r,o){var a=t.shape.phases[e-2],s=n.previousPhase.offset;if(r){var l=i.columnDefinitions()[e-1],c=new qs;e>1?(c.width=l.width-(s-a.offset),l.width=s-a.offset):(c.width=l.width-s,l.width=s),i.updateColumnWidth(e-1,l.width,!1),i.addColumn(e,c,!1)}else{l=i.rowDefinitions()[e];var d=new Gs;e>1?(d.height=n.undoObject.offset-s,l.height=s-a.offset):(d.height=l.height-s,l.height=s),i.updateRowHeight(e,l.height,!1),i.addRow(1+e,d,!1)}}(c=g.length,t,A,v,y);var C=new Nd(t.shape,"phases",n,!0);if(e.diagramActions&Ri.UndoRedo||(C.id+=mh()),u.phases.splice(c,0,C),cl(v,e,t,r,y,c),y){if(o=e.nameTable[v.rows[r].cells[c].children[0].id],0===c&&u.header&&u.hasHeader){v.rows[0].cells[0].children=v.rows[0].cells[1].children,v.rows[0].cells[1].children=[];for(var O=v.rows[0],P=0;P<O.cells.length;P++)O.cells[P].minWidth=void 0,O.cells[P].columnSpan=0===P?v.rows[0].cells.length:1}!function(e,t,n,i,r){var o,a,s,l,c,d=t.shape,h=Ol(t);d.header&&d.hasHeader&&(n.rows[0].cells[0].columnSpan=n.rows[0].cells.length);for(a=h;a<n.rows.length;a++)c=n.rows[a],s=c.cells[i-1],l=c.cells[i],o=c.cells[i+1],Al(e,t,s,l,o,a,i);gl(e,t,1)}(e,t,v,c);var E=v.columnDefinitions();if(v.updateColumnWidth(c,E[c].width,!0,f),o.maxWidth=o.wrapper.maxWidth=E[c].width,E.length>c+1){var T=e.nameTable[v.rows[r].cells[c+1].children[0].id];v.updateColumnWidth(c+1,E[c+1].width,!0,f),T.maxWidth=T.wrapper.maxWidth=E[c+1].width}t.width=t.wrapper.width=t.wrapper.children[0].width=v.width}else{o=e.nameTable[v.rows[r+c].cells[0].children[0].id];var k=v.rowDefinitions(),I=k[r+c].height;!function(e,t,n,i,r){for(var o,a,s,l=n.rows[i],c=n.rows[i+1],d=n.rows[i-1],h=1;h<l.cells.length;h++)a=l.cells[h],s=c?c.cells[h]:void 0,o=d.cells[h],Al(e,t,o,a,s,i,h);gl(e,t,1)}(e,t,v,r+c),v.updateRowHeight(r+c,I,!0,f),k.length>r+c+1&&(I=k[r+c+1].height,v.updateRowHeight(r+c+1,I,!0,f)),t.height=t.wrapper.height=t.wrapper.children[0].height=v.actualSize.height}if(fl(t),t.width=t.wrapper.actualSize.width,El(e,t),e.drag(t,h-t.wrapper.bounds.x,p-t.wrapper.bounds.y),bl(t,e),!(e.diagramActions&Ri.UndoRedo)){var A={type:"PhaseCollectionChanged",changeType:"Insert",undoObject:xh(C),redoObject:xh(o),category:"Internal"};e.addHistoryEntry(A)}e.updateDiagramObject(t)}}}function Al(e,t,n,i,r,o,a){var s,l,c,d,h,p=t.shape,u="Horizontal"===p.orientation,f=t.wrapper.children[0],g=i.desiredCellWidth,m=i.desiredCellHeight,v=u?o:a;if(n?(s=u?n.bounds.x+n.bounds.width:n.bounds.x,l=u?n.bounds.y:n.bounds.y+n.bounds.height):(s=f.bounds.x,l=r.bounds.y),c=new di(s,l,g,m),(d=ll(e,0,t,{id:t.id+(u?p.lanes[v-2]:p.lanes[v-1]).id+mh()[0],rowIndex:o,columnIndex:a,width:i.minWidth,height:i.minHeight,style:(u?p.lanes[v-2]:p.lanes[v-1]).style,constraints:Ei.Default|Ei.AllowDrop,container:{type:"Canvas",orientation:u?"Horizontal":"Vertical"}},!1,!1,!0)).children[0].isCalculateDesiredSize=!1,f.addObject(d,o,a),r&&r.children&&r.children.length)for(h=0;h<r.children.length;h++)u?e.nameTable[r.children[h].id].columnIndex+=1:e.nameTable[r.children[h].id].rowIndex+=1;!function(e,t,n,i,r,o,a){var s,l,c,d=e.nameTable[r.id],h=t||a,p=e.nameTable[d.parentId].shape.padding;if(h.children&&h.children[0].children.length>1)for(var u=1;u<h.children[0].children.length;u++)s=h.children[0].children[u],c=e.nameTable[s.id],l=o?{x:s.bounds.x,y:s.bounds.center.y}:{x:s.bounds.center.x,y:s.bounds.top},i.containsPoint(l)?(n.children[0].children.push(s),h.children[0].children.splice(u,1),u--,e.deleteChild(c),c.isLane||(c.parentId=r.id),d.children||(d.children=[]),t||(o?c.margin.left=c.wrapper.bounds.x-h.children[0].bounds.right:c.margin.top=c.wrapper.bounds.y-h.children[0].bounds.bottom),d.children.push(s.id),c.zIndex=d.zIndex+1,e.removeElements(c)):t&&(o?(c.margin.left-=n.desiredCellWidth,p>c.margin.left&&(c.margin.left=p)):(c.margin.top-=n.desiredCellHeight,p>c.margin.top&&(c.margin.top=p)))}(e,r,i,c,d,u,n)}function Ml(e,t,n){if("SwimLane"===t.shape.type&&("ResizeSouth"===n||"ResizeEast"===n)){var i=t.shape,r=t.wrapper.children[0],o=void 0,a=void 0;"ResizeSouth"===n?"Vertical"===i.orientation?o=r.rows[r.rows.length-1].cells[0]:(a=r.rows.length-1,o=r.rows[a].cells[r.rows[a].cells.length-1]):(a=i.header&&i.hasHeader?1:0,o=r.rows[a].cells[r.rows[a].cells.length-1]),e.commandHandler.select(e.nameTable[o.children[0].id])}}function jl(e,t,n,i,r,o){var a,s,l,c,d,h,p,u,f=mh(),g=e.shape,m=g.phases,v=e.offsetX-e.wrapper.actualSize.width/2,y=e.offsetY-e.wrapper.actualSize.height/2;if("Vertical"===g.orientation&&(y+=g.header&&g.hasHeader?g.header.height:0),!o)for(r||(e.id+=f,g&&g.header&&g.hasHeader?g.header.id+=f:g.header=void 0),a=0;m&&a<m.length;a++)m[a].id+=f;for(u=r?[n.childTable[i.id]]:g.lanes,a=0;u&&a<u.length;a++)for(l=u[a],o||(l.id+=f),s=0;l.children&&s<l.children.length;s++)h=(c=l.children[s]).wrapper.offsetX-c.width/2,p=c.wrapper.offsetY-c.height/2,c.zIndex=-1,c.inEdges=c.outEdges=[],(o||n&&(1===n.pasteIndex||0===n.pasteIndex))&&("Vertical"===g.orientation?c.margin.top=p-y:c.margin.left=h-v),o||(c.id+=f);if(!o){if(r)d={shape:{lanes:u,phases:m,phaseSize:g.phaseSize,type:"SwimLane",orientation:g.orientation,header:{annotation:{content:"Title"},height:50}}},"Horizontal"===g.orientation?(d.width=e.wrapper.actualSize.width,d.height=i.wrapper.actualSize.height+g.header.height+g.phaseSize,d.offsetX=e.wrapper.offsetX+10*n.pasteIndex,d.offsetY=i.wrapper.offsetY+10*n.pasteIndex):(d.width=i.wrapper.actualSize.width,d.height=e.wrapper.actualSize.height,d.offsetX=i.wrapper.offsetX+10*n.pasteIndex,d.offsetY=e.wrapper.offsetY+10*n.pasteIndex),e=d;if(0!==n.pasteIndex&&(e.offsetX+=10,e.offsetY+=10),e.zIndex=-1,e=t.add(e),!r)for(var b=0,w=Object.keys(n.childTable);b<w.length;b++){var x=w[b],S=n.childTable[x];S.id+=f,S.sourceID+=f,S.targetID+=f,S.zIndex=-1,t.add(S)}"SVG"!==t.mode&&t.refreshDiagramLayer(),t.select([e])}return e}function Dl(e,t,n,i){var r,o=t.nodes[0];if(i||el(e,o,!0)){var a,s,l=void 0,c=void 0,d=void 0,h=new tr;n&&(d=e.nameTable[n].parentId,l=o=e.nameTable[n]),a=n?l.wrapper:o.wrapper,(s=e.nameTable[d||o.parentId])&&"Grid"===s.container.type&&((r=new sr).children=[],!i&&o.isHeader||("Horizontal"===s.container.orientation&&o.isPhase||"Vertical"===s.container.orientation&&(o.rowIndex>0&&o.columnIndex>0||o.isLane)?(c=function(e,t,n){for(var i=new di,r="SwimLane"===e.shape.type?e.wrapper.children[0].rows:e.wrapper.rows,o=n?1:0;o<r.length;o++)i.uniteRect(r[o].cells[t].bounds);return i}(s,l?l.columnIndex:o.columnIndex,!(!s.shape.header||!s.shape.hasHeader)),r.offsetX=c.center.x,r.offsetY=c.center.y,h.width=c.width,h.height=c.height):(r.offsetX=s.offsetX,r.offsetY=a.offsetY,h.width=s.wrapper.actualSize.width,h.height=a.actualSize.height)),r.children.push(h),r.measure(new Kn),r.arrange(r.desiredSize))}return r}function Ll(e,t,n,i,r){r=void 0!==r?r:Cl(t,n);for(var o=!1,a=t.shape.lanes[r],s=a.children.length-1;s>=0;s--)i?i.id===a.children[s].id&&a.children.splice(s,1):(e.removeDependentConnector(a.children[s]),e.diagramActions&Ri.UndoRedo||(e.diagramActions=e.diagramActions|Ri.UndoRedo,o=!0),e.remove(a.children[s]),a.children.splice(s,1),o&&(e.diagramActions=e.diagramActions&~Ri.UndoRedo))}function Rl(e){return e.children[0]}function Nl(e,t){e.nodes.splice(e.nodes.indexOf(t),1),e.removeFromAQuad(t),e.removeObjectsFromLayer(t),delete e.nameTable[t.id],e.removeElements(t)}function zl(e,t,n,i){var r;if("SwimLane"===n.shape.type){var o=n.shape,a=void 0;if(1===o.lanes.length)e.remove(n);else{var s=n.wrapper.bounds.x,l=n.wrapper.bounds.y,c=void 0,d=void 0,h=void 0,p=void 0,u=n.wrapper.children[0];if(a=i?o.lanes.indexOf(i):Cl(n,t),r={element:t,cause:e.diagramActions,state:"Changing",type:"Removal",cancel:!1,laneIndex:a},e.triggerEvent(Hi.collectionChange,r),!r.cancel){var f=xh(o.lanes[a]);if(Ll(e,n,t,void 0,a),!(e.diagramActions&Ri.UndoRedo)){var g={type:"LaneCollectionChanged",changeType:"Remove",undoObject:f,redoObject:xh(t),category:"Internal"};e.addHistoryEntry(g)}o.lanes.splice(a,1);var m=t?"Horizontal"===o.orientation?t.rowIndex:t.columnIndex:Ol(n)+a;if("Horizontal"===o.orientation){for(c=u.rows[m],d=0;d<c.cells.length;d++)if((h=c.cells[d])&&h.children.length>0)for(p=0;p<h.children.length;p++)Bl(e,h.children[p]);u.removeRow(m)}else{for(n.width=void 0!==n.width?n.width-u.rows[0].cells[m].actualSize.width:n.width,d=0;d<u.rows.length;d++)if((h=u.rows[d].cells[m])&&h.children.length>0)for(p=0;p<h.children.length;p++)Bl(e,h.children[p]);u.removeColumn(m)}r={element:t,cause:e.diagramActions,state:"Changed",type:"Removal",cancel:!1,laneIndex:a},e.triggerEvent(Hi.collectionChange,r),n.width=n.wrapper.width=u.width,n.height=n.wrapper.height=u.height,fl(n),"Vertical"===n.shape.orientation&&(m=0),gl(e,n,m),e.drag(n,s-n.wrapper.bounds.x,l-n.wrapper.bounds.y),e.updateDiagramObject(n)}}}}function Bl(e,t){var n,i;if(t instanceof sr){if(t.children.length>0)for(n=0;n<t.children.length;n++)t.children[n]instanceof sr&&Bl(e,t.children[n]);i=e.getObject(t.id),Nl(e,i)}}function Hl(e,t,n,i){e.protectPropertyChange(!0);n.wrapper.bounds.x,n.wrapper.bounds.y;var r,o=!1,a=n.shape,s=n.wrapper.children[0],l=i?a.phases.indexOf(i):function(e,t){var n=t.shape,i=n.header&&n.hasHeader?1:0;return"Horizontal"===n.orientation?e.columnIndex:e.rowIndex-i}(t,n),c=a.phases.length;if(a.phases.length>1){l===c-1&&(o=!0,r=xh(a.phases[l-1]));var d=xh(a.phases[l]);if(a.phases.splice(l,1),!(e.diagramActions&Ri.UndoRedo)){var h={type:"PhaseCollectionChanged",changeType:"Remove",undoObject:d,previousPhase:r,redoObject:xh(t),category:"Internal",isLastPhase:o};e.addHistoryEntry(h)}"Horizontal"===a.orientation?function(e,t,n,i){var r,o,a,s,l,c,d,h,p,u,f,g;for(i=void 0!==i?i:n.columnIndex,d=0;d<t.rows.length;d++)if((r=t.rows[d]).cells.length>1&&(o=r.cells[i],a=r.cells.length-1===i?r.cells[i-1]:r.cells[i+1],l=a.children[0],o.children.length>0))if(s=o.children[0],f=e.nameTable[s.id],0===a.children.length&&o.children.length>0)a.children=o.children,a.columnSpan=o.columnSpan-1;else{for(h=0;h<s.children.length;h++){if((u=s.children[h])instanceof sr){if((g=e.nameTable[u.id]).isLane||(g.parentId=l.id),r.cells.length-1===i&&(g.margin.left=g.wrapper.bounds.x-l.bounds.x,u.margin.left=g.wrapper.bounds.x-l.bounds.x),l.children.push(u),e.nameTable[l.id]){var m=e.nameTable[l.id];m.children||(m.children=[]),m.children.push(u.id)}s.children.splice(h,1),h--,f&&f.children&&-1!==f.children.indexOf(g.id)&&f.children.splice(f.children.indexOf(g.id),1)}if(r.cells.length-1!==i)for(p=0;p<l.children.length;p++){var v=l.children[p];if(v instanceof sr){var y=e.nameTable[v.id];y.margin.left=y.wrapper.bounds.x-s.bounds.x,v.margin.left=y.wrapper.bounds.x-s.bounds.x}}}if(f&&f.isPhase){var b=e.nameTable[l.id];b&&(l.maxWidth=b.wrapper.maxWidth=b.wrapper.maxWidth+=f.wrapper.maxWidth)}Nl(e,f)}var w=t.columnDefinitions()[i].width;t.removeColumn(i),i<t.columnDefinitions().length?(c=t.columnDefinitions()[i].width,c+=w,t.updateColumnWidth(i,c,!0)):(c=t.columnDefinitions()[i-1].width,c+=w,t.updateColumnWidth(i-1,c,!0))}(e,s,t,l):function(e,t,n,i,r){var o,a,s,l,c,d,h,p,u,f,g,m=r.shape,v=void 0!==i?m.header?i+1:i:n.rowIndex;o=t.rows[v];var y=r.wrapper.bounds.y,b=m.phases.length;void 0!==m.header&&m.hasHeader&&(y+=t.rowDefinitions()[0].height);for(s=i===b?t.rows[v-1]:t.rows[v+1],c=0;c<o.cells.length;c++)if(a=o.cells[c],p=s.cells[c],u=p.children[0],a.children.length>0){var w=a.children[0],x=e.nameTable[w.id];if(i<b)for(h=0;h<u.children.length;h++)(f=u.children[h])instanceof sr&&((g=e.nameTable[f.id]).margin.top=g.wrapper.bounds.y-(0===i?y:w.bounds.y),f.margin.top=g.wrapper.bounds.y-(0===i?y:w.bounds.y));for(d=0;d<w.children.length;d++)(f=w.children[d])instanceof sr&&((g=e.nameTable[f.id]).parentId=u.id,i===b&&(g.margin.top=g.wrapper.bounds.y-(0===i?y:u.bounds.y),f.margin.top=g.wrapper.bounds.y-(0===i?y:u.bounds.y)),u.children.push(f),w.children.splice(d,1),d--,x.children&&-1!==x.children.indexOf(g.id)&&x.children.splice(x.children.indexOf(g.id),1));Nl(e,x)}var S=t.rowDefinitions()[v].height;t.removeRow(v),v<t.rowDefinitions().length?(l=t.rowDefinitions()[v].height,l+=S,t.updateRowHeight(v,l,!0)):(l=t.rowDefinitions()[v-1].height,l+=S,t.updateRowHeight(v-1,l,!0))}(e,s,t,l,n),El(e,n),gl(e,n,1),bl(n,e),e.protectPropertyChange(!1),e.updateDiagramObject(n)}}function _l(e,t){var n;if(e.isLane){var i=t.getObject(e.parentId);if(i&&"SwimLane"===i.shape.type&&e.isLane){var r=Cl(i,e);n=i.shape.lanes[r]}}return n}function Wl(e,t){if(e.isLane&&_l(e,t).canMove)return!0;return!1}function Fl(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return!0;return!1}function Vl(e,t){t instanceof Dd&&(e.shape.header||(t.shape.hasHeader=!1))}function Ul(e,t,n,i){return i=t?i:void 0!==e[n-1]?e[n-1]+i:0}function Yl(e,t){var n=[];if(t)n=e;else{for(var i=0;i<e.length;i++)n.push(e[i]);n.push(e[n.length-2]),n.push(e[n.length-2])}return n}function Xl(e,t){if(t instanceof Dd)switch(w()?e.shape.umlActivityShape:e.shape.shape){case"JoinNode":e.width||(t.width=20),e.height||(t.height=90),e.style&&e.style.fill||(t.style.fill="black");break;case"ForkNode":e.width||(t.width=90),e.height||(t.height=20),e.style&&e.style.fill||(t.style.fill="black");break;case"InitialNode":case"FinalNode":e.style&&e.style.fill||(t.style.fill="black")}else switch(w()?e.shape.umlActivityFlow:e.shape.flow){case"Object":e.style&&e.style.strokeDashArray||(t.style.strokeDashArray="8 4"),e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow");break;case"Control":e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow"),e.sourceDecorator&&e.sourceDecorator.shape||(t.sourceDecorator.shape="None")}}function Gl(e,t){switch(e.shape.type){case"Bpmn":switch(w()?e.shape.bpmnFlow:e.shape.flow){case"Sequence":("Normal"===e.shape.sequence&&"Bezier"!==e.type||"Default"===e.shape.sequence||"Conditional"===e.shape.sequence)&&(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"black"),"Conditional"===e.shape.sequence&&t.sourceDecorator&&(t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),t.sourceDecorator.width=e.sourceDecorator&&e.sourceDecorator.width||20,t.sourceDecorator.height=e.sourceDecorator&&e.sourceDecorator.width||10));break;case"Association":"Default"!==e.shape.association&&"Directional"!==e.shape.association&&"BiDirectional"!==e.shape.association||(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"black"),"BiDirectional"===e.shape.association&&t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white",t.sourceDecorator.width=e.sourceDecorator&&e.sourceDecorator.width||5,t.sourceDecorator.height=e.sourceDecorator&&e.sourceDecorator.height||10));break;case"Message":t.style&&!t.style.strokeDashArray&&(t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"4 4")}break;case"UmlActivity":switch(w()?e.shape.umlActivityFlow:e.shape.flow){case"Exception":"Directional"!==e.shape.association&&"BiDirectional"!==e.shape.association||(t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"2 2")}break;case"UmlClassifier":var n=!1;"Association"===e.shape.relationship?n=!0:"Inheritance"===e.shape.relationship?(t.targetDecorator&&t.targetDecorator.style&&(t.targetDecorator.style.fill=e.targetDecorator&&e.targetDecorator.style&&e.targetDecorator.style.fill||"white"),t.style&&(n=!0,t.style.strokeDashArray=e.style&&e.style.strokeDashArray||"4 4")):"Composition"===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"black"),n=!0):"Aggregation"===e.shape.relationship||void 0===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0):"Dependency"===e.shape.relationship?(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0,t.style.strokeDashArray="4 4"):"Realization"===e.shape.relationship&&(t.sourceDecorator&&t.sourceDecorator.style&&(t.sourceDecorator.style.fill=e.sourceDecorator&&e.sourceDecorator.style&&e.sourceDecorator.style.fill||"white"),n=!0),n&&(t.style.strokeWidth=e.style&&e.style.strokeWidth||2)}}function ql(e,t,n){var i;i=Jn.findLength(t,e)>Jn.findLength(n,e)?n:t;var r=Jn.findAngle(t,n),o=Jn.findAngle(i,e),a=Jn.findLength(i,e),s=o+2*(r-o);return{x:i.x+a*Math.cos(s*Math.PI/180),y:i.y+a*Math.sin(s*Math.PI/180)}}function Zl(e,t,n){if(e&&e.children&&e.children.length>0)for(var i=void 0,r=0;r<e.children.length;r++)return(i=n[e.children[r]]).shape.type===t||Zl(i,t,n);return!1}function Kl(e,t,n,i,r){if(n&&(e instanceof $a||e&&(e.shape&&"SwimLane"!==e.shape.type||void 0===e.shape)))for(var o=void 0,a=0,s=Object.keys(n);a<s.length;a++){var l=s[a];if(o=n[l],"shape"===l&&o.type&&(e.shape={type:o.type}),o)if(Array.isArray(o)&&o.length&&o.length>0&&"annotations"!==r&&"ports"!==r)if(e[l].length>0)for(var c=0;c<=e[l].length;c++)Kl(e[l],t?t[l]:void 0,n[l],"annotations"===l||"ports"===l?e:void 0,l);else Kl(e[l],t?t[l]:void 0,n[l],"annotations"===l||"ports"===l?e:void 0,l);else if(o instanceof Object&&t&&"annotations"!==r&&"ports"!==r)Kl(e[l],t[l],n[l]);else if("annotations"!==r&&"ports"!==r&&t&&!t[l]||!t&&e&&(e[l]||void 0!==e[l]))e[l]=n[l];else{var d=void 0;"annotations"!==r&&"ports"!==r||("annotations"===r?(e[l]&&Kl(e[l],t[l],n[l]),e[l]||(Lc(i)===$a?(d=new Pr(i,"annotations",n[l]),i.annotations.push(d)):(d=new Or(i,"annotations",n[l]),i.annotations.push(d)))):e[l]?Kl(e[l],t[l],n[l]):(d=new br(i,"ports",n[l]),i.ports.push(d)))}}}function $l(e,t){var n;n="Bezier"===e.type?function(e){var t=[];if("Bezier"===e.type)for(var n=0,i=0;i<e.segments.length;i++)for(var r=e.segments[i],o=Jn.isEmptyPoint(r.point1)?r.bezierPoint1:r.point1,a=Jn.isEmptyPoint(r.point2)?r.bezierPoint2:r.point2,s=Number((e.distance(o,r.points[0])+e.distance(a,o)+e.distance(r.points[1],a))/1.5),l=0;l<s-1;l+=10)t[n]=Xa(0,r.points[0],Jn.isEmptyPoint(r.point1)?r.bezierPoint1:r.point1,Jn.isEmptyPoint(r.point2)?r.bezierPoint2:r.point2,r.points[1],l,s),n++;return t}(e):e.intermediatePoints;for(var i=0;i<n.length-1;i++){var r=n[i],o=n[i+1],a=di.toBounds([r,o]);if(a.Inflate(e.hitPadding),a.containsPoint(t)){var s=ql(t,r,o),l=Ql({x1:r.x,x2:o.x,y1:r.y,y2:o.y},{x1:t.x,x2:s.x,y1:t.y,y2:s.y});if(l.enabled){var c=Jn.findLength(t,l.intersectPt);if(Math.abs(c)<e.hitPadding)return!0}else{var d=di.toBounds([t,t]);if(d.Inflate(3),d.containsPoint(r)||d.containsPoint(o))return!0}if(Jn.equals(t,s))return!0}}if(e.annotations.length>0){var h=e.wrapper.children;for(i=3;i<h.length;i++){if(h[i].bounds.containsPoint(t))return!0}}return!1}function Ql(e,t){var n={x:0,y:0},i=e,r=t,o=(r.y2-r.y1)*(i.x2-i.x1)-(r.x2-r.x1)*(i.y2-i.y1),a=(r.x2-r.x1)*(i.y1-r.y1)-(r.y2-r.y1)*(i.x1-r.x1),s=(i.x2-i.x1)*(i.y1-r.y1)-(i.y2-i.y1)*(i.x1-r.x1);if(0===o)return{enabled:!1,intersectPt:n};var l=a/o,c=s/o;return l>=0&&l<=1&&c>=0&&c<=1?(n.x=i.x1+l*(i.x2-i.x1),n.y=i.y1+l*(i.y2-i.y1),{enabled:!0,intersectPt:n}):{enabled:!1,intersectPt:n}}function Jl(e,t,n,i){var r=Ql(ec(e.x,e.y,t.x,t.y),ec(n.x,n.y,i.x,i.y));return r.enabled?r.intersectPt:{x:0,y:0}}function ec(e,t,n,i){return{x1:Number(e)||0,y1:Number(t)||0,x2:Number(n)||0,y2:Number(i)||0}}function tc(e,t,n){var i=[];n=n||0;var r={x:t.topLeft.x-n,y:t.topLeft.y},o={x:t.topRight.x+n,y:t.topRight.y},a={x:t.bottomRight.x,y:t.bottomRight.y-n},s={x:t.bottomLeft.x,y:t.bottomLeft.y+n};return i.push(r),i.push(o),i.push(a),i.push(s),i}function nc(e,t,n){var i,r=n instanceof Dd?n.constraints&Ei.InheritTooltip:n.constraints&Oi.InheritTooltip,o=n instanceof Dd?n.constraints&Ei.Tooltip:n.constraints&Oi.Tooltip;i=function(e,t,n,i){var r={},o=(n.scroller.transform.scale,document.getElementById(n.element.id)),a=e.wrapper.bounds,s=o.getBoundingClientRect();n.scroller.horizontalOffset,n.scroller.verticalOffset;switch(n.tooltipObject.position){case"BottomCenter":r=ic(t,a.bottomCenter,n,i,s.width/2,s.height);break;case"BottomLeft":case"LeftBottom":r=ic(t,a.bottomLeft,n,i,0,s.height);break;case"BottomRight":case"RightBottom":r=ic(t,a.bottomRight,n,i,s.width,s.height);break;case"LeftCenter":r=ic(t,a.middleLeft,n,i,0,s.height/2);break;case"LeftTop":case"TopLeft":r=ic(t,a.topLeft,n,i,0,0);break;case"RightCenter":r=ic(t,a.middleRight,n,i,s.width,s.height/2);break;case"RightTop":case"TopRight":r=ic(t,a.topRight,n,i,s.width,0);break;case"TopCenter":r=ic(t,a.topCenter,n,i,s.width/2,0)}return r}(n,t,e,"Mouse"===(!r&&o?n.tooltip.relativeMode:e.tooltip.relativeMode));var a=rs(e);return{x:i.x+a.width,y:i.y+a.height}}function ic(e,t,n,i,r,o){var a={},s=n.scroller.transform.scale,l=n.scroller.horizontalOffset,c=n.scroller.verticalOffset;return a.x=(i?e.x:t.x)*s+l-r,a.y=(i?e.y:t.y)*s+c-o,a}function rc(e,t,n){var i,r,o;r=oc(e,t,n),i=Jn.findAngle(e[r.index],e[r.index+1]);var a=function(e){var t=void 0===e.content?10:0,n=0;switch(e.alignment){case"Center":n=0;break;case"Before":n=-(0+t);break;case"After":n=0+t}return n}(t);return o=Jn.transform(r.point,i+45,a),r.point=o,r.angle=i,r}function oc(e,t,n){for(var i,r,o,a,s,l=0,c=t.offset,d=[],h=0;h<e.length-1;h++)l+=Jn.distancePoints(e[h],e[h+1]),d.push(l);o=c*l;for(var p=0;p<d.length;p++){if(d[p]>=o)return r=Jn.findAngle(e[p],e[p+1]),{point:i=Jn.transform(e[p],r,o-(a||0)),index:s=p};a=d[p]}return{point:i,index:s}}function ac(e,t){if(e instanceof Dd&&e.children)for(var n=0;n<e.children.length;n++)t.nameTable[e.children[n]].children&&ac(e,t),t.removeFromAQuad(t.nameTable[e.children[n]]),t.removeObjectsFromLayer(t.nameTable[e.children[n]]),delete t.nameTable[e.children[n]]}function sc(e,t){if(e&&e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var i=e.children[n];i instanceof sr&&sc(i,t)}return-1===t.indexOf(e.id)&&t.push(e.id),t}function lc(e){var t=function(e){for(var t,n,i=[],r=0;r<e.length;r++)if("SwimLane"===(t=e[r]).shape.type){n=t.wrapper.children[0].childTable;for(var o=0,a=Object.keys(n);o<a.length;o++){i=sc(n[a[o]],i)}}return i}(e.nodes),n=xh(e,e.getCustomProperty);return n.selectedItems.nodes=[],n.selectedItems.connectors=[],n.selectedItems.wrapper=null,e.serializationSettings.preventDefaults&&(n=cc(n,e)),function(e,t){var n=t.nodes;if(n)for(var i=0;i<n.length;i++)-1!==e.indexOf(n[i].id)&&(n.splice(i,1),i--)}(t,n),JSON.stringify(n)}function cc(e,t,n,i){n=function(e,t){var n,i=[],r=new cu;if(e.getClassName)switch(e.getClassName()){case"Diagram":n=new cu;break;case"Node":n=new Dd(r,"",i);break;case"Path":n=new ad(r,"",i);break;case"Native":n=new sd(r,"",i);break;case"Html":n=new ld(r,"",i);break;case"Image":n=new cd(r,"",i);break;case"Text":n=new dd(r,"",i);break;case"BasicShape":n=new hd(r,"",i);break;case"FlowShape":n=new pd(r,"",i);break;case"BpmnShape":n=new Sd(r,"",i);break;case"UmlActivityShape":n=new Cd(r,"",i);break;case"UmlClassifierShape":n=new Md(r,"",i);break;case"SwimLane":n=new zd(r,"",i),e.header&&(n.header=new Ld(r,"",i),n.header.style.fill="");break;case"ShapeAnnotation":n=new Or(r,"",i);break;case"PointPort":n=new br(r,"",i);break;case"BpmnGateway":n=new ud(r,"",i);break;case"BpmnDataObject":n=new fd(r,"",i);break;case"BpmnEvent":n=new md(r,"",i);break;case"BpmnSubEvent":n=new vd(r,"",i);break;case"BpmnActivity":n=new wd(r,"",i);break;case"BpmnAnnotation":n=new xd(r,"",i);break;case"MethodArguments":n=new Od(r,"",i);break;case"UmlClassAttribute":n=new Pd(r,"",i);break;case"UmlClassMethod":n=new Ed(r,"",i);break;case"UmlClass":n=new Td(r,"",i);break;case"UmlInterface":n=new kd(r,"",i);break;case"UmlEnumerationMember":n=new Id(r,"",i);break;case"UmlEnumeration":n=new Ad(r,"",i);break;case"Lane":n=new Rd(r,"",i);break;case"Phase":n=new Nd(r,"",i);break;case"ChildContainer":n=new Bd;break;case"Connector":n=new $a(r,"",i);break;case"StraightSegment":n=new Ba(r,"",i);break;case"BezierSegment":n=new Ha(r,"",i);break;case"OrthogonalSegment":n=new _a(r,"",i);break;case"PathAnnotation":n=new Pr(r,"",i);break;case"Stop":n=new Gi(r,"",i);break;case"Point":n=t||new Jn(r,"",i);break;case"UserHandle":n=new Ns(r,"",i);break;case"Command":n=new Fs(r,"",i)}else n=t;return n}(t,n);for(var r=[],o=0,a=r=r.concat(Object.keys(e));o<a.length;o++){var s=a[o];t instanceof Dd&&(i="shape"===s),e[s]instanceof Array?dc(e,n,t,s):e[s]instanceof Object&&n&&n[s]?"wrapper"!==s&&(e[s]=cc(e[s],t[s],n[s],i)):(n&&e[s]===n[s]||void 0===e[s])&&(i&&"type"===s||t instanceof zd&&"orientation"===s||delete e[s]),"[]"!==JSON.stringify(e[s])&&"{}"!==JSON.stringify(e[s])&&void 0!==e[s]||delete e[s]}return e}function dc(e,t,n,i){if(0===e[i].length)delete e[i];else if(e[i].every((function(e){return"number"===typeof e}))){var r=void 0,o=!0;for(r=0;r<e[i].length;r++)o=!(!o||e[i][r]!==t[i][r]);o&&delete e[i]}else{r=void 0;if("layers"===i&&(e[i].splice(0,1),0===e[i].length&&delete e[i]),e[i])for(r=e[i].length-1;r>=0;r--)"nodes"!==i&&"connectors"!==i||(e[i][r].wrapper=null),"dataManager"!==i&&(e[i][r]=cc(e[i][r],n[i][r],void 0!==t[i]?t[i][r]:void 0),"[]"!==JSON.stringify(e[i][r])&&"{}"!==JSON.stringify(e[i][r])&&void 0!==e[i][r]||e[i].splice(r,1))}}function hc(e,t){t.enableServerDataBinding(!1),t.clear(),t.protectPropertyChange(!0);for(var n=t.dataSourceSettings.doBinding,i=t.setNodeTemplate,r=t.getDescription,o=t.getCustomProperty,a={},s=0,l=t.commandManager.commands;s<l.length;s++){var c=l[s];a[c.name]={execute:c.execute,canExecute:c.canExecute}}var d=t.rulerSettings.horizontalRuler.arrangeTick,h=t.rulerSettings.verticalRuler.arrangeTick,p=t.layout.getLayoutInfo,u=t.layout.getBranch,f=t.getNodeDefaults,g=t.getConnectorDefaults,m=JSON.parse(e);m=function(e){if(e&&(void 0===e.version||e.version<17.1)&&e.nodes)for(var t=e.nodes,n=0,i=t;n<i.length;n++){var r=i[n];if(r&&r.ports&&r.ports.length>0)for(var o=0,a=r.ports;o<a.length;o++){var s=a[o];s&&s.constraints&&s.constraints===_i.None&&(s.constraints=_i.Default)}}return e}(m),t.contextMenuSettings=m.contextMenuSettings||{},t.constraints=m.constraints||Ii.Default,t.tool=m.tool||Ai.Default,t.bridgeDirection=m.bridgeDirection||"Top",t.pageSettings=m.pageSettings||{},t.drawingObject=m.drawingObject||void 0,t.tooltip=m.tooltip||{},t.addInfo=m.addInfo||void 0,t.getDescription=r,t.scrollSettings=m.scrollSettings||{},t.commandManager=m.commandManager||{},t.layers=m.layers||[],t.rulerSettings.horizontalRuler.arrangeTick=d,t.rulerSettings.verticalRuler.arrangeTick=h;for(var v=0,y=t.commandManager.commands;v<y.length;v++){var b=y[v];a[b.name]&&(b.execute=a[b.name].execute,b.canExecute=a[b.name].canExecute)}if(t.backgroundColor=m.backgroundColor||"transparent",t.basicElements=m.basicElements||[],t.connectors=m.connectors||[],t.dataSourceSettings=m.dataSourceSettings||{},t.dataSourceSettings.doBinding=n,t.height=m.height||"100%",t.setNodeTemplate=i,t.getConnectorDefaults=g,t.getNodeDefaults=f,t.getCustomProperty=o,t.mode=m.mode||"SVG",m.nodes)for(var w=0;w<m.nodes.length;w++)m.nodes[w].shape&&"SwimLane"===m.nodes[w].shape.type&&jl(m.nodes[w],void 0,void 0,void 0,void 0,!0);t.nodes=m.nodes||[],t.rulerSettings=m.rulerSettings||{},t.snapSettings=m.snapSettings||{},t.width=m.width||"100%",t.layout=m.layout||{},t.layout.getLayoutInfo=Dh(p),t.layout.getBranch=Dh(u),t.diagramActions=0,t.isLoading=!0,t.protectPropertyChange(!1);var x;for(w=0;w<t.views.length;w++)(x=t.views[t.views[w]]).refresh(),x instanceof cu&&t.element.classList.add("e-diagram");return m.selectedItems&&(m.selectedItems.nodes=[],m.selectedItems.connectors=[]),t.selectedItems=m.selectedItems,t.enableServerDataBinding(!0),m}function pc(e,t){var n=t.style,i=t;t.canApplyStyle=!0;for(var r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"fill":n.fill=e.fill,n instanceof Ji&&(n.fill="transparent");break;case"textOverflow":n.textOverflow=e.textOverflow;break;case"opacity":n.opacity=e.opacity;break;case"strokeColor":n.strokeColor=e.strokeColor;break;case"strokeDashArray":n.strokeDashArray=e.strokeDashArray;break;case"strokeWidth":n.strokeWidth=e.strokeWidth;break;case"bold":n.bold=e.bold;break;case"color":n.color=e.color;break;case"textWrapping":n.textWrapping=e.textWrapping;break;case"fontFamily":n.fontFamily=e.fontFamily;break;case"fontSize":n.fontSize=e.fontSize;break;case"italic":n.italic=e.italic;break;case"textAlign":n.textAlign=e.textAlign;break;case"whiteSpace":n.whiteSpace=e.whiteSpace;break;case"textDecoration":n.textDecoration=e.textDecoration;break;case"gradient":if(n.gradient){uc(e.gradient,n.gradient);break}}}t instanceof or&&i.refreshTextElement()}function uc(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"type":t.type=e.type;break;case"x1":t.x1=e.x1;break;case"x2":t.x2=e.x2;break;case"y1":t.y1=e.y1;break;case"y2":t.y2=e.y2;break;case"cx":t.cx=e.cx;break;case"cy":t.cy=e.cy;break;case"fx":t.fx=e.fx;break;case"fy":t.fy=e.fy;break;case"r":t.r=e.r;break;case"stops":t.stops=e.stops}}}function fc(e,t,n){e.width=t.width,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.horizontalAlignment=t.wrapper.children[0].horizontalAlignment,e.verticalAlignment=t.wrapper.children[0].verticalAlignment,e.relativeMode=t.wrapper.children[0].relativeMode,e.visible=t.wrapper.children[0].visible,t.shape instanceof dd&&(e.margin=t.shape.margin),e.id=t.wrapper.children[0].id,e.style=t.style;for(var i=0,r=n.views;i<r.length;i++){var o=r[i];lh(t.id+"_groupElement",o),lh(t.id+"_content_groupElement",o),lh(t.id+"_html_element",o)}t.wrapper.children.splice(0,1),t.wrapper.children.splice(0,0,e)}function gc(e,t,n,i){var r=new tr;switch(e.shape.type){case"Path":var o=new hr;o.data=t.shape.data,fc(r=o,t,i);break;case"Image":var a=new ur;a.source=t.shape.source,a.imageAlign=t.shape.align,a.imageScale=t.shape.scale,fc(r=a,t,i);break;case"Text":fc(r=new or,t,i);break;case"Basic":var s=void 0;s=(w()?"Rectangle"===t.shape.basicShape:"Rectangle"===t.shape.shape)?new tr:new hr,!w()&&"Polygon"===t.shape.shape||w()&&"Polygon"===t.shape.basicShape?s.data=ti(t.shape.points):s.data=lr(w()?t.shape.basicShape:t.shape.shape),fc(r,t,i),(!w()&&"Rectangle"===t.shape.shape||w()&&"Rectangle"===t.shape.basicShape)&&(s.cornerRadius=t.shape.cornerRadius),r=s;break;case"Flow":var l=new hr,c=w()?t.shape.flowShape:t.shape.shape;l.data=Ir(c),fc(r=l,t,i);break;case"Native":var d=new gr(e.id,i.element.id);d.content=t.shape.content,d.scale=t.shape.scale,fc(r=d,t,i);break;case"HTML":var h=new Ta(t.id,i.element.id);h.content=t.shape.content,fc(r=h,t,i)}void 0===e.shape.type||e.shape.type===n.shape.type?function(e,t,n){if(Object.keys(e.shape).length>0)if("Path"===t.shape.type&&void 0!==e.shape.data)t.wrapper.children[0].data=e.shape.data;else if("Text"===t.shape.type&&void 0!==e.shape.content)t.wrapper.children[0].content=e.shape.content;else if("Image"===t.shape.type&&void 0!==e.shape.source)t.wrapper.children[0].source=e.shape.source;else if("Native"===t.shape.type){for(var i=void 0,r=0;r<n.views.length;r++)i=Yd(t.wrapper.children[0].id+"_native_element",n.views[r]),void 0!==e.shape.content&&i&&(i.removeChild(i.children[0]),t.wrapper.children[0].content=e.shape.content,i.appendChild(ch(t.wrapper.children[0],!1)));t.wrapper.children[0].scale=e.shape.scale?e.shape.scale:t.wrapper.children[0].scale}else if("HTML"===t.shape.type){var o=void 0;for(r=0;r<n.views.length;r++)(o=Yd(t.wrapper.children[0].id+"_html_element",n.views[r]))&&(o.removeChild(o.children[0]),t.wrapper.children[0].content=e.shape.content,o.appendChild(ch(t.wrapper.children[0],!0)))}else if("Flow"===t.shape.type&&(w()&&void 0!==e.shape.flowShape||void 0!==e.shape.shape)){t.shape.shape=w()?e.shape.flowShape:e.shape.shape;var a=Ir(t.shape.shape.toString());t.wrapper.children[0].data=a}else if("UmlActivity"===t.shape.type&&(w()&&void 0!==e.shape.umlActivityShape||!w()&&void 0!==e.shape.shape))!function(e,t){w()?e.shape.umlActivityShape=t.shape.umlActivityShape:e.shape.shape=t.shape.shape;var n=zs((w()?e.shape.umlActivityShape:e.shape.shape).toString());w()&&"InitialNode"===e.shape.umlActivityShape||!w()&&"InitialNode"===e.shape.shape||!w()&&("ForkNode"===e.shape.shape||"JoinNode"===e.shape.shape)||w()&&("ForkNode"===e.shape.umlActivityShape||"JoinNode"===e.shape.umlActivityShape)?e.wrapper.children[0].style.fill="black":(!w()&&"FinalNode"===e.shape.shape||w()&&"FinalNode"===e.shape.umlActivityShape)&&(e instanceof Dd&&(e.wrapper=mc(e)),e.wrapper.children[0].data=n)}(t,e);else if(void 0!==e.shape.cornerRadius)t.wrapper.children[0].cornerRadius=e.shape.cornerRadius;else if(w()&&void 0!==e.shape.basicShape||void 0!==e.shape.shape){t.shape.shape=w()?e.shape.basicShape:e.shape.shape;var s=lr(t.shape.shape.toString());t.wrapper.children[0].data=s}t.wrapper.children[0].canMeasurePath=!0}(e,t,i):(r.width=t.wrapper.children[0].width,r.height=t.wrapper.children[0].height,t.shape instanceof dd&&(r.margin=t.shape.margin),r.style=t.style,t.wrapper.children[0]=r)}function mc(e){var t=new sr;t.style.fill="transparent";var n="M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",i=new hr;i.data=n,i.id=e.id+"_0_finalNode",i.horizontalAlignment="Center",i.verticalAlignment="Center",i.relativeMode="Object",i.style.strokeColor=e.style.strokeColor,i.style.strokeWidth=e.style.strokeWidth;var r=new hr;return r.data=n,r.id=e.id+"_1_finalNode",r.horizontalAlignment="Center",r.verticalAlignment="Center",r.relativeMode="Object",r.style.fill=e.style.fill,r.style.strokeColor=e.style.strokeColor,r.style.strokeWidth=e.style.strokeWidth,t.children=[i,r],t.children[0].width=e.width,t.children[0].height=e.height,t.children[1].height=e.height/1.5,t.children[1].width=e.width/1.5,t.style.strokeWidth=0,t.style.strokeColor="transparent",t}function vc(e){lh(e+"_linear"),lh(e+"_radial")}function yc(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function bc(e,t,n){var i,r,o;if(e.intermediatePoints=t,e.updateSegmentElement(e,t,e.wrapper.children[0],n),e.sourcePoint,r=e.sourceDecorator,"Bezier"===e.type){var a=e.segments[0],s=e.segments[e.segments.length-1];i=[Jn.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,Jn.isEmptyPoint(a.point1)?a.bezierPoint1:a.point1]}else i=e.intermediatePoints;t=e.clipDecorators(e,t,n);var l=e.wrapper.children[0];l.canMeasurePath=!0,l=e.wrapper.children[1],e.updateDecoratorElement(l,t[0],i[1],r),e.targetPoint,o=e.targetDecorator,l=e.wrapper.children[2],e.updateDecoratorElement(l,t[t.length-1],i[i.length-2],o),e.updateShapeElement(e)}function wc(e,t,n){var i,r=e.wrapper,o=r.bounds,a=t.offset,s=t.size/n.scale,l=t.margin,c=r.offsetX-r.actualSize.width*r.pivot.x,d=r.offsetY-r.actualSize.height*r.pivot.y;if(i={x:0,y:0},e.nodes.length>0){switch(t.side){case"Top":i.x+=c+o.width*a,i.y+=d-(s/2+12.5);break;case"Bottom":i.x+=c+a*o.width,i.y+=d+r.actualSize.height+(s/2+12.5);break;case"Left":i.x+=c-(s/2+12.5),i.y+=d+a*o.height;break;case"Right":i.x+=c+r.actualSize.width+(s/2+12.5),i.y+=d+a*o.height}i.x+=(l.left-l.right)/n.scale+s/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),i.y+=(l.top-l.bottom)/n.scale+s/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1)}else if(e.connectors.length>0){var h=e.connectors[0],p={offset:a},u=oc(h.intermediatePoints,p),f=u.index;i=u.point;var g,m=rc(h.intermediatePoints,p,o),v=(h.intermediatePoints,m.angle);fi(g=pi(),-v,h.intermediatePoints[f].x,h.intermediatePoints[f].y),(i=ui(g,i)).x+=l.left-l.right+s/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),i.y+=l.top-l.bottom+s/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1),fi(g=pi(),v,h.intermediatePoints[f].x,h.intermediatePoints[f].y),i=ui(g,i)}0===r.rotateAngle&&0===r.parentTransform||(fi(g=pi(),r.rotateAngle+r.parentTransform,r.offsetX,r.offsetY),i=ui(g,i));return i}function xc(e,t,n,i){if(i.annotation){if(ys(i.annotation))return!0}else if(Ci[t]&e&&ki[t]&n)return!0;return!1}function Sc(e,t){return!!(Ci[t]&e)}function Cc(e,t){return e.visibility&t}function Oc(e,t){var n;if("Text"===e.shape.type)n=e.shape;else{var i=t.split("_");t=i[i.length-1];for(var r=0;r<e.annotations.length;r++)t===e.annotations[r].id&&(n=e.annotations[r])}return n}function Pc(e,t){var n=t.split("_");if(t=n[n.length-1],e){e=e;for(var i=0;i<e.ports.length;i++)if(t===e.ports[i].id)return e.ports[i]}}function Ec(e,t){var n={},i=0;if(e.ports){var r=e.ports;for(i=0;i<r.length;i++)t?r[i].constraints&_i.InConnect&&(n=r[i]):r[i].constraints&_i.OutConnect&&(n=r[i])}return n}function Tc(e,t,n){for(var i=n?e.annotations:e.ports,r=0;r<i.length;r++)if(i[r].id===t)return r.toString();return null}function kc(e,t){var n;for(n=0;n<e.length;n++)if(t===e[n].id)return!0;return!1}function Ic(e,t,n,i,r,o){for(var a,s=e.children,l=0;l<s.length;l++)if(a=i[s[l]])if(a.children)Ic(a,t,n,i,r,o);else if(a.offsetX-=t,a.offsetY-=n,!r){var c,d=void 0;i[a.id]=a,(d=a.initContainer()).children||(d.children=[]),c=a.init(o),d.children.push(c),d.measure(new Kn(a.width,a.height)),d.arrange(d.desiredSize)}}function Ac(e,t,n){if(0===n.length)n.push(e);else if(1===n.length)n[0][t]>e[t]?n.splice(0,0,e):n.push(e);else if(n.length>1){for(var i=0,r=n.length-1,o=Math.floor((i+r)/2);o!==i;)n[o][t]<e[t]?(i=o,o=Math.floor((i+r)/2)):n[o][t]>e[t]&&(r=o,o=Math.floor((i+r)/2));n[r][t]<e[t]?n.push(e):n[i][t]>e[t]?n.splice(i,0,e):n[i][t]<e[t]&&n[r][t]>e[t]&&n.splice(r,0,e)}}function Mc(e){var t=document.getElementById(e.diagramId),n="ej2_instances",i=t[n][0].nodes;void 0===i&&(i=function(e){for(var t=[],n=0;n<e.palettes.length;n++)for(var i=e.palettes[n].symbols,r=0;r<i.length;r++)i[r]instanceof Dd&&t.push(i[r]);return t}(t[n][0]));for(var r=0;i&&r<i.length;r++)if(i[r].id===e.nodeId)return jc(i[r],e);var o=t[n][0].connectors;for(r=0;o&&r<o.length;r++)if(o[r].id===e.nodeId)return jc(o[r],e);var a=t[n][0].enterObject;return a&&(a.id===e.nodeId||a.children)?a.children&&Zl(a,"HTML",t[n][0].enterTable)?t[n][0].enterTable[e.nodeId]:a:null}function jc(e,t){var n,i=e.annotations;for(n=0;i&&n<i.length;n++)if(t.annotationId&&i[n].id===t.annotationId)return i[n];return e}function Dc(e,t,n,i){return w()&&(e={cause:e.cause,state:n,type:i,cancel:!1,element:Lc(t)===$a?{connector:Vc(t)}:{node:Vc(t)}}),e}var Lc=function(e){return e&&(e=void 0!==e.sourceID||void 0!==e.sourcePoint||void 0!==e.targetID||void 0!==e.targetPoint||void 0!==e.type?$a:Dd),e},Rc=function(e){if(!e.sourceID&&!e.targetID){var t={x:e.sourcePoint.x,y:e.sourcePoint.y},n={x:e.targetPoint.x,y:e.targetPoint.y};"Horizontal"===e.flip?(e.sourcePoint.x=n.x,e.targetPoint.x=t.x):"Vertical"===e.flip?(e.sourcePoint.y=n.y,e.targetPoint.y=t.y):"Both"===e.flip&&(e.sourcePoint=n,e.targetPoint=t)}},Nc=function(e,t,n){var i=n.offset.x,r=n.offset.y;return"Horizontal"===t?(i=1-n.offset.x,r=n.offset.y):"Vertical"===t?(i=n.offset.x,r=1-n.offset.y):"Both"===t&&(i=1-n.offset.x,r=1-n.offset.y),e.setOffsetWithRespectToBounds(i,r,"Fraction"),e},zc=function e(t,n,i,r,o){if(t.hasChildren())for(var a=0,s=t.children;a<s.length;a++){var l=s[a],c=n-l.offsetX+n,d=i-l.offsetY+i;"Horizontal"!==o&&"Both"!==o||(l.offsetX=c,l.flipOffset.x=c-l.desiredSize.width/2),"Vertical"!==o&&"Both"!==o||(l.offsetY=d,l.flipOffset.y=d-l.desiredSize.height/2),(l instanceof sr||l instanceof ir)&&e(l,n,i,r,o),l.measure(new Kn(l.bounds.width,l.bounds.height)),l.arrange(l.desiredSize);var h=r.nameTable[l.id];h&&r.updateConnectorEdges(h)}},Bc=function(e){var t=e.selectedItems.nodes,n=e.selectedItems.connectors;e.protectPropertyChange(!0);var i=e.allowServerDataBinding;e.allowServerDataBinding=!1,e.selectedItems.nodes=[],e.selectedItems.connectors=[],e.allowServerDataBinding=i,e.protectPropertyChange(!1);for(var r=xh(e.selectedItems),o=0;o<t.length;o++)e.selectedItems.nodes.push(e.nameTable[t[o].id]);for(o=0;o<n.length;o++)e.selectedItems.connectors.push(e.nameTable[n[o].id]);return r},Hc=function(e,t){for(var n,i=new hr,r=0;r<e.length-1;r++)n=Wc(e[r],e[r+1]),i.data=n[0],i.id=t.id+"_"+t.shape.sequence,i.offsetX=n[1].x,i.offsetY=n[1].y,i.rotateAngle=45,i.transform=Mi.Self;return i},_c=function(e,t){for(var n=0;n<e.ports.length;n++)if(e.ports[n].id===t.id.split("_")[1])return!0;return!1},Wc=function(e,t){var n={x:e.x,y:e.y},i=Fc(e,t);i=Math.min(30,i/2);var r=to(e,t),o=Jn.transform({x:n.x,y:n.y},r,i),a=Jn.transform({x:o.x,y:o.y},r,-12),s=Jn.transform({x:a.x,y:a.y},r,24);return["M"+a.x+" "+a.y+" L"+s.x+" "+s.y,o]},Fc=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Vc(e){return w()&&(e=xh(e)),e}function Uc(){return(navigator.platform.indexOf("Mac")>=0||navigator.platform.indexOf("iPad")>=0||navigator.platform.indexOf("iPhone")>=0||navigator.platform.indexOf("MacIntel")>=0)&&("safari"===le.info.name||"webkit"===le.info.name)}var Yc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xc=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),Xc([zt("None")],t.prototype,"shape",void 0),Xc([zt("white")],t.prototype,"fill",void 0),Xc([zt("Auto")],t.prototype,"horizontalAlignment",void 0),Xc([zt("Auto")],t.prototype,"verticalAlignment",void 0),Xc([zt(10)],t.prototype,"width",void 0),Xc([zt(10)],t.prototype,"height",void 0),Xc([Bt({x:.5,y:1},Jn)],t.prototype,"offset",void 0),Xc([zt("#1a1a1a")],t.prototype,"borderColor",void 0),Xc([zt(1)],t.prototype,"borderWidth",void 0),Xc([Bt({},Yi)],t.prototype,"margin",void 0),Xc([zt("")],t.prototype,"pathData",void 0),Xc([zt("")],t.prototype,"content",void 0),Xc([zt(0)],t.prototype,"cornerRadius",void 0),Xc([Bt({left:2,right:2,top:2,bottom:2},Yi)],t.prototype,"padding",void 0),t}(nn),qc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.orientation="Vertical",t.measureChildren=void 0,t.considerPadding=!0,t}return qc(t,e),t.prototype.measure=function(e){var t="Horizontal"===this.orientation?this.updateHorizontalStack:this.updateVerticalStack;return this.desiredSize=this.measureStackPanel(e,t),this.desiredSize},t.prototype.arrange=function(e){var t="Horizontal"===this.orientation?this.arrangeHorizontalStack:this.arrangeVerticalStack;return this.actualSize=this.arrangeStackPanel(e,t),this.updateBounds(),this.actualSize},t.prototype.measureStackPanel=function(t,n){var i=void 0;if(void 0!==this.children&&this.children.length>0)for(var r=0,o=this.children;r<o.length;r++){var a=o[r];a.parentTransform=this.rotateAngle+this.parentTransform,this.measureChildren?a.measure(a.desiredSize):a.measure(t);var s=a.desiredSize.clone();this.applyChildMargin(a,s),0!==a.rotateAngle&&(s=Mh(s,a.rotateAngle)),void 0===i?i=s:a.preventContainer||n(s,i)}return i=e.prototype.validateDesiredSize.call(this,i,t),this.stretchChildren(i),this.considerPadding&&this.applyPadding(i),i},t.prototype.arrangeStackPanel=function(t,n){if(void 0!==this.children&&this.children.length>0){var i=void 0,r=void 0;i=this.offsetX-t.width*this.pivot.x+this.padding.left,r=this.offsetY-t.height*this.pivot.y+this.padding.top;for(var o=0,a=this.children;o<a.length;o++){var s=a[o],l=s.desiredSize.clone(),c=l;"Vertical"===this.orientation?r+=s.margin.top:i+=s.margin.left,0!==s.rotateAngle&&(c=Mh(l,s.rotateAngle));var d=n(i,r,s,this,t,c);e.prototype.findChildOffsetFromCenter.call(this,s,d),s.arrange(l,!0),"Vertical"===this.orientation?r+=c.height+s.margin.bottom:i+=c.width+s.margin.right}}return t},t.prototype.updateHorizontalStack=function(e,t){t.height=Math.max(e.height,t.height),t.width+=e.width},t.prototype.updateVerticalStack=function(e,t){t.width=Math.max(e.width,t.width),t.height+=e.height},t.prototype.arrangeHorizontalStack=function(e,t,n,i,r,o){var a=0;if("Top"===n.verticalAlignment)a=t+n.margin.top+o.height/2;else if("Bottom"===n.verticalAlignment){a=i.offsetY+r.height*(1-i.pivot.y)-i.padding.bottom-n.margin.bottom-o.height/2}else a=i.offsetY-r.height*i.pivot.y+r.height/2,n.margin.top&&(a=t+n.margin.top+o.height/2);return{x:e+o.width/2,y:a}},t.prototype.arrangeVerticalStack=function(e,t,n,i,r,o){var a=0;if("Left"===n.horizontalAlignment)a=e+n.margin.left+o.width/2;else if("Right"===n.horizontalAlignment){a=i.offsetX+r.width*(1-i.pivot.x)-i.padding.right-n.margin.right-o.width/2}else a=i.offsetX-r.width*i.pivot.x+r.width/2,n.margin.left&&(a=e+n.margin.left+o.width/2);return{x:a,y:t+o.height/2}},t.prototype.stretchChildren=function(e){if(void 0!==this.children&&this.children.length>0)for(var t=0,n=this.children;t<n.length;t++){var i=n[t];"Vertical"===this.orientation?"Stretch"===i.horizontalAlignment&&(i.desiredSize.width=e.width-(i.margin.left+i.margin.right)):"Stretch"===i.verticalAlignment&&(i.desiredSize.height=e.height-(i.margin.top+i.margin.bottom))}},t.prototype.applyChildMargin=function(e,t){t.height+=e.margin.top+e.margin.bottom,t.width+=e.margin.left+e.margin.right},t}(ir);function Kc(e,t,n){var i,r="NoWrap";"Class"===t.shape.classifier?i=t.shape.classShape:"Enumeration"===t.shape.classifier?i=t.shape.enumerationShape:"Interface"===t.shape.classifier&&(i=t.shape.interfaceShape);t.container={type:"Stack",orientation:"Vertical"},t.constraints=(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Resize),t.style={fill:t.style.fill,strokeColor:t.style.strokeColor,strokeWidth:1.5},t.children=[],t.maxWidth&&(r="Wrap");var o=new Dd(n,"nodes",{id:t.id+"_umlClass_header",annotations:[{id:"name",content:i.name,offset:{x:.5,y:.65},margin:{left:10,right:10},style:{bold:!0,fontSize:14,color:i.style.color,fill:i.style.fill,textWrapping:r}},{content:"<<"+t.shape.classifier+">>",margin:{left:10,right:10},id:"class",style:{fontSize:i.style.fontSize,color:i.style.color,fill:i.style.fill,textWrapping:r},offset:{x:.5,y:.3},constraints:Pi.ReadOnly}],constraints:(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Drag|Ei.Resize),verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:t.style.fill,strokeColor:"black"===t.style.strokeColor?"#ffffff00":t.style.strokeColor}},!0);return n.initObject(o),n.nodes.push(o),n.UpdateBlazorDiagramModel(o,"Node"),t.children.push(o.id),function(e,t,n,i){if("Enumeration"===e.shape.classifier){var r=n.members;if(r&&r.length){$c(e,t);for(var o="",a=0;a<r.length;a++){var s=r[a];if(""!==s.name&&(o+=s.name),a!==r.length){var l=Qc(e,s),c=new Dd(t,"nodes",{id:mh()+"_umlMember",annotations:[{id:"name",content:o,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor,textWrapping:i},constraints:(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Drag|Ei.Resize),minHeight:25},!0);t.initObject(c),t.nodes.push(c),t.UpdateBlazorDiagramModel(c,"Node"),e.children.push(c.id),o="",s.isSeparator&&a!==r.length-1&&$c(e,t)}}}}else{var d=n.attributes;if(d.length){var h="";$c(e,t);for(a=0;a<d.length;a++){var p=void 0,u=d[a];if(p=u.scope&&"Public"===u.scope?" +":u.scope&&"Private"===u.scope?"-":u.scope&&"Protected"===u.scope?"#":"~",""!==u.name&&p&&(h+=p+" "+u.name+" : "+u.type),a!==d.length){l=Qc(e,u),c=new Dd(t,"nodes",{id:mh()+"_umlProperty",style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},annotations:[{id:"name",content:h,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Drag|Ei.Resize),minHeight:25},!0);t.initObject(c),t.nodes.push(c),t.UpdateBlazorDiagramModel(c,"Node"),e.children.push(c.id),h="",u.isSeparator&&a!==d.length-1&&$c(e,t)}}}}}(t,n,i,r),function(e,t,n,i){if(n.methods&&n.methods.length){var r=n.methods;$c(e,t);for(var o="",a="",s=void 0,l=0;l<r.length;l++){var c=r[l];if(s=c.scope&&"Public"===c.scope?" +":c.scope&&"Private"===c.scope?"-":c.scope&&"Protected"===c.scope?"#":"~",c.parameters)for(var d=0;d<c.parameters.length;d++)c.parameters[d].type?o+=c.parameters[d].name+":"+c.parameters[d].type:o+=c.parameters[d].name,d!==c.parameters.length-1&&(o+=",");if(""!==c.name&&s&&(a+=s+" "+c.name+"("+o+") : "+c.type),l!==r.length){var h=Qc(e,c),p=new Dd(t,"nodes",{id:mh()+"_umlMethods",verticalAlignment:"Stretch",horizontalAlignment:"Stretch",annotations:[{id:"name",content:a,offset:{x:0,y:.5},style:{bold:!0,fontSize:h.fontSize,color:h.color,fill:h.fill,textWrapping:i},margin:{left:14,right:5},horizontalAlignment:"Left"}],style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},minHeight:25,constraints:(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Drag|Ei.Resize)},!0);t.initObject(p),t.nodes.push(p),t.UpdateBlazorDiagramModel(p,"Node"),e.children.push(p.id),a="",c.isSeparator&&l!==r.length-1&&$c(e,t)}}}}(t,n,i,r),t.offsetX=t.offsetX,t.offsetY=t.offsetY,t.style.fill=t.style.fill,t.borderColor=t.borderColor,n.initObject(t),e}function $c(e,t){var n=new Dd(t,"nodes",{id:mh()+"_path",height:1,constraints:Ei.Default&~Ei.Select,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor}},!0);t.initObject(n),t.nodes.push(n),e.children.push(n.id)}function Qc(e,t){var n={},i=t.style;return n.fill="transparent"!==i.fill?i.fill:e.style.fill,n.color=i.color,n.fontSize=12!==i.fontSize?i.fontSize:e.style.fontSize,n.strokeColor="black"!==i.strokeColor?i.strokeColor:e.style.strokeColor,n.strokeWidth=1!==i.strokeWidth?i.strokeWidth:e.style.strokeWidth,n}var Jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ed=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jc(t,e),ed([zt("Horizontal")],t.prototype,"orientation",void 0),ed([zt("Center")],t.prototype,"type",void 0),ed([zt(void 0)],t.prototype,"offset",void 0),ed([zt(!1)],t.prototype,"enableRouting",void 0),ed([zt([])],t.prototype,"children",void 0),ed([zt("")],t.prototype,"assistants",void 0),ed([zt("")],t.prototype,"level",void 0),ed([zt("")],t.prototype,"hasSubTree",void 0),ed([zt("")],t.prototype,"rows",void 0),t}(nn),nd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),id=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rd=function(e){if(e){if(w())return jd;switch(e.type){case"Basic":return hd;case"Flow":return pd;case"Path":return ad;case"Image":return cd;case"Text":return dd;case"Bpmn":return Sd;case"Native":return sd;case"HTML":return ld;case"UmlActivity":return Cd;case"UmlClassifier":return Md;case"SwimLane":return zd;default:return hd}}return w()?jd:hd},od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),id([zt("Basic")],t.prototype,"type",void 0),t}(nn),ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Path"},id([zt("Path")],t.prototype,"type",void 0),id([zt("")],t.prototype,"data",void 0),t}(od),sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Native"},id([zt("Native")],t.prototype,"type",void 0),id([zt("")],t.prototype,"content",void 0),id([zt("Stretch")],t.prototype,"scale",void 0),t}(od),ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Html"},id([zt("HTML")],t.prototype,"type",void 0),id([zt("")],t.prototype,"content",void 0),t}(od),cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Image"},id([zt("Image")],t.prototype,"type",void 0),id([zt("")],t.prototype,"source",void 0),id([zt("None")],t.prototype,"scale",void 0),id([zt("None")],t.prototype,"align",void 0),t}(od),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Text"},id([zt("Text")],t.prototype,"type",void 0),id([zt("")],t.prototype,"content",void 0),id([Bt({},Yi)],t.prototype,"margin",void 0),t}(od),hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BasicShape"},id([zt("Basic")],t.prototype,"type",void 0),id([zt("Rectangle")],t.prototype,"shape",void 0),id([zt(0)],t.prototype,"cornerRadius",void 0),id([_t([],Jn)],t.prototype,"points",void 0),t}(od),pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"FlowShape"},id([zt("Flow")],t.prototype,"type",void 0),id([zt("Terminator")],t.prototype,"shape",void 0),t}(od),ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnGateway"},id([zt("None")],t.prototype,"type",void 0),t}(nn),fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnDataObject"},id([zt("None")],t.prototype,"type",void 0),id([zt(!1)],t.prototype,"collection",void 0),t}(nn),gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),id([zt("None")],t.prototype,"type",void 0),id([zt("None")],t.prototype,"loop",void 0),id([zt(!1)],t.prototype,"call",void 0),id([zt(!1)],t.prototype,"compensation",void 0),t}(nn),md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnEvent"},id([zt("Start")],t.prototype,"event",void 0),id([zt("None")],t.prototype,"trigger",void 0),t}(nn),vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnSubEvent"},id([zt("None")],t.prototype,"trigger",void 0),id([zt("Start")],t.prototype,"event",void 0),id([zt("")],t.prototype,"id",void 0),id([Bt({},Jn)],t.prototype,"offset",void 0),id([_t([],Or)],t.prototype,"annotations",void 0),id([_t([],br)],t.prototype,"ports",void 0),id([zt()],t.prototype,"width",void 0),id([zt()],t.prototype,"height",void 0),id([Bt({},Yi)],t.prototype,"margin",void 0),id([zt("Center")],t.prototype,"horizontalAlignment",void 0),id([zt("Center")],t.prototype,"verticalAlignment",void 0),id([zt(!0)],t.prototype,"visible",void 0),t}(nn),yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),id([Bt({id:"success",event:"End",offset:{x:1,y:.5}},vd)],t.prototype,"success",void 0),id([Bt({id:"failure",event:"Intermediate",trigger:"Error",offset:{x:.25,y:1}},vd)],t.prototype,"failure",void 0),id([Bt({id:"cancel",event:"Intermediate",trigger:"Cancel",offset:{x:.75,y:1}},vd)],t.prototype,"cancel",void 0),t}(nn),bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),id([zt("None")],t.prototype,"type",void 0),id([zt(!1)],t.prototype,"adhoc",void 0),id([zt("Default")],t.prototype,"boundary",void 0),id([zt(!1)],t.prototype,"compensation",void 0),id([zt("None")],t.prototype,"loop",void 0),id([zt(!0)],t.prototype,"collapsed",void 0),id([_t([],vd)],t.prototype,"events",void 0),id([Bt({},yd)],t.prototype,"transaction",void 0),id([zt(void 0)],t.prototype,"processes",void 0),t}(nn),wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnActivity"},id([zt("Task")],t.prototype,"activity",void 0),id([Bt({},gd)],t.prototype,"task",void 0),id([Bt({},bd)],t.prototype,"subProcess",void 0),t}(nn),xd=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnAnnotation"},id([zt("")],t.prototype,"text",void 0),id([zt("")],t.prototype,"id",void 0),id([zt(0)],t.prototype,"angle",void 0),id([zt()],t.prototype,"height",void 0),id([zt()],t.prototype,"width",void 0),id([zt(0)],t.prototype,"length",void 0),t}(nn),Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"BpmnShape"},id([zt("Bpmn")],t.prototype,"type",void 0),id([zt("Event")],t.prototype,"shape",void 0),id([Bt({},md)],t.prototype,"event",void 0),id([Bt({},ud)],t.prototype,"gateway",void 0),id([Bt({},fd)],t.prototype,"dataObject",void 0),id([Bt({},wd)],t.prototype,"activity",void 0),id([Bt({},xd)],t.prototype,"annotation",void 0),id([_t([],xd)],t.prototype,"annotations",void 0),t}(od),Cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlActivityShape"},id([zt("UmlActivity")],t.prototype,"type",void 0),id([zt("Action")],t.prototype,"shape",void 0),t}(od),Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"MethodArguments"},id([zt("")],t.prototype,"name",void 0),id([zt("")],t.prototype,"type",void 0),id([Bt({},er)],t.prototype,"style",void 0),t}(nn),Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlClassAttribute"},id([zt("Public")],t.prototype,"scope",void 0),id([zt(!1)],t.prototype,"isSeparator",void 0),t}(Od),Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlClassMethod"},id([_t([],Od)],t.prototype,"parameters",void 0),t}(Pd),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlClass"},id([zt("")],t.prototype,"name",void 0),id([_t([],Pd)],t.prototype,"attributes",void 0),id([_t([],Ed)],t.prototype,"methods",void 0),id([Bt({},er)],t.prototype,"style",void 0),t}(nn),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlInterface"},id([zt(!1)],t.prototype,"isSeparator",void 0),t}(Td),Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlEnumerationMember"},id([zt("")],t.prototype,"name",void 0),id([zt("")],t.prototype,"value",void 0),id([zt(!1)],t.prototype,"isSeparator",void 0),id([Bt({},er)],t.prototype,"style",void 0),t}(nn),Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlEnumeration"},id([zt("")],t.prototype,"name",void 0),id([_t([],Id)],t.prototype,"members",void 0),id([Bt({},er)],t.prototype,"style",void 0),t}(nn),Md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"UmlClassifierShape"},id([zt("UmlClassifier")],t.prototype,"type",void 0),id([Bt({},Td)],t.prototype,"classShape",void 0),id([Bt({},kd)],t.prototype,"interfaceShape",void 0),id([Bt({},Ad)],t.prototype,"enumerationShape",void 0),id([zt("Class")],t.prototype,"classifier",void 0),t}(od),jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"DiagramShape"},id([zt("Basic")],t.prototype,"type",void 0),id([zt("Rectangle")],t.prototype,"basicShape",void 0),id([zt("Terminator")],t.prototype,"flowShape",void 0),id([zt("Event")],t.prototype,"bpmnShape",void 0),id([zt("Action")],t.prototype,"umlActivityShape",void 0),id([zt("")],t.prototype,"data",void 0),id([zt("")],t.prototype,"content",void 0),id([zt("")],t.prototype,"textContent",void 0),id([zt("Stretch")],t.prototype,"scale",void 0),id([zt("")],t.prototype,"source",void 0),id([zt("None")],t.prototype,"align",void 0),id([Bt({},Yi)],t.prototype,"margin",void 0),id([zt(0)],t.prototype,"cornerRadius",void 0),id([_t([],Jn)],t.prototype,"points",void 0),id([Bt({},fd)],t.prototype,"dataObject",void 0),id([Bt({},md)],t.prototype,"event",void 0),id([Bt({},ud)],t.prototype,"gateway",void 0),id([_t([],xd)],t.prototype,"annotations",void 0),id([Bt({},wd)],t.prototype,"activity",void 0),id([Bt({},xd)],t.prototype,"annotation",void 0),id([Bt({},Ad)],t.prototype,"enumerationShape",void 0),id([zt("Class")],t.prototype,"classifier",void 0),id([Bt({},Td)],t.prototype,"classShape",void 0),id([Bt({},kd)],t.prototype,"interfaceShape",void 0),t}(nn),Dd=function(e){function t(t,n,i,r){var o,a=e.call(this,t,n,i,r)||this;return a.isCanvasUpdate=!1,a.status="None",a.parentId="",a.processId="",a.umlIndex=-1,a.outEdges=[],a.inEdges=[],a.isHeader=!1,a.isLane=!1,a.isPhase=!1,a.children&&a.children.length>0&&((o=i).style&&o.style.fill||(a.style.fill="transparent"),o.style&&o.style.strokeColor||(a.style.strokeColor="transparent")),a.shape&&"UmlActivity"===a.shape.type&&Xl(i,a),a.shape&&"SwimLane"===a.shape.type&&Vl(i,a),a}return nd(t,e),Object.defineProperty(t.prototype,"actualSize",{get:function(){return null!==this.wrapper?this.wrapper.actualSize:new Kn(this.width||0,this.height||0)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t,n;t="SwimLane"!=this.shape.type?new tr:new Xs;switch(this.shape.changedProperties={},this.shape.oldProperties={},this.shape.type){case"Path":var i=new hr;i.data=this.shape.data,t=i;break;case"Image":var r=new ur;r.source=this.shape.source,r.imageAlign=this.shape.align,r.imageScale=this.shape.scale,t=r;break;case"Text":var o=new or;o.content=w()?this.shape.textContent:this.shape.content,t=o,n=this.style,t.style=n;break;case"Basic":if(!w()&&"Rectangle"===this.shape.shape||w()&&"Rectangle"===this.shape.basicShape)(t=s=new tr).cornerRadius=this.shape.cornerRadius;else if(!w()&&"Polygon"===this.shape.shape||w()&&"Polygon"===this.shape.basicShape){var a=new hr;a.data=ti(this.shape.points),t=a}else{var s=new hr,l=lr(w()?this.shape.basicShape:this.shape.shape);s.data=l,t=s}break;case"Flow":var c=new hr,d=Ir(w()?this.shape.flowShape:this.shape.shape);c.data=d,t=c;break;case"UmlActivity":t=function(e,t,n){var i=w()?n.shape.umlActivityShape:n.shape.shape,r=zs(i);switch(e.data=r,t=e,i){case"StructuredNode":if(n.annotations)for(var o=0;o<n.annotations.length;o++)n.annotations[o].content="<<"+n.annotations[o].content+">>";t=e;break;case"FinalNode":t=mc(n)}return t}(new hr,t,this);break;case"Bpmn":if(e.bpmnModule){t=e.bpmnModule.initBPMNContent(t,this,e),this.wrapper.elementActions=this.wrapper.elementActions|Ti.ElementIsGroup;var h=this.shape.activity.subProcess;if(h.processes&&h.processes.length)for(var p=0,u=this.shape.activity.subProcess.processes;p<u.length;p++){var f=u[p];!e.nameTable[f]||e.nameTable[f].processId&&e.nameTable[f].processId!==this.id||(e.nameTable[f].processId=this.id,h.collapsed&&e.updateElementVisibility(e.nameTable[f].wrapper,e.nameTable[f],!h.collapsed),t.children.push(e.nameTable[f].wrapper))}}break;case"Native":var g=new gr(this.id,e.element.id);g.content=this.shape.content,g.scale=this.shape.scale,t=g;break;case"HTML":var m=new Ta(this.id,e.element.id,void 0,e.nodeTemplate);this.shape.content?m.content=this.shape.content:e.nodeTemplate&&(m.isTemplate=!0,m.template=m.content=ch(m,!0,this)),t=m;break;case"UmlClassifier":t=Kc(t,this,e);break;case"SwimLane":this.annotations=[],this.ports=[],t.cellStyle.fill="none",t.cellStyle.strokeColor="none",this.container={type:"Grid",orientation:this.shape.orientation},t.id=this.id,this.container.orientation=this.shape.orientation,this.constraints|=Ei.HideThumbs,sl(t,e,this)}return t.id=this.id+"_content",t.relativeMode="Object",void 0!==this.width&&(t.width=this.width),t.horizontalAlignment="Stretch",void 0!==this.height&&(t.height=this.height),void 0!==this.minHeight&&(t.minHeight=this.minHeight),void 0!==this.maxHeight&&(t.maxHeight=this.maxHeight),void 0!==this.minWidth&&(t.minWidth=this.minWidth),void 0!==this.maxWidth&&(t.maxWidth=this.maxWidth),(!w()&&"Rectangle"===this.shape.shape&&!this.shape.cornerRadius||w()&&"Rectangle"===this.shape.basicShape&&"Basic"===this.shape.type&&!this.shape.cornerRadius)&&(t.isRectElement=!0),t.verticalAlignment="Stretch",(this.shape instanceof dd||w()&&"Text"===this.shape.type)&&(t.margin=this.shape.margin),us(this)&&0!==(this.constraints&Ei.Shadow)&&(t.shadow=this.shadow),("Bpmn"!==this.shape.type||!w()&&"Message"===this.shape.shape||w()&&"Message"===this.shape.bpmnShape||!w()&&"DataSource"===this.shape.shape||w()&&"DataSource"===this.shape.bpmnShape)&&("UmlActivity"!==this.shape.type||!w()&&"FinalNode"!==this.shape.shape||w()&&"FinalNode"!==this.shape.umlActivityShape)&&"Text"!==this.shape.type&&(t.style=this.style),(this.wrapper.elementActions&Ti.ElementIsGroup||"Horizontal"!==this.flip)&&"Vertical"!==this.flip||(t.flip=this.flip),t},t.prototype.initContainer=function(){var e;if(this.id||(this.id=mh()),!this.container||this.shape instanceof zd)e=this.children?new ir:new sr;else switch(this.container.type){case"Canvas":e=new sr;break;case"Stack":e=new Zc;break;case"Grid":(e=new Xs).setDefinitions(this.rows,this.columns)}return e.id=this.id,e.offsetX=this.offsetX,e.offsetY=this.offsetY,e.visible=this.visible,e.horizontalAlignment=this.horizontalAlignment,e.verticalAlignment=this.verticalAlignment,this.container&&(e.width=this.width,e.height=this.height,"Stack"===this.container.type&&(e.orientation=this.container.orientation)),e.style.fill=this.backgroundColor,e.style.strokeColor=this.borderColor,e.style.strokeWidth=this.borderWidth,e.rotateAngle=this.rotateAngle,e.minHeight=this.minHeight,e.minWidth=this.minWidth,e.maxHeight=this.maxHeight,e.maxWidth=this.maxWidth,e.pivot=this.pivot,e.margin=this.margin,e.flip=this.flip,this.wrapper=e,e},t.prototype.initPorts=function(e,t){for(var n,i=this.wrapper,r=0;this.ports,r<this.ports.length;r++){n=this.initPortWrapper(this.ports[r]);var o=void 0,a=Dh(e);a&&(o=a(n,this)),n.description=o||n.id,n.inversedAlignment=i.inversedAlignment,n.elementActions=n.elementActions|Ti.ElementIsPort,t.children.push(n)}},t.prototype.getIconOffet=function(e,t){var n,i;return"BottomToTop"===e.orientation?(n=t.offset.x,i=1-t.offset.y):"LeftToRight"===e.orientation?(n=t.offset.y,i=t.offset.x):"RightToLeft"===e.orientation?(n=1-t.offset.y,i=t.offset.x):(n=t.offset.x,i=t.offset.y),{x:n,y:i}},t.prototype.initIcons=function(e,t,n,i){var r,o=this.wrapper,a=this.isExpanded?this.expandIcon:this.collapseIcon;if("None"!==a.shape){var s=new sr;s.float=!0;s.id=this.id+"_icon_content",s.children=[],s.height=a.height,s.width=a.width,s.style.strokeColor="transparent",s.margin=a.margin,s.horizontalAlignment="Center",s.verticalAlignment="Center",s.visible=this.visible,r=this.getIconOffet(t,a),s.setOffsetWithRespectToBounds(r.x,r.y,"Fraction"),s.relativeMode="Point",this.initIconSymbol(a,s,e,i);var l=void 0,c=Dh(e);c&&(l=c(a,this)),s.description=l||s.id,s.inversedAlignment=o.inversedAlignment,n.children.push(s)}},t.prototype.initAnnotations=function(e,t,n,i,r){for(var o,a=0;this.annotations,a<this.annotations.length;a++){o=this.initAnnotationWrapper(this.annotations[a],n,i,a,r);var s=void 0,l=Dh(e);l&&(s=l(o,this)),o.description=s||o.id,o.inversedAlignment=t.inversedAlignment,t.children.push(o)}},t.prototype.initPortWrapper=function(e){e.id=e.id||mh();var t=new hr;t.height=e.height,t.width=e.width;var n="Custom"===e.shape?e.pathData:Er(e.shape);t.id=this.id+"_"+e.id,t.margin=e.margin,t.data=n;var i=e.style;return t.style={fill:i.fill,strokeColor:i.strokeColor,gradient:null,opacity:i.opacity,strokeDashArray:i.strokeDashArray,strokeWidth:i.strokeWidth},t.horizontalAlignment=e.horizontalAlignment,t.verticalAlignment=e.verticalAlignment,t=Nc(t,this.flip,e),void 0===this.width&&void 0===this.height||(t.float=!0),t.relativeMode="Point",t.visible=!(!Cc(e,xi.Visible)||Cc(e,xi.Hover)||Cc(e,xi.Connect)),t.elementActions=t.elementActions|Ti.ElementIsPort,t},t.prototype.initAnnotationWrapper=function(e,t,n,i,r){e.id=e.id||i+"annotation"||mh();var o,a=e;if(w()&&"Template"===e.annotationType&&(e.template=e.template?e.template:""),t&&(e.template||"Template"===e.annotationType||r&&""===e.content))o=gh(o=new Ta(this.id,t,e.id,r),e,r);else{(o=new or).canMeasure=!n;var s=e.style,l=e.hyperlink.link?e.hyperlink:void 0;o.style={fill:s.fill,strokeColor:s.strokeColor,strokeWidth:s.strokeWidth,bold:s.bold,textWrapping:s.textWrapping,color:l?l.color||o.hyperlink.color:s.color,whiteSpace:s.whiteSpace,fontFamily:s.fontFamily,fontSize:s.fontSize,italic:s.italic,gradient:null,opacity:s.opacity,strokeDashArray:s.strokeDashArray,textAlign:s.textAlign,textOverflow:e.style.textOverflow,textDecoration:l?l.textDecoration||o.hyperlink.textDecoration:s.textDecoration},o.hyperlink.link=e.hyperlink.link||void 0,o.hyperlink.content=e.hyperlink.content||void 0,o.hyperlink.textDecoration=e.hyperlink.textDecoration||void 0,o.content=l?l.content||o.hyperlink.link:e.content}return o.constraints=e.constraints,o.height=e.height,o.width=e.width,o.visible=e.visibility,o.rotateAngle=e.rotateAngle,o.id=this.id+"_"+e.id,void 0===this.width||e.template||(void 0===e.width||e.width>this.width&&("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping))&&(o.width=this.width),o.margin=e.margin,o.horizontalAlignment=e.horizontalAlignment,o.verticalAlignment=e.verticalAlignment,o.setOffsetWithRespectToBounds(a.offset.x,a.offset.y,"Fraction"),void 0===this.width&&void 0===this.height||(o.float=!0),o.relativeMode="Point",o},t.prototype.initIconContainer=function(e,t){var n=new tr;return n.id=t.id+"_rect",n.height=e.height,n.width=e.width,n.visible=t.visible,n.margin=e.margin,n.cornerRadius=e.cornerRadius,n.style={fill:e.fill,strokeColor:e.borderColor,strokeWidth:e.borderWidth},n.setOffsetWithRespectToBounds(.5,.5,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object",n.description=n.description||"Click here to expand or collapse",n},t.prototype.initIconSymbol=function(e,t,n,i){var r;if(t.children.push(this.initIconContainer(e,t)),"Template"===e.shape)(r=new gr(this.id,i)).content=e.content,r.height=10,r.width=10;else{(r=new hr).data=function(e){var t;switch(e.shape){case"Minus":t="M0,50 L100,50";break;case"Plus":t="M0,-50 L0,50 M-50,0 L50,0";break;case"ArrowUp":t="M0,100 L50,0 L100,100 Z";break;case"ArrowDown":t="M0,0 L50,100 L100,0 Z";break;case"Path":t=e.pathData}return t}(e);var o=Wd(r.data);r.height=o.height<10?o.height:10-(e.padding.bottom+e.padding.top),r.width=o.width<10?o.width:10-(e.padding.left+e.padding.right)}r.id=t.id+"_shape",r.horizontalAlignment="Center",r.verticalAlignment="Center",r.visible=t.visible,r.visible=t.visible,r.style={fill:"black",strokeColor:e.borderColor,strokeWidth:e.borderWidth},r.setOffsetWithRespectToBounds(.5,.5,"Fraction"),r.relativeMode="Object",r.description=t.description||"Click here to expand or collapse",t.children.push(r)},t.prototype.getClassName=function(){return"Node"},id([_t([],Or)],t.prototype,"annotations",void 0),id([zt(0)],t.prototype,"offsetX",void 0),id([Bt({},td)],t.prototype,"layoutInfo",void 0),id([zt(0)],t.prototype,"offsetY",void 0),id([_t([],br)],t.prototype,"ports",void 0),id([zt(!0)],t.prototype,"isExpanded",void 0),id([Bt({},Gc)],t.prototype,"expandIcon",void 0),id([Bt({},Gc)],t.prototype,"collapseIcon",void 0),id([Bt({x:.5,y:.5},Jn)],t.prototype,"pivot",void 0),id([zt()],t.prototype,"width",void 0),id([zt()],t.prototype,"height",void 0),id([zt()],t.prototype,"minWidth",void 0),id([zt()],t.prototype,"minHeight",void 0),id([zt()],t.prototype,"maxWidth",void 0),id([zt()],t.prototype,"maxHeight",void 0),id([zt(0)],t.prototype,"rotateAngle",void 0),id([Bt({fill:"white"},er)],t.prototype,"style",void 0),id([zt("transparent")],t.prototype,"backgroundColor",void 0),id([zt("none")],t.prototype,"borderColor",void 0),id([zt(0)],t.prototype,"borderWidth",void 0),id([zt()],t.prototype,"data",void 0),id([Ht(rd)],t.prototype,"shape",void 0),id([Bt({},xa)],t.prototype,"previewSize",void 0),id([Bt({},xa)],t.prototype,"dragSize",void 0),id([zt(null)],t.prototype,"wrapper",void 0),id([zt(Ei.Default)],t.prototype,"constraints",void 0),id([Bt({},Xi)],t.prototype,"shadow",void 0),id([zt()],t.prototype,"children",void 0),id([zt(null)],t.prototype,"container",void 0),id([zt("Left")],t.prototype,"horizontalAlignment",void 0),id([zt("Top")],t.prototype,"verticalAlignment",void 0),id([zt()],t.prototype,"rows",void 0),id([zt()],t.prototype,"columns",void 0),id([zt()],t.prototype,"rowIndex",void 0),id([zt()],t.prototype,"columnIndex",void 0),id([zt()],t.prototype,"rowSpan",void 0),id([zt()],t.prototype,"columnSpan",void 0),id([zt("")],t.prototype,"branch",void 0),t}(Pa),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),id([zt("")],t.prototype,"id",void 0),id([Bt({},Cr)],t.prototype,"annotation",void 0),id([Bt({fill:"#E7F4FF",strokeColor:"#CCCCCC"},Qi)],t.prototype,"style",void 0),id([zt(50)],t.prototype,"height",void 0),id([zt(50)],t.prototype,"width",void 0),t}(nn),Rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Lane"},id([zt("")],t.prototype,"id",void 0),id([Bt({fill:"#F9F9F9",strokeColor:"#CCCCCC"},Qi)],t.prototype,"style",void 0),id([_t([],Dd)],t.prototype,"children",void 0),id([zt(100)],t.prototype,"height",void 0),id([zt(100)],t.prototype,"width",void 0),id([Bt({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},Ld)],t.prototype,"header",void 0),id([zt(!0)],t.prototype,"canMove",void 0),t}(nn),Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.getClassName=function(){return"Phase"},id([zt("")],t.prototype,"id",void 0),id([Bt({strokeColor:"#CCCCCC"},Qi)],t.prototype,"style",void 0),id([Bt({annotation:{content:"Phase"}},Ld)],t.prototype,"header",void 0),id([zt(100)],t.prototype,"offset",void 0),t}(nn),zd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=20,t.hasHeader=!0,t}return nd(t,e),t.prototype.getClassName=function(){return"SwimLane"},id([zt("SwimLane")],t.prototype,"type",void 0),id([zt(20)],t.prototype,"phaseSize",void 0),id([_t([],Nd)],t.prototype,"phases",void 0),id([zt("Horizontal")],t.prototype,"orientation",void 0),id([_t([],Rd)],t.prototype,"lanes",void 0),id([Bt({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},Ld)],t.prototype,"header",void 0),id([zt(!1)],t.prototype,"isLane",void 0),id([zt(!1)],t.prototype,"isPhase",void 0),t}(od),Bd=function(){function e(){}return e.prototype.getClassName=function(){return"ChildContainer"},id([zt("Canvas")],e.prototype,"type",void 0),id([zt("Vertical")],e.prototype,"orientation",void 0),e}(),Hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nd(t,e),t.prototype.init=function(e){var t=new ir;t.measureChildren=!1;new Kn;if(t.children=[],this.annotation){var n=this.nodes.length>0?e.nameTable[this.nodes[0].id].wrapper:e.nameTable[this.connectors[0].id].wrapper,i=e.getWrapper(n,this.annotation.id);t.children.push(i)}else if(this.nodes||this.connectors){for(var r=0;r<this.nodes.length;r++){i=e.nameTable[this.nodes[r].id].wrapper;t.children.push(i)}for(var o=0;o<this.connectors.length;o++){i=e.nameTable[this.connectors[o].id].wrapper;t.children.push(i)}}return this.wrapper=t,t},id([zt(null)],t.prototype,"wrapper",void 0),id([_t([],Dd)],t.prototype,"nodes",void 0),id([_t([],$a)],t.prototype,"connectors",void 0),id([zt()],t.prototype,"width",void 0),id([zt()],t.prototype,"height",void 0),id([zt(0)],t.prototype,"rotateAngle",void 0),id([zt(0)],t.prototype,"offsetX",void 0),id([zt(0)],t.prototype,"offsetY",void 0),id([Bt({x:.5,y:.5},Jn)],t.prototype,"pivot",void 0),id([zt("CompleteIntersect")],t.prototype,"rubberBandSelectionMode",void 0),id([_t([],Ns)],t.prototype,"userHandles",void 0),id([zt(Ci.All)],t.prototype,"constraints",void 0),id([zt()],t.prototype,"setTooltipTemplate",void 0),t}(nn);function _d(e){var t,n=[];if("msie"===le.info.name||"edge"===le.info.name)for(var i=0;i<e.childNodes.length;i++)1===(t=e.childNodes[i]).nodeType&&n.push(t);else n=e.children;return n}function Wd(e){if(e){window.measureElement.style.visibility="visible";var t=_d(window.measureElement.children[2])[0];t.setAttribute("d",e);var n=t.getBBox(),i=new di(n.x,n.y,n.width,n.height);return window.measureElement.style.visibility="hidden",i}return new di(0,0,0,0)}function Fd(e,t,n,i,r){var o=new Kn,a=ih("span",{style:"display:inline-block; line-height: normal"});return e.bold&&(a.style.fontWeight="bold"),e.italic&&(a.style.fontStyle="italic"),void 0!==n&&(a.style.width=n.toString()+"px"),void 0!==i&&(a.style.height=i.toString()+"px"),void 0!==r&&(a.style.maxWidth=r.toString()+"px"),a.style.fontFamily=e.fontFamily,a.style.fontSize=e.fontSize+"px",a.style.color=e.color,a.textContent=t,a.style.whiteSpace=Ah(e.whiteSpace,e.textWrapping),a.style.wordBreak=void 0!==r?"break-word":Eh(e.textWrapping),document.body.appendChild(a),o.width=a.offsetWidth,o.height=a.offsetHeight,document.body.removeChild(a),o}function Vd(e,t,n,i){var r,o,a=0,s=0,l=!1;return 0===(r=t).x&&0===r.y||(a=0-Number(r.x),s=0-Number(r.y)),(e.actualSize.width!==r.width||e.actualSize.height!==r.height||i)&&(a=(i&&i.width||e.actualSize.width)/Number(r.width?r.width:1),s=(i&&i.height||e.actualSize.height)/Number(r.height?r.height:1),l=!0),o=ii(ai(ei(e.data)),a,s,l,r.x,r.y,0,0),l=!1,o}function Ud(e){return Yd(e).getElementsByClassName("e-diagram-layer")[0]}function Yd(e,t){var n;return t&&(n=document.getElementById(t)),"msie"===le.info.name||"edge"===le.info.name?n?n.querySelector("#"+e):document.getElementById(e):n?n.querySelector("#"+CSS.escape(e)):document.getElementById(e)}function Xd(e,t,n){var i,r,o=void 0,a="";"native"===n?(i=th(e),a="_content_groupElement"):"html"===n?(i=nh(e).childNodes[0],a="_html_element"):(i=function(e){var t=Ud(e);return t.getElementById(e+"_diagramLayer")}(e),a="_groupElement");for(var s=0;i.childNodes&&s<i.childNodes.length;s++)if((r=i.childNodes[s])&&r.id===t+a){o=s;break}return o}function Gd(e){return Yd(e).getElementsByClassName("e-adorner-layer")[0]}function qd(e){return Gd(e).getElementById(e+"_SelectorElement")}function Zd(e){return Gd(e).getElementById(e+"_diagramAdorner")}function Kd(e){return Yd(e).getElementsByClassName("e-userHandle-layer")[0]}function $d(e){return Yd(e).getElementsByClassName("e-native-layer")[0]}function Qd(e){return Yd(e).getElementsByClassName("e-grid-layer")[0]}function Jd(e){return Yd(e).getElementsByClassName("e-background-layer")[0].parentNode}function eh(e){return Yd(e).getElementsByClassName("e-background-layer")[0]}function th(e){return $d(e).getElementById(e+"_nativeLayer")}function nh(e){var t=null;if(window.domTable[e+"html_layer"])t=window.domTable[e+"html_layer"];else{t=Yd(e).getElementsByClassName("e-html-layer")[0],window.domTable[e+"html_layer"]=t}return t}function ih(e,t){var n=rt(e);return ph(n,t),n}function rh(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return dh(n,t),n}function oh(e,t,n){for(var i=e;i&&!(n?i.id===t:ah(i,t));)i=i.parentNode;return i}function ah(e,t){return(" "+("object"===typeof e.className?e.className.animVal:e.className)+" ").indexOf(" "+t+" ")>-1}function sh(e,t,n){e=[];for(var i=0,r=n.length;i<r;i++)e.push({pageX:n[i].clientX,pageY:n[i].clientY,pointerId:null});return e}function lh(e,t){var n=Yd(e,t);n&&n.parentNode.removeChild(n)}function ch(e,t,n){var i;if(t){i=ih("div",{style:"height: 100%; width: 100%"})}else i=document.createElementNS("http://www.w3.org/2000/svg","g");var r,o=Mc(e),a="",s={};if(o instanceof Dd){if(s=o,"Native"===o.shape.type){!0;var l,c=document.createElementNS("http://www.w3.org/2000/svg","svg");document.body.appendChild(c),c.innerHTML=o.shape.content,l=c.getElementsByTagName("svg").length>0?c.getElementsByTagName("svg")[0].outerHTML:c.getElementsByTagName("g")[0].outerHTML,o.shape.content=l,e.content=l,c.parentElement.removeChild(c)}w()&&(a="diagramsf_node_template",s=Vc(o))}else s=o,w()&&(s=Vc(o),a="diagramsf_annotation_template");if("string"!==typeof e.content||e.isTemplate&&!w())if(e.isTemplate){p=void 0;p=e.getNodeTemplate()(xh(n),void 0,"template",void 0,void 0,!1);for(var d=0;d<p.length;d++)i.appendChild(p[d])}else i.appendChild(e.content);else{var h=document.getElementById(e.content);if(h)i.appendChild(h);else for(var p=void 0,u=0,f=(p=ze(e.content))(s,null,null,a);u<f.length;u++)r=f[u],i.appendChild(r)}return e.isTemplate?i:i.cloneNode(!0)}function dh(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++)"style"!==n[i]?e.setAttribute(n[i],t[n[i]]):hh(e,t[n[i]])}function hh(e,t){for(var n=t.split(";"),i=0;i<n.length;i++){var r=n[i].split(":");2===r.length&&(e.style[r[0].trim()]=r[1].trim())}}function ph(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++)"style"!==n[i]?e.setAttribute(n[i],t[n[i]]):hh(e,t[n[i]])}function uh(){if(window.measureElement)window.measureElement.usageCount+=1;else{var e=ih("div",{id:"measureElement",style:"visibility:hidden ; height: 0px ; width: 0px; overflow: hidden;"}),t=ih("span",{style:"display:inline-block ; line-height: normal"});e.appendChild(t);var n;n=ih("img",{}),e.appendChild(n);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.appendChild(i);var r=document.createElementNS("http://www.w3.org/2000/svg","path");i.appendChild(r);document.createTextNode("");var o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.appendChild(o),window.measureElement=e,window.measureElement.usageCount=1,document.body.appendChild(e);window.measureElementCount?window.measureElementCount++:window.measureElementCount=1}}function fh(e,t,n,i){return!(t.length>1&&0===e.x)||"Clip"!==i.textOverflow&&"Ellipsis"!==i.textOverflow||"Wrap"!==i.textWrapping&&"WrapWithOverflow"!==i.textWrapping||(e.x=t[n-1]?t[n-1].x:-e.width/2),e.x}function gh(e,t,n){return n&&!t.template?(e.isTemplate=!0,e.template=e.content=ch(e,!0,t)):e.content=t.template,e}function mh(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<5;i++){if("crypto"in window&&"getRandomValues"in crypto){var r=new Uint16Array(1);e=(window.msCrypto||window.crypto).getRandomValues(r)[0]%(t.length-1)}else e=Math.floor(Math.random()*t.length);0===i&&e<10?i--:n+=t.substring(e,e+1)}return n}function vh(e,t){if(e.nodes&&e.nodes.length>0)for(var n=0;n<e.nodes.length;n++)if(e.nodes[n].id===t)return n;if(e.connectors&&e.connectors.length>0)for(n=0;n<e.connectors.length;n++)if(e.connectors[n].id===t)return n;return null}function yh(e){if(e){try{if(document.querySelectorAll(e).length)return ze(document.querySelector(e).innerHTML.trim())}catch(t){return ze(e)}}}function bh(e){new di;var t=e.offsetY-e.actualSize.height*e.pivot.y,n=e.offsetY+e.actualSize.height*(1-e.pivot.y),i=e.offsetX-e.actualSize.width*e.pivot.x,r=e.offsetX+e.actualSize.width*(1-e.pivot.x),o={x:i,y:t},a={x:r,y:t},s={x:i,y:n},l={x:r,y:n};return di.toBounds([o,a,s,l])}function wh(e){var t,n=new di,i=(t=bh(e)).middleLeft,r=t.topCenter,o=t.bottomCenter,a=t.middleRight,s=t.topLeft,l=t.topRight,c=t.bottomLeft,d=t.bottomRight;if(e.corners={topLeft:s,topCenter:r,topRight:l,middleLeft:i,middleRight:a,bottomLeft:c,bottomCenter:o,bottomRight:d},0!==e.rotateAngle||0!==e.parentTransform){var h=pi();fi(h,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=s=ui(h,s),e.corners.topCenter=r=ui(h,r),e.corners.topRight=l=ui(h,l),e.corners.middleLeft=i=ui(h,i),e.corners.middleRight=a=ui(h,a),e.corners.bottomLeft=c=ui(h,c),e.corners.bottomCenter=o=ui(h,o),e.corners.bottomRight=d=ui(h,d)}return n=di.toBounds([s,l,c,d]),e.corners.left=n.left,e.corners.right=n.right,e.corners.top=n.top,e.corners.bottom=n.bottom,e.corners.center=n.center,e.corners.width=n.width,e.corners.height=n.height,n}function xh(e,t,n,i){var r={},o="properties";if(e){n=e.propName;var a=e[o]||e,s=[],l=[];if((s=s.concat(Object.keys(a))).push("version"),n){var c=Dh(t);l=c?c(n):[],s=s.concat(l)}var d=function(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"]}return[]}(n);s=s.concat(d),i&&(s=function(e,t){var n=[];return t instanceof Dd?n=["width","height","offsetX","offsetY","container","visible","horizontalAlignment","verticalAlignment","backgroundColor","borderColor","borderWidth","rotateAngle","minHeight","minWidth","maxHeight","maxWidth","pivot","margin","flip","wrapper","constraints","style","annotations","ports","isExpanded","expandIcon"]:t instanceof $a?n=["constraints","sourcePadding","targetPadding","cornerRadius","flip","type","targetDecorator","sourceDecorator","sourceID","shape","bridgeSpace","annotations","segments","hitPadding","tooltip","previewSize","dragSize","style","sourcePortID","targetID","targetPortID","visible"]:t instanceof ja?n=["height","width","shape","style","pivot","pathData"]:t instanceof od||t instanceof Gc?(n.push("shape"),t instanceof hd?n.push("cornerRadius"):t instanceof Text?n.push("margin"):t instanceof Image?(n.push("align"),n.push("scale")):t instanceof sd?n.push("scale"):t instanceof Sd?(n.push("activity"),n.push("annotations")):t instanceof Gc&&(n.push("borderColor"),n.push("borderWidth"),n.push("cornerRadius"),n.push("fill"))):t instanceof wd?n.push("subProcess"):t instanceof gd?(n.push("call"),n.push("compensation"),n.push("loop")):t instanceof bd?(n.push("adhoc"),n.push("boundary"),n.push("compensation"),n.push("loop"),n.push("processes")):t instanceof yr?(n.push("height"),n.push("width"),n.push("visibility"),n.push("horizontalAlignment"),n.push("verticalAlignment"),n.push("shape")):t instanceof Cr?(n.push("constraints"),n.push("height"),n.push("horizontalAlignment"),n.push("rotateAngle"),n.push("template"),n.push("verticalAlignment"),n.push("visibility"),n.push("width"),n.push("margin")):t instanceof Yi?(n.push("left"),n.push("right"),n.push("top"),n.push("bottom")):t instanceof er&&(n=["strokeWidth","strokeDashArray","opacity","gradient","fontSize","fontFamily","textOverflow","textDecoration","whiteSpace","textWrapping","textAlign","italic","bold"]),t instanceof Qi&&(n.push("strokeColor"),n.push("color")),e=e.concat(n)}(s,e));for(var h=0,p=s;h<p.length;h++){var u=p[h];if("historyManager"!==u)if("wrapper"!==u){!(!e[u]||!e.hasOwnProperty("observers"))||(e[u]instanceof Array?r[u]=Sh(-1===d.indexOf(u)&&e[o]?e[o][u]:e[u],t,u,i):e[u]instanceof Array===!1&&e[u]instanceof HTMLElement?r[u]=e[u].cloneNode(!0).innerHtml:e[u]instanceof Array===!1&&e[u]instanceof Object?r[u]=xh(-1===d.indexOf(u)&&e[o]?e[o][u]:e[u],void 0,void 0,i):r[u]=e[u])}else e[u]&&(r[u]={actualSize:{width:e[u].actualSize.width,height:e[u].actualSize.height},offsetX:e[u].offsetX,offsetY:e[u].offsetY})}}return r}function Sh(e,t,n,i){var r;if(e){r=[];for(var o=0;o<e.length;o++)e[o]instanceof Array?r.push(e[o]):e[o]instanceof Object?r.push(xh(e[o],t,n,i)):r.push(e[o])}return r}function Ch(e,t){if(e){t||(t={properties:{}});for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(e[r]instanceof Array){var o=Oh(e[r],t.properties[r]);t.properties[r]&&t.properties[r].length||(t[r]=o)}else if(e[r]instanceof Array===!1&&e[r]instanceof HTMLElement)t[r]=e[r].cloneNode(!0).innerHtml;else if(e[r]instanceof Array===!1&&e[r]instanceof Object){var a=Ch(e[r],t.properties[r]);a.properties&&!Object.keys(a.properties).length&&delete a.properties,t[r]=a}else t[r]=void 0!==t.properties[r]?t[r]:e[r]}}return t}function Oh(e,t){var n=[],i=!1;t||(t=[]),t.length||(i=!0);for(var r=0;r<e.length;r++)if(e[r]instanceof Array){Oh(e[r],t[r]);i&&n.push(Oh)}else if(e[r]instanceof Object){var o=Ch(e[r],t[r]);i&&n.push(o)}else n.push(e[r]);return n}function Ph(e){var t="";switch(e){case"Center":t="center";break;case"Left":t="left";break;case"Right":t="right"}return t}function Eh(e){var t="";switch(e){case"Wrap":t="breakall";break;case"NoWrap":t="keepall";break;case"WrapWithOverflow":t="normal";break;case"LineThrough":t="line-through"}return t}function Th(e,t){window.measureElement.style.visibility="visible";var n=_d(window.measureElement.children[2])[1];n.textContent=e,hh(n,"font-size:"+t.fontSize+"px; font-family:"+t.fontFamily+";font-weight:"+(t.bold?"bold":"normal"));var i=n.getBBox().width;return window.measureElement.style.visibility="hidden",i}function kh(e,t){return(e+t)/2}function Ih(e,t){var n,i=0,r=0,o=0,a="";n=e.length;var s=0;do{o>0&&(i=r),r=Math.floor(kh(i,n)),o=Th(a+=e.substr(i,r),t)}while(o<=t.width);for(a=a.substr(0,i),s=i;s<n;s++)if((o=Th(a+=e[s],t))>=t.width){e=e.substr(0,a.length-1);break}return"Ellipsis"===t.textOverflow?(e=e.substr(0,e.length-3),e+="..."):e=e.substr(0,e.length),e}function Ah(e,t){if("NoWrap"===t&&"PreserveAll"===e)return"pre";var n="";switch(e){case"CollapseAll":n="nowrap";break;case"CollapseSpace":n="pre-line";break;case"PreserveAll":n="pre-wrap"}return n}function Mh(e,t){var n=pi();fi(n,t,0,0);var i=ui(n,{x:0,y:0}),r=ui(n,{x:e.width,y:0}),o=ui(n,{x:0,y:e.height}),a=ui(n,{x:e.width,y:e.height}),s=Math.min(i.x,r.x,o.x,a.x),l=Math.min(i.y,r.y,o.y,a.y),c=Math.max(i.x,r.x,o.x,a.x),d=Math.max(i.y,r.y,o.y,a.y);return new Kn(c-s,d-l)}function jh(e,t,n,i){if(0!==e){var r=pi();return fi(r,e,t,n),ui(r,i)}return i}function Dh(e){return void 0!==e&&"string"===typeof e&&(e=c(e,window)),e}var Lh=function(){function e(){}return e.getContext=function(e){return e.getContext("2d")},e.setCanvasSize=function(e,t,n){e&&(e.setAttribute("width",t.toString()),e.setAttribute("height",n.toString()))},e.prototype.renderGradient=function(e,t,n,i){var r,o,a;if("None"!==e.gradient.type){for(var s=0;s<e.gradient.stops.length;s++)r=void 0!==r?e.gradient.stops[s].offset:Math.max(r,e.gradient.stops[s].offset),o=void 0!==o?e.gradient.stops[s].offset:Math.min(o,e.gradient.stops[s].offset);if("Linear"===e.gradient.type){var l=e.gradient;a=t.createLinearGradient(n+l.x1,i+l.y1,n+l.x2,i+l.y2)}else{var c=e.gradient;a=t.createRadialGradient(n+c.fx,i+c.fy,0,n+c.cx,i+c.cy,c.r)}for(s=0;s<e.gradient.stops.length;s++){var d=e.gradient.stops[s],h=o<0?(r+d.offset)/(2*r):d.offset/r;a.addColorStop(h,d.color)}t.fillStyle=a}return t},e.prototype.renderShadow=function(t,n,i){void 0===i&&(i=null);var r=e.getContext(n);r.save(),r.beginPath(),r.strokeStyle=r.fillStyle=t.shadow.color,r.globalAlpha=t.shadow.opacity;var o=Jn.transform({x:0,y:0},t.shadow.angle,t.shadow.distance),a=t.x+o.x,s=t.y+o.y,l=a+t.width*t.pivotX,c=s+t.height*t.pivotY;this.rotateContext(n,t.angle,l,c),i?(r.translate(a,s),this.renderPath(n,t,i),r.translate(-a,-s)):(r.rect(a,s,t.width,t.height),r.fillRect(a,s,t.width,t.height)),r.fill(),r.stroke(),r.closePath(),r.restore()},e.createCanvas=function(e,t,n){var i=ih("canvas",{id:e});return this.setCanvasSize(i,t,n),i},e.prototype.setStyle=function(t,n){var i=e.getContext(t);"none"===n.fill&&(n.fill="transparent"),"none"===n.stroke&&(n.stroke="transparent"),i.strokeStyle=n.stroke,i.lineWidth=n.strokeWidth,0===n.strokeWidth&&(i.strokeStyle="transparent"),i.globalAlpha=n.opacity;var r=[];n.dashArray&&(r=this.parseDashArray(n.dashArray)),i.setLineDash(r),n.gradient&&"None"!==n.gradient.type?this.renderGradient(n,i,0,0):i.fillStyle=n.fill},e.prototype.rotateContext=function(t,n,i,r){var o=e.getContext(t);o.translate(i,r),o.rotate(n*Math.PI/180),o.translate(-i,-r)},e.prototype.setFontStyle=function(t,n){var i=e.getContext(t),r="";n.italic&&(r+="italic "),n.bold&&(r+="bold "),r+=n.fontSize+"px ",r+=n.fontFamily,i.font=r},e.prototype.parseDashArray=function(e){for(var t=[],n=-1!==e.indexOf(" ")?" ":",",i=0,r=e.split(n);i<r.length;i++){var o=r[i];t.push(Number(o))}return t},e.prototype.drawRectangle=function(t,n){if(!0===n.visible)if(n.cornerRadius)n.data=function(e,t,n){var i,r,o,a="",s=[{x:0+e,y:0},{x:0+n-e,y:0},{x:0+n,y:0+e},{x:0+n,y:0+t-e},{x:0+n-e,y:0+t},{x:0+e,y:0+t},{x:0,y:0+t-e},{x:0,y:0+e}],l=[{x:0+n,y:0},{x:0+n,y:0+t},{x:0,y:0+t},{x:0,y:0}],c=0;for(a="M"+s[0].x+" "+s[0].y,o=0;o<s.length;o+=2)a+="L"+(i=s[o+1]).x+" "+i.y,r=s[o+2]||s[0],a+="Q"+l[c].x+" "+l[c].y+" "+r.x+" "+r.y,c++;return a}(n.cornerRadius,n.height,n.width),this.drawPath(t,n);else{var i=e.getContext(t);n.shadow&&this.renderShadow(n,t),i.save(),i.beginPath();n.cornerRadius;var r=n.x+n.width*n.pivotX,o=n.y+n.height*n.pivotY;this.rotateContext(t,n.angle,r,o),this.setStyle(t,n),i.rect(n.x,n.y,n.width,n.height),i.fillRect(n.x,n.y,n.width,n.height),i.fill(),i.stroke(),i.closePath(),i.restore()}},e.prototype.drawPath=function(t,n){var i=[];i=ni(i=ei(n.data)),n.shadow&&this.renderShadow(n,t,i);var r=e.getContext(t);r.save(),r.beginPath();var o=n.y+n.height*n.pivotY,a=n.x+n.width*n.pivotX;"Horizontal"===n.flip||"Vertical"===n.flip?(r.translate(n.x+n.width/2,n.y+n.height/2),r.rotate(-n.angle*Math.PI/180),r.translate(-n.x-n.width/2,-n.y-n.height/2)):this.rotateContext(t,n.angle,a,o),this.setStyle(t,n),r.translate(n.x,n.y),"Horizontal"===n.flip?(r.scale(-1,1),r.translate(-1*n.width,0)):"Vertical"===n.flip?(r.scale(1,-1),r.translate(0,-1*n.height)):"Both"===n.flip&&(r.scale(-1,-1),r.translate(-1*n.width,-1*n.height)),this.renderPath(t,n,i),r.fill(),r.translate(-n.x,-n.y),r.stroke(),r.restore()},e.prototype.renderPath=function(t,n,i){if(!0===n.visible){var r,o=e.getContext(t),a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,h=void 0,p=void 0,u=void 0,f=void 0,g=i;for(p=0,u=0,f=0,r=g.length;f<r;++f){var m=g[f],v=m.command;switch("x1"in m&&(l=m.x1),"x2"in m&&(d=m.x2),"y1"in m&&(c=m.y1),"y2"in m&&(h=m.y2),"x"in m&&(p=m.x),"y"in m&&(u=m.y),v){case"M":o.moveTo(p,u),m.x=p,m.y=u;break;case"L":o.lineTo(p,u),m.x=p,m.y=u;break;case"C":o.bezierCurveTo(l,c,d,h,p,u),m.x=p,m.y=u,m.x1=l,m.y1=c,m.x2=d,m.y2=h;break;case"Q":o.quadraticCurveTo(l,c,p,u),m.x=p,m.y=u,m.x1=l,m.y1=c;break;case"A":var y={x:a,y:s},b=m.r1,w=m.r2,x=m.angle*(Math.PI/180),S=m.largeArc,C=m.sweep,O={x:p,y:u},P={x:Math.cos(x)*(y.x-O.x)/2+Math.sin(x)*(y.y-O.y)/2,y:-Math.sin(x)*(y.x-O.x)/2+Math.cos(x)*(y.y-O.y)/2},E=Math.pow(P.x,2)/Math.pow(b,2)+Math.pow(P.y,2)/Math.pow(w,2);E>1&&(b*=Math.sqrt(E),w*=Math.sqrt(E));var T=Math.pow(w,2)*Math.pow(P.x,2),k=(S===C?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(w,2)-Math.pow(b,2)*Math.pow(P.y,2)-T)/(Math.pow(b,2)*Math.pow(P.y,2)+Math.pow(w,2)*Math.pow(P.x,2)));isNaN(k)&&(k=0);var I={x:k*b*P.y/w,y:k*-w*P.x/b},A={x:(y.x+O.x)/2+Math.cos(x)*I.x-Math.sin(x)*I.y,y:(y.y+O.y)/2+Math.sin(x)*I.x+Math.cos(x)*I.y},M=this.a([1,0],[(P.x-I.x)/b,(P.y-I.y)/w]),j=[(P.x-I.x)/b,(P.y-I.y)/w],D=[(-P.x-I.x)/b,(-P.y-I.y)/w],L=this.a(j,D);this.r(j,D)<=-1&&(L=Math.PI),this.r(j,D)>=1&&(L=0);var R=M+(C?1:-1)*(L/2);Math.cos(R),Math.sin(R);if(m.centp=A,m.xAxisRotation=x,m.rx=b,m.ry=w,m.a1=M,m.ad=L,m.sweep=C,null!=o){var N=b>w?b:w,z=b>w?1:b/w,B=b>w?w/b:1;o.save(),o.translate(A.x,A.y),o.rotate(x),o.scale(z,B),o.arc(0,0,N,M,M+L,!C),o.scale(1/z,1/B),o.rotate(-x),o.translate(-A.x,-A.y),o.restore()}break;case"Z":case"z":o.closePath(),p=a,u=s}a=p,s=u}}},e.prototype.drawText=function(t,n,i,r,o,a,s){if(n.content&&!0===n.visible){var l=e.getContext(t);l.save(),this.setStyle(t,n),a&&(n.fontSize*=a);var c=n.x+n.width*n.pivotX,d=n.y+n.height*n.pivotY;this.rotateContext(t,n.angle,c,d),this.setFontStyle(t,n);var h,p=0;h=n.childNodes;var u=n.wrapBounds;if(l.fillStyle=n.color,u){var f=this.labelAlign(n,u,h);for(p=0;p<h.length;p++){var g=h[p];g.x=fh(g,h,p,n);var m=f.x+(a?g.x*a:g.x)-u.x,v=f.y+(a?g.dy*a:g.dy)*p+.8*n.fontSize;if(u.width>n.width&&"Wrap"!==n.textOverflow&&"NoWrap"===n.textWrapping&&(g.text=Ih(g.text,n)),"Clip"!==n.textOverflow&&"Ellipsis"!==n.textOverflow||"Wrap"!==n.textWrapping)l.fillText(g.text,m,v);else if(v<s.actualSize.height+s.bounds.y){if("Ellipsis"===n.textOverflow&&h[p+1]){var y=h[p+1];f.y+y.dy*(p+1)+.8*n.fontSize>s.actualSize.height+s.bounds.y&&(g.text=g.text.slice(0,g.text.length-3),g.text=g.text.concat("..."))}l.fillText(g.text,m,v)}if("Underline"===n.textDecoration||"Overline"===n.textDecoration||"LineThrough"===n.textDecoration){var b=m,w=void 0,x=m+l.measureText(g.text).width,S=void 0;switch(n.textDecoration){case"Underline":w=v+2,S=v+2;break;case"Overline":w=f.y+g.dy*p,S=f.y+g.dy*p;break;case"LineThrough":w=(v+f.y+g.dy*p)/2+2,S=(v+f.y+g.dy*p)/2+2}l.beginPath(),l.moveTo(b,w),l.lineTo(x,S),l.strokeStyle=n.color,l.lineWidth=.08*n.fontSize,l.globalAlpha=n.opacity,l.stroke()}}}l.restore()}},e.prototype.loadImage=function(e,t,n,i,r){this.rotateContext(n,t.angle,i,r);var o=new Image;o.src=t.source,this.image(e,o,t.x,t.y,t.width,t.height,t)},e.prototype.drawImage=function(t,n,i,r){var o=this;if(n.visible){var a=e.getContext(t);a.save();var s=n.x+n.width*n.pivotX,l=n.y+n.height*n.pivotY,c=new Image;c.src=n.source;var d=a.canvas.id.split("_");d[d.length-1];r?c.onload=function(){o.loadImage(a,n,t,s,l)}:this.loadImage(a,n,t,s,l),a.restore()}},e.prototype.image=function(e,t,n,i,r,o,a){e.beginPath();var s=t.width,l=t.height,c=r,d=o,h=0,p=0;if(a&&"None"!==a.alignment){var u=a.alignment.toLowerCase().substr(1,3),f=a.alignment.toLowerCase().substr(5,3);if("Slice"===a.scale){var g=function(){h=c,p=l*c/s},m=function(){h=s*d/l,p=d};c>d?(g(),d>p&&m()):c===d?s>l?m():g():(m(),c>h&&g());var v=this.getSliceOffset(u,h,c,s),y=this.getSliceOffset(f,p,d,l),b=s-v,w=l-y,x=h-v*(h/s),S=p-y*(p/l),C=ih("canvas",{width:r.toString(),height:o.toString()});C.getContext("2d").drawImage(t,v,y,b,w,0,0,x,S),e.drawImage(C,n,i,r,o)}else if("Meet"===a.scale){var O=l/s,P=d/c;h=P>O?c:d/O,p=P>O?c*O:d,n+=this.getMeetOffset(u,h,c),i+=this.getMeetOffset(f,p,d),e.drawImage(t,0,0,s,l,n,i,h,p)}else e.drawImage(t,n,i,r,o)}else if("None"!==a.flip){var E=1,T=1;"Horizontal"!==a.flip&&"Both"!==a.flip||(n=-n,r=-r,E=-1),"Vertical"!==a.flip&&"Both"!==a.flip||(i=-i,o=-o,T=-1),e.scale(E,T),e.drawImage(t,n,i,r,o)}else e.drawImage(t,n,i,r,o);e.closePath()},e.prototype.getSliceOffset=function(e,t,n,i){switch(e){case"min":return 0;case"mid":return(t-n)/2*i/t;case"max":return(t-n)*i/t;default:return 0}},e.prototype.getMeetOffset=function(e,t,n){var i=Math.max(t,n),r=Math.min(t,n);switch(e){case"min":return 0;case"mid":return(i-r)/2;case"max":return i-r;default:return 0}},e.prototype.m=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},e.prototype.r=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(this.m(e)*this.m(t))},e.prototype.a=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(this.r(e,t))},e.prototype.labelAlign=function(e,t,n){var i=new Kn(t.width,n.length*(1.2*e.fontSize)),r={x:0,y:0},o=e.x,a=e.y,s=.5*e.width,l=.5*e.height;return"left"===e.textAlign?s=0:"center"===e.textAlign?s=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)&&"NoWrap"===e.textWrapping?0:.5*e.width:"right"===e.textAlign&&(s=1*e.width),r.x=o+s+(t?t.x:0),r.y=a+l-i.height/2,r},e}(),Rh=function(){function e(){}return e.prototype.renderShadow=function(e,t,n,i){void 0===n&&(n=null);var r,o,a=Jn.transform({x:0,y:0},e.shadow.angle,e.shadow.distance),s=e.x+a.x,l=e.y+a.y;e.width,e.pivotX,e.height,e.pivotY;i&&(o=i.getElementById(t.id+"_shadow")),o||(r=n?"path":"rect",o=document.createElementNS("http://www.w3.org/2000/svg",r),t.appendChild(o));var c={id:t.id+"_shadow",fill:e.shadow.color,stroke:e.shadow.color,opacity:e.shadow.opacity.toString(),transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")translate("+(e.x+a.x)+","+(e.y+a.y)+")"};if(i){var d=i.getElementById(t.id);d&&d.insertBefore(o,d.firstChild)}dh(o,c),n?n&&this.renderPath(o,e,n):dh(o,{width:e.width,height:e.height})},e.prototype.parseDashArray=function(e){return[]},e.prototype.drawRectangle=function(e,t,n,i,r,o,a){var s,l,c;t.shadow&&!i&&this.renderShadow(t,e,void 0,o),s=t.id===e.id?t.id+"_container":t.id,o&&(l=o.getElementById(s)),l&&!r||(l=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(l)),o&&!t.shadow&&(c=o.getElementById(t.id+"_groupElement_shadow"))&&c.parentNode.removeChild(c);var d={id:s,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),visibility:t.visible?"visible":"hidden",transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",rx:t.cornerRadius||0,ry:t.cornerRadius||0,opacity:t.opacity,"aria-label":a||""};t.class&&(d.class=t.class);a||(d["pointer-events"]="none"),dh(l,d),this.setSvgStyle(l,t,n)},e.prototype.updateSelectionRegion=function(e,t){var n,i;n=e.parentNode.getElementById(t.id),i={id:t.id,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",class:"e-diagram-selected-region"},n||(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(n)),this.setSvgStyle(n,t),dh(n,i)},e.prototype.createGElement=function(e,t){return rh(e,t)},e.prototype.drawLine=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","line");this.setSvgStyle(n,t);var i=t.x+t.width*t.pivotX,r=t.y+t.height*t.pivotY,o={id:t.id,x1:t.startPoint.x+t.x,y1:t.startPoint.y+t.y,x2:t.endPoint.x+t.x,y2:t.endPoint.y+t.y,stroke:t.stroke,"stroke-width":t.strokeWidth.toString(),opacity:t.opacity.toString(),transform:"rotate("+t.angle+" "+i+" "+r+")",visibility:t.visible?"visible":"hidden"};t.class&&(o.class=t.class),dh(n,o),e.appendChild(n)},e.prototype.drawCircle=function(e,t,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","circle");this.setSvgStyle(r,t);var o=t.class||"";n||(o+=" e-disabled");var a={id:t.id,cx:t.centerX,cy:t.centerY,r:t.radius,visibility:t.visible?"visible":"hidden",class:o,"aria-label":i?i["aria-label"]:""};r.style.display=t.visible?"block":"none",dh(r,a),e.appendChild(r)},e.prototype.drawPath=function(e,t,n,i,r,o){var a=Math.floor(10*Math.random()+1);e.id,a.toString();var s,l,c=[];c=ni(c=ei(t.data)),t.shadow&&this.renderShadow(t,e,c,r),r&&!t.shadow&&(s=r.getElementById(t.id+"_groupElement_shadow"))&&s.parentNode.removeChild(s),r&&(l=r.getElementById(t.id)),l&&!i||(l=document.createElementNS("http://www.w3.org/2000/svg","path"),e.appendChild(l)),this.renderPath(l,t,c);var d={id:t.id,transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")translate("+t.x+","+t.y+")",visibility:t.visible?"visible":"hidden",opacity:t.opacity,"aria-label":o||""};t.class&&(d.class=t.class),dh(l,d),this.setSvgStyle(l,t,n)},e.prototype.renderPath=function(e,t,n){var i,r,o,a,s,l,c,d,h=n,p="";for(s=0,l=0,d=0,c=h.length;d<c;++d){var u=h[d],f=u.command;switch("x1"in u&&(i=u.x1),"x2"in u&&(o=u.x2),"y1"in u&&(r=u.y1),"y2"in u&&(a=u.y2),"x"in u&&(s=u.x),"y"in u&&(l=u.y),f){case"M":p=p+"M"+s.toString()+","+l.toString()+" ";break;case"L":p=p+"L"+s.toString()+","+l.toString()+" ";break;case"C":p=p+"C"+i.toString()+","+r.toString()+","+o.toString()+","+a.toString()+",",p+=s.toString()+","+l.toString()+" ";break;case"Q":p=p+"Q"+i.toString()+","+r.toString()+","+s.toString()+","+l.toString()+" ";break;case"A":p=p+"A"+u.r1.toString()+","+u.r2.toString()+","+u.angle.toString()+",",p+=u.largeArc.toString()+","+u.sweep+","+s.toString()+","+l.toString()+" ";break;case"Z":case"z":p+="Z "}}e.setAttribute("d",p)},e.prototype.setSvgFontStyle=function(e,t){e.style.fontStyle=t.italic?"italic":"normal",e.style.fontWeight=t.bold?"bold":"normal",e.style.fontSize=t.fontSize.toString()+"px",e.style.fontFamily=t.fontFamily},e.prototype.drawText=function(e,t,n,i,r,o,a){if(void 0!==t.content){var s=void 0,l=void 0,c=void 0,d=void 0,h=void 0,p=void 0,u=0,f=0,g=0,m=void 0;if(n&&(m=n.getElementById(t.id+"_text")),m){if(t.doWrap)for(;m.firstChild;)m.removeChild(m.firstChild)}else t.doWrap=!0,m=document.createElementNS("http://www.w3.org/2000/svg","text"),"pre-wrap"===t.whiteSpace&&m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.appendChild(m);var v=t.x+t.width*t.pivotX,y=t.y+t.height*t.pivotY,b=0;if(t.doWrap||"Wrap"!==t.textOverflow){var w=document.getElementById(t.id+"_text");for(w&&(w.innerHTML=""),this.setSvgStyle(m,t,r),this.setSvgFontStyle(m,t),s=document.createTextNode(t.content),l=t.childNodes,c=t.wrapBounds,d=this.svgLabelAlign(t,c,l),c.width>t.width&&"Wrap"!==t.textOverflow&&"NoWrap"===t.textWrapping&&(l[0].text=Ih(t.content,t)),g=0;g<l.length;g++)if(p=document.createElementNS("http://www.w3.org/2000/svg","tspan"),s=document.createTextNode(l[g].text),(h=l[g]).x=fh(h,l,g,t),u=d.x+h.x-c.x,f=d.y+h.dy*g+.8*t.fontSize,"Clip"!==t.textOverflow&&"Ellipsis"!==t.textOverflow||"WrapWithOverflow"!==t.textWrapping&&"Wrap"!==t.textWrapping||!a)this.setText(m,p,h,s,u,f);else{var x=t.isHorizontalLane?a.actualSize.width:a.actualSize.height;if(!(f<x))break;if("Ellipsis"===t.textOverflow&&l[g+1]){var S=l[g+1];d.y+S.dy*(g+1)+.8*t.fontSize>x&&(h.text=h.text.slice(0,h.text.length-3),h.text=h.text.concat("..."),s.data=h.text)}this.setText(m,p,h,s,u,f),b+=h.dy}}b&&t.isHorizontalLane&&(v=t.parentOffsetX+t.pivotX,y=t.parentOffsetY+t.pivotY,t.y=t.parentOffsetY-b*t.pivotY+.5),t.textDecoration&&"LineThrough"===t.textDecoration&&(t.textDecoration=Eh(t.textDecoration)),dh(m,{id:t.id+"_text",fill:t.color,visibility:t.visible?"visible":"hidden","text-decoration":t.textDecoration,transform:"rotate("+t.angle+","+v+","+y+")translate("+t.x+","+t.y+")",opacity:t.opacity,"aria-label":i||""})}},e.prototype.setText=function(e,t,n,i,r,o){dh(t,{x:r.toString(),y:o.toString()}),e.setAttribute("fill",n.text),t.appendChild(i),e.appendChild(t)},e.prototype.drawImage=function(e,t,n,i){var r;t.id;n&&(r=n.getElementById(t.id+"image")),r||(r=document.createElementNS("http://www.w3.org/2000/svg","image"),e.appendChild(r));var o=new Image;o.src=t.source;var a="None"!==t.scale?t.scale:"";w()&&"None"===t.alignment&&"Stretch"===a&&(a="");var s=t.alignment,l=s.charAt(0).toLowerCase()+s.slice(1);a&&(l+=" "+a.charAt(0).toLowerCase()+a.slice(1)),dh(r,{id:t.id+"image",x:t.x.toString(),y:t.y.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",width:t.width.toString(),visibility:t.visible?"visible":"hidden",height:t.height.toString(),preserveAspectRatio:l,opacity:(t.opacity||1).toString()}),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.src.toString())},e.prototype.drawHTMLContent=function(e,t,n,i,r){var o,a;if(t){var s=void 0,l=void 0,c=void 0;for(s=0;s<t.childNodes.length;s++)for(c=t.childNodes[s],l=0;l<c.childNodes.length;l++)if(c.childNodes[l].id===e.id+"_html_element"){o=c.childNodes[l];break}}if(!o){if(!(a=t.querySelector("#"+e.id+"_html_element")||t.querySelector("#"+e.nodeId+"_html_element")))a=ih("div",{id:e.nodeId+"_html_element",class:"foreign-object"});o=ih("div",{id:e.id+"_html_element",class:"foreign-object"}),e.isTemplate?o.appendChild(e.template):o.appendChild(e.template.cloneNode(!0)),void 0!==r&&t.childNodes.length>r&&t.insertBefore(o,t.childNodes[r]),a.appendChild(o),t.appendChild(a)}var d=bh(e).topLeft;o.setAttribute("style","height:"+e.actualSize.height+"px; width:"+e.actualSize.width+"px;left:"+d.x+"px; top:"+d.y+"px;position:absolute;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(i?"all":"none")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";")},e.prototype.drawNativeContent=function(e,t,n,i,r){var o,a;r&&(o=r.getElementById(e.id+"_native_element"),a=r.getElementById(e.id+"_clip")),o||((o=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id",e.id+"_native_element"),o.appendChild(e.template.cloneNode(!0)),t.appendChild(o)),a&&o.removeChild(a),o.setAttribute("style","visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";"),this.setNativTransform(e,o,n,i),"Slice"===e.scale&&this.drawClipPath(e,o,n,i,r),dh(o,e.description?{"aria-label":e.description}:{})},e.prototype.setNativTransform=function(e,t,n,i){var r=0!==e.contentSize.width?e.contentSize.width:1,o=0!==e.contentSize.height?e.contentSize.height:1,a=e.templatePosition.x*i/r,s=e.templatePosition.y*n/o;t.setAttribute("transform","rotate("+e.parentTransform+","+e.offsetX+","+e.offsetY+") translate("+(e.offsetX-a-i*e.pivot.x)+","+(e.offsetY-s-n*e.pivot.y)+") scale("+i/r+","+n/o+")")},e.prototype.drawClipPath=function(e,t,n,i,r){var o=e.contentSize.width,a=e.contentSize.height,s=(e.actualSize.width,e.actualSize.height,e.width/(i/o)),l=e.height/(n/a),c=e.templatePosition.x+(e.width>=e.height?0:(o-s)/2),d=e.templatePosition.y+(e.height>=e.width?0:(a-l)/2),h=r.getElementById(e.id+"_clip");(h=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id",e.id+"_clip"),t.appendChild(h);var p=r.getElementById(e.id+"_clip_rect");return p=document.createElementNS("http://www.w3.org/2000/svg","rect"),h.appendChild(p),dh(p,{id:e.id+"_clip_rect",width:s.toString(),height:l.toString(),x:c.toString(),y:d.toString()}),Uc()?t.setAttribute("clip-path","url("+location.protocol+"//"+location.host+location.pathname+"#"+e.id+"_clip)"):t.setAttribute("clip-path","url(#"+e.id+"_clip)"),t},e.prototype.renderGradient=function(e,t,n){var i,r,o,a,s,l=Jd(n),c=l.getElementById(n+"gradient_pattern");if(c||(c=rh("defs",{id:n+"gradient_pattern"}),l.insertBefore(c,l.firstChild)),vc(t.id),"None"!==e.gradient.type){for(var d=0;d<e.gradient.stops.length;d++)i=i?Math.max(i,e.gradient.stops[d].offset):e.gradient.stops[d].offset,r=r?Math.min(r,e.gradient.stops[d].offset):e.gradient.stops[d].offset;"Linear"===e.gradient.type?((s=e.gradient).id=t.id+"_linear",o=this.createLinearGradient(s),c.appendChild(o)):((a=e.gradient).id=t.id+"_radial",o=this.createRadialGradient(a),c.appendChild(o));for(d=0;d<e.gradient.stops.length;d++){var h=e.gradient.stops[d],p=r<0?(i+h.offset)/(2*i):h.offset/i,u=document.createElementNS("http://www.w3.org/2000/svg","stop");dh(u,{offset:p.toString(),style:"stop-color:"+h.color}),o.appendChild(u)}}return o},e.prototype.createLinearGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return dh(t,{id:e.id,x1:e.x1+"%",y1:e.y1+"%",x2:e.x2+"%",y2:e.y2+"%"}),t},e.prototype.createRadialGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return dh(t,{id:e.id,cx:e.cx+"%",cy:e.cy+"%",r:e.r+"%",fx:e.fx+"%",fy:e.fy+"%"}),t},e.prototype.setSvgStyle=function(e,t,n){if(t.canApplyStyle||void 0===t.canApplyStyle){"none"===t.fill&&(t.fill="transparent"),"none"===t.stroke&&(t.stroke="transparent");var i=[],r=void 0;if(t.dashArray)i=(new Lh).parseDashArray(t.dashArray);if(t.gradient&&"None"!==t.gradient.type){var o=this.renderGradient(t,e,n);r=Uc()?"url("+location.protocol+"//"+location.host+location.pathname+"#"+o.id+")":"url(#"+o.id+")"}else r=t.fill;t.stroke&&e.setAttribute("stroke",t.stroke),void 0!==t.strokeWidth&&null!==t.strokeWidth&&e.setAttribute("stroke-width",t.strokeWidth.toString()),i&&e.setAttribute("stroke-dasharray",i.toString()||"none"),r&&e.setAttribute("fill",r)}},e.prototype.svgLabelAlign=function(e,t,n){var i=new Kn(t.width,n.length*(1.2*e.fontSize)),r={x:0,y:0},o=.5*e.width,a=.5*e.height;return"left"===e.textAlign?o=0:"center"===e.textAlign?o=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)&&"NoWrap"===e.textWrapping?0:.5*e.width:"right"===e.textAlign&&(o=1*e.width),r.x=0+o+(t?t.x:0),r.y=1.2+a-i.height/2,r},e}(),Nh=function(){function e(e,t,n){this.renderer=null,this.isSvgMode=!0,this.transform={x:0,y:0},this.diagramId=e,this.element=Yd(this.diagramId),this.svgRenderer=t,this.isSvgMode=n,this.renderer=n?new Rh:new Lh}return e.prototype.setCursor=function(e,t){e.style.cursor=t},e.prototype.setLayers=function(){this.iconSvgLayer=this.element.getElementsByClassName("e-ports-expand-layer")[0],this.adornerSvgLayer=this.element.getElementsByClassName("e-adorner-layer")[0],this.nativeSvgLayer=this.element.getElementsByClassName("e-native-layer")[0],this.diagramSvgLayer=this.element.getElementsByClassName("e-diagram-layer")[0]},e.prototype.getAdornerLayer=function(){return Zd(this.diagramId)},e.prototype.getParentSvg=function(e,t,n){return this.diagramId&&e&&e.id?e.id.split("_icon_content").length>1||e.id.split("_nodeport").length>1||e.elementActions&Ti.ElementIsPort?this.iconSvgLayer:t&&"selector"===t?this.adornerSvgLayer:e instanceof gr?this.nativeSvgLayer:this.diagramSvgLayer:n},e.prototype.getParentElement=function(e,t,n,i){var r=t;if(n&&this.diagramId&&e&&e.id){e.id.split("_icon_content").length>1?(r=n.getElementById(this.diagramId+"_diagramExpander"),t=null):e.id.split("_nodeport").length>1?r=n.getElementById(this.diagramId+"_diagramPorts"):e instanceof gr?(r=n.getElementById(this.diagramId+"_nativeLayer"),t=null):e.elementActions&Ti.ElementIsPort?(r=n.getElementById(this.diagramId+"_diagramPorts"),t=null):r=n.getElementById(this.diagramId+"_diagramLayer");var o=this.getGroupElement(e,t||r,i);r=o.g,o.svg&&(n=o.svg)}return{g:r,svg:n}},e.prototype.getGroupElement=function(e,t,n){var i,r,o=this.getParentSvg(e);if(t&&o){if(o&&!(i=o.getElementById(e.id+"_groupElement"))&&o!==this.nativeSvgLayer){var a=this.nativeSvgLayer;i=a.getElementById(e.id+"_groupElement"),r=a}i||(i=this.svgRenderer.createGElement("g",{id:e.id+"_groupElement"}),void 0!==n&&t.childNodes.length>n?t.insertBefore(i,t.childNodes[n]):t.appendChild(i))}return{g:i,svg:r}},e.prototype.renderElement=function(e,t,n,i,r,o,a,s,l){e instanceof ir?(!1,this.renderContainer(e,t,n,i,r,o,a,s,l)):e instanceof ur?this.renderImageElement(e,t,i,r,a):e instanceof hr?this.renderPathElement(e,t,i,r,a,l):e instanceof or?this.renderTextElement(e,t,i,r,a):e instanceof gr?this.renderNativeElement(e,t,i,r,a):e instanceof Ta?this.renderHTMLElement(e,t,n,i,r,a,s):this.renderRect(e,t,i,r,l)},e.prototype.drawSelectionRectangle=function(e,t,n,i,r,o){e=(e+o.tx)*o.scale,t=(t+o.ty)*o.scale;var a={width:n*o.scale,height:i*o.scale,x:e+.5,y:t+.5,fill:"transparent",stroke:"gray",angle:0,pivotX:.5,pivotY:.5,strokeWidth:1,dashArray:"6 3",opacity:1,visible:!0,id:r.id+"_selected_region"},s=this.getAdornerLayer();this.svgRenderer.updateSelectionRegion(s,a)},e.prototype.renderHighlighter=function(e,t,n){var i=e.actualSize.width||2,r=e.actualSize.height||2,o=e.offsetX-i*e.pivot.x,a=e.offsetY-r*e.pivot.y;o=(o+n.tx)*n.scale,a=(a+n.ty)*n.scale;var s={width:i*n.scale,height:r*n.scale,x:o,y:a,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:4,dashArray:"",opacity:1,cornerRadius:0,visible:!0,id:t.id+"_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawRectangle(t,s,this.diagramId,void 0,void 0,t)},e.prototype.renderStackHighlighter=function(e,t,n,i,r,o,a){var s,l=e.actualSize.width||2,c=e.offsetX-l*e.pivot.x,d=e.actualSize.height||2,h=e.offsetY-d*e.pivot.y;c=(c+n.tx)*n.scale;var p=e.bounds,u="";if(h=(h+n.ty)*n.scale,i)if(o){s="M 0 0 L "+((m=l*n.scale)+2)+" 0 Z";var f=p.x,g=p.y;f=e.actualSize.width/Number(p.width?p.width:1)*n.scale,g=e.actualSize.height/Number(p.height?p.height:1)*n.scale;u=ii(ai(ei("M7,4 L8,4 8,7 11,7 11,8 8,8 8,11 7,11 7,8 4,8 4,7 7,7 z M7.5,0.99999994C3.9160004,1 1,3.9160004 0.99999994,7.5 1,11.084 3.9160004,14 7.5,14 11.084,14 14,11.084 14,7.5 14,3.9160004 11.084,1 7.5,0.99999994 z M7.5,0 C11.636002,0 15,3.3639984 15,7.5 15,11.636002 11.636002,15 7.5,15 3.3640003,15 0,11.636002 0,7.5 0,3.3639984 3.3640003,0 7.5,0 z")),f+m+2,g-8,!1,p.x,p.y,0,0),r.y>=e.offsetY&&(h+=d)}else{var m;a&&r.y>=e.offsetY&&(h+=d),s="M -10 -10 L 0 0 Z M -10 10 L 0 0 Z M 0 0 L "+(m=l*n.scale)+" 0 Z M "+m+" 0 L "+(m+10)+" 10 Z L "+(m+10)+" -10 Z"}else s="M 10 -10 L 0 0 Z M -10 -10 L 0 0 Z M 0 0 L 0 "+(m=d*n.scale)+" Z M 0  "+m+" L -10  "+(m+10)+" Z L 10  "+(m+10)+" Z",r.x>=e.offsetX&&(c+=l);var v={data:s+u,width:l*n.scale,height:d*n.scale,x:c,y:h,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,dashArray:"",opacity:1,visible:!0,id:t.id+"_stack_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawPath(t,v,this.diagramId)},e.prototype.drawLine=function(e,t){this.svgRenderer.drawLine(e,t)},e.prototype.drawPath=function(e,t){this.svgRenderer.drawPath(e,t,this.diagramId)},e.prototype.renderResizeHandle=function(e,t,n,i,r,o,a,s,l,c){var d=e.offsetX-e.actualSize.width*e.pivot.x,h=e.offsetY-e.actualSize.height*e.pivot.y,p=e.actualSize.height,u=e.actualSize.width;!c&&n&ki.Rotate&&js(this.rendererActions)&&!Ds(this.rendererActions)&&(this.renderPivotLine(e,t,o,r,a),this.renderRotateThumb(e,t,o,r,a)),this.renderBorder(e,t,o,s,l,c);var f=e.actualSize.width*i,g=e.actualSize.height*i;l||!js(this.rendererActions)||Ds(this.rendererActions)||(f>=40&&g>=40&&(r&Ci.ResizeNorthWest&&this.renderCircularHandle("resizeNorthWest",e,d,h,t,Sc(r,"ResizeNorthWest"),n&ki.ResizeNorthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-diagram-resize-handle e-northwest"),r&Ci.ResizeNorthEast&&this.renderCircularHandle("resizeNorthEast",e,d+u,h,t,Sc(r,"ResizeNorthEast"),n&ki.ResizeNorthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-diagram-resize-handle e-northeast"),r&Ci.ResizeSouthWest&&this.renderCircularHandle("resizeSouthWest",e,d,h+p,t,Sc(r,"ResizeSouthWest"),n&ki.ResizeSouthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-diagram-resize-handle e-southwest"),r&Ci.ResizeSouthEast&&this.renderCircularHandle("resizeSouthEast",e,d+u,h+p,t,Sc(r,"ResizeSouthEast"),n&ki.ResizeSouthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-diagram-resize-handle e-southeast")),r&Ci.ResizeNorth&&this.renderCircularHandle("resizeNorth",e,d+u/2,h,t,Sc(r,"ResizeNorth"),n&ki.ResizeNorth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-diagram-resize-handle e-north"),r&Ci.ResizeSouth&&this.renderCircularHandle("resizeSouth",e,d+u/2,h+p,t,Sc(r,"ResizeSouth"),n&ki.ResizeSouth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-diagram-resize-handle e-south"),r&Ci.ResizeWest&&this.renderCircularHandle("resizeWest",e,d,h+p/2,t,Sc(r,"ResizeWest"),n&ki.ResizeWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-diagram-resize-handle e-west"),r&Ci.ResizeEast&&this.renderCircularHandle("resizeEast",e,d+u,h+p/2,t,Sc(r,"ResizeEast"),n&ki.ResizeEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-diagram-resize-handle e-east"))},e.prototype.renderEndPointHandle=function(e,t,n,i,r,o,a,s){var l,c,d=e.sourcePoint,h=e.targetPoint,p=e.wrapper;if(this.renderCircularHandle("connectorSourceThumb",p,d.x,d.y,t,Sc(i,"ConnectorSourceThumb"),n&ki.ConnectorSource,r,o,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),this.renderCircularHandle("connectorTargetThumb",p,h.x,h.y,t,Sc(i,"ConnectorTargetThumb"),n&ki.ConnectorTarget,r,a,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),s)if(("Straight"===e.type||"Bezier"===e.type)&&e.segments.length>0)for(l=0;l<e.segments.length-1;l++)c=e.segments[l],this.renderCircularHandle("segementThumb_"+(l+1),p,c.point.x,c.point.y,t,!0,n&ki.ConnectorSource,r,o,null,null,l);else for(l=0;l<e.segments.length;l++){var u=e.segments[l];this.renderOrthogonalThumbs("orthoThumb_"+(l+1),p,u,t,Sc(i,"ConnectorSourceThumb"),r)}if("Bezier"===e.type)for(l=0;l<e.segments.length;l++){var f=e.segments[l],g=Jn.isEmptyPoint(f.point1)?f.bezierPoint1:f.point1;this.renderCircularHandle("bezierPoint_"+(l+1)+"_1",p,g.x,g.y,t,Sc(i,"ConnectorSourceThumb"),n&ki.ConnectorSource,r,void 0,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-bezier-handle e-source"),Sc(i,"ConnectorSourceThumb")&&this.renderBezierLine("bezierLine_"+(l+1)+"_1",p,t,f.points[0],Jn.isEmptyPoint(f.point1)?f.bezierPoint1:f.point1,r),g=Jn.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,this.renderCircularHandle("bezierPoint_"+(l+1)+"_2",p,g.x,g.y,t,Sc(i,"ConnectorTargetThumb"),n&ki.ConnectorTarget,r,void 0,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-bezier-handle e-target"),Sc(i,"ConnectorTargetThumb")&&this.renderBezierLine("bezierLine_"+(l+1)+"_2",p,t,f.points[1],Jn.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,r)}},e.prototype.renderOrthogonalThumbs=function(e,t,n,i,r,o){var a,s,l,c=0;for(c=0;c<n.points.length-1;c++)l=Jn.distancePoints(n.points[c],n.points[c+1]),a=n.points[c].y.toFixed(2)===n.points[c+1].y.toFixed(2)?"horizontal":"vertical",s=!!(l>=50&&n.allowDrag),this.renderOrthogonalThumb(e+"_"+(c+1),t,(n.points[c].x+n.points[c+1].x)/2,(n.points[c].y+n.points[c+1].y)/2,i,s,a,o)},e.prototype.renderOrthogonalThumb=function(e,t,n,i,r,o,a,s){var l,c,d;"horizontal"===a?(l="M0,7 L15,0 L30,7 L15,14 z",c=-15,d=-7):(l="M7,0 L0,15 L7,30 L14,15 z",c=-7,d=-15);var h={x:(n+s.tx)*s.scale+c,y:(i+s.ty)*s.scale+d,angle:0,fill:"#e2e2e2",stroke:"black",strokeWidth:1,dashArray:"",data:l,width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:o,id:e};this.svgRenderer.drawPath(r,h,this.diagramId)},e.prototype.renderPivotLine=function(e,t,n,i,r){var o=e,a=!!(i&Ci.Rotate);r&&(a=!1);var s=this.getBaseAttributes(o,n);s.fill="None",s.stroke="black",s.strokeWidth=1,s.dashArray="2,3",s.visible=a;var l=n.scale;s.x*=l,s.y*=l,s.width*=l,s.height*=l,s.id="pivotLine",s.class="e-diagram-pivot-line";var c={x:o.actualSize.width*o.pivot.x*l,y:-20},d={x:o.actualSize.width*o.pivot.x*l,y:0};s.startPoint=c,s.endPoint=d,this.svgRenderer.drawLine(t,s)},e.prototype.renderBezierLine=function(e,t,n,i,r,o){var a=this.getBaseAttributes(t,o);a.id=e,a.stroke="black",a.strokeWidth=1,a.dashArray="3,3",a.fill="None",a.class="e-diagram-bezier-line",a.x=0,a.y=0;var s=o.scale,l={x:(i.x+o.tx)*s,y:(i.y+o.ty)*s},c={x:(r.x+o.tx)*s,y:(r.y+o.ty)*s};a.startPoint=l,a.endPoint=c,this.svgRenderer.drawLine(n,a)},e.prototype.renderCircularHandle=function(e,t,n,i,r,o,a,s,l,c,d,h,p){var u=t,f=7,g={x:n,y:i};if(0!==u.rotateAngle||0!==u.parentTransform){var m=pi();fi(m,u.rotateAngle+u.parentTransform,u.offsetX,u.offsetY),g=ui(m,g)}var v=this.getBaseAttributes(u);v.stroke="black",v.strokeWidth=1,void 0!==h?(f=5,v.id="segmentEnd_"+h,v.fill="#e2e2e2"):(f=7,v.fill=l?"#8CC63F":"white"),v.centerX=(g.x+s.tx)*s.scale,v.centerY=(g.y+s.ty)*s.scale,v.radius=f,v.angle=0,v.id=e,v.visible=o,v.class=p,l&&(v.class+=" e-connected"),c&&(v.visible=!1),this.svgRenderer.drawCircle(r,v,a,d)},e.prototype.renderBorder=function(e,t,n,i,r,o){var a=e,s=this.getBaseAttributes(a,n);s.x*=n.scale,s.y*=n.scale,s.width*=n.scale,s.height*=n.scale,s.fill="transparent",s.stroke="#097F7F",s.strokeWidth=1.2,s.dashArray="6,3",s.class="e-diagram-border",o&&(s.class+=" e-diagram-lane"),s.id="borderRect",s.id=this.rendererActions&Ni.DrawSelectorBorder?"borderRect_symbol":"borderRect",i||(s.class+=" e-disabled"),r&&(s.class+=" e-thick-border"),s.cornerRadius=0;var l=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(t,s,this.diagramId,void 0,!0,l)},e.prototype.renderUserHandler=function(e,t,n,i){for(var r,o=e.wrapper,a=0,s=e.userHandles;a<s.length;a++){var l=s[a];r=!0,(l.disableConnectors&&e.connectors.length>0||l.disableNodes&&e.nodes.length>0)&&(r=!1);var c=document.getElementById(l.name+"_template_hiddenUserHandle");c&&(l.template=c.childNodes[0].cloneNode(!0));var d=void 0;if((d=wc(e,l,n)).x=(d.x+n.tx)*n.scale,d.y=(d.y+n.ty)*n.scale,l.visible&&(l.visible=!!(e.constraints&Ci.UserHandle)),r)if(l.pathData){var h=l.pathData?l.pathData:l.content,p=this.getBaseAttributes(o);p.id=l.name+"_userhandle",p.fill=l.backgroundColor,p.stroke=l.borderColor,p.strokeWidth=l.borderWidth,p.centerX=d.x,p.centerY=d.y,p.radius=.5*l.size,p.class="e-diagram-userhandle-circle",p.angle=0,p.visible=l.visible,p.opacity=1,this.svgRenderer.drawCircle(t,p,1,{"aria-label":l.name+"user handle"});var u=[];u=ai(u=ei(h));var f=Wd(h),g=ii(u,(l.size-.45*l.size)/f.width,(l.size-.45*l.size)/f.height,!0,f.x,f.y,0,0);f=Wd(g);var m={x:d.x-f.width/2,y:d.y-f.height/2,angle:0,id:"",class:"e-diagram-userhandle-path",fill:l.pathColor,stroke:l.backgroundColor,strokeWidth:.5,dashArray:"",data:g,width:l.size-5,height:l.size-5,pivotX:0,pivotY:0,opacity:1,visible:l.visible};this.svgRenderer.drawPath(t,m,this.diagramId,void 0,void 0,{"aria-label":l.name+"user handle"})}else if(l.content){var v=void 0;(v=new gr(l.name,this.diagramId)).content=l.content,v.offsetX=d.x,v.offsetY=d.y,v.id=l.name+"_shape",v.horizontalAlignment="Center",v.verticalAlignment="Center",v.visible=l.visible,v.setOffsetWithRespectToBounds(d.x,d.y,"Fraction"),v.relativeMode="Object",v.description=l.name||"User handle",v.measure(new Kn(l.size,l.size)),v.arrange(v.desiredSize),this.svgRenderer.drawNativeContent(v,t,l.size,l.size,this.adornerSvgLayer)}else if(l.source){var y=new ur;(m=this.getBaseAttributes(y,n)).width=l.size,m.height=l.size,m.x=d.x-l.size/2,m.y=d.y-l.size/2,m.sourceWidth=l.size,m.sourceHeight=l.size,m.alignment=y.imageAlign,m.source=l.source,m.scale=y.imageScale,m.visible=l.visible,m.description=l.name||"User handle",m.id=l.name+"_",this.renderer.drawImage(t,m,this.adornerSvgLayer,!1)}else{var b=void 0;(b=new Ta(l.name,this.diagramId)).offsetX=d.x,b.offsetY=d.y,b.id=l.name+"_shape",b.visible=l.visible,b.relativeMode="Object",b.template=l.template,b.measure(new Kn(l.size,l.size)),b.arrange(b.desiredSize),this.svgRenderer.drawHTMLContent(b,i,void 0,!0,void 0)}}},e.prototype.renderRotateThumb=function(e,t,n,i,r){new hr;var o,a=new Kn;a.width=18,a.height=16;var s=e.offsetY-e.actualSize.height*e.pivot.y,l=e.offsetX-e.actualSize.width*e.pivot.x,c=!!(i&Ci.Rotate);r&&(c=!1);var d=l+e.pivot.x*e.actualSize.width,h=s;if(d=(d+n.tx)*n.scale,h=(h+n.ty)*n.scale,o={x:d-.5*a.width,y:h-30-.5*a.height},0!==e.rotateAngle||0!==e.parentTransform){var p=pi();fi(p,e.rotateAngle+e.parentTransform,(n.tx+e.offsetX)*n.scale,(n.ty+e.offsetY)*n.scale),o=ui(p,o)}var u={x:o.x,y:o.y,angle:e.rotateAngle+e.parentTransform,fill:"#231f20",stroke:"black",strokeWidth:.5,dashArray:"",data:"M 16.856144362449648 10.238890446662904 L 18.000144362449646 3.437890446662903L 15.811144362449646 4.254890446662903 C 14.837144362449646 2.5608904466629028 13.329144362449647  1.2598904466629026 11.485144362449645 0.5588904466629026 C 9.375144362449646 - 0.24510955333709716 7.071144362449646  - 0.18010955333709716 5.010144362449646 0.7438904466629028 C 2.942144362449646 1.6678904466629028 1.365144362449646 3.341890446662903 0.558144362449646 5.452890446662903 C - 0.244855637550354 7.567890446662903 - 0.17985563755035394 9.866890446662904 0.7431443624496461 11.930890446662904 C 1.6681443624496461 13.994890446662904 3.343144362449646 15.575890446662903 5.457144362449647 16.380890446662903 C 6.426144362449647 16.7518904466629 7.450144362449647 16.9348904466629 8.470144362449647 16.9348904466629 C 9.815144362449647 16.9348904466629 11.155144362449647 16.6178904466629 12.367144362449647 15.986890446662901 L 11.351144362449647 14.024890446662901 C 9.767144362449647 14.8468904466629 7.906144362449647 14.953890446662902 6.237144362449647 14.3178904466629 C 4.677144362449647 13.7218904466629 3.444144362449647 12.5558904466629 2.758144362449647 11.028890446662901 C 2.078144362449646 9.501890446662903 2.031144362449646 7.802890446662903 2.622144362449646 6.243890446662903 C 3.216144362449646 4.6798904466629025 4.387144362449646 3.442890446662903 5.914144362449646 2.760890446662903 C 7.437144362449646 2.078890446662903 9.137144362449646 2.0298904466629026 10.700144362449645 2.6258904466629027 C 11.946144362449646 3.100890446662903 12.971144362449646 3.9538904466629026 13.686144362449646 5.049890446662903 L 11.540144362449645 5.850890446662903 L 16.856144362449648 10.238890446662904 Z",width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:c,id:e.id,class:"e-diagram-rotate-handle"};u.id="rotateThumb",this.svgRenderer.drawPath(t,u,this.diagramId,!0,void 0,{"aria-label":"Thumb to rotate the selected object"})},e.prototype.renderPathElement=function(e,t,n,i,r,o){var a=this.getBaseAttributes(e,n,o);a.data=e.absolutePath,a.data=e.absolutePath;var s=e.description?e.description:e.id;if(this.isSvgMode||(a.x=e.flipOffset.x?e.flipOffset.x:a.x,a.y=e.flipOffset.y?e.flipOffset.y:a.y),e.isExport){var l=e.absoluteBounds;a.data=Vd(e,l,0,a)}this.renderer.drawPath(t,a,this.diagramId,void 0,i,s)},e.prototype.renderSvgGridlines=function(e,t,n,i,r,o){var a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=document.createElementNS("http://www.w3.org/2000/svg","defs");s.setAttribute("id",this.diagramId+"_grid_pattern_defn"),(e.constraints&Si.ShowHorizontalLines||e.constraints&Si.ShowVerticalLines)&&a.setAttribute("id",this.diagramId+"_pattern");var l=0,c=0,d=0,h=0,p=1,u=!1,f="Lines"===e.gridType,g=f?e.verticalGridlines.lineIntervals:e.verticalGridlines.dotIntervals,m=f?e.horizontalGridlines.lineIntervals:e.horizontalGridlines.dotIntervals;if(i.showRulers&&i.dynamicGrid&&r&&o)d=o.updateSegmentWidth(n.scale),h=r.updateSegmentWidth(n.scale),e.horizontalGridlines.scaledIntervals=[d/r.interval],e.verticalGridlines.scaledIntervals=[h/o.interval],u=!0;else{for(var v=0;v<g.length;v+=1)l+=g[v];for(v=0;v<m.length;v+=1)c+=m[v];p=this.scaleSnapInterval(e,n.scale)}l=u?h:l*p,c=u?d:c*p,dh(a,{id:this.diagramId+"_pattern",x:0,y:0,width:l,height:c,patternUnits:"userSpaceOnUse"}),this.horizontalSvgGridlines(a,l,c,p,e,i,o,u,f,m),this.verticalSvgGridlines(a,l,c,p,e,i,r,u,f,g),s.appendChild(a),t.appendChild(s)},e.prototype.horizontalSvgGridlines=function(e,t,n,i,r,o,a,s,l,c){var d,h=0,p=[];if(r.constraints&Si.ShowHorizontalLines){r.horizontalGridlines.lineDashArray&&(p=this.renderer.parseDashArray(r.horizontalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,n,l)),c=Yl(c,l);for(var u=0;u<c.length;u+=2){h=Ul(c,l,u,h);d=document.createElementNS("http://www.w3.org/2000/svg",l?"path":"circle");var f=l?h+c[u]/2:h;f=s?f:f*i;l?(dh(d,{"stroke-width":c[u],stroke:r.horizontalGridlines.lineColor,d:"M0,"+f+" L"+t+","+f+" Z",dashArray:p.toString(),class:1.25===c[u]?"e-diagram-thick-grid":"e-diagram-thin-grid"}),e.appendChild(d),h+=c[u+1]+c[u]):(this.renderDotGrid(u,e,r,0,f,i,!0),h+=c[u])}}},e.prototype.renderDotGrid=function(e,t,n,i,r,o,a){var s,l,c,d=a?n.verticalGridlines.dotIntervals:n.horizontalGridlines.dotIntervals;d=Yl(d,!1);for(var h=1;h<d.length;h+=2)s=h===d.length-1?d[0]:d[h-1],c=i,c*=o,dh(l=document.createElementNS("http://www.w3.org/2000/svg","circle"),{cx:a?c:r,cy:a?r:c,fill:n.horizontalGridlines.lineColor,r:s}),t.appendChild(l),i+=d[h]+d[h-1]},e.prototype.verticalSvgGridlines=function(e,t,n,i,r,o,a,s,l,c){var d,h=0,p=[];if(r.constraints&Si.ShowVerticalLines){r.verticalGridlines.lineDashArray&&(p=this.renderer.parseDashArray(r.verticalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(c=this.updateLineIntervals(c,o,a,t,l));c=Yl(c,l);for(var u=0;u<c.length;u+=2){h=Ul(c,l,u,h),d=document.createElementNS("http://www.w3.org/2000/svg",l?"path":"circle");var f=l?h+c[u]/2:h;f=s?f:f*i;l?(dh(d,{"stroke-width":c[u],stroke:r.verticalGridlines.lineColor,d:"M"+f+",0 L"+f+","+n+" Z",dashArray:p.toString(),class:1.25===c[u]?"e-diagram-thick-grid":"e-diagram-thin-grid"}),e.appendChild(d),h+=c[u+1]+c[u]):(this.renderDotGrid(u,e,r,0,f,i,!1),h+=c[u])}}},e.prototype.updateGrid=function(e,t,n,i,r,o){var a=t.getElementById(this.diagramId+"_grid_rect"),s=!1;if(a){var l=t.getElementById(this.diagramId+"_pattern");l&&l.parentNode.removeChild(l);var c=0,d=0,h=1,p="Lines"===e.gridType,u=p?e.verticalGridlines.lineIntervals:e.verticalGridlines.dotIntervals,f=p?e.horizontalGridlines.lineIntervals:e.horizontalGridlines.dotIntervals;i.showRulers&&i.dynamicGrid&&o&&r?(c=o.updateSegmentWidth(n.scale),d=r.updateSegmentWidth(n.scale),s=!0,e.horizontalGridlines.scaledIntervals=[c/r.interval],e.verticalGridlines.scaledIntervals=[d/o.interval]):h=this.scaleSnapInterval(e,n.scale);for(var g=0,m=0;m<f.length;m+=1)g+=f[m];var v=0;for(m=0;m<u.length;m+=1)v+=u[m];var y={x:-n.tx*n.scale,y:-n.ty*n.scale};dh(a,y),v=s?d:v*h,g=s?c:g*h,y={id:this.diagramId+"_pattern",x:0,y:0,width:v,height:g,patternUnits:"userSpaceOnUse"},dh(l=document.createElementNS("http://www.w3.org/2000/svg","pattern"),y),this.horizontalSvgGridlines(l,v,g,h,e,i,o,s,p,f),this.verticalSvgGridlines(l,v,g,h,e,i,r,s,p,u);var b=t.getElementById(this.diagramId+"_grid_pattern_defn");b&&b.appendChild(l)}},e.prototype.updateLineIntervals=function(e,t,n,i,r){for(var o=[],a=i/n.interval,s=r?n.interval:n.interval+1,l=0;l<2*s;l++)o[l]=l%2===0?r?0===l?1.25:.25:0:r?a-o[l-1]:a;return o},e.prototype.scaleSnapInterval=function(e,t){if(t>=2)for(;t>=2;)t/=2;else if(t<=.5)for(;t<=.5;)t*=2;var n;if(e.horizontalGridlines.scaledIntervals=e.horizontalGridlines.snapIntervals,e.verticalGridlines.scaledIntervals=e.verticalGridlines.snapIntervals,1!==t){var i=e.horizontalGridlines;for(i.scaledIntervals=[],n=0;n<i.snapIntervals.length;n++)i.scaledIntervals[n]=i.snapIntervals[n]*t;for((i=e.verticalGridlines).scaledIntervals=[],n=0;n<i.snapIntervals.length;n++)i.scaledIntervals[n]=i.snapIntervals[n]*t}return t},e.prototype.renderTextElement=function(e,t,n,i,r){var o=this.getBaseAttributes(e,n);o.cornerRadius=0,o.whiteSpace=Ah(e.style.whiteSpace,e.style.textWrapping),o.content=e.content,o.breakWord=Eh(e.style.textWrapping),o.textAlign=Ph(e.style.textAlign),o.color=e.style.color,o.italic=e.style.italic,o.bold=e.style.bold,o.fontSize=e.style.fontSize,o.fontFamily=e.style.fontFamily,o.textOverflow=e.style.textOverflow,o.textWrapping=e.style.textWrapping,o.textDecoration=e.style.textDecoration,o.doWrap=e.doWrap,o.wrapBounds=e.wrapBounds,o.childNodes=e.childNodes,o.isHorizontalLane=e.isLaneOrientation,e.isLaneOrientation&&(o.parentOffsetX=this.groupElement.offsetX,o.parentOffsetY=this.groupElement.offsetY,o.parentWidth=this.groupElement.actualSize.width,o.parentHeight=this.groupElement.actualSize.height),o.dashArray="",o.strokeWidth=0,o.fill=e.style.fill;var a=e.description?e.description:e.content?e.content:e.id;("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping)&&this.groupElement&&o.height>this.groupElement.actualSize.height&&("Clip"===e.style.textOverflow||"Ellipsis"===e.style.textOverflow)&&(o.y=o.y+(o.height-this.groupElement.actualSize.height)/2),this.renderer.drawRectangle(t,o,this.diagramId,void 0,void 0,i),this.renderer.drawText(t,o,i,a,this.diagramId,e.isExport&&Math.min(e.exportScaleValue.x||e.exportScaleValue.y),this.groupElement),this.isSvgMode&&(e.doWrap=!1)},e.prototype.renderNativeElement=function(e,t,n,i,r){var o,a,s=this.getParentSvg(e,void 0,t)||i,l=this.getParentElement(e,t,s).g||t,c=this.getBaseAttributes(e,n);switch(c.fill="transparent",c.cornerRadius=e.cornerRadius,c.stroke="transparent",this.renderer.drawRectangle(t,c,this.diagramId,void 0,void 0,i),e.scale){case"None":o=e.contentSize.width,a=e.contentSize.height;break;case"Stretch":o=e.actualSize.width,a=e.actualSize.height;break;case"Meet":o=a=e.actualSize.width<=e.actualSize.height?e.actualSize.width:e.actualSize.height;break;case"Slice":o=a=e.actualSize.width>=e.actualSize.height?e.actualSize.width:e.actualSize.height}this.svgRenderer&&this.svgRenderer.drawNativeContent(e,l,a,o,s)},e.prototype.renderHTMLElement=function(e,t,n,i,r,o,a){var s=this.getBaseAttributes(e,i);s.fill="transparent",s.cornerRadius=e.cornerRadius,s.stroke="transparent",this.renderer.drawRectangle(t,s,this.diagramId,void 0,void 0,r),this.svgRenderer&&this.svgRenderer.drawHTMLContent(e,n.children[0],i,function(e){var t=e.parentElement;do{if(ah(t,"e-diagram"))return!0;t=t.parentElement}while(t);return!1}(n),a)},e.prototype.renderImageElement=function(e,t,n,i,r){var o,a,s,l,c=this.getBaseAttributes(e,n);if(c.cornerRadius=0,this.renderer.drawRectangle(t,c,this.diagramId,void 0,void 0,i),"Stretch"===e.stretch)o=e.actualSize.width,a=e.actualSize.height;else{var d=e.contentSize.width,h=e.contentSize.height,p=c.width/d,u=c.height/h,f=void 0;switch(e.stretch){case"Meet":o=d*(f=Math.min(p,u)),a=h*f,c.x+=Math.abs(c.width-o)/2,c.y+=Math.abs(c.height-a)/2;break;case"Slice":p=c.width/d,u=c.height/h,o=d*(f=Math.max(p,u)),a=h*f,s=c.width/o*d,l=c.height/a*h;break;case"None":o=d,a=h}}c.width=o,c.height=a,c.sourceWidth=s,c.sourceHeight=l,c.source=e.source,c.alignment=e.imageAlign,c.scale=e.imageScale,c.description=e.description?e.description:e.id,this.renderer.drawImage(t,c,i,r)},e.prototype.renderContainer=function(e,t,n,i,r,o,a,s,l){var c={svg:r,g:t};if(this.diagramId&&(r=this.getParentSvg(e)||r,this.isSvgMode)){var d;d=this.getParentElement(e,t,r,s).g||t,r=this.getParentSvg(this.hasNativeParent(e.children))||r;var h=this.getParentElement(this.hasNativeParent(e.children),d,r,s);c.svg=h.svg||r,c.g=h.g||d,o?(r&&(r.getElementById(c.g.id)||t.appendChild(c.g)),t=c.g):t=c.g}if(this.renderRect(e,t,i,r),this.groupElement=e,e.hasChildren()){for(var p,u=void 0,f=void 0,g=0,m=e.children;g<m.length;g++){var v=m[g];r=this.getParentSvg(this.hasNativeParent(e.children)||v)||r,this.isSvgMode&&(u=(p=this.getParentElement(this.hasNativeParent(e.children)||v,t,r)).g||t,p.svg&&(r=p.svg)),this.isSvgMode||(v.flip=e.flip),this.renderElement(v,u||t,n,i,r,!0,a,s,l),v instanceof or&&u&&!(e.elementActions&Ti.ElementIsGroup)&&(f=v.flip&&"None"!==v.flip?v.flip:e.flip,this.renderFlipElement(v,u,f)),v.elementActions&Ti.ElementIsPort&&u&&(f=v.flip&&"None"!==v.flip?v.flip:e.flip,this.renderFlipElement(e,u,f)),!(v instanceof or)&&"None"!==e.flip&&e.elementActions&Ti.ElementIsGroup&&this.renderFlipElement(v,u||t,e.flip)}e.elementActions&Ti.ElementIsGroup||this.renderFlipElement(e,t,e.flip)}},e.prototype.renderFlipElement=function(e,t,n){var i={},r=1,o=1,a=0,s=0,l=0,c=0;if("None"!==n?("Horizontal"!==n&&"Both"!==n||(a=e.bounds.center.x,l=-e.bounds.center.x,r=-1),"Vertical"!==n&&"Both"!==n||(s=e.bounds.center.y,c=-e.bounds.center.y,o=-1),i={transform:"translate("+a+","+s+") scale("+r+","+o+") translate("+l+","+c+")"}):i={transform:"translate(0,0)"},i)if(e&&e.children&&e.children.length&&e.children[0]instanceof Ta){var d=t.id.split("_preview");(t=(document.getElementById(d[0]+"_html_div")||nh(this.diagramId).children[0]).querySelector("#"+e.id+"_content_html_element"))&&(t.style.transform="scale("+r+","+o+")rotate("+(e.rotateAngle+e.parentTransform)+"deg)")}else dh(t,i)},e.prototype.hasNativeParent=function(e,t){if(e&&e.length>0){var n=e[0];if(n instanceof gr)return n;n.children&&n.children.length&&this.hasNativeParent(n.children,t++||0)}},e.prototype.renderRect=function(e,t,n,i,r){var o=this.getBaseAttributes(e,n,r);o.cornerRadius=e.cornerRadius||0;var a=e.description?e.description:e.id;this.renderer.drawRectangle(t,o,this.diagramId,void 0,void 0,i,a)},e.prototype.drawRect=function(e,t){t.cornerRadius=0,this.svgRenderer.drawRectangle(e,t,this.diagramId)},e.prototype.getBaseAttributes=function(e,t,n){var i={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray||"",opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,canApplyStyle:e.canApplyStyle};return n&&(i.x=i.x-.5,i.y=i.y-.5),e.isExport&&(i.width*=e.exportScaleValue.x,i.height*=e.exportScaleValue.y,i.x*=e.exportScaleValue.x,i.y*=e.exportScaleValue.y,i.strokeWidth*=e.exportScaleValue.x),e.flip&&(i.flip=e.flip),t&&(i.x+=t.tx,i.y+=t.ty),i},e.renderSvgBackGroundImage=function(e,t,n,i,r,o){if(e.source){var a=Jd(t.id).getElementById(t.id+"_image");if(!a){var s=Yd(t.id).getElementsByClassName("e-background-image-layer")[0];(a=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("id",t.id+"_image"),s.appendChild(a)}var l=new Image;l.src=e.source,a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l.src.toString());var c="None"!==e.scale?e.scale:"",d=e.align,h=d.charAt(0).toLowerCase()+d.slice(1);c&&(h+=" "+c.charAt(0).toLowerCase()+c.slice(1)),dh(a,{id:t.id+"_image",x:n,y:i,width:r,height:o,preserveAspectRatio:h})}},e.prototype.transformLayers=function(e,t){var n=e.tx*e.scale,i=e.ty*e.scale,r="domTable";if(n!==this.transform.x||i!==this.transform.y||0===n||0===i){if(t)window[r][this.diagramId+"_diagramLayer"]||(window[r][this.diagramId+"_diagramLayer"]=this.diagramSvgLayer.getElementById(this.diagramId+"_diagramLayer")),window[r][this.diagramId+"_diagramLayer"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")");return function(e){var t=null;return window.domTable[e+"_gridline"]?t=window.domTable[e+"_gridline"]:(t=Qd(e).getElementById(e+"_gridline"),window.domTable[e+"_gridline"]=t),t}(this.diagramId).setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+")"),window[r][this.diagramId+"_diagramPorts"]||(window[r][this.diagramId+"_diagramPorts"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramPorts")),window[r][this.diagramId+"_diagramPorts"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),window[r][this.diagramId+"_diagramExpander"]||(window[r][this.diagramId+"_diagramExpander"]=this.iconSvgLayer.getElementById(this.diagramId+"_diagramExpander")),window[r][this.diagramId+"_diagramExpander"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),window[r][this.diagramId+"_nativeLayer"]||(window[r][this.diagramId+"_nativeLayer"]=this.nativeSvgLayer.getElementById(this.diagramId+"_nativeLayer")),window[r][this.diagramId+"_nativeLayer"].setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),nh(this.diagramId).children[0].style.transform="translate("+e.tx*e.scale+"px,"+e.ty*e.scale+"px)scale("+e.scale+")",this.transform={x:e.tx*e.scale,y:e.ty*e.scale},!0}return!1},e.prototype.updateNode=function(e,t,n,i,r){this.renderElement(e,t,n,i,this.getParentSvg(e),void 0,void 0,r)},e}(),zh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bh=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zh(t,e),Bh([zt("")],t.prototype,"source",void 0),Bh([zt("transparent")],t.prototype,"color",void 0),Bh([zt("None")],t.prototype,"scale",void 0),Bh([zt("None")],t.prototype,"align",void 0),t}(nn),_h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zh(t,e),Bh([zt("Page")],t.prototype,"mode",void 0),Bh([zt("PageSettings")],t.prototype,"region",void 0),Bh([Bt({top:25,bottom:25,left:25,right:25},Yi)],t.prototype,"margin",void 0),Bh([zt(!1)],t.prototype,"canZoomIn",void 0),Bh([zt(void 0)],t.prototype,"customBounds",void 0),Bh([zt(!1)],t.prototype,"canFit",void 0),t}(nn),Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zh(t,e),Bh([zt(null)],t.prototype,"width",void 0),Bh([zt(null)],t.prototype,"height",void 0),Bh([Bt({},Yi)],t.prototype,"margin",void 0),Bh([zt("Landscape")],t.prototype,"orientation",void 0),Bh([zt("Infinity")],t.prototype,"boundaryConstraints",void 0),Bh([Bt({},Hh)],t.prototype,"background",void 0),Bh([zt(!1)],t.prototype,"multiplePage",void 0),Bh([zt(!1)],t.prototype,"showPageBreaks",void 0),Bh([Bt({},_h)],t.prototype,"fitOptions",void 0),t}(nn),Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zh(t,e),Bh([zt(0)],t.prototype,"horizontalOffset",void 0),Bh([zt(0)],t.prototype,"verticalOffset",void 0),Bh([zt(1)],t.prototype,"currentZoom",void 0),Bh([zt(0)],t.prototype,"viewPortWidth",void 0),Bh([zt(0)],t.prototype,"viewPortHeight",void 0),Bh([zt(.2)],t.prototype,"minZoom",void 0),Bh([zt(30)],t.prototype,"maxZoom",void 0),Bh([zt("Diagram")],t.prototype,"scrollLimit",void 0),Bh([zt()],t.prototype,"scrollableArea",void 0),Bh([zt(!1)],t.prototype,"canAutoScroll",void 0),Bh([Bt({left:15,right:15,top:15,bottom:15},Yi)],t.prototype,"autoScrollBorder",void 0),Bh([Bt({left:0,right:0,top:0,bottom:0},Yi)],t.prototype,"padding",void 0),t}(nn),Vh=function(){function e(){this.services={}}return e.prototype.register=function(e,t){this.services[e]=t},e.prototype.getService=function(e){return this.services[e]},e}(),Uh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yh=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uh(t,e),Yh([zt("lightgray")],t.prototype,"lineColor",void 0),Yh([zt("")],t.prototype,"lineDashArray",void 0),Yh([zt([1.25,18.75,.25,19.75,.25,19.75,.25,19.75,.25,19.75])],t.prototype,"lineIntervals",void 0),Yh([zt([1,19,.5,19.5,.5,19.5,.5,19.5,.5,19.5])],t.prototype,"dotIntervals",void 0),Yh([zt([20])],t.prototype,"snapIntervals",void 0),t}(nn),Gh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uh(t,e),Yh([Bt({},Xh)],t.prototype,"horizontalGridlines",void 0),Yh([Bt({},Xh)],t.prototype,"verticalGridlines",void 0),Yh([zt(Si.All)],t.prototype,"constraints",void 0),Yh([zt(5)],t.prototype,"snapAngle",void 0),Yh([zt("Lines")],t.prototype,"gridType",void 0),Yh([zt(5)],t.prototype,"snapObjectDistance",void 0),t}(nn),qh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zh=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Kh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qh(t,e),Zh([zt(5)],t.prototype,"interval",void 0),Zh([zt(100)],t.prototype,"segmentWidth",void 0),Zh([zt("Horizontal")],t.prototype,"orientation",void 0),Zh([zt("RightOrBottom")],t.prototype,"tickAlignment",void 0),Zh([zt("red")],t.prototype,"markerColor",void 0),Zh([zt(25)],t.prototype,"thickness",void 0),Zh([zt(null)],t.prototype,"arrangeTick",void 0),t}(nn),$h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qh(t,e),Zh([zt(!1)],t.prototype,"showRulers",void 0),Zh([zt(!0)],t.prototype,"dynamicGrid",void 0),Zh([Bt({orientation:"Horizontal"},Kh)],t.prototype,"horizontalRuler",void 0),Zh([Bt({orientation:"Vertical"},Kh)],t.prototype,"verticalRuler",void 0),t}(nn),Qh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jh=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qh(t,e),Jh([zt("")],t.prototype,"property",void 0),Jh([zt("")],t.prototype,"field",void 0),t}(nn),tp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),np=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tp(t,e),np([zt("")],t.prototype,"read",void 0),np([zt("")],t.prototype,"create",void 0),np([zt("")],t.prototype,"update",void 0),np([zt("")],t.prototype,"destroy",void 0),np([zt()],t.prototype,"customFields",void 0),t}(nn),rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tp(t,e),np([zt("")],t.prototype,"id",void 0),np([zt("")],t.prototype,"sourceID",void 0),np([zt("")],t.prototype,"targetID",void 0),np([zt(null)],t.prototype,"sourcePointX",void 0),np([zt(null)],t.prototype,"sourcePointY",void 0),np([zt(null)],t.prototype,"targetPointX",void 0),np([zt(null)],t.prototype,"targetPointY",void 0),np([zt(null)],t.prototype,"dataManager",void 0),np([Bt({},ip)],t.prototype,"crudAction",void 0),t}(nn),op=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tp(t,e),np([zt("")],t.prototype,"id",void 0),np([zt(null)],t.prototype,"dataManager",void 0),np([zt(null)],t.prototype,"dataSource",void 0),np([zt("")],t.prototype,"root",void 0),np([zt("")],t.prototype,"parentId",void 0),np([zt()],t.prototype,"doBinding",void 0),np([_t([],ep)],t.prototype,"dataMapSettings",void 0),np([Bt({},ip)],t.prototype,"crudAction",void 0),np([Bt({},rp)],t.prototype,"connectionDataSource",void 0),t}(nn),ap=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sp=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),sp([zt("")],t.prototype,"fixedNode",void 0),sp([zt(30)],t.prototype,"horizontalSpacing",void 0),sp([zt(30)],t.prototype,"verticalSpacing",void 0),sp([zt(30)],t.prototype,"maxIteration",void 0),sp([zt(40)],t.prototype,"springFactor",void 0),sp([zt(50)],t.prototype,"springLength",void 0),sp([Bt({left:50,top:50,right:0,bottom:0},Yi)],t.prototype,"margin",void 0),sp([zt("Auto")],t.prototype,"horizontalAlignment",void 0),sp([zt("Auto")],t.prototype,"verticalAlignment",void 0),sp([zt("TopToBottom")],t.prototype,"orientation",void 0),sp([zt("Auto")],t.prototype,"connectionDirection",void 0),sp([zt("Default")],t.prototype,"connectorSegments",void 0),sp([zt("None")],t.prototype,"type",void 0),sp([zt()],t.prototype,"getLayoutInfo",void 0),sp([zt()],t.prototype,"layoutInfo",void 0),sp([zt()],t.prototype,"getBranch",void 0),sp([zt()],t.prototype,"bounds",void 0),sp([zt(!0)],t.prototype,"enableAnimation",void 0),sp([zt("")],t.prototype,"root",void 0),t}(nn);function cp(e,t,n,i,r,o,a){i.selectedItems.connectors[0];if(o&&o.length>1&&r&&r.length>1)return"PinchZoom";if(i.currentSymbol)return"Drag";if("PortDraw"===i.eventHandler.action&&(i.tool&=~Ai.DrawOnce),(Ps(i)||Os(i))&&i.drawingObject)return"Draw";if(hp(i)&&((p=i.selectedItems).wrapper&&Sc(p.constraints,"UserHandle")))for(var s=0,l=p.userHandles;s<l.length;s++){var c=l[s];if(c.visible)if(dp(n,u=wc(p,c,i.scroller.transform),c.size/(2*i.scroller.transform.scale)))return c.name}if(hp(i)){var d=i.selectedItems.annotation?i.selectedItems.wrapper.children[0]:i.selectedItems.wrapper,h=d.bounds,p=i.selectedItems,u=new di(h.x,h.y,h.width,h.height);if(pp(i)&&!i.selectedItems.annotation){var f=i.selectedItems.connectors[0],g=10/i.scrollSettings.currentZoom,m=10/i.scrollSettings.currentZoom;if(Sc(p.constraints,"ResizeAll")){if(Sc(p.constraints,"ConnectorSourceThumb")&&cs(f)&&dp(n,f.sourcePoint,g))return"ConnectorSourceEnd";if(Sc(p.constraints,"ConnectorTargetThumb")&&ds(f)&&dp(n,f.targetPoint,m))return"ConnectorTargetEnd";if("OrthoThumb"===(S=function(e,t,n,i){var r=10/i.scrollSettings.currentZoom,o=10/i.scrollSettings.currentZoom;if("Bezier"===e.type)for(var a=0;a<e.segments.length;a++){var s=e.segments[a];if(dp(n,Jn.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,o))return"BezierSourceThumb";if(dp(n,Jn.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,r))return"BezierTargetThumb"}if(i.connectorEditingToolModule&&hs(e))if("Straight"===e.type||"Bezier"===e.type)for(a=0;a<e.segments.length;a++){s=void 0;if(s=e.segments[a],dp(n,s.point,10))return"SegmentEnd"}else for(a=0;a<e.segments.length;a++){s=void 0;var l={x:0,y:0};if((s=e.segments[a]).allowDrag)for(var c=0;c<s.points.length-1;c++){if(Jn.distancePoints(s.points[c],s.points[c+1])>=50&&(l.x=(s.points[c].x+s.points[c+1].x)/2,l.y=(s.points[c].y+s.points[c+1].y)/2,dp(n,l,30)))return"OrthoThumb"}}return null}(f,0,n,i)))return S;if(Sc(p.constraints,"ConnectorSourceThumb")&&cs(f)&&S)return S;if(Sc(p.constraints,"ConnectorTargetThumb")&&ds(f)&&S)return S}}else{var v=10/i.scroller.currentZoom,y=pi();fi(y,d.rotateAngle+d.parentTransform,d.offsetX,d.offsetY);var b=d.offsetX-d.pivot.x*d.actualSize.width,w=d.offsetY-d.pivot.y*d.actualSize.height,x={x:b+(.5===d.pivot.x?2*d.pivot.x:d.pivot.x)*d.actualSize.width/2,y:w-30/i.scroller.currentZoom};x=ui(y,x);var S,C=!!i.selectedItems.annotation,O=!(!C||!ps(i.selectedItems.annotation));if(Sc(p.constraints,"Rotate")&&dp(n,x,v)&&i.selectedItems.thumbsConstraints&ki.Rotate){if(C&&O)return"LabelRotate";if(!C)return"Rotate"}if(u.Inflate(v),u.containsPoint(n))if(S=function(e,t,n,i,r,o){var a;1===e.selectedItems.nodes.length&&0===e.selectedItems.connectors.length&&e.selectedItems.nodes[0].container&&(a=function(e,t,n,i,r){var o=10/e.scroller.currentZoom,a=40/e.scroller.currentZoom,s=e.selectedItems,l=t.actualSize.width,c=t.actualSize.height,d=new di(i,r+20,t.style.strokeWidth,c-40),h=new di(i+l,r+20,t.style.strokeWidth,c-40),p=new di(i+20,r,l-40,t.style.strokeWidth),u=new di(i+20,r+c,l-40,t.style.strokeWidth),f=el(e,e.selectedItems.nodes[0],!0)?e.nameTable[e.selectedItems.nodes[0].parentId]:e.selectedItems.nodes[0];if(l>=a&&c>=a){if(xc(s.constraints,"ResizeEast",s.thumbsConstraints,s)&&h.containsPoint(n,o))return"ResizeEast";if(xc(s.constraints,"ResizeSouth",s.thumbsConstraints,s)&&u.containsPoint(n,o))return"ResizeSouth";if("Grid"!==f.container.type){if(xc(s.constraints,"ResizeWest",s.thumbsConstraints,s)&&d.containsPoint(n,o))return"ResizeWest";if(xc(s.constraints,"ResizeNorth",s.thumbsConstraints,s)&&p.containsPoint(n,o))return"ResizeNorth"}}return null}(e,t,n,r,o));a||e.selectedItems.nodes[0]&&(e.selectedItems.nodes[0].isPhase||e.selectedItems.nodes[0].isLane||"SwimLane"===e.selectedItems.nodes[0].shape.type)||(a=function(e,t,n,i,r,o){var a=40/e.scroller.currentZoom,s=10/e.scroller.currentZoom,l=e.selectedItems,c=!!l.annotation;if(t.actualSize.width>=a&&t.actualSize.height>=a){if(xc(l.constraints,"ResizeSouthEast",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r+t.actualSize.width,y:o+t.actualSize.height}),s))return c?"LabelResizeSouthEast":"ResizeSouthEast";if(xc(l.constraints,"ResizeSouthWest",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r,y:o+t.actualSize.height}),s))return c?"LabelResizeSouthWest":"ResizeSouthWest";if(xc(l.constraints,"ResizeNorthEast",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r+t.actualSize.width,y:o}),s))return c?"LabelResizeNorthEast":"ResizeNorthEast";if(xc(l.constraints,"ResizeNorthWest",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r,y:o}),s))return c?"LabelResizeNorthWest":"ResizeNorthWest"}if(xc(l.constraints,"ResizeEast",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r+t.actualSize.width,y:o+t.actualSize.height/2}),s))return c?"LabelResizeEast":"ResizeEast";if(xc(l.constraints,"ResizeWest",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r,y:o+t.actualSize.height/2}),s))return c?"LabelResizeWest":"ResizeWest";if(xc(l.constraints,"ResizeSouth",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r+t.actualSize.width/2,y:o+t.actualSize.height}),s))return c?"LabelResizeSouth":"ResizeSouth";if(xc(l.constraints,"ResizeNorth",l.thumbsConstraints,l)&&dp(n,ui(i,{x:r+t.actualSize.width/2,y:o}),s))return c?"LabelResizeNorth":"ResizeNorth";return null}(e,t,n,i,r,o));if(a)return a;return null}(i,d,n,y,b,w))return S}}if(Cs(i)&&!e)return"Pan";if(a instanceof br&&!Cs(i)&&"None"!==(S=function(e,t,n,i){if(Ms(t)&&(Cc(t,xi.Hover)||Cc(t,xi.Visible))){if(t.constraints&_i.Drag)return"PortDrag"}else if(As(t)&&(Cc(t,xi.Hover)||Cc(t,xi.Visible))&&t.constraints&_i.Draw){e.drawingObject={};var r={type:"Orthogonal",sourcePortID:t.id};return e.drawingObject=r,e.tool|=Ai.DrawOnce,e.currentDrawingObject=r,"PortDraw"}return"None"}(i,a)))return S;if((a instanceof Or||a instanceof Pr)&&!Cs(i)&&ss(a))return up(i,a,void 0,t)&&ls(a)?"LabelDrag":"LabelSelect";if(null!==e){if(!(e instanceof Dd||e instanceof $a))return"Select";if(t&&t.id){var P=t.id.split(e.id)[1];if(P&&P.match("^_icon"))return"LayoutAnimation"}if(ls(e)&&t instanceof or&&t.hyperlink.link)return"Hyperlink";if(!ls(e)||!up(i,e,!1)||void 0!==i.selectedItems.annotation)return e&&Cs(i)&&!Es(i)?"Pan":i.selectedItems.nodes.length&&i.selectedItems.nodes[0].isLane&&i.selectedItems.wrapper&&i.selectedItems.wrapper.bounds.containsPoint(n)?"Drag":"Select";if(e instanceof $a&&!dp(n,e.sourcePoint,e.hitPadding)&&!dp(n,e.targetPoint,e.hitPadding)||!(e instanceof $a))return"Drag"}return"Select"}function dp(e,t,n){return e.x>=t.x-n&&e.x<=t.x+n&&e.y>=t.y-n&&e.y<=t.y+n}function hp(e){return e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0}function pp(e){return 1===e.selectedItems.connectors.length&&!e.selectedItems.nodes.length}function up(e,t,n,i){if(void 0===n&&(n=!0),t instanceof Hd)return!0;if(t instanceof Dd)for(;t;){if(-1!==e.selectedItems.nodes.indexOf(t)&&void 0===e.selectedItems.annotation)return!0;if(n)break;t=e.nameTable[t.parentId]}else if(t instanceof $a){if(-1!==e.selectedItems.connectors.indexOf(t)&&void 0===e.selectedItems.annotation)return!0}else if((t instanceof Or||t instanceof Pr)&&e.selectedItems.annotation&&e.selectedItems.wrapper.children[0].id===i.id)return!0;return!1}var fp,gp={None:"default",Rotate:"crosshair",Select:"default",Drag:"move",ResizeWest:"w-resize",ResizeEast:"e-resize",ResizeSouth:"s-resize",ResizeNorth:"n-resize",Draw:"crosshair",PortDraw:"crosshair",ResizeNorthEast:"ne-resize",ResizeNorthWest:"nw-resize",ResizeSouthEast:"se-resize",ResizeSouthWest:"sw-resize",ConnectorSourceEnd:"move",ConnectorTargetEnd:"move",BezierSourceThumb:"move",BezierTargetThumb:"move",OrthoThumb:"move",SegmentEnd:"move",Pan:"grab",Hyperlink:"pointer",PortDrag:"pointer",LabelSelect:"pointer",LabelDrag:"move",LabelRotate:"crosshair",LabelResizeWest:"w-resize",LabelResizeEast:"e-resize",LabelResizeSouth:"s-resize",LabelResizeNorth:"n-resize",LabelResizeNorthEast:"ne-resize",LabelResizeNorthWest:"nw-resize",LabelResizeSouthEast:"se-resize",LabelResizeSouthWest:"sw-resize"},mp=function(){function e(){this.valueCreated="created",this.valueUpdated="updated",this.valueDeleted="deleted",this.valueUnchanged="unchanged",this.newNodeObject=[],this.newConnectorObject=[],this.diagramObject={}}return e.prototype.updateObjectCollection=function(e,t){for(var n=0;n<e.length;n++)e[n].objects||(e[n].objects=[]),e[n].objects=t.layers[n].objects},e.prototype.getOldObject=function(e,t,n){for(var i=t?n.oldNodeObjects:n.oldConnectorObjects,r=0;r<i.length;r++)if(i[r].id===e)return i[r]},e.prototype.changeSegments=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if("segments"===r){var o=this.removeNullValues(t[r]);e[r]=o}}return e},e.prototype.removeNullValues=function(e){for(var t=[],n={},i=0;i<e.length;i++)n=this.removeNullObjectValues(e[i]),t.push(n);return t},e.prototype.removeNullObjectValues=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(t[r]=e[r]instanceof Object?this.removeNullObjectValues(e[r]):e[r])}return t},e.prototype.getDifferenceValues=function(e,t,n,i){var r,o,a,s,l=e instanceof Dd;if(e&&(s=l?this.getOldObject(e.id,!0,i):this.getOldObject(e.id,!1,i))){var c=xh(e);return a=this.map(c,s),r=this.frameObject({},a),o=this.removeEmptyValues(r),(o=this.changeSegments(o,c)).children&&(o.children=xh(e).children),this.getDiagramObjects(o,e.id,l,t,n,i)}},e.prototype.getLayerObject=function(e,t,n){if(w()){for(var i={layers:[]},r={layers:[]},o=0;o<n.layers.length;o++)r.layers.push(xh(n.layers[o]));var a=void 0;for(o=0;o<r.layers.length;o++){a=t?this.map(e.layers[o],xh(r.layers[o])):this.map(xh(r.layers[o]),e.layers[o]);var s=this.frameObject({},a),l=this.removeEmptyValues(s);i.layers[o]=l}return this.updateObjectCollection(i.layers,n),i}},e.prototype.getDiagramObjects=function(e,t,n,i,r,o){var a;if(a=vh(o,t),e.sfIndex=a,n?this.newNodeObject.push(e):this.newConnectorObject.push(e),i&&(i.sourceWrapper instanceof or&&r||i.portId)){var s=void 0,l=void 0;l=n?i.portId?this.newNodeObject[0].ports:this.newNodeObject[0].annotations:this.newConnectorObject[0].annotations||[];for(var c=0;c<l.length;c++)if(Object.keys(l[c]).length>0){var d=o.nameTable[t];if(s=l[c],i.portId)this.newNodeObject[0].ports=[s];else{for(var h=0;h<d.annotations.length;h++)i.sourceWrapper.id===d.id+"_"+d.annotations[h].id&&(s.sfIndex=h);n?this.newNodeObject[0].annotations=[s]:this.newConnectorObject[0].annotations=[s]}}}this.diagramObject={nodes:this.newNodeObject,connectors:this.newConnectorObject}},e.prototype.removeArrayValues=function(e){var t=[];if(JSON.stringify(e)!==JSON.stringify({data:[]}))for(var n=0;n<e.length;n++)if(e[n]instanceof Object){var i=this.removeEmptyValues(e[n]);t.push(i)}else t.push(e[n]);return t},e.prototype.removeEmptyValues=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if("wrapper"!==r&&"data"!==r){var o=e[r],a=JSON.stringify(o);if(o instanceof Array){var s=this.removeArrayValues(o);"[]"!==JSON.stringify(s)&&(t[r]=s)}else if(o instanceof Object){if(a!==JSON.stringify({data:[]})){s=this.removeEmptyValues(o);"{}"!==JSON.stringify(s)&&(t[r]=s)}}else a!==JSON.stringify(["data"])&&a!==JSON.stringify("data")&&a!==JSON.stringify({data:[]})&&"version"!==r&&"ejsAction"!==r&&(t[r]=e[r])}}return t},e.prototype.map=function(e,t,n){if(this.isFunction(e)||this.isFunction(t))throw"Invalid argument. Function given, object expected.";if(this.isValue(e)||this.isValue(t))return{type:this.compareValues(e,t),data:void 0===e?t:e};var i={};if(this.isArray(e))for(var r=0;r<e.length;r++){i[n]||(i[n]=[]);var o=this.map(e[r],t[r]);i[n].push(o)}else for(var a in e)if(!this.isFunction(e[a])){var s=void 0;void 0!==t[a]&&(s=t[a]);var l=this.map(e[a],s,this.isArray(s)?a:void 0);this.isArray(s)?i[a]=l[a]:i[a]=l}if(this.isArray(t))for(r=0;r<t.length;r++)if(i[n]||(i[n]=[]),this.isFunction(t[r])||void 0!==i[n][r])i[n][r].type&&i[n][r].type!==this.valueUpdated&&delete i[n];else{o=this.map(void 0,t[r]);i[n][r]=o}else for(var a in t)if(this.isFunction(t[a])||void 0!==i[a])i[a].type&&i[a].type!==this.valueUpdated&&i[a].type!==this.valueDeleted&&delete i[a];else{l=this.map(void 0,t[a]);i[a]=l}return i},e.prototype.compareValues=function(e,t){return e===t||this.isDate(e)&&this.isDate(t)&&e.getTime()===t.getTime()?this.valueUnchanged:void 0===e?this.valueCreated:void 0===t?this.valueDeleted:this.valueUpdated},e.prototype.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.prototype.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.prototype.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.prototype.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.prototype.isValue=function(e){return!this.isObject(e)&&!this.isArray(e)},e.prototype.frameObject=function(e,t){for(var n in t)if(this.isArray(t[n])){e[n]||(e[n]=[]);for(var i=0;i<t[n].length;i++){var r=this.frameObject({},t[n][i]);e[n].push(r)}}else if("type"!=n||"type"==n&&t[n]!==this.valueUpdated&&t[n]!==this.valueUnchanged&&t[n]!==this.valueDeleted&&t[n]!==this.valueCreated){if(this.isFunction(t[n]))continue;if(this.isValue(t[n]))return t.data;r=this.frameObject({},t[n]);(this.isValue(r)||Object.keys(r).length>0)&&(e[n]=r)}return e},e}(),vp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yp=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))},bp=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},wp=function(){function e(e,t){void 0===t&&(t=!1),this.commandHandler=null,this.deepDiffer=new mp,this.inAction=!1,this.isProtectChange=!1,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.undoElement={nodes:[],connectors:[]},this.checkProperty=!0,this.undoParentElement={nodes:[],connectors:[]},this.commandHandler=e,this.isProtectChange=t}return e.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},e.prototype.mouseDown=function(e){w()&&(this.commandHandler.enableCloneObject(!0),this.commandHandler.ismouseEvents(!0)),this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source),this.checkProperty=!0},e.prototype.checkPropertyValue=function(){this.checkProperty&&this.commandHandler.startTransaction(this.isProtectChange)},e.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.inAction&&(this.commandHandler.startTransaction(this.isProtectChange),this.checkProperty=!1),!this.blocked},e.prototype.mouseUp=function(e){this.checkPropertyValue(),this.currentPosition=e.position,this.isTooltipVisible=!1,this.commandHandler.endTransaction(this.isProtectChange),w()&&(this.commandHandler.enableCloneObject(!1),this.commandHandler.ismouseEvents(!1),this.commandHandler.getBlazorOldValues(e,this instanceof Lp)),this.endAction()},e.prototype.endAction=function(){this.isTooltipVisible||this.commandHandler.closeTooltip(),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},e.prototype.mouseWheel=function(e){this.currentPosition=e.position},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.updateSize=function(e,t,n,i,r,o){e=this.commandHandler.renderContainerHelper(e)||e;var a,s={snapped:!1,offset:0,left:!1,right:!1},l={snapped:!1,offset:0,top:!1,bottom:!1},c=this.currentPosition.x-this.startPosition.x,d=this.currentPosition.y-this.startPosition.y,h=!(e instanceof or)&&this.commandHandler.snappingModule&&this.commandHandler.snappingModule.canSnap(),p=h?this.commandHandler.snappingModule.getLayer():null,u=e instanceof or?o:e.rotateAngle;fi(a=pi(),-u,0,0);e.offsetX,e.offsetY;var f=e.width,g=e.height;e.pivot.x,e.pivot.y;var m,v=0,y=0,b=e instanceof or?e.actualSize.width:e.width,w=e instanceof or?e.actualSize.height:e.height;switch(i){case"ResizeWest":c=(m=ui(a,{x:c,y:d})).x,d=m.y,y=1,c=h?this.commandHandler.snappingModule.snapLeft(s,l,p,c,d,e,n===t,r):c,d=0,v=(r.width-c)/b;break;case"ResizeEast":c=(m=ui(a,{x:c,y:d})).x,d=m.y,c=h?this.commandHandler.snappingModule.snapRight(s,l,p,c,d,e,n===t,r):c,d=0,v=(r.width+c)/b,y=1;break;case"ResizeNorth":v=1,c=(m=ui(a,{x:c,y:d})).x,d=m.y,d=h?this.commandHandler.snappingModule.snapTop(s,l,p,c,d,e,n===t,r):d,y=(r.height-d)/w;break;case"ResizeSouth":v=1,c=(m=ui(a,{x:c,y:d})).x,d=m.y,d=h?this.commandHandler.snappingModule.snapBottom(s,l,p,c,d,e,n===t,r):d,y=(r.height+d)/w;break;case"ResizeNorthEast":c=(m=ui(a,{x:c,y:d})).x,d=m.y,c=h?this.commandHandler.snappingModule.snapRight(s,l,p,c,d,e,n===t,r):c,d=h?this.commandHandler.snappingModule.snapTop(s,l,p,c,d,e,n===t,r):d,v=(r.width+c)/b,y=(r.height-d)/w;break;case"ResizeNorthWest":c=(m=ui(a,{x:c,y:d})).x,d=m.y,d=h?this.commandHandler.snappingModule.snapTop(s,l,p,c,d,e,n===t,r):d,c=h?this.commandHandler.snappingModule.snapLeft(s,l,p,c,d,e,n===t,r):c,v=(r.width-c)/b,y=(r.height-d)/w;break;case"ResizeSouthEast":c=(m=ui(a,{x:c,y:d})).x,d=m.y,d=h?this.commandHandler.snappingModule.snapBottom(s,l,p,c,d,e,n===t,r):d,c=h?this.commandHandler.snappingModule.snapRight(s,l,p,c,d,e,n===t,r):c,y=(r.height+d)/w,v=(r.width+c)/b;break;case"ResizeSouthWest":c=(m=ui(a,{x:c,y:d})).x,d=m.y,d=h?this.commandHandler.snappingModule.snapBottom(s,l,p,c,d,e,n===t,r):d,c=h?this.commandHandler.snappingModule.snapLeft(s,l,p,c,d,e,n===t,r):c,v=(r.width-c)/b,y=(r.height+d)/w}return{width:v,height:y}},e.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},e}(),xp=function(e){function t(t,n,i){var r=e.call(this,t,!0)||this;return r.action=i,r}return vp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===Jn.equals(this.currentPosition,this.prevPosition)){var n=di.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.clearSelectedItems(),this.commandHandler.drawSelectionRectangle(n.x,n.y,n.width,n.height)}return!this.blocked},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),!this.commandHandler.isUserHandle(this.currentPosition))if(!1===Jn.equals(this.currentPosition,this.prevPosition)&&this.inAction){var n=di.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.doRubberBandSelection(n)}else{var i=this.commandHandler.getSelectedObject();this.commandHandler.hasSelection()&&t.info&&t.info.ctrlKey?t&&t.source&&(this.commandHandler.isSelected(t.source)?1===t.clickCount&&(this.commandHandler.unSelect(t.source),this.commandHandler.updateBlazorSelector()):this.commandHandler.selectObjects([t.source],!0)):(this.commandHandler.clearSelection(null===t.source),"LabelSelect"===this.action?this.commandHandler.labelSelect(t.source,t.sourceWrapper):t.source&&this.commandHandler.selectObjects([t.source],!1,i))}this.inAction=!1,e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(wp),Sp=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.isConnected=!1,i.endPoint=n,i}return vp(t,e),t.prototype.mouseDown=function(t){return yp(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,d,h;return bp(this,(function(p){switch(p.label){case 0:return w()&&t&&t.source&&(n=t.source).connectors?(i=n.connectors[0],this.oldConnector=xh(i),r={connector:Vc(i),oldValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},newValue:{connectorTargetValue:{portId:void 0,nodeId:void 0}},cancel:!1,state:"Changing",connectorEnd:this.endPoint},o=Hi.connectionChange,a=void 0,[4,this.commandHandler.triggerEvent(o,r)]):[3,2];case 1:a=p.sent()||r,this.tempArgs=a,(r.cancel||a&&a.cancel)&&(this.canCancel=!0),p.label=2;case 2:if(this.inAction=!0,this.undoElement=void 0,this instanceof Tp||(this.undoElement=xh(t.source)),e.prototype.mouseDown.call(this,t),t.source&&t.source.connectors&&({x:this.prevPosition.x,y:this.prevPosition.y},s=t.source.connectors[0],this.oldConnector=xh(s)),"BezierSourceThumb"===this.endPoint||"BezierTargetThumb"===this.endPoint)for(l=0;l<s.segments.length;l++)c=s.segments[l],d=Jn.isEmptyPoint(c.point1)?c.bezierPoint1:c.point1,h=Jn.isEmptyPoint(c.point2)?c.bezierPoint2:c.point2,(dp(this.currentPosition,d,s.hitPadding)||dp(this.currentPosition,h,s.hitPadding))&&(this.selectedSegment=c);return this.currentPosition=t.position,[2]}}))}))},t.prototype.mouseUp=function(t){return yp(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,d,h,p,u;return bp(this,(function(f){switch(f.label){case 0:return w()?(h=Hi.connectionChange,n=void 0,this.tempArgs&&this.oldConnector?(this.tempArgs.state="Changed",i="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",r="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",this.tempArgs.oldValue="ConnectorSourceEnd"===this.endPoint?{connectorSourceValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[r]}}:{connectorTargetValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[r]}},[4,this.commandHandler.triggerEvent(h,this.tempArgs)]):[3,2]):[3,2];case 1:(n=f.sent())&&this.commandHandler.updateConnectorValue(n),f.label=2;case 2:return!w()&&this.isConnected&&t.source.connectors&&(a=t.source.connectors[0],i="ConnectorSourceEnd"===this.endPoint?"sourceID":"targetID",r="ConnectorSourceEnd"===this.endPoint?"sourcePortID":"targetPortID",d={connector:Vc(a),oldValue:{nodeId:this.oldConnector[i],portId:this.oldConnector[r]},newValue:{nodeId:a[i],portId:a[r]},cancel:!1,state:"Changed",connectorEnd:this.endPoint},a[i]!==this.oldConnector[i]&&(this.commandHandler.triggerEvent(Hi.connectionChange,d),this.isConnected=!1)),this.checkPropertyValue(),this.commandHandler.updateSelector(),this.commandHandler.removeSnap(),this.commandHandler.changeAnnotationDrag(t),this instanceof Tp||("ConnectorSourceEnd"!==this.endPoint||!t.source.connectors.length||Jn.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)&&t.source.connectors[0].sourceID===this.undoElement.connectors[0].sourceID)&&("ConnectorTargetEnd"!==this.endPoint||Jn.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint)&&t.source.connectors[0].targetID===this.undoElement.connectors[0].targetID)?this instanceof Tp||"BezierTargetThumb"!==this.endPoint&&"BezierSourceThumb"!==this.endPoint||this.undoElement&&t.source&&(p=void 0,p=xh(t.source),u={type:"SegmentChanged",redoObject:p,undoObject:this.undoElement,category:"Internal"},this.commandHandler.addHistoryEntry(u)):(o=void 0,a=void 0,t.source&&t.source.connectors&&(o={x:this.prevPosition.x,y:this.prevPosition.y},a=t.source.connectors[0]),s=void 0,l=void 0,t.target&&((c=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof br?s=c.id:l=c.id),d={connector:a,state:"Completed",targetNode:l,oldValue:o,newValue:o,cancel:!1,targetPort:s},w()&&(d={connector:Vc(a),state:"Completed",targetNode:l,oldValue:Vc(o),newValue:o,cancel:d.cancel,targetPort:s}),h="ConnectorSourceEnd"===this.endPoint?Hi.sourcePointChange:Hi.targetPointChange,this.commandHandler.triggerEvent(h,d),this.commandHandler.removeTerminalSegment(a,!0),this.undoElement&&t.source&&(p=void 0,p=xh(t.source),u={type:"ConnectionChanged",redoObject:xh(p),undoObject:xh(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(u))),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),!(this instanceof Tp)&&("ConnectorSourceEnd"===this.endPoint&&Jn.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)||"ConnectorTargetEnd"===this.endPoint&&Jn.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint))){var i=void 0,r=void 0;t.source&&t.source.connectors&&(i={x:this.prevPosition.x,y:this.prevPosition.y},r=t.source.connectors[0]);var o=void 0,a=void 0;if(t.target)a=t.target.id,(v=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof br||v instanceof vd?o=v.id:a=v.id;var s={connector:r,state:"Start",targetNode:a,oldValue:i,newValue:i,cancel:!1,targetPort:o};w()&&(s={connector:Vc(r),state:"Start",targetNode:a,oldValue:i,newValue:i,cancel:s.cancel,targetPort:o});var l="ConnectorSourceEnd"===this.endPoint?Hi.sourcePointChange:Hi.targetPointChange;this.commandHandler.triggerEvent(l,s)}if(this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var c=this.currentPosition.x-this.prevPosition.x,d=this.currentPosition.y-this.prevPosition.y,h=void 0,p=(i=void 0,void 0),u=void 0;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var f=void 0;t.source&&t.source.connectors&&(h={x:this.currentPosition.x,y:this.currentPosition.y},i={x:this.prevPosition.x,y:this.prevPosition.y},f=t.source.connectors[0]);var g=void 0,m=void 0;if(t.target)(v=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof br?g=v.id:m=v.id;var v;s={connector:f,state:"Progress",targetNode:m,oldValue:i,newValue:h,cancel:!1,targetPort:g};if(w()&&(s={connector:Vc(f),state:"Progress",targetNode:m,oldValue:i,newValue:h,cancel:s.cancel,targetPort:g}),!(this instanceof Tp)){l="ConnectorSourceEnd"===this.endPoint?Hi.sourcePointChange:Hi.targetPointChange;this.commandHandler.triggerEvent(l,s)}if(t.target&&(p=Ec(t.target,!0),u=Ec(t.target,!1)),!s.cancel&&this.inAction&&void 0!==this.endPoint&&0!==c||0!==d)if(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,t.source,this.currentPosition,this.selectedSegment,t.target,g),this.commandHandler.updateSelector(),t.target&&("ConnectorSourceEnd"===this.endPoint&&(ms(t.target)||vs(u))||"ConnectorTargetEnd"===this.endPoint&&(fs(t.target)||gs(p))))if(this.commandHandler.canDisconnect(this.endPoint,t,g,m)&&(n=this.commandHandler.disConnect(t.source,this.endPoint,this.canCancel),this.isConnected=!0),(v=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Dd)(fs(v)&&"ConnectorTargetEnd"===this.endPoint||ms(v)&&"ConnectorSourceEnd"===this.endPoint)&&(n=this.commandHandler.connect(this.endPoint,t,this.canCancel),this.isConnected=!0);else this.checkConnect(v)&&(this.isConnected=!0,n=this.commandHandler.connect(this.endPoint,t,this.canCancel));else-1===this.endPoint.indexOf("Bezier")&&(this.isConnected=!0,n=this.commandHandler.disConnect(t.source,this.endPoint,this.canCancel),this.commandHandler.updateSelector());if(this.commandHandler.canEnableDefaultTooltip()){var y=this.getTooltipContent(t.position);this.commandHandler.showTooltip(t.source,t.position,y,"ConnectTool",this.isTooltipVisible),this.isTooltipVisible=!1}n&&(this.tempArgs=n)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.x)+" Y:"+Math.round(e.y)},t.prototype.checkConnect=function(e){return!(!gs(e)||"ConnectorTargetEnd"!==this.endPoint)||(!(!vs(e)||"ConnectorSourceEnd"!==this.endPoint)||!(e.constraints&_i.None||gs(e)||vs(e)))},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(wp),Cp=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.currentTarget=null,i.canCancel=!1,i.objectType=n,i}return vp(t,e),t.prototype.mouseDown=function(t){if(t.source instanceof Dd||t.source instanceof $a){var n=this.commandHandler.getSelectedObject();this.commandHandler.selectObjects([t.source],t.info&&t.info.ctrlKey,n);var i={nodes:[],connectors:[]};t.source instanceof Dd?i.nodes.push(xh(t.source)):i.connectors.push(xh(t.source)),this.undoElement=xh(i)}else this.undoElement=xh(t.source);var r;if(this.undoParentElement=this.commandHandler.getSubProcess(t.source),"Port"===this.objectType&&(this.portId=t.sourceWrapper.id),w()){this.startPosition=this.currentPosition=this.prevPosition=t.position,this.initialOffset={x:0,y:0},t.source&&(r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY});var o={source:xh(t.source),state:"Start",oldValue:r,newValue:{},target:xh(t.target),targetPosition:t.position,allowDrop:!0,cancel:!1};this.tempArgs=o}e.prototype.mouseDown.call(this,t),this.initialOffset={x:0,y:0}},t.prototype.mouseUp=function(t,n){return yp(this,void 0,void 0,(function(){var i,r,o,a,s,l,c,d,h,p,u,f,g,m,v,y;return bp(this,(function(b){switch(b.label){case 0:return w()&&"Port"!==this.objectType?(t.source&&(r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY}),f={source:Vc(t.source),state:"Completed",oldValue:Vc(this.tempArgs.oldValue),newValue:Vc(r),target:Vc(this.currentTarget),targetPosition:Vc(this.currentPosition),allowDrop:!0,cancel:!1},[4,this.commandHandler.triggerEvent(Hi.positionChange,f)]):[3,2];case 1:(o=b.sent())&&o.cancel&&(this.canCancel=!0),this.canCancel&&(a=this.tempArgs.oldValue.offsetX-t.source.wrapper.offsetX,s=this.tempArgs.oldValue.offsetY-t.source.wrapper.offsetY,this.commandHandler.dragSelectedObjects(a,s)),b.label=2;case 2:return this.checkPropertyValue(),c=!1,h={nodes:[],connectors:[]},"Port"===this.objectType?[3,7]:(t.source instanceof Dd||t.source instanceof $a?(t.source instanceof Dd?h.nodes.push(xh(t.source)):h.connectors.push(xh(t.source)),l=xh(h),p=t.source.wrapper,l.offsetX=p.offsetX,l.offsetY=p.offsetY):l=xh(t.source),("helper"!==(d=this.commandHandler.renderContainerHelper(t.source)||t.source||this.commandHandler.renderContainerHelper(t.source)).id||l.nodes[0].isLane||l.nodes[0].isPhase)&&"helper"===d.id||d.offsetX===this.undoElement.offsetX&&d.offsetY===this.undoElement.offsetY&&d.sourcePoint===this.undoElement.sourcePoint&&d.targetPoint===this.undoElement.targetPoint||(t.source&&(r={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY}),f={source:t.source,state:"Completed",oldValue:i,newValue:r,target:this.currentTarget,targetPosition:this.currentPosition,allowDrop:!0,cancel:!1},f={source:Vc(t.source),state:"Completed",oldValue:Vc(i),newValue:Vc(r),target:Vc(this.currentTarget),targetPosition:Vc(this.currentPosition),allowDrop:f.allowDrop,cancel:f.cancel},w()&&(f=this.getBlazorPositionChangeEventArgs(f,this.currentTarget)),w()||this.commandHandler.triggerEvent(Hi.positionChange,f),n||(this.commandHandler.startGroupAction(),c=!0,y={type:"PositionChanged",redoObject:xh(l),undoObject:xh(this.undoElement),category:"Internal"},l.nodes[0]&&l.nodes[0].processId&&(u={type:"SizeChanged",category:"Internal",undoObject:this.undoParentElement,redoObject:this.commandHandler.getSubProcess(t.source)},this.commandHandler.addHistoryEntry(u)),this.commandHandler.addHistoryEntry(y))),this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,0,0),this.commandHandler.removeSnap(),this.commandHandler.removeHighlighter(),t.source&&this.currentTarget&&bs(this.currentTarget)&&this.commandHandler.isDroppable(t.source,this.currentTarget)?(this.commandHandler.drop(this.currentElement,this.currentTarget,this.currentPosition),f={element:t.source,target:this.currentTarget,position:this.currentPosition,cancel:!1},w()?(f=function(e,t){if(w()){var n=Lc(e.source)===$a,i=Vc(e.source),r=Vc(e.target);t={element:n?{connector:i}:{node:i},target:n?{connector:r}:{node:r},position:t.position,cancel:t.cancel}}return t}(t,f),[4,this.commandHandler.triggerEvent(Hi.drop,f)]):[3,4]):[3,6]);case 3:return f=b.sent()||f,[3,5];case 4:this.commandHandler.triggerEvent(Hi.drop,f),b.label=5;case 5:if(!f.cancel&&t.source&&this.commandHandler.isParentAsContainer(this.currentTarget)){for(g=t.source instanceof Hd?t.source.nodes:[t.source],m=!1,v=0;v<g.length;v++)g[v].container||(m=!0,this.commandHandler.dropChildToContainer(this.currentTarget,g[v]),this.commandHandler.renderContainerHelper(g[v]));c&&this.commandHandler.isContainer&&m&&this.commandHandler.endGroupAction()}b.label=6;case 6:return t.source&&this.currentTarget&&this.commandHandler.dropAnnotation(t.source,this.currentTarget),this.commandHandler.updateSelector(),c&&!this.commandHandler.isContainer&&this.commandHandler.endGroupAction(),[3,8];case 7:h.nodes.push(xh(t.source)),t.portId=this.portId,l=xh(h),y={type:"PortPositionChanged",objectId:this.portId,redoObject:xh(l),undoObject:xh(this.undoElement),category:"Internal"},this.commandHandler.addHistoryEntry(y),b.label=8;case 8:return this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.getBlazorPositionChangeEventArgs=function(e,t){return e={source:Vc(e.source),state:e.state,oldValue:e.oldValue,newValue:e.newValue,target:Lc(t)===$a?{connector:Vc(t)}:{node:Vc(t)},targetPosition:this.currentPosition,allowDrop:!0,cancel:!1}},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n,i,r=!1;(n=this.commandHandler.renderContainerHelper(t.source)||t.source)instanceof Dd||n instanceof $a?n instanceof Dd?n.offsetX===this.undoElement.nodes[0].offsetX&&n.offsetY===this.undoElement.nodes[0].offsetY&&(r=!0):Jn.equals(n.sourcePoint,this.undoElement.connectors[0].sourcePoint)&&Jn.equals(n.targetPoint,this.undoElement.connectors[0].targetPoint)&&(r=!0):n.wrapper.offsetX===this.undoElement.wrapper.offsetX&&n.wrapper.offsetY===this.undoElement.wrapper.offsetY&&(r=!0),n&&(i={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY});var o={source:n,state:"Start",oldValue:i,newValue:i,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(o={source:Vc(n),state:"Start",oldValue:Vc(i),newValue:Vc(i),target:t.target,targetPosition:t.position,allowDrop:o.allowDrop,cancel:o.cancel},r&&!w()&&this.commandHandler.triggerEvent(Hi.positionChange,o),this.currentPosition=t.position,"Port"!==this.objectType){this.currentPosition.x,this.prevPosition.x,this.currentPosition.y,this.prevPosition.y;var a,s=this.initialOffset.x+(this.currentPosition.x-this.prevPosition.x),l=this.initialOffset.y+(this.currentPosition.y-this.prevPosition.y);this.commandHandler.dragOverElement(t,this.currentPosition),this.commandHandler.disConnect(t.source),this.commandHandler.removeSnap();var c=void 0,d=this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,s,l);this.initialOffset.x=s-d.x,this.initialOffset.y=l-d.y,n&&(a={offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY},c={offsetX:n.wrapper.offsetX+d.x,offsetY:n.wrapper.offsetY+d.y}),this.currentTarget&&t.target!==this.currentTarget&&this.commandHandler.removeChildFromBPmn(t.source,t.target,this.currentTarget),this.currentTarget=t.target;var h={source:n,state:"Progress",oldValue:a,newValue:c,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(w()&&(h=this.getBlazorPositionChangeEventArgs(h,t.target)),w()||this.commandHandler.triggerEvent(Hi.positionChange,h),!h.cancel&&!this.canCancel){this.blocked=!this.commandHandler.dragSelectedObjects(d.x,d.y);var p=!this.commandHandler.mouseOver(this.currentElement,this.currentTarget,this.currentPosition);this.blocked=this.blocked||p}if(this.commandHandler.removeStackHighlighter(),this.commandHandler.renderStackHighlighter(t),this.currentTarget&&t.source!==this.currentTarget&&this.commandHandler.isDroppable(t.source,this.currentTarget)&&"helper"!==t.source.id){var u=t.source instanceof Hd?t.source.nodes[0]:t.source;this.commandHandler.isParentAsContainer(u,!0)||"SwimLane"===u.shape.type||u.shape.isPhase||(this.currentTarget.isLane?this.commandHandler.renderStackHighlighter(t,this.currentTarget):this.commandHandler.drawHighlighter(this.currentTarget))}else this.commandHandler.removeHighlighter();if(this.commandHandler.canEnableDefaultTooltip()){var f=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,f,"MoveTool",this.isTooltipVisible),this.isTooltipVisible=!1}}else{var g=pi(),m=t.source;fi(g,-m.rotateAngle,m.offsetX,m.offsetY);var v=ui(g,{x:this.prevPosition.x,y:this.prevPosition.y}),y=ui(g,{x:t.position.x,y:t.position.y});this.commandHandler.portDrag(t.source,t.sourceWrapper,y.x-v.x,y.y-v.y)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.wrapper.bounds.x)+" Y:"+Math.round(e.wrapper.bounds.y)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},t}(wp),Op=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseDown=function(t){if(w()){var n={rotateAngle:(this.commandHandler.renderContainerHelper(t.source)||t.source).wrapper.rotateAngle},i={source:Vc(t.source),state:"Start",oldValue:n,newValue:void 0,cancel:!1};this.tempArgs=i,this.tempArgs&&this.tempArgs.cancel&&(this.canCancel=!0)}if(this.undoElement=xh(t.source),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var r=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),o=0;o<r.length;o++){var a=this.commandHandler.cloneChild(r[o].id);this.childTable[r[o].id]=xh(a)}e.prototype.mouseDown.call(this,t)},t.prototype.mouseUp=function(t){return yp(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c;return bp(this,(function(d){switch(d.label){case 0:return this.checkPropertyValue(),w()?(n=this.commandHandler.renderContainerHelper(t.source)||t.source,a={rotateAngle:this.tempArgs.oldValue.rotateAngle},i={rotateAngle:n.wrapper.rotateAngle},s={source:Vc(t.source),state:"Completed",oldValue:a,newValue:i,cancel:!1},[4,this.commandHandler.triggerEvent(Hi.rotateChange,s)]):[3,2];case 1:(r=d.sent())&&r.cancel&&(this.canCancel=!0),this.canCancel&&this.commandHandler.rotatePropertyChnage(this.tempArgs.oldValue.rotateAngle),d.label=2;case 2:return o=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle!==o.wrapper.rotateAngle&&(a={rotateAngle:o.wrapper.rotateAngle},s={source:t.source,state:"Completed",oldValue:a,newValue:a,cancel:!1},w()||this.commandHandler.triggerEvent(Hi.rotateChange,s),void 0,l=xh(t.source),c={type:"RotationChanged",redoObject:xh(l),undoObject:xh(this.undoElement),category:"Internal",childTable:this.childTable},this.commandHandler.addHistoryEntry(c),this.commandHandler.updateSelector()),this.commandHandler.updateBlazorSelector(),this.canCancel=void 0,this.tempArgs=void 0,e.prototype.mouseUp.call(this,t),[2]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),n=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle===n.wrapper.rotateAngle){var i={rotateAngle:n.wrapper.rotateAngle},r={source:t.source,state:"Start",oldValue:i,newValue:i,cancel:!1};w()||this.commandHandler.triggerEvent(Hi.rotateChange,r)}this.currentPosition=t.position;var o={x:n.wrapper.offsetX,y:n.wrapper.offsetY},a=Jn.findAngle(o,this.currentPosition)+90,s=this.commandHandler.snapAngle(a);a=((a=0!==s?s:a)+360)%360;var l={rotateAngle:n.wrapper.rotateAngle},c={rotateAngle:a},d=(t.source,!1),h={source:Vc(t.source),state:"Progress",oldValue:Vc(l),newValue:Vc(c),cancel:d};if(w()||this.commandHandler.triggerEvent(Hi.rotateChange,h),(!w()&&!h.cancel||w()&&!this.canCancel)&&(this.blocked=!this.commandHandler.rotateSelectedItems(a-n.wrapper.rotateAngle)),this.commandHandler.canEnableDefaultTooltip()){var p=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,p,"RotateTool",this.isTooltipVisible),this.isTooltipVisible=!1}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+"\xb0"},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(wp),Pp=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.initialBounds=new di,i.canCancel=!1,i.corner=n,i}return vp(t,e),t.prototype.mouseDown=function(t){var n;if(w()){this.startPosition=this.currentPosition=this.prevPosition=t.position,this.currentElement=t.source,this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width,t.source&&(n={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height});var i={source:Vc(t.source),state:"Start",oldValue:n,newValue:Vc(this.currentElement),cancel:!1};this.tempArgs=i}if(this.undoElement=xh(t.source),this.undoParentElement=this.commandHandler.getSubProcess(t.source),e.prototype.mouseDown.call(this,t),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var r=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),o=0;o<r.length;o++){var a=this.commandHandler.cloneChild(r[o].id);this.childTable[r[o].id]=xh(a)}this.commandHandler.checkSelection(t.source,this.corner),e.prototype.mouseDown.call(this,t),this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width},t.prototype.mouseUp=function(t,n){return yp(this,void 0,void 0,(function(){var i,r,o,a,s,l,c,d,h,p,u;return bp(this,(function(f){switch(f.label){case 0:return w()?(h=xh(t.source),i={width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height,offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},d={oldValue:this.tempArgs.oldValue,newValue:i,cancel:!1,source:Vc(t.source),state:"Completed"},this.canCancel?[3,2]:[4,this.commandHandler.triggerEvent(Hi.sizeChange,d)]):[3,3];case 1:(r=f.sent())&&r.cancel&&(o=this.tempArgs.oldValue.width/h.wrapper.actualSize.width,a=this.tempArgs.oldValue.height/h.wrapper.actualSize.height,this.commandHandler.scaleSelectedItems(o,a,this.getPivot(this.corner))),f.label=2;case 2:this.tempArgs=void 0,this.canCancel=void 0,f.label=3;case 3:return this.checkPropertyValue(),this.commandHandler.removeSnap(),this.commandHandler.updateSelector(),s=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX===s.wrapper.offsetX&&this.undoElement.offsetY===s.wrapper.offsetY&&this.undoElement.width===s.wrapper.bounds.width&&this.undoElement.height===s.wrapper.bounds.height||(w()||(l=this.updateSize(t.source,this.currentPosition,this.prevPosition,this.corner,this.initialBounds),this.blocked=this.scaleObjects(l.width,l.height,this.corner,this.currentPosition,this.prevPosition,s),c={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},d={source:Vc(t.source),state:"Completed",oldValue:c,newValue:c,cancel:!1},this.commandHandler.triggerEvent(Hi.sizeChange,d)),h=xh(t.source),p={type:"SizeChanged",redoObject:xh(h),undoObject:xh(this.undoElement),category:"Internal",childTable:this.childTable},n||(this.commandHandler.startGroupAction(),this.commandHandler.addHistoryEntry(p),h.nodes[0]&&h.nodes[0].processId&&(u={type:"SizeChanged",redoObject:this.commandHandler.getSubProcess(t.source),undoObject:this.undoParentElement,category:"Internal"},this.commandHandler.addHistoryEntry(u)),this.commandHandler.endGroupAction())),this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),[2,!this.blocked]}}))}))},t.prototype.mouseMove=function(t){var n;if(e.prototype.mouseMove.call(this,t),n=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX===n.wrapper.offsetX&&this.undoElement.offsetY===n.wrapper.offsetY){var i={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},r={source:t.source,state:"Start",oldValue:i,newValue:this.currentElement,cancel:!1};w()||this.commandHandler.triggerEvent(Hi.sizeChange,r)}this.currentPosition=t.position;var o={x:this.currentPosition.x-this.startPosition.x,y:this.currentPosition.y-this.startPosition.y};o=jh(-this.currentElement.wrapper.rotateAngle,void 0,void 0,o);this.currentElement.wrapper.actualSize.width,o.x,this.currentElement.wrapper.actualSize.width,this.currentElement.wrapper.actualSize.height,o.y,this.currentElement.wrapper.actualSize.height;o=this.getChanges(o),this.commandHandler.removeSnap();var a=this.updateSize(t.source,this.startPosition,this.currentPosition,this.corner,this.initialBounds);if(this.blocked=!this.scaleObjects(a.width,a.height,this.corner,this.startPosition,this.currentPosition,n),this.commandHandler.canEnableDefaultTooltip()){var s=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,s,"ResizeTool",this.isTooltipVisible),this.isTooltipVisible=!1}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.scaleObjects=function(e,t,n,i,r,o){o instanceof Hd&&1===o.nodes.length&&o.nodes[0].constraints&Ei.AspectRatio&&("ResizeWest"===n||"ResizeEast"===n||"ResizeNorth"===n||"ResizeSouth"===n?1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e)):t=e=i!==r?Math.max(t,e):0);var a={offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height};this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner));var s,l,c={offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height};return s={source:o,state:"Progress",oldValue:a,newValue:c,cancel:!1},l={source:Vc(o),state:"Progress",oldValue:Vc(a),newValue:Vc(c),cancel:s.cancel},w()||this.commandHandler.triggerEvent(Hi.sizeChange,l),(l.cancel||this.canCancel)&&this.commandHandler.scaleSelectedItems(1/e,1/t,this.getPivot(this.corner)),this.blocked},t}(wp),Ep=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.sourceObject=n,i}return vp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setFocus()},t.prototype.mouseMove=function(t){var n;e.prototype.mouseMove.call(this,t);var i={offsetX:this.currentPosition.x,width:3,height:3,offsetY:this.currentPosition.y};if(this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(i)),this.inAction&&!1===Jn.equals(this.currentPosition,this.prevPosition)){var r=di.toBounds([this.prevPosition,this.currentPosition]);(n=this.commandHandler.checkBoundaryConstraints(void 0,void 0,r))&&this.commandHandler.updateNodeDimension(this.drawingObject,r)}return n},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=di.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.checkBoundaryConstraints(void 0,void 0,n),this.drawingObject&&this.drawingObject instanceof Dd&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(wp),Tp=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.sourceObject=i,r}return vp(t,e),t.prototype.mouseDown=function(t){return yp(this,void 0,void 0,(function(){return bp(this,(function(n){return e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setFocus(),[2]}))}))},t.prototype.mouseMove=function(t){if(this.commandHandler.enableServerDataBinding(!1),this.inAction){var n={sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(n)),t.source=this.drawingObject,(t.target||t.actualObject&&t.sourceWrapper&&_c(t.actualObject,t.sourceWrapper))&&("ConnectorTargetEnd"!==this.endPoint||fs(t.target))&&this.commandHandler.connect(this.endPoint,t),this.endPoint="ConnectorTargetEnd"}return this.inAction||(this.commandHandler.updateSelector(),t.source&&t.sourceWrapper&&this.commandHandler.renderHighlighter(t,!0)),e.prototype.mouseMove.call(this,t),this.commandHandler.enableServerDataBinding(!0),!this.blocked},t.prototype.mouseUp=function(t){return yp(this,void 0,void 0,(function(){return bp(this,(function(n){return this.commandHandler.enableServerDataBinding(!1),this.checkPropertyValue(),this.drawingObject&&this.drawingObject instanceof $a&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),this.commandHandler.updateBlazorSelector(),this.inAction=!1,this.commandHandler.enableServerDataBinding(!0),e.prototype.mouseUp.call(this,t),[2]}))}))},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(Sp),kp=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.commandHandler.clearSelection();var n={shape:{type:"Text"},offsetX:this.currentPosition.x,offsetY:this.currentPosition.y};t.source||(this.drawingNode=this.commandHandler.drawObject(n))},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.drawingNode)this.drawingNode.style.strokeColor="black",this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent";else{var n={shape:{type:"Text"},offsetX:this.currentPosition.x,width:30,height:30,style:{strokeDashArray:"2 2",fill:"transparent"},offsetY:this.currentPosition.y};this.drawingNode=this.commandHandler.drawObject(n)}if(this.inAction&&!1===Jn.equals(this.currentPosition,this.prevPosition)){var i=di.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.updateNodeDimension(this.drawingNode,i)}return!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.drawingNode?(this.drawingNode.style.strokeColor="none",this.drawingNode.style.fill="none"):this.drawingNode=t.source,this.drawingNode&&(this.drawingNode instanceof Dd||this.drawingNode instanceof $a)&&this.commandHandler.addText(this.drawingNode,this.currentPosition),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(wp),Ip=function(e){function t(t,n){var i=e.call(this,t)||this;return i.zooming=n,i}return vp(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0,this.commandHandler.setBlazorDiagramProps(!0)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction)if(this.zooming||!1!==Jn.equals(this.currentPosition,this.prevPosition)){if(t.moveTouches&&t.moveTouches.length&&t.moveTouches.length>=2){var n=t.startTouches[0],i=t.startTouches[1],r=t.moveTouches[0],o=t.moveTouches[1],a=this.getDistance(r,o)/this.getDistance(n,i),s=t.position;this.commandHandler.zoom(a,0,0,s),this.updateTouch(n,r),this.updateTouch(i,o)}}else{var l=this.currentPosition.x-this.prevPosition.x,c=this.currentPosition.y-this.prevPosition.y;this.commandHandler.scroll(l,c,this.currentPosition)}return this.commandHandler.dataBinding(),!this.blocked},t.prototype.mouseUp=function(t){this.commandHandler.setBlazorDiagramProps(!1),this.checkPropertyValue(),this.commandHandler.updatePanState(!1),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.getDistance=function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},t.prototype.updateTouch=function(e,t){e.pageX=t.pageX,e.pageY=t.pageY},t}(wp),Ap=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.commandHandler.initExpand(t),e.prototype.mouseUp.call(this,t)},t}(wp),Mp=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),window.open(t.sourceWrapper.hyperlink.link,"_blank").focus(),e.prototype.mouseUp.call(this,t)},t}(wp),jp=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var n=void 0,i=this.drawingObject.shape;n={x:(n=i.points[i.points.length-1]).x,y:n.y},this.drawingObject.shape.points.push(n)}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var r={offsetX:this.currentPosition.x,offsetY:this.currentPosition.y,width:5,height:5,style:{strokeColor:"black",strokeWidth:1},shape:{type:"Basic",shape:"Polygon",points:[{x:this.startPoint.x,y:this.startPoint.y},{x:this.currentPosition.x,y:this.currentPosition.y}]}};w()&&"Basic"===r.shape.type&&(r.shape.basicShape="Polygon"),this.drawingObject=this.commandHandler.drawObject(r)}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var n=this.drawingObject.shape;if(this.drawingObject&&this.currentPosition&&(n.points[n.points.length-1].x=this.currentPosition.x,n.points[n.points.length-1].y=this.currentPosition.y,this.drawingObject.wrapper.children[0].data=ti(this.drawingObject.shape.points),this.inAction&&!1===Jn.equals(this.currentPosition,this.prevPosition))){var i=di.toBounds(this.drawingObject.shape.points);this.commandHandler.updateNodeDimension(this.drawingObject,i)}}return!0},t.prototype.mouseUp=function(t,n){this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&(this.inAction=!1,this.drawingObject&&this.commandHandler.addObjectToDiagram(this.drawingObject)),this.endAction()},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null},t}(wp),Dp=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var n=this.drawingObject;n.targetPoint=this.currentPosition,this.commandHandler.updateConnectorPoints(n)}return!0},t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var n=this.drawingObject,i=void 0;(i=new Ba(n,"segments",{type:"Straight"},!0)).point=this.currentPosition,n.segments[n.segments.length-1]=i}else{var r={id:"Connector",type:"Straight",sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject=this.commandHandler.drawObject(r)}},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&this.drawingObject){var n=this.drawingObject;n.segments[n.segments.length-1].point={x:0,y:0},this.commandHandler.addObjectToDiagram(this.drawingObject)}this.endAction()},t.prototype.endAction=function(){this.drawingObject=null,this.inAction=!1},t}(wp),Lp=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.undoElement=xh(t.source),this.annotationId=t.sourceWrapper.id,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n=this.currentPosition.x-this.prevPosition.x,i=this.currentPosition.y-this.prevPosition.y,r=t.source;if(r instanceof Dd){var o=pi();fi(o,-r.rotateAngle,0,0);var a=ui(o,{x:n,y:i});n=a.x,i=a.y}return this.inAction&&(this.commandHandler.labelDrag(t.source,t.sourceWrapper,n,i),this.commandHandler.updateSelector()),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=t.source;this.inAction=!1;var i={type:"AnnotationPropertyChanged",objectId:this.annotationId,undoObject:xh(this.undoElement),category:"Internal",redoObject:xh(n)};this.commandHandler.addHistoryEntry(i),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(wp),Rp=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.corner=n,i}return vp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.annotationId=t.source.wrapper.children[0].id,this.undoElement=xh(n);var i=t.source.wrapper.children[0];this.initialBounds={x:i.offsetX,y:i.offsetY,width:i.actualSize.width,height:i.actualSize.height},e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){return e.prototype.mouseMove.call(this,t),this.inAction&&this.resizeObject(t),!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.inAction=!1;var i={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:xh(n),undoObject:xh(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(i),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.resizeObject=function(e){var t;t=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0];var n,i,r=e.source.wrapper.children[0],o={x:r.offsetX,y:r.offsetY},a=r.rotateAngle;a=((a+=t instanceof Dd?t.rotateAngle:0)+360)%360;var s=pi();fi(s,a,o.x,o.y);var l=this.corner.slice(5),c=this.updateSize(r,this.startPosition,this.currentPosition,l,this.initialBounds,a),d=r.offsetX-r.actualSize.width*r.pivot.x,h=r.offsetY-r.actualSize.height*r.pivot.y,p=this.getPivot(l),u=ui(s,p={x:d+r.actualSize.width*p.x,y:h+r.actualSize.height*p.y});c.x=u.x,c.y=u.y,n=(n=c.width)<0?1:n,i=(i=c.height)<0?1:i,this.commandHandler.labelResize(t,e.source.annotation,n,i,c,e.source),this.commandHandler.updateSelector()},t}(wp),Np=function(e){function t(t){return e.call(this,t,!0)||this}return vp(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.annotationId=t.source.wrapper.children[0].id;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.undoElement=xh(n),e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),t.source&&this.inAction){var n,i=t.source.nodes[0]?t.source.nodes[0]:t.source.connectors[0];n=t.source.annotation,this.commandHandler.labelRotate(i,n,this.currentPosition,t.source),this.commandHandler.updateSelector()}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.inAction=!1;var n=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0],i={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:xh(n),undoObject:xh(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(i),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(wp),zp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bp=function(e){function t(t,n){var i=e.call(this,t,!0)||this;return i.endPoint=n,i}return zp(t,e),t.prototype.mouseDown=function(t){var n,i=!0;if(t.source&&t.source.connectors&&(n=t.source.connectors[0]),t.info&&(i=t.info.ctrlKey&&"Orthogonal"!==t.actualObject.type),n&&i){this.inAction=!0,this.undoElement=xh(t.source),e.prototype.mouseDown.call(this,t);for(var r=0;r<n.segments.length;r++){var o=n.segments[r];if("OrthoThumb"===this.endPoint)for(var a=0;a<o.points.length-1;a++){var s={x:0,y:0};s.x=(o.points[a].x+o.points[a+1].x)/2,s.y=(o.points[a].y+o.points[a+1].y)/2,dp(this.currentPosition,s,30)&&(this.selectedSegment=o,this.segmentIndex=a)}else dp(this.currentPosition,o.point,10)&&(this.selectedSegment=o)}}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var n=this.currentPosition.y-this.prevPosition.y,i=this.currentPosition.x-this.prevPosition.x;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var r=void 0;if(t.source&&t.source.connectors&&(r=t.source.connectors[0]),this.inAction&&void 0!==this.selectedSegment&&void 0!==this.endPoint&&(0!==i||0!==n)){if("OrthoThumb"===this.endPoint)this.blocked=!this.dragOrthogonalSegment(r,this.selectedSegment,this.currentPosition,this.segmentIndex);else{var o=this.currentPosition.x-this.selectedSegment.point.x,a=this.currentPosition.y-this.selectedSegment.point.y,s=r.segments.indexOf(this.selectedSegment);this.blocked=!this.commandHandler.dragControlPoint(r,o,a,!1,s)}this.commandHandler.updateSelector()}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){var n,i;if(t.source&&t.source.connectors&&(i={segments:(n=t.source.connectors[0]).segments}),t&&t.source&&t.info&&t.info.ctrlKey&&t.info.shiftKey&&"Straight"===n.type)this.addOrRemoveSegment(n,this.currentPosition);else if("OrthoThumb"===this.endPoint&&this.selectedSegment){var r=n.segments.indexOf(this.selectedSegment),o=n.segments[r-1],a=n.segments[r+1];if(r===n.segments.length-2&&this.updateLastSegment(n,this.selectedSegment))n.segments.splice(n.segments.length-2,1);else if(o&&Math.abs(o.length)<5)1!==r&&this.removePrevSegment(n,r);else if(a){var s=Jn.distancePoints(a.points[0],a.points[1]),l=a.length||0===a.length?a.length:s;Math.abs(l)<=5&&this.removeNextSegment(n,r)}this.commandHandler.updateEndPoint(n,i)}if(this.undoElement){var c={type:"SegmentChanged",redoObject:xh(t.source),undoObject:this.undoElement,category:"Internal"};this.commandHandler.addHistoryEntry(c)}e.prototype.mouseUp.call(this,t)},t.prototype.removePrevSegment=function(e,t){var n=e.segments[t-2],i=e.segments[t+1];if(!((i.length||0===i.length?i.length:Jn.distancePoints(i.points[0],i.points[1]))<=5)){var r=e.segments.slice(t-1,t+1),o={element:e,removeSegments:r,type:"Removal",cancel:!1};if(w()&&(o={element:Vc(e),removeSegments:Vc(r),type:"Removal",cancel:o.cancel}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,o),!o.cancel){var a=e.segments[t+1];e.segments.splice(t-1,2);var s=this.selectedSegment;"Left"===s.direction||"Right"===s.direction?(n.points[n.points.length-1].x=a.points[0].x,a.points[0].y=n.points[n.points.length-1].y):(n.points[n.points.length-1].y=a.points[0].y,a.points[0].x=n.points[n.points.length-1].x),(s.length||0===s.length)&&this.findSegmentDirection(n),this.findSegmentDirection(a)}}},t.prototype.findSegmentDirection=function(e){e.direction&&(e.length||0===e.length)&&(e.length=Jn.distancePoints(e.points[0],e.points[e.points.length-1]),e.direction=Jn.direction(e.points[0],e.points[e.points.length-1]))},t.prototype.removeNextSegment=function(e,t){var n,i,r=this.selectedSegment,o=e.segments[t-1],a=e.segments[t+2],s=e.segments[t+1];if(s.length||0===s.length?(n=e.segments.slice(t,2),i={element:e,removeSegments:n,type:"Removal",cancel:!1},i={element:Vc(e),removeSegments:Vc(n),type:"Removal",cancel:!1},w()&&(i={element:Vc(e),removeSegments:Vc(n),type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,i),i.cancel||(e.segments.splice(t,2),"Top"===r.direction||"Bottom"===r.direction?(a.points[0].y=r.points[0].y,o.points[o.points.length-1].x=a.points[0].x):(a.points[0].x=r.points[0].x,o.points[o.points.length-1].y=a.points[0].y))):(n=e.segments.slice(t+1,1),i={element:e,removeSegments:n,type:"Removal",cancel:!1},w()&&(i={element:e,removeSegments:n,type:"Removal",cancel:!1}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,i),i.cancel||(e.segments.splice(t+1,1),"Top"===r.direction||"Bottom"===r.direction?o.points[o.points.length-1].x=s.points[s.points.length-1].x:o.points[o.points.length-1].y=s.points[s.points.length-1].y,this.findSegmentDirection(o),r.length=r.direction=null)),o&&a&&!i.cancel&&(o.length=Jn.distancePoints(o.points[0],a.points[0]),o.direction=Jn.direction(o.points[0],a.points[0]),a.length||0===a.length)){a.length=Jn.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);var l=o.points,c=a.points;a.direction=Jn.direction(l[l.length-1],c[c.length-1])}},t.prototype.addOrRemoveSegment=function(e,t){for(var n,i,r={segments:e.segments},o=0;o<e.segments.length;o++){dp(t,(a=e.segments[o]).point,e.hitPadding)&&(i=o,n=!0)}if(n&&void 0!==i){if(e.segments&&e.segments[i]&&"Straight"===e.segments[i].type){var a=e.segments[i],s=e.segments[i+1];s&&(e.segments.splice(i,1),s.points[0]=a.points[0])}}else{this.commandHandler.enableServerDataBinding(!1);var l=this.findIndex(e,t);if(e.segments&&e.segments[l]&&"Straight"===e.segments[l].type){a=e.segments[l];var c=new Ba(e,"segments",{type:"Straight",point:t},!0);c.points[0]=a.points[0],c.points[1]=t,a.points[0]=t,e.segments.splice(l,0,c),n=!0}this.commandHandler.enableServerDataBinding(!0)}n&&this.commandHandler.updateEndPoint(e,r)},t.prototype.findIndex=function(e,t){for(var n=[],i=0;i<e.segments.length;i++){var r=e.segments[i],o=di.toBounds([r.points[0],r.points[1]]);o.Inflate(e.hitPadding),o.containsPoint(t)&&n.push(r)}if(1===n.length)return e.segments.indexOf(n[0]);var a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,h=void 0;for(i=0;i<n.length;i++)c=n[i],d=(t.y-c.points[0].y)/(c.points[1].y-t.y),h=(t.x-c.points[0].x)/(c.points[1].x-t.x),a=Math.abs(d-h),0===i&&(s=a,l=0),a<s&&(s=a,l=i);return e.segments.indexOf(n[l])},t.prototype.dragOrthogonalSegment=function(e,t,n,i){var r={x:0,y:0},o={segments:e.segments};r.x=(t.points[i].x+t.points[i+1].x)/2,r.y=(t.points[i].y+t.points[i+1].y)/2;var a=n.y-r.y,s=n.x-r.x,l=e.segments.indexOf(t),c=!1;t.points[0].y.toFixed(2),t.points[1].y.toFixed(2);return-1!==l&&(0===l&&1===e.segments.length&&2===t.points.length?(l=this.addSegments(e,t,s,a,l),c=!0):l!==e.segments.length-1||null!==t.direction&&null!==t.length?0===l&&(l=this.insertFirstSegment(e,t,s,a,l),c=!0):(l=this.addTerminalSegment(e,t,s,a,i),c=!0),l&&(c&&(this.selectedSegment=t=e.segments[l],this.segmentIndex=0),this.updateAdjacentSegments(e,l,s,a),this.commandHandler.updateEndPoint(e,o))),!0},t.prototype.addSegments=function(e,t,n,i,r){var o,a,s,l=[],c=Jn.distancePoints(t.points[0],t.points[1]),d=Jn.direction(t.points[0],t.points[1]);l.push(new _a(e,"segments",{type:"Orthogonal",direction:d,length:c/4},!0)),a=t.points[0].y===t.points[1].y?i>0?"Bottom":"Top":n>0?"Right":"Left",s=t.points[0].x===t.points[1].x?i:n,l.push(new _a(e,"segments",{type:"Orthogonal",direction:a,length:s},!0)),l.push(new _a(e,"segments",{type:"Orthogonal",direction:d,length:c/2},!0));var h={element:e,addSegments:l,type:"Addition",cancel:!1};return w()&&(h={addSegments:Vc(l),type:"Addition",cancel:h.cancel,element:Vc(e)}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,h),h.cancel||(e.segments=l.concat(e.segments),o=r+2),o},t.prototype.insertFirstSegment=function(e,t,n,i,r){var o,a,s,l,c,d=[];if(e.sourcePortID&&t.length&&e.segments[0].points.length>2)for(var h=void 0,p=0;p<t.points.length-1;p++){var u=Jn.distancePoints(t.points[p],t.points[p+1]),f=Jn.direction(t.points[p],t.points[p+1]);0===(c=new _a(e,"segments",{type:"Orthogonal",direction:f,length:u},!0)).length&&(!h||"Top"!==h.direction&&"Bottom"!==h.direction?c.direction=i>0?"Bottom":"Top":c.direction=n>0?"Right":"Left"),h=c,d.push(c)}else s={type:"Orthogonal",direction:t.direction,length:t.length/3},d.push(new _a(e,"segments",s,!0)),"Bottom"===t.direction||"Top"===t.direction?(a=Math.abs(n),o=n>0?"Right":"Left"):(a=Math.abs(i),o=i>0?"Bottom":"Top"),c=new _a(e,"segments",{type:"Orthogonal",direction:o,length:a},!0),d.push(c);var g={element:e,addSegments:d,type:"Addition",cancel:!1};if(w()&&(g={element:Vc(e),addSegments:Vc(d),type:"Addition",cancel:g.cancel}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,g),!g.cancel){if(e.sourcePortID&&t.length&&e.segments[0].points.length>2)e.segments.splice(0,1),l=1;else{var m=e.segments[1];m&&m.length&&(m.length=o!==m.direction?m.length+a:m.length-a),l=2,t.length=2*t.length/3}e.segments=d.concat(e.segments)}return l},t.prototype.updateAdjacentSegments=function(e,t,n,i){var r=e.segments[t],o=r.points[r.points.length-1],a=r.points[0],s=!0;if("Orthogonal"===r.type&&(r.points[0]=a,r.points[r.points.length-1]=o,e.segments[t-1]&&(s=this.updatePreviousSegment(n,i,e,t)),e.segments.length-1>t&&s)){var l=e.segments[t+1];this.updateNextSegment(e,r,l,n,i)}},t.prototype.addTerminalSegment=function(e,t,n,i,r){e.segments;var o,a,s,l,c=e.segments.indexOf(t),d=[],h=e.segments.pop(),p=e.segments[e.segments.length-1];o=p&&"Orthogonal"===p.type?p:null;for(var u=0;u<t.points.length-2;u++)s=Jn.distancePoints(t.points[u],t.points[u+1]),l=Jn.direction(t.points[u],t.points[u+1]),a=new _a(e,"segments",{type:"Orthogonal",length:s,direction:l},!0),d.push(a),o=a;var f=r;if((2===t.points.length||f===t.points.length-2)&&(o&&(o.length+=5),void 0!==f)){var g;s=2*Jn.distancePoints(t.points[t.points.length-2],t.points[t.points.length-1])/3,l=Jn.direction(t.points[t.points.length-2],t.points[t.points.length-1]),g=new _a(e,"segments",{type:"Orthogonal",length:s,direction:l}),d.push(g)}var m=new _a(e,"segments",{type:"Orthogonal"},!0);d.push(m);var v,y=!1;return v={element:Vc(e),addSegments:Vc(d),type:"Addition",cancel:y},w()&&(v={element:Vc(e),addSegments:Vc(d),type:"Addition",cancel:y}),this.commandHandler.triggerEvent(Hi.segmentCollectionChange,v),v.cancel?e.segments.push(h):(e.segments=e.segments.concat(d),c+=r),this.commandHandler.updateEndPoint(e),c},t.prototype.updatePortSegment=function(e,t,n,i,r){if(1===n&&2===e.points.length&&e.length<0){var o=t.sourceWrapper.corners,a=t.segments[n],s=t.segments[n+1],l=void 0,c=[];l=new _a(t,"segments",{type:"Orthogonal",length:13,direction:e.direction}),c.push(l);var d=void 0;d="Left"===a.direction?a.points[0].x-(o.middleLeft.x-20):"Right"===a.direction?o.middleRight.x+20-a.points[0].x:"Bottom"===a.direction?o.bottomCenter.y+20-a.points[0].y:a.points[0].y-(o.topCenter.y-20);a.direction;l=new _a(t,"segments",{type:"Orthogonal",length:d,direction:a.direction}),c.push(l),a.length=a.length-d,s&&s.length&&s.direction&&(s.direction===e.direction?s.length-=13:s.direction===yo(e.direction)&&(s.length+=13)),t.segments=c.concat(t.segments),this.selectedSegment=t.segments[3]}},t.prototype.updatePreviousSegment=function(e,t,n,i){var r=n.segments[i],o=n.segments[i-1];o.points[o.points.length-1]=r.points[0];var a=!n.sourceID||""!==n.sourcePortID,s=!0;return"Orthogonal"===o.type&&("Bottom"===o.direction?o.length+=t:"Top"===o.direction?o.length-=t:"Right"===o.direction?o.length+=e:o.length-=e,""!==n.sourcePortID&&o.length<0?this.updatePortSegment(o,n,i,e,t):n.sourceID&&""===n.sourcePortID&&o.length<0&&1===i&&(s=!1,this.updateFirstSegment(n,r)),a&&this.changeSegmentDirection(o)),s},t.prototype.changeSegmentDirection=function(e){e.length<0&&(e.direction=yo(e.direction),e.length*=-1)},t.prototype.updateNextSegment=function(e,t,n,i,r){t.points[t.points.length-1];n.points[0]=t.points[t.points.length-1],n&&"Orthogonal"===n.type&&(n.length||0===n.length)&&("Left"===n.direction||"Right"===n.direction?0!==i&&(n.length="Right"===n.direction?n.length-i:n.length+i,(n.length||0===n.length)&&this.changeSegmentDirection(n)):0!==r&&(n.length="Bottom"===n.direction?n.length-r:n.length+r,(n.length||0===n.length)&&this.changeSegmentDirection(n)))},t.prototype.updateFirstSegment=function(e,t){var n,i=e.segments.indexOf(t),r=!1,o=e.segments[i],a=e.segments[i-1],s={segments:e.segments};if(a.length<0&&e.sourceID){var l=e.sourceWrapper.corners,c=[],d=void 0,h=!1;this.changeSegmentDirection(o);var p=e.segments[i+1],u=e.segments[i+2];switch(p&&this.changeSegmentDirection(p),u&&this.changeSegmentDirection(u),a.direction){case"Top":case"Bottom":n=o.length>0&&"Left"===o.direction?l.middleLeft:l.middleRight,o.length>l.width/2?Math.abs(a.length)<l.height/2&&(a.length=Jn.distancePoints(l.center,a.points[a.points.length-1]),o.points[0].x=n.x,o.length=Jn.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,r=!0):(p&&p.direction&&p.length&&(p.points[0].y=n.y,p.points[0].x=p.points[p.points.length-1].x="Right"===o.direction?n.x+20:n.x-20),r=!0,h=!0);break;case"Left":case"Right":n=o.length>0&&"Top"===o.direction?l.topCenter:l.bottomCenter,o.length>l.height/2?Math.abs(a.length)<l.width/2&&(a.length=Jn.distancePoints(l.center,a.points[a.points.length-1]),o.points[0].y=n.y,o.length=Jn.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,r=!0):(p&&p.direction&&p.length&&(p.points[0].x=n.x,p.points[0].y=p.points[p.points.length-1].y="Bottom"===o.direction?n.y+20:n.y-20),r=!0,h=!0)}this.changeSegmentDirection(a),this.changeSegmentDirection(o),r&&(d={type:"Orthogonal",direction:o.direction,length:20},c.push(new _a(e,"segments",d,!0)),h&&(p&&p.direction&&p.length&&(p.length=Jn.distancePoints(p.points[0],p.points[p.points.length-1])),u&&u.direction&&u.length&&(u.length=Jn.distancePoints(p.points[p.points.length-1],u.points[u.points.length-1])),e.segments.splice(i-1,2)),e.segments=c.concat(e.segments)),this.selectedSegment=h?e.segments[i-1]:e.segments[i+1],this.commandHandler.updateEndPoint(e,s)}},t.prototype.updateLastSegment=function(e,t){if(e.targetID&&""===e.targetPortID){var n=void 0,i=void 0,r=void 0,o=void 0,a=e.targetWrapper.corners,s=t.points[0],l=t.points[t.points.length-1];return"Right"===t.direction||"Left"===t.direction?(n={x:s.x,y:s.y},i={x:"Left"===t.direction?l.x-a.width/2:l.x+a.width/2,y:l.y},r={x:a.center.x,y:a.center.y-a.height},o={x:a.center.x,y:a.center.y+a.height}):(n={x:s.x,y:s.y},i={x:l.x,y:"Bottom"===t.direction?l.y+a.height/2:l.y-a.height/2},r={x:a.center.x-a.width,y:a.center.y},o={x:a.center.x+a.width,y:a.center.y}),Ql({x1:n.x,y1:n.y,x2:i.x,y2:i.y},{x1:r.x,y1:r.y,x2:o.x,y2:o.y}).enabled}return!1},t.prototype.destroy=function(){},t.prototype.getModuleName=function(){return"ConnectorEditingTool"},t}(wp),Hp=function(){function e(e,t){this.currentAction="None",this.previousAction="None",this.focus=!1,this.isBlocked=!1,this.isMouseDown=!1,this.inAction=!1,this.doingAutoScroll=!1,this.diagram=null,this.objectFinder=null,this.tool=null,this.eventArgs=null,this.keyArgs={},this.diagram=e,this.objectFinder=new _p,this.commandHandler=t}return Object.defineProperty(e.prototype,"action",{get:function(){return this.currentAction},set:function(e){e!==this.currentAction&&("PortDraw"===this.currentAction&&(this.diagram.tool&=~Ai.DrawOnce,this.tool&&this.tool.mouseUp({position:this.currentPosition}),this.tool=null),"Rotate"===e||"LabelRotate"===e?this.diagram.diagramCanvas.classList.add("e-diagram-rotate"):"Rotate"!==this.currentAction&&"LabelRotate"!==this.currentAction||this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),this.currentAction=e,"None"===this.currentAction||"Select"===this.currentAction||this.diagram.diagramActions&Ri.TextEdit?this.diagram.diagramActions=this.diagram.diagramActions&~Ri.ToolAction:this.diagram.diagramActions=this.diagram.diagramActions|Ri.ToolAction,this.diagram.setCursor(this.diagram.getCursor(e,this.inAction)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blocked",{get:function(){return this.isBlocked},set:function(e){this.isBlocked=e,this.blocked?this.diagram.setCursor("not-allowed"):this.diagram.setCursor(this.diagram.getCursor(this.action,this.inAction))},enumerable:!0,configurable:!0}),e.prototype.getMousePosition=function(e){var t,n,i;-1!==e.type.indexOf("touch")?(n=(t=e).changedTouches[0].clientX,i=t.changedTouches[0].clientY):(n=e.clientX,i=e.clientY);var r=new Kn;r=rs(this.diagram);var o=this.diagram.element.getBoundingClientRect();return n=n+this.diagram.diagramCanvas.scrollLeft-o.left-r.width,i=i+this.diagram.diagramCanvas.scrollTop-o.top-r.height,n/=this.diagram.scroller.transform.scale,i/=this.diagram.scroller.transform.scale,{x:n-=this.diagram.scroller.transform.tx,y:i-=this.diagram.scroller.transform.ty}},e.prototype.windowResize=function(e){var t=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){t.updateViewPortSize(t.diagram.element)}),300),!1},e.prototype.updateViewPortSize=function(e){var t=document.getElementById(e.id);if(t){var n=t.getBoundingClientRect();this.diagram.scroller.setViewPortSize(n.width,n.height);var i=new Kn;i=rs(this.diagram);var r=this.diagram.getSizeValue(this.diagram.width,i.width),o=this.diagram.getSizeValue(this.diagram.height,i.height);this.diagram.diagramCanvas.style.width=r,this.diagram.diagramCanvas.style.height=o,this.diagram.scroller.setSize(),this.diagram.transformLayers(),this.diagram.rulerSettings.showRulers&&ns(this.diagram)}},e.prototype.canHideResizers=function(){return(this.tool instanceof Cp||this.tool instanceof Op)&&this.isMouseDown},e.prototype.updateCursor=function(){if(1===this.diagram.selectedItems.nodes.length||1===this.diagram.selectedItems.connectors.length){var e=[];e=e.concat(this.diagram.selectedItems.nodes,this.diagram.selectedItems.connectors),this.blocked=this.isMouseDown&&1===e.length&&this.tool instanceof xp&&!ls(e[0])}},e.prototype.isForeignObject=function(e,t){var n=e;if(n)for(;null!==n.parentNode;){if("string"===typeof n.className&&(!t&&-1!==n.className.indexOf("foreign-object")||t&&-1!==n.className.indexOf("e-diagram-text-edit")))return n;n=n.parentNode}return null},e.prototype.isMetaKey=function(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey},e.prototype.renderUmlHighLighter=function(e){this.diagram.commandHandler.removeStackHighlighter();var t=this.diagram.selectedItems.nodes[0];if(t&&t.container&&"Stack"===t.container.type&&"UmlClassifier"===t.shape.type&&!t.wrapper.bounds.containsPoint(this.currentPosition)){var n=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),i=this.diagram.findObjectUnderMouse(n,this.action,this.inAction);if(i&&i.parentId&&i.parentId===t.id){var r="Vertical"===this.diagram.nameTable[i.parentId].container.orientation;al(i.wrapper,r,e.position,this.diagram,!0)}}},e.prototype.isDeleteKey=function(e,t){return navigator.platform.match("Mac")&&"Backspace"===e&&"delete"===t},e.prototype.isMouseOnScrollBar=function(e){var t,n,i,r,o=e.offsetX,a=e.offsetY,s=this.diagram.diagramCanvas,l=s.offsetHeight,c=s.offsetWidth;return!!(l<s.scrollHeight&&(t={x:c-17,y:0},n={x:c,y:0},i={x:c-17,y:l},r={x:c,y:l},di.toBounds([t,n,i,r]).containsPoint({x:o,y:a})))||!!(c<s.scrollWidth&&(t={x:0,y:l-17},n={x:c,y:l-17},i={x:0,y:l},r={x:c,y:l},di.toBounds([t,n,i,r]).containsPoint({x:o,y:a})))},e.prototype.updateVirtualization=function(){var e,t=this;e=setInterval((function(n){t.diagram.removeVirtualObjects(e)}),50),setTimeout((function(){t.diagram.deleteVirtualObject=!0}),50)},e.prototype.checkPreviousAction=function(){if(this.action!==this.previousAction&&this.diagram.selectedItems.userHandles.length)for(var e=0;e<this.diagram.selectedItems.userHandles.length;e++)this.previousAction&&this.diagram.selectedItems.userHandles[e]&&(this.checkUserHandleEvent(Hi.onUserHandleMouseLeave),this.previousAction="None")},e.prototype.checkUserHandleEvent=function(e){if(this.diagram.selectedItems&&this.diagram.selectedItems.userHandles.length>0)for(var t=e===Hi.onUserHandleMouseLeave?this.previousAction:this.action,n={element:void 0},i=0;i<this.diagram.selectedItems.userHandles.length;i++)if(t===this.diagram.selectedItems.userHandles[i].name||e===Hi.onUserHandleMouseUp&&"Select"===t){n.element=this.diagram.selectedItems.userHandles[i],e===Hi.onUserHandleMouseEnter&&(this.previousAction=this.action),e===Hi.onUserHandleMouseDown&&(this.userHandleObject=this.diagram.selectedItems.userHandles[i].name);var r=document.getElementById(this.diagram.selectedItems.userHandles[i].name+"_userhandle");e===Hi.onUserHandleMouseUp?this.commandHandler.isUserHandle(this.currentPosition)&&r&&r.id===this.userHandleObject+"_userhandle"&&this.diagram.triggerEvent(e,n):this.diagram.triggerEvent(e,n)}},e.prototype.mouseDown=function(e){var t;if(this.focus=!0,t=e.touches,this.isMouseOnScrollBar(e))return this.isScrolling=!0,void e.preventDefault();if(this.checkUserHandleEvent(Hi.onUserHandleMouseDown),!this.checkEditBoxAsTarget(e)&&Ts(this.diagram)||Cs(this.diagram)&&!Es(this.diagram))if("Select"!==this.action&&"Drag"!==this.action||this.diagram.updatePortVisibility(this.hoverElement,xi.Hover,!0),!(this.tool instanceof jp||this.tool instanceof Dp)||2!==e.button&&2!==e.buttons)if(!0===this.inAction&&!0===this.isMouseDown&&(this.tool instanceof jp||this.tool instanceof Dp))this.isMouseDown=!0,this.eventArgs={},this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs);else{this.isMouseDown=!0,this.currentPosition=this.prevPosition=this.getMousePosition(e),this.eventArgs={},this.diagram.textEditing&&!this.isMouseOnScrollBar(e)&&(this.diagram.endEdit(),this.diagram.textEditing=!1);var n=void 0,i=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action),r=this.objectFinder.findObjectUnderMouse(this.diagram,i,this.action,this.inAction,this.eventArgs,this.currentPosition),o=null;null!==r&&(o=this.diagram.findElementUnderMouse(r,this.currentPosition))&&(n=this.commandHandler.findTarget(o,r)),this.action=this.diagram.findActionToBeDone(r,o,this.currentPosition,n);var a=this.isMetaKey(e);if(a&&e.shiftKey&&this.diagram.connectorEditingToolModule?this.action="SegmentEnd":!a&&!e.shiftKey||Cs(this.diagram)||(this.action="Select"),this.tool=this.diagram.getTool(this.action),this.tool||(this.action="Select",this.tool=this.diagram.getTool(this.action)),this.getMouseEventArgs(this.currentPosition,this.eventArgs),a||e.shiftKey){var s=a&&e.shiftKey?{ctrlKey:a,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=s}this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs),this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.inAction=!1,"touchstart"===e.type&&(t&&t.length>=2&&(this.touchStartList=sh(this.touchStartList,0,t)),t||e.preventDefault())}else{Vc(this.diagram),Vc(this.currentPosition),e.buttons,Vc(this.eventArgs.actualObject),0===e.button||e.button;this.inAction=!1,this.tool.mouseUp(this.eventArgs)}this.isForeignObject(e.target)||this.isForeignObject(e.target,!0)||t||e.preventDefault()},e.prototype.mouseMoveExtend=function(e,t){(this.tool instanceof jp||this.tool instanceof Dp)&&this.tool.mouseMove(this.eventArgs),this.diagram.scrollSettings.canAutoScroll?this.checkAutoScroll(e):this.blocked||this.tool.mouseMove(this.eventArgs),this.eventArgs.target&&(this.hoverElement=this.eventArgs.target);var n=!(this.eventArgs.target instanceof Dd&&t instanceof Dd);this.tool instanceof Sp&&this.diagram.updatePortVisibility(this.hoverElement instanceof Dd?this.hoverElement:this.hoverNode,xi.Connect|xi.Hover,n),this.hoverElement instanceof Dd&&this.hoverNode instanceof Dd&&this.hoverNode&&this.hoverNode.id!==this.hoverElement.id&&this.diagram.updatePortVisibility(this.hoverNode,xi.Connect|xi.Hover,!0),this.hoverElement=n?null:t,this.hoverNode=n?null:t},e.prototype.checkAction=function(e){if("LabelSelect"===this.action&&this.eventArgs.sourceWrapper&&(this.eventArgs.sourceWrapper instanceof or||this.eventArgs.sourceWrapper instanceof Ta)){var t=this.commandHandler.findTarget(this.eventArgs.sourceWrapper,this.eventArgs.source);!up(this.diagram,t,!1,this.eventArgs.sourceWrapper)&&ls(t)&&(this.action="LabelDrag",this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))}else ls(e)&&ss(e)&&this.initialEventArgs&&this.initialEventArgs.source&&"Select"===this.action&&(!up(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof Hd&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),e instanceof $a&&(!(e instanceof $a)||dp(this.currentPosition,e.sourcePoint,e.hitPadding)||dp(this.currentPosition,e.targetPoint,e.hitPadding))||(this.action="Drag"),this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))},e.prototype.isSwimlaneElements=function(e){return!e||!(e.isLane||e.isPhase||e.isHeader)},e.prototype.mouseMove=function(e,t){var n,i;if(this.focus=!0,this.isScrolling)e.preventDefault();else if(Ts(this.diagram)||Cs(this.diagram)&&!Es(this.diagram)){this.currentPosition=this.getMousePosition(e);var r=this.diagram.findObjectsUnderMouse(this.currentPosition),o=this.diagram.findObjectUnderMouse(r,this.action,this.inAction);n=this.diagram,i=this.currentPosition,n.rulerSettings.showRulers&&(n.hRuler.drawRulerMarker(n.hRuler.element,i,n.scroller.horizontalOffset),n.vRuler.drawRulerMarker(n.vRuler.element,i,n.scroller.verticalOffset));var a=!1,s=void 0;if("touchmove"===e.type&&(t=e.touches)&&t.length>1&&(this.touchMoveList=sh(this.touchMoveList,0,t),"PinchZoom"!==this.action&&(a=!0)),!1===Jn.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown||a){this.eventArgs={};var l=null;if(null!==o){if(l=this.diagram.findElementUnderMouse(o,this.currentPosition),o!==this.hoverElement){var c=this.getContent();this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&""!==c&&this.elementLeave(),this.diagram.updatePortVisibility(this.hoverElement,xi.Hover,!0),o instanceof Dd&&(this.hoverNode=o);var d=!0;!this.isSwimlaneElements(o)&&this.hoverElement&&this.isSwimlaneElements(this.hoverElement)&&(d=!1),this.hoverElement=d?o:this.hoverElement,d?this.elementEnter(this.currentPosition,!1):this.hoverElement=o}else this.hoverElement||this.hoverElement!==o||this.elementEnter(this.currentPosition,!0);l&&(s=this.commandHandler.findTarget(l,o))}this.action=this.diagram.findActionToBeDone(o,l,this.currentPosition,s),this.checkUserHandleEvent(Hi.onUserHandleMouseEnter),this.checkPreviousAction(),this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.tool=this.getTool(this.action),this.mouseEvents(),this.tool instanceof Tp||this.tool instanceof Dp||this.tool instanceof jp?this.tool.mouseMove(this.eventArgs):t&&this.tool instanceof Ip&&this.tool.mouseDown(this.eventArgs),this.updateCursor(),this.renderUmlHighLighter(this.eventArgs);var h=!1;(!this.hoverElement||this.tool instanceof Ip||!(o instanceof Dd)||!this.isSwimlaneElements(o)||0!==this.diagram.selectedItems.nodes.length&&up(this.diagram,this.hoverElement))&&(h=!0),this.diagram.updatePortVisibility(this.hoverElement,xi.Hover,h);var p=this.getContent();null===o&&this.hoverElement&&"Auto"===this.hoverElement.tooltip.openOn&&p&&(this.hoverElement=null,this.elementLeave()),a=!1}else{if(this.eventArgs.position=this.currentPosition,"Drag"===this.action&&!up(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof Hd&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.mouseEvents(),e.ctrlKey||e.shiftKey){var u=e.ctrlKey&&e.shiftKey?{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=u}this.checkAction(o);var f=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,f),this.updateCursor(),this.inAction=!0,this.initialEventArgs=null,"Drag"!==this.action&&"Rotate"!==this.action||(this.diagram.diagramActions=this.diagram.diagramActions|Ri.Interactions),this.mouseMoveExtend(e,o)}this.prevPosition=this.currentPosition,this.isForeignObject(e.target,!0)||e.preventDefault()}}},e.prototype.getContent=function(){return this.hoverElement instanceof Dd&&this.hoverElement.constraints&Ei.Tooltip||this.hoverElement instanceof $a&&this.hoverElement.constraints&Oi.Tooltip?this.hoverElement.tooltip.content:this.diagram.tooltip.content},e.prototype.checkAutoScroll=function(e){var t=this.startAutoScroll(e);if(!t&&this.doingAutoScroll)this.doingAutoScroll=!1,clearInterval(this.timeOutValue);else if(t){if((this.tool instanceof Cp||this.tool instanceof Pp||this.tool instanceof xp)&&this.inAction){var n=this;this.diagram.scrollSettings.canAutoScroll&&t&&!this.doingAutoScroll&&(this.doingAutoScroll=!0,this.timeOutValue=setInterval((function(i){n.doAutoScroll(t,e,100)}),100))}}else this.blocked=!this.tool.mouseMove(this.eventArgs)},e.prototype.mouseUp=function(e){var t;if(this.checkUserHandleEvent(Hi.onUserHandleMouseUp),"SVG"===this.diagram.mode&&ws(this.diagram)&&this.updateVirtualization(),this.diagram.previousSelectedObject=null,this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Ni.DrawSelectorBorder),t=e.touches,this.isScrolling)return this.isScrolling=!1,void e.preventDefault();if(!this.checkEditBoxAsTarget(e)&&Ts(this.diagram)||Cs(this.diagram)&&!Es(this.diagram)){if(this.tool&&(!(this.tool instanceof jp||this.tool instanceof Dp)||(this.tool instanceof jp||this.tool instanceof Dp)&&2===e.detail)){if(!this.isForeignObject(e.target)&&this.isMouseDown&&document.getElementById(this.diagram.element.id+"content").focus(),!this.inAction&&3!==e.which&&"Drag"===this.action){this.action="Select";var n=this.diagram.findObjectsUnderMouse(this.currentPosition),i=this.diagram.findObjectUnderMouse(n,this.action,this.inAction),r=!0;!e.ctrlKey&&this.isMouseDown&&this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>1&&1===e.which&&!(this.diagram.diagramActions&Ri.PreventClearSelection)&&(r=!1,this.commandHandler.clearSelection()),up(this.diagram,i)&&r||this.commandHandler.selectObjects([i])}var o=this.updateContainerProperties(),a=void 0;if(this.addUmlNode(),this.inAction=!1,this.isMouseDown=!1,this.currentPosition=this.getMousePosition(e),this.diagram.selectedObject.helperObject&&(a=this.updateContainerBounds()),this.tool&&(this.tool.prevPosition||this.tool instanceof Mp)){this.eventArgs.position=this.currentPosition;var s=this.getConnectorPadding(this.eventArgs);this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source,s);var l=this.isMetaKey(e);if(l||e.shiftKey){var c=l&&e.shiftKey?{ctrlKey:l,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=c}if(this.diagram.diagramActions&Ri.Interactions&&(this.diagram.diagramActions=this.diagram.diagramActions&~Ri.Interactions),this.eventArgs.clickCount=e.detail,this.diagram.selectedObject.helperObject&&(this.tool instanceof Cp||this.tool instanceof Pp)){if(this.diagram.selectedObject.actualObject&&""!==this.diagram.selectedObject.actualObject.parentId){var d=this.diagram.getObject(this.diagram.selectedObject.actualObject.parentId);d&&d.isLane&&(this.commandHandler.isContainer=!0)}this.tool.mouseUp(this.eventArgs,o.isPreventHistory)}else this.tool.mouseUp(this.eventArgs),!this.diagram.checkMenu||-1===window.navigator.userAgent.indexOf("Linux")&&-1===window.navigator.userAgent.indexOf("X11")||(this.diagram.contextMenuModule.contextMenu.open(e.pageY,e.pageX,this.diagram.element),this.diagram.checkMenu=!1);o.hasStack&&this.diagram.endGroupAction()}if(a&&this.diagram.endGroupAction(),this.updateContainerBounds(!0),2!==this.eventArgs.clickCount&&this.commandHandler.updateSelectedNodeProperties(this.eventArgs.source),this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0}),this.blocked=!1,this.hoverElement){var h=xi.Connect;up(this.diagram,this.hoverElement)&&(h|=xi.Hover),this.diagram.updatePortVisibility(this.hoverElement,h,!0),this.hoverElement=null}this.touchStartList=null,this.touchMoveList=null,this.tool instanceof kp||(this.tool=null)}t||e.preventDefault(),this.diagram.currentDrawingObject=void 0;var p=this.diagram.selectedItems,u=!1;if(this.commandHandler.isUserHandle(this.currentPosition)&&this.isForeignObject(e.target)&&(u=!0),!this.inAction&&p.wrapper&&p.userHandles.length>0&&!u&&this.diagram.renderSelector(!0),!this.inAction&&!this.diagram.currentSymbol&&this.eventArgs){var f={element:Vc(this.eventArgs.source)||Vc(this.diagram),position:Vc(this.eventArgs.position),count:e.detail,actualObject:Vc(this.eventArgs.actualObject),button:0===e.button?"Left":1===e.button?"Middle":"Right"};w()&&this.diagram.click&&(f=this.getBlazorClickEventArgs(f)),this.diagram.triggerEvent(Hi.click,f)}this.eventArgs={}}this.eventArgs={},this.diagram.commandHandler.removeStackHighlighter()},e.prototype.getConnectorPadding=function(e){var t,n=e.source;if(n&&n instanceof Hd&&n.connectors.length){var i=n.connectors[0];t=i.constraints&Oi.ConnectToNearByPort?i.connectionPadding:0}return t||0},e.prototype.getBlazorClickEventArgs=function(e){return e={element:this.eventArgs.source?{selector:Vc(this.eventArgs.source)}:{diagram:Vc(this.diagram)},position:Vc(this.eventArgs.position),count:e.count,actualObject:this.eventArgs.actualObject?{selector:Vc(this.eventArgs.actualObject)}:{diagram:Vc(this.diagram)},button:e.button},this.eventArgs.source instanceof Dd?(e.element.selector.nodes=[],e.element.selector.nodes.push(Vc(this.eventArgs.source))):this.eventArgs.source instanceof $a&&(e.element.selector.connectors=[],e.element.selector.connectors.push(Vc(this.eventArgs.source))),e},e.prototype.addSwimLaneObject=function(e){var t,n,i,r,o,a,s=0,l=e.shape,c=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);if(n||(n=this.diagram.findObjectUnderMouse(c,this.action,this.inAction)),this.diagram.clearSelectorLayer(),n&&!(n.isLane||n.isPhase||n.isHeader))for(var d=0;d<c.length;d++){var h=this.diagram.nameTable[c[d].id];(h.isLane||h.isPhase||h.isHeader)&&(n=h)}if(n&&(l.isPhase||l.isLane&&n.isLane)){var p=n.parentId;t=this.diagram.nameTable[p]}if(t&&(i=t.shape,o=l.isLane?l.orientation===i.orientation:l.orientation!==i.orientation),o&&n){if(i.header&&i.hasHeader&&"Horizontal"===i.orientation&&(s=1),i.phases.length>0&&(s+=1),l.isPhase){a="Horizontal"===i.orientation?this.currentPosition.x-t.wrapper.bounds.x:this.currentPosition.y-(t.wrapper.bounds.y+i.header.height);var u={id:mh(),offset:a,header:{annotation:{content:"Phase"}}};this.diagram.addPhases(t,[u])}else{l.lanes[0].header.height;var f={id:mh(),style:l.lanes[0].style,header:{annotation:{content:l.lanes[0].header.annotation.content,style:l.lanes[0].header.annotation.style},style:l.lanes[0].header.style}};"Horizontal"===l.orientation?f.height=l.lanes[0].height:f.width=l.lanes[0].width,"Horizontal"===i.orientation?(r=n.rowIndex?n.rowIndex:this.diagram.nameTable[n.parentId].rowIndex,n.wrapper.offsetY<this.currentPosition.y&&(r+=1)):(r=n.columnIndex?n.columnIndex:this.diagram.nameTable[n.parentId].columnIndex,this.currentPosition.x<n.wrapper.bounds.center.x&&(r-=1)),i.lanes.length>r-s?(f.header.width=i.lanes[r-s].header.width,f.header.height=i.lanes[r-s].header.height):(f.header.width=i.lanes[r-s-1].header.width,f.header.height=i.lanes[r-s-1].header.height),this.diagram.addLanes(t,[f],r-s)}this.commandHandler.select(t)}else if(l.isLane){var g={id:mh(),width:e.width,height:e.height,addInfo:e.addInfo,shape:{type:"SwimLane",header:{annotation:{content:"Header"},height:50,style:l.lanes[0].header.style},phases:[{id:mh(),header:{annotation:{content:"Phase"}}}],lanes:[{id:mh(),height:e.height,width:e.width,style:l.lanes[0].style,header:{annotation:{content:l.lanes[0].header.annotation.content,style:l.lanes[0].header.annotation.style},style:l.lanes[0].header.style}}],orientation:l.orientation}};"Vertical"===l.orientation&&(g.width+=20),g.offsetX=this.currentPosition.x+g.width/2,g.offsetY=this.currentPosition.y+g.height/2,this.diagram.add(g)}},e.prototype.mouseLeave=function(e){(this.tool&&this.inAction&&this.tool.mouseLeave(this.eventArgs),this.diagram.selectedObject.helperObject)&&(this.updateContainerProperties(),this.updateContainerBounds()&&this.diagram.endGroupAction());this.eventArgs&&this.eventArgs.source&&(this.diagram.updatePortVisibility(this.eventArgs.source,xi.Hover,!0),this.hoverElement=null),this.tool instanceof Sp&&this.eventArgs&&this.eventArgs.target&&this.eventArgs.target instanceof Dd&&(this.diagram.updatePortVisibility(this.eventArgs.target,xi.Hover|xi.Connect,!0),this.hoverElement=null);var t=this.diagram.selectedItems;t&&t.wrapper&&this.diagram.renderSelector(!0),(this.diagram.diagramActions&Ri.Interactions||this.diagram.diagramActions&Ri.ToolAction)&&(this.diagram.diagramActions=this.diagram.diagramActions&~Ri.ToolAction),this.isMouseDown=!1,this.focus=!1,this.touchStartList=null,this.touchMoveList=null,this.elementLeave(),this.commandHandler.removeSnap(),this.inAction=!1,this.eventArgs={},this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0}),this.tool=null,function(){var e,t,n=document.getElementsByClassName("e-d-ruler-marker");if(n&&n.length>0)for(t=n.length-1;t>=0;t--)(e=n[t])&&e.parentNode.removeChild(e)}(),"Rotate"===this.action&&this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),e.preventDefault()},e.prototype.mouseWheel=function(e){this.diagram.blazorActions=wi.interaction;var t=e.wheelDelta>0||-40*e.detail>0,n=this.getMousePosition(e);if(this.diagram.tooltipObject.close(),this.isMetaKey(e))this.diagram.zoom(t?1.2:1/1.2,n),e.preventDefault();else{var i=this.diagram.scroller.horizontalOffset,r=this.diagram.scroller.verticalOffset,o=t?20:-20;this.tool&&(this.tool instanceof jp||this.tool instanceof Dp)&&(this.eventArgs={},this.getMouseEventArgs(n,this.eventArgs),this.eventArgs.position=n,this.tool.mouseWheel(this.eventArgs)),e.shiftKey?this.diagram.scroller.zoom(1,o,0,n):this.diagram.scroller.zoom(1,0,o,n),i===this.diagram.scroller.horizontalOffset&&r===this.diagram.scroller.verticalOffset||e.preventDefault()}if(this.diagram.textEditing){if(this.diagram.isTriggerEvent=!0,this.diagram.activeLabel.parentId){var a=this.diagram.getObject(this.diagram.activeLabel.parentId);this.diagram.startTextEdit(a,this.diagram.activeLabel.id)}this.diagram.isTriggerEvent=!1}this.diagram.blazorActions=this.diagram.blazorActions&~wi.interaction},e.prototype.keyDown=function(e){if(!(this.diagram.diagramActions&Ri.TextEdit)&&!this.checkEditBoxAsTarget(e)||"Escape"===e.key||27===e.keyCode){var t=void 0,n=e.keyCode?e.keyCode:e.which,i=e.key,r=this.isMetaKey(e);if(this.diagram.commandManager&&this.diagram.commands)for(var o=this.diagram.commands,a=0,s=Object.keys(o);a<s.length;a++){var l=s[a];if((t=this.diagram.commands[l])&&(t.gesture.keyModifiers||t.gesture.key)&&(n===t.gesture.key||i===Li[t.gesture.key]||this.isDeleteKey(i,l))&&(!t.gesture.keyModifiers&&!e.altKey&&!e.shiftKey&&!r||t.gesture.keyModifiers&&(r||e.altKey||e.shiftKey)&&this.altKeyPressed(t.gesture.keyModifiers)&&e.altKey||this.shiftKeyPressed(t.gesture.keyModifiers)&&e.shiftKey||this.ctrlKeyPressed(t.gesture.keyModifiers)&&r)){var c=Dh(t.canExecute);if(w()||c&&c({keyDownEventArgs:KeyboardEvent,parameter:t.parameter})){if(e.preventDefault(),"Escape"===e.key)if(this.checkEditBoxAsTarget(e))document.getElementById(this.diagram.diagramCanvas.id).focus();else if(this.diagram.currentSymbol){this.diagram.removeFromAQuad(this.diagram.currentSymbol),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[this.diagram.currentSymbol.id]),this.diagram.removeElements(this.diagram.currentSymbol),ac(this.diagram.currentSymbol,this.diagram),delete this.diagram.nameTable[this.diagram.currentSymbol.id],this.diagram.droppable.sourceElement.draggable.intDestroy();var d=this.diagram.droppable.selectedSymbols;d.parentNode.removeChild(d);var h=this.diagram.diagramActions;this.diagram.diagramActions=this.diagram.addConstraints(h,Ri.PreventClearSelection),this.tool.mouseUp(this.eventArgs),this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,Ni.DrawSelectorBorder),this.diagram.previousSelectedObject&&this.diagram.select(this.diagram.previousSelectedObject),this.action="Select",this.diagram.previousSelectedObject=null,this.diagram.currentSymbol=null,this.diagram.diagramActions=this.diagram.removeConstraints(h,Ri.PreventClearSelection),this.isMouseDown=!1}else this.inAction&&this.diagram.drawingObject&&this.tool&&this.tool.inAction&&(this.tool.mouseUp(this.eventArgs),this.tool=null,this.isMouseDown=!1);if(t.execute)if(this.diagram.tool!==Ai.ZoomPan)Dh(t.execute)({keyDownEventArgs:KeyboardEvent,parameter:t.parameter});if(w()){var p={gesture:t.gesture};this.diagram.triggerEvent(Hi.commandExecute,p)}break}}}}this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;this.keyArgs={element:Vc(this.diagram.selectedItems),key:e.key,keyCode:e.keyCode?e.keyCode:e.which},this.getKeyModifier(this.keyArgs,e),this.diagram.diagramActions&Ri.TextEdit&&this.getlabel(this.keyArgs,e),this.diagram.triggerEvent(Hi.keyDown,this.keyArgs)},e.prototype.getlabel=function(e,t){var n=this.diagram.activeLabel;e.target=this.diagram.element.id+"_editBox";var i=this.diagram.nameTable[n.parentId];if(document.getElementById(this.diagram.element.id+"_editBox")){e.text=document.getElementById(this.diagram.element.id+"_editBox").value;for(var r=0;r<i.annotations.length;r++)if(i.annotations[r].id===n.id){e.label=i.annotations[r];break}}},e.prototype.getKeyModifier=function(e,t){e.keyModifiers=Di.None,t.ctrlKey&&(e.keyModifiers|=Di.Control),t.shiftKey&&(e.keyModifiers|=Di.Shift),t.altKey&&(e.keyModifiers|=Di.Alt),this.isMetaKey(t)&&(e.keyModifiers|=Di.Meta)},e.prototype.keyUp=function(e){this.keyArgs={element:Vc(this.diagram.selectedItems),key:e.key,keyCode:e.keyCode?e.keyCode:e.which};this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;this.getKeyModifier(this.keyArgs,e),this.diagram.diagramActions&Ri.TextEdit&&this.getlabel(this.keyArgs,e),this.diagram.triggerEvent(Hi.keyUp,this.keyArgs)},e.prototype.startAutoScroll=function(e){var t=this.getMousePosition(e);t.x*=this.diagram.scroller.currentZoom,t.y*=this.diagram.scroller.currentZoom;var n,i=rs(this.diagram),r=this.diagram.scrollSettings.autoScrollBorder;if("mozilla"===le.info.name&&0===this.diagram.scroller.viewPortWidth){var o=document.getElementById(this.diagram.element.id).getBoundingClientRect();o.width!==this.diagram.scroller.viewPortWidth&&this.diagram.scroller.setViewPortSize(o.width,o.height)}return this.diagram.scrollSettings.canAutoScroll&&(t.x+this.diagram.scroller.horizontalOffset+r.right+i.width>=this.diagram.scroller.viewPortWidth-18?n="right":t.x+this.diagram.scroller.horizontalOffset<r.left?n="left":t.y+this.diagram.scroller.verticalOffset+r.bottom+i.height>this.diagram.scroller.viewPortHeight-18?n="bottom":t.y+this.diagram.scroller.verticalOffset<r.top&&(n="top")),n},e.prototype.doAutoScroll=function(e,t,n,i){var r=e;if((this.tool instanceof Cp||this.tool instanceof Pp||this.tool instanceof xp)&&this.inAction){var o=this.getMousePosition(t),a=(this.diagram.scrollSettings.autoScrollBorder,0),s=0,l={x:o.x,y:o.y};switch(r){case"right":l.x=o.x+10,a=10;break;case"left":l.x=o.x-10,a=-10;break;case"bottom":l.y=o.y+10,s=10;break;case"top":l.y=o.y-10,s=-10}this.eventArgs.position={x:l.x,y:l.y},this.currentPosition=this.eventArgs.position;var c=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);this.eventArgs.target=this.diagram.findObjectUnderMouse(c,this.action,this.inAction),this.tool.mouseMove(this.eventArgs),this.diagram.scroller.zoom(1,-a,-s,o)}},e.prototype.mouseEvents=function(){for(var e=this.diagram.findObjectsUnderMouse(this.currentPosition),t=0;t<e.length;t++)this.eventArgs.actualObject===e[t]&&e.splice(t,1);var n={targets:{}};if(w()||(n={targets:Vc(e),element:Vc(this.eventArgs.source===this.eventArgs.actualObject?void 0:this.eventArgs.source),actualObject:Vc(this.eventArgs.actualObject)}),w()&&(this.diagram.mouseEnter||this.diagram.mouseOver)&&(n.actualObject=Lc(this.eventArgs.actualObject)===$a?{connector:Vc(this.eventArgs.actualObject)}:{node:Vc(this.eventArgs.actualObject)},n.targets.connector=[],n.targets.node=[],this.getBlazorCollectionObject(e,n)),this.lastObjectUnderMouse&&this.diagram.mouseLeave&&(!this.eventArgs.actualObject||this.lastObjectUnderMouse!==this.eventArgs.actualObject)){var i={targets:void 0,element:Vc(this.lastObjectUnderMouse),actualObject:void 0};w()&&(i={targets:void 0,element:Lc(this.lastObjectUnderMouse)===$a?{connector:Vc(e)}:{node:Vc(this.lastObjectUnderMouse)},actualObject:void 0}),this.diagram.triggerEvent(Hi.mouseLeave,i),this.lastObjectUnderMouse=null}(!this.lastObjectUnderMouse&&this.eventArgs.source||this.lastObjectUnderMouse!==this.eventArgs.actualObject)&&(this.lastObjectUnderMouse=this.eventArgs.actualObject,void 0!==this.eventArgs.actualObject&&this.diagram.triggerEvent(Hi.mouseEnter,n)),this.eventArgs.actualObject&&this.diagram.triggerEvent(Hi.mouseOver,n)},e.prototype.getBlazorCollectionObject=function(e,t){if(e)for(var n=0;n<e.length;n++)Lc(e[n])===$a?t.targets.connector.push(Vc(e[n])):t.targets.node.push(Vc(e[n]))},e.prototype.elementEnter=function(e,t){if(!t){var n=this.hoverElement instanceof Dd&&this.hoverElement.constraints&Ei.Tooltip||this.hoverElement instanceof $a&&this.hoverElement.constraints&Oi.Tooltip,i=this.getContent();"Auto"===this.hoverElement.tooltip.openOn&&""!==i&&function(e,t){var n=e.tooltipObject;ya(t?t.tooltip:e.tooltip,n)}(this.diagram,n?this.hoverElement:void 0);var r=nc(this.diagram,e,this.hoverElement);"Auto"===this.hoverElement.tooltip.openOn&&""!==i&&(this.diagram.tooltipObject.close(),this.diagram.tooltipObject.offsetX=r.x,this.diagram.tooltipObject.offsetY=r.y,this.diagram.tooltipObject.dataBind()),function(e,t){var n=0;return e instanceof $a?e.constraints&Oi.Tooltip?n=e.constraints&Oi.Tooltip:e.constraints&Oi.InheritTooltip&&(n=t.constraints&Ii.Tooltip):e.constraints&Ei.Tooltip?n=e.constraints&Ei.Tooltip:e.constraints&Ei.InheritTooltip&&(n=t.constraints&Ii.Tooltip),n}(this.hoverElement,this.diagram)&&"Auto"===this.hoverElement.tooltip.openOn&&this.diagram.tooltipObject.open(this.diagram.element)}},e.prototype.elementLeave=function(){this.diagram.tooltipObject.close()},e.prototype.altKeyPressed=function(e){return!!(e&Di.Alt)},e.prototype.ctrlKeyPressed=function(e){return!!(e&Di.Control)},e.prototype.shiftKeyPressed=function(e){return!!(e&Di.Shift)},e.prototype.scrolled=function(e){this.diagram.updateScrollOffset(),w()&&this.diagram.realActions&zi.OverViewAction&&this.diagram.setBlazorDiagramProps(!1)},e.prototype.doubleClick=function(e){if(Ts(this.diagram)){var t=void 0,n=this.diagram.findObjectsUnderMouse(this.currentPosition),i=this.diagram.findObjectUnderMouse(n,this.action,this.inAction);if(null!==i&&Ts(this.diagram)){if(t=this.diagram.findElementUnderMouse(i,this.currentPosition),this.tool&&(this.tool instanceof jp||this.tool instanceof Dp)){Vc(i)||Vc(this.diagram),this.currentPosition,e.detail;this.tool.mouseUp(this.eventArgs),this.isMouseDown=!1,this.eventArgs={},this.tool=null,e.preventDefault()}else{var r=this.diagram.commandHandler.getObjectLayer(i.id);if(r&&!r.lock&&r.visible&&!(this.diagram.diagramActions&Ri.TextEdit)){var o="";"TextAnnotation"===i.shape.shape&&(o=i.wrapper.children[1].id.split("_")[1]),this.diagram.startTextEdit(i,o||(t instanceof or?t.id.split(i.id+"_")[1]:void 0))}}}var a={source:Vc(i)||Vc(this.diagram),position:this.currentPosition,count:e.detail};if(w()){var s=void 0;s=i instanceof Dd?{nodes:[Vc(i)]}:i instanceof $a?{connectors:[Vc(i)]}:Vc(i),a={source:i?{selector:s}:{diagram:Vc(this.diagram)},position:this.currentPosition,count:e.detail}}this.diagram.triggerEvent(Hi.doubleClick,a)}},e.prototype.itemClick=function(e,t){var n=e;return el(this.diagram,n,!0)?n:null},e.prototype.inputChange=function(e){var t,n,i,r,o,a,s,l,c,d=document.getElementById(this.diagram.element.id+"_editBox"),h=document.getElementById(this.diagram.element.id+"_editTextBoxDiv"),p=d.value,u=p.split("\n");(!(r=this.diagram.selectedItems.nodes[0]?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0])&&this.tool instanceof kp||r&&"SwimLane"===r.shape.type)&&(r=this.diagram.nameTable[this.diagram.activeLabel.parentId]),r&&("Text"!==r.shape.type&&r.annotations.length>0||"Text"===r.shape.type)&&(i=this.diagram.getWrapper(r.wrapper,this.diagram.activeLabel.id),t=(t=r.wrapper.bounds.width<i.bounds.width?r.wrapper.bounds.width:i.bounds.width)>90?t:90,s=Fd(i.style,p,void 0,void 0,t),n=Number(d.style.fontSize.split("px")[0]),u.length>1&&""===u[u.length-1]&&(s.height=s.height+n),l=this.diagram.scroller.transform,c=ks(this.diagram)?l.scale:1,a=(90>(a=s.width)?90:a)*c,o=(12>s.height?12:s.height)*c,h.style.left=(i.bounds.center.x+l.tx)*l.scale-a/2-2.5+"px",h.style.top=(i.bounds.center.y+l.ty)*l.scale-o/2-3+"px",h.style.width=a+"px",h.style.height=o+"px",d.style.minHeight="12px",d.style.minWidth="90px",d.style.width=a+"px",d.style.height=o+"px")},e.prototype.isAddTextNode=function(e,t){return!!(this.tool instanceof kp||t)&&(this.tool=null,e&&!Os(this.diagram)&&(this.diagram.drawingObject=void 0,this.diagram.currentDrawingObject=void 0),!(kc(this.diagram.nodes,e.id)||kc(this.diagram.connectors,e.id)||this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e)>-1))},e.prototype.checkEditBoxAsTarget=function(e){return!(!e.target||e.target.id!==this.diagram.element.id+"_editBox")},e.prototype.getMouseEventArgs=function(e,t,n,i){var r,o,a;if(t.position=e,n?(o=this.diagram.findObjectsUnderMouse(this.currentPosition,n),r=this.diagram.findTargetObjectUnderMouse(o,this.action,this.inAction,t.position,n)):"Drag"===this.action||"ConnectorSourceEnd"===this.action||"SegmentEnd"===this.action||"OrthoThumb"===this.action||"BezierSourceThumb"===this.action||"BezierTargetThumb"===this.action||"ConnectorTargetEnd"===this.action||-1!==this.action.indexOf("Rotate")||-1!==this.action.indexOf("Resize")?(r=this.diagram.selectedItems,!this.diagram.currentSymbol&&"Drag"===this.action&&r&&this.diagram.selectedItems.nodes.length>0&&"SwimLane"===this.diagram.selectedItems.nodes[0].shape.type&&(o=this.diagram.findObjectsUnderMouse(this.currentPosition),r=this.diagram.findObjectUnderMouse(o,this.action,this.inAction))):(o=this.diagram.findObjectsUnderMouse(this.currentPosition),r=this.diagram.findObjectUnderMouse(o,this.action,this.inAction)),r&&r.isHeader&&(r=this.diagram.nameTable[r.parentId],this.eventArgs.actualObject=r),r){var s=void 0,l=void 0,c=void 0;if(((a=this.diagram.findElementUnderMouse(r,this.currentPosition,i))&&r.ports&&r.ports.length&&!_c(r,a)||!a||!r)&&o&&o.length&&n instanceof Hd)for(s=n.connectors[0],c=o.length-1;c>=0;c--)if((l=o[c])instanceof Dd&&s&&s.connectionPadding){if(r=l,a=this.diagram.findElementUnderMouse(r,this.currentPosition,i),s.constraints&Oi.ConnectToNearByPort&&r&&r.ports&&r.ports.length&&_c(r,a))break;if(l instanceof Dd&&s&&s.connectionPadding&&l.wrapper.outerBounds.containsPoint(this.currentPosition)&&s.constraints&Oi.ConnectToNearByNode&&!(s.constraints&Oi.ConnectToNearByPort)){r=l,a=this.diagram.findElementUnderMouse(r,this.currentPosition,0);break}}}return n?(t.target=r,t.targetWrapper=a):(t.source=r,t.sourceWrapper=a),t.actualObject=this.eventArgs.actualObject,t.startTouches=this.touchStartList,t.moveTouches=this.touchMoveList,t},e.prototype.resetTool=function(){this.action="Select",this.hoverElement=null,this.hoverNode=null,this.tool=this.diagram.getTool(this.action),this.updateCursor()},e.prototype.getTool=function(e){switch(e){case"Select":return new xp(this.commandHandler,!0);case"Drag":return new Cp(this.commandHandler);case"Rotate":return new Op(this.commandHandler);case"LayoutAnimation":return new Ap(this.commandHandler);case"Hyperlink":return new Mp(this.commandHandler);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new Pp(this.commandHandler,e);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"BezierSourceThumb":case"BezierTargetThumb":return new Sp(this.commandHandler,e);case"SegmentEnd":case"OrthoThumb":return new Bp(this.commandHandler,e);case"Draw":var t=function(e){var t;return e&&(e.type?t="Connector":e.shape&&!e.type&&(t="Node")),t}(this.diagram.drawingObject);if("Node"===t&&"Text"===this.diagram.drawingObject.shape.type)return new kp(this.commandHandler);if("Node"===t&&("Polygon"===this.diagram.drawingObject.shape.shape||w()&&"Polygon"===this.diagram.drawingObject.shape.basicShape)&&!this.diagram.drawingObject.shape.points)return new jp(this.commandHandler);if("Node"===t||"Node"===t&&"Polygon"===this.diagram.drawingObject.shape.shape&&this.diagram.drawingObject.shape.points)return new Ep(this.commandHandler,this.diagram.drawingObject);if("Connector"===t&&"Polyline"===this.diagram.drawingObject.type)return new Dp(this.commandHandler);if("Connector"===t)return new Tp(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);break;case"Pan":return new Ip(this.commandHandler,!1);case"PinchZoom":return new Ip(this.commandHandler,!0);case"PortDrag":return new Cp(this.commandHandler,"Port");case"PortDraw":return new Tp(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);case"LabelSelect":return new xp(this.commandHandler,!0,"LabelSelect");case"LabelDrag":return new Lp(this.commandHandler);case"LabelResizeSouthEast":case"LabelResizeSouthWest":case"LabelResizeNorthEast":case"LabelResizeNorthWest":case"LabelResizeSouth":case"LabelResizeNorth":case"LabelResizeWest":case"LabelResizeEast":return new Rp(this.commandHandler,e);case"LabelRotate":return new Np(this.commandHandler)}return null},e.prototype.getCursor=function(e){var t=this.diagram.selectedItems.annotation?this.diagram.selectedItems.wrapper.children[0]:this.diagram.selectedItems;return function(e,t){if(t+=360,t%=360,-1===e.indexOf("Resize"))return gp[e];var n=gp[e];return t>=0&&t<25||t>=160&&t<=205||t>=340&&t<=360?n:t>=25&&t<=70||t>=205&&t<=250?"n-resize"===n||"s-resize"===n?"ne-resize":"nw-resize"===n||"se-resize"===n?"n-resize":"e-resize"===n||"w-resize"===n?"nw-resize":"e-resize":t>=70&&t<=115||t>=250&&t<=295?"n-resize"===n||"s-resize"===n?"e-resize":"nw-resize"===n||"se-resize"===n?"ne-resize":"e-resize"===n||"w-resize"===n?"n-resize":"nw-resize":t>=115&&t<=155||t>=295&&t<=340?"n-resize"===n||"s-resize"===n?"nw-resize":"nw-resize"===n||"se-resize"===n?"e-resize":"e-resize"===n||"w-resize"===n?"ne-resize":gp[e]:"n-resize"}(e,this.diagram.selectedItems.annotation?t.rotateAngle+t.parentTransform:t.rotateAngle)},e.prototype.findElementUnderMouse=function(e,t,n){return this.objectFinder.findElementUnderSelectedItem(e,t,n)},e.prototype.findObjectsUnderMouse=function(e,t){return this.objectFinder.findObjectsUnderMouse(e,this.diagram,this.eventArgs,t)},e.prototype.findObjectUnderMouse=function(e,t,n){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,n,this.eventArgs,this.currentPosition)},e.prototype.findTargetUnderMouse=function(e,t,n,i,r){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,n,this.eventArgs,i,r)},e.prototype.findActionToBeDone=function(e,t,n,i){return cp(e,t,this.currentPosition,this.diagram,this.touchStartList,this.touchMoveList,i)},e.prototype.updateContainerBounds=function(e){var t=!1;if(this.diagram.selectedObject.helperObject&&this.diagram.selectedObject.actualObject instanceof Dd){var n=this.tool instanceof Pp,i=this.diagram.selectedObject.actualObject,r=this.diagram.nameTable[i.parentId];e?Qs(this.diagram,i,this.currentPosition,n):((!r||r&&"SwimLane"!==r.shape.type)&&this.diagram.updateDiagramObject(i),t=function(e,t,n,i){var r,o=!1;if(el(e,t,!0)){e.protectPropertyChange(!0);var a=(r=e.nameTable[t.parentId]).wrapper;if(r&&"Canvas"===r.container.type){if(i||a.bounds.x<=n.x&&a.bounds.right>=n.x&&a.bounds.y<=n.y&&a.bounds.bottom>=n.y){var s=void 0,l=a.bounds.y,c=a.bounds.x,d=e.nameTable[r.parentId]||r;if("SwimLane"===d.shape.type)o=ol(r,d,t,e,!0);else{var h=e.nameTable[r.parentId]||r,p=h.shape;s=h.wrapper,a.actualSize.width<a.outerBounds.width&&!(a.bounds.x>a.outerBounds.x)&&(void 0!==r.rowIndex?(h.columns.length-1,s.updateColumnWidth(r.columnIndex,a.outerBounds.width,!0),"Horizontal"===p.orientation&&p.phaseSize&&Pl(h,e,a,r.columnIndex),El(e,h),e.drag(h,c-a.bounds.x,l-a.bounds.y)):e.scale(r,1+(a.outerBounds.width-a.actualSize.width)/a.actualSize.width,1,a.outerBounds.x<a.bounds.x?{x:1,y:.5}:{x:0,y:.5})),a.actualSize.height<a.outerBounds.height&&!(a.bounds.y>a.outerBounds.y)&&(void 0!==r.rowIndex?(s.updateRowHeight(r.rowIndex,a.outerBounds.height,!0),e.drag(h,c-a.bounds.x,l-a.bounds.y)):e.scale(r,1,1+(a.outerBounds.height-a.actualSize.height)/a.actualSize.height,a.outerBounds.y<a.bounds.y?{x:.5,y:1}:{x:.5,y:0}))}}e.select([t]),wl([],e)}e.protectPropertyChange(!1)}return o}(this.diagram,i,this.currentPosition,n),this.diagram.updateSelector(),(i.isLane||i.isPhase)&&(this.diagram.clearSelection(),this.commandHandler.selectObjects([i])))}return t},e.prototype.updateContainerProperties=function(){var e,t,n,i,r=!1,o=!1,a={hasStack:!1,isPreventHistory:!1};if(this.diagram.selectedObject.helperObject){var s=this.diagram.findObjectsUnderMouse(this.currentPosition),l=this.diagram.findObjectUnderMouse(s,this.action,this.inAction);if(e=this.diagram.selectedObject.helperObject,(i=this.diagram.selectedObject.actualObject)instanceof Dd){if("SwimLane"===i.shape.type&&(n=ul(this.diagram,i.wrapper.children[0])),"SwimLane"!==i.shape.type&&i.parentId&&"SwimLane"===this.diagram.getObject(i.parentId).shape.type&&l instanceof Dd&&this.diagram.getObject(l.parentId)&&"SwimLane"!==this.diagram.getObject(l.parentId).shape.type&&(l=this.diagram.getObject(l.parentId)),"Drag"===this.currentAction&&i.container&&"Canvas"===i.container.type&&i.parentId&&"SwimLane"===this.diagram.getObject(i.parentId).shape.type&&l&&l!==i&&l.container&&"Canvas"===l.container.type&&l.isLane&&i.isLane&&l.parentId===i.parentId)xl(this.diagram,i,l,this.currentPosition),a.isPreventHistory=!0;else{var c=this.diagram.nameTable[i.parentId];if(!c||c&&"SwimLane"!==c.shape.type)if(c&&c.isLane&&i.constraints&Ei.AllowMovingOutsideLane){var d=this.diagram.getObject(c.parentId),h=d.id+d.shape.lanes[0].id+"0",p=this.diagram.getObject(h),u=p.wrapper.bounds.x,f=p.wrapper.bounds.y,g=d.wrapper.bounds.bottomRight.x-u,m=d.wrapper.bounds.bottomRight.y-f;new di(u,f,g,m).containsPoint(this.currentPosition)&&(i.offsetX=e.offsetX,i.offsetY=e.offsetY,i.width=e.width,i.height=e.height,i.rotateAngle=e.rotateAngle)}else i.offsetX=e.offsetX,i.offsetY=e.offsetY,i&&i.shape&&"UmlClassifier"!==i.shape.type&&("Bpmn"!==i.shape.type||"Bpmn"===i.shape.type&&"TextAnnotation"!==i.shape.shape)&&(i.width=e.width,i.height=e.height),i.rotateAngle=e.rotateAngle;var v=void 0;if(c&&c.container&&"Stack"===c.container.type&&(this.diagram.startGroupAction(),o=!0),!l&&c&&c.container&&"Stack"===c.container.type&&"Drag"===this.action){var y=c.wrapper.children.indexOf(i.wrapper);if(v={targetIndex:void 0,target:void 0,sourceIndex:y,source:xh(i)},y>-1){var b=c.children;b.splice(b.indexOf(i.id),1),this.diagram.nameTable[i.id].parentId="",t=!0,c.wrapper.children.splice(y,1)}}if(function(e,t,n,i){var r=e,o=n.nameTable[r.parentId],a=n.nameTable[r.parentId];if(t&&a&&a.container&&"Stack"===a.container.type&&t.container&&"Stack"===t.container.type&&a.id!==t.parentId){var s=a.wrapper.children.indexOf(r.wrapper);s>-1&&(n.nameTable[r.id].parentId=t.id,a.wrapper.children.splice(s,1))}if(t&&t.parentId&&r.parentId&&"Drag"===i&&a.container&&"Stack"===a.container.type){var l=o.wrapper.children.indexOf(t.wrapper),c=o.wrapper.children.indexOf(r.wrapper),d={targetIndex:l,target:t,sourceIndex:c,source:e};o.wrapper.children.splice(c,1),o.wrapper.children.splice(l,0,r.wrapper);var h={type:"StackChildPositionChanged",redoObject:{targetIndex:c,target:t,sourceIndex:l,source:e},undoObject:d,category:"Internal"};n.commandHandler.addHistoryEntry(h)}}(i,l,this.diagram,this.action),(c=el(this.diagram,i)?this.diagram.nameTable[i.parentId]:this.diagram.nameTable[i.parentId]||i)&&c.container&&"Canvas"===c.container.type&&(c.wrapper.maxWidth=c.maxWidth=c.wrapper.actualSize.width,c.wrapper.maxHeight=c.maxHeight=c.wrapper.actualSize.height,r=!0),el(this.diagram,i,!0)&&c&&"Canvas"===c.container.type?tl(this.diagram,i):a=this.updateContainerPropertiesExtend(c,i,n,e,a),this.diagram.lineRoutingModule&&this.diagram.constraints&Ii.LineRouting&&!el(this.diagram,i,!0)&&(i.children&&(this.diagram.realActions|=zi.EnableGroupAction),this.diagram.nodePropertyChange(i,{},{width:i.width,height:i.height,offsetX:i.offsetX,offsetY:i.offsetY}),i.children&&(this.diagram.realActions&=~zi.EnableGroupAction)),i.shape.lanes&&this.updateLaneChildNode(i),r&&(c.maxWidth=c.wrapper.maxWidth=void 0,c.maxHeight=c.wrapper.maxHeight=void 0),t){this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle});var w={redoObject:{sourceIndex:void 0,source:v.source},type:"StackChildPositionChanged",undoObject:v,category:"Internal"};this.diagram.diagramActions&Ri.UndoRedo||this.diagram.addHistoryEntry(w)}i&&i.container&&("Stack"===i.container.type||"Canvas"===i.container.type&&""===i.parentId)&&(i&&i.shape&&"UmlClassifier"===i.shape.type&&(i.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(i,{},{offsetX:i.offsetX,offsetY:i.offsetY,width:i.width,height:i.height,rotateAngle:i.rotateAngle}),i&&i.shape&&"UmlClassifier"===i.shape.type&&(i.wrapper.measureChildren=!1))}wl(n,this.diagram),a.hasStack=o}}return i&&(i.isPhase||i.isLane||i.shape&&"SwimLane"===i.shape.type)&&this.diagram.updateDiagramElementQuad(),a},e.prototype.updateLaneChildNode=function(e){for(var t=0;t<e.shape.lanes.length;t++)if(e.shape.lanes[t].children&&e.shape.lanes[t].children.length>0)for(var n=0;n<e.shape.lanes[t].children.length;n++){var i=e.shape.lanes[t].children[n].id,r=this.diagram.nameTable[i];r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY}},e.prototype.updateContainerPropertiesExtend=function(e,t,n,i,r){if("ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction||"SwimLane"===t.shape.type){var o=xh(t),a=!1;if(e&&e.container&&"Grid"===e.container.type){var s="SwimLane"===e.shape.type,l=s?e.wrapper.children[0]:e.wrapper,c=s?e.shape.padding:void 0,d=e.wrapper.bounds.x,h=e.wrapper.bounds.y;if(void 0!==t.columnIndex&&"Horizontal"===e.container.orientation&&(s&&t.isPhase||!s&&1===t.rowIndex)||"Vertical"===e.container.orientation&&(!s&&t.rowIndex>0&&t.columnIndex>0||s&&t.isLane)){if("Horizontal"===e.container.orientation&&t.isPhase&&t.wrapper.width>t.maxWidth&&(t.maxWidth=t.wrapper.width,t.wrapper.maxWidth=t.wrapper.width),Sl(this.diagram,t,e,i),l.updateColumnWidth(t.columnIndex,i.width,!0,c),t.isPhase){var p=e.shape.phases[t.columnIndex].header.id,u=this.diagram.nameTable[p];u.maxWidth<i.width&&(u.maxWidth=i.width,u.wrapper.maxWidth=i.width)}"SwimLane"===e.shape.type&&(e.width=e.width?l.width:e.width,El(this.diagram,e),e.wrapper.width=e.width,n=ul(this.diagram,l,t.rowIndex))}else void 0!==t.rowIndex&&(a=!0,Sl(this.diagram,t,e,i),l.updateRowHeight(t.rowIndex,i.height,!0,c),"SwimLane"===e.shape.type&&(e.height=e.height?l.height:e.height,e.wrapper.height=e.height,n=ul(this.diagram,l,t.rowIndex)));"SwimLane"===e.shape.type&&(r.isPreventHistory=!0),this.diagram.nodePropertyChange(e,{},{offsetX:e.offsetX,offsetY:e.offsetY,rotateAngle:e.rotateAngle}),this.diagram.drag(e,d-e.wrapper.bounds.x,h-e.wrapper.bounds.y)}else t&&t.shape&&"UmlClassifier"===t.shape.type&&(t.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(t,{},{offsetX:t.offsetX,offsetY:t.offsetY,width:t.width,height:t.height,rotateAngle:t.rotateAngle}),t.wrapper.measureChildren=!1;if(t.wrapper.measure(new Kn(t.wrapper.width,t.wrapper.height)),t.wrapper.arrange(t.wrapper.desiredSize),"ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction){var f={category:"Internal",type:a?"RowHeightChanged":"ColumnWidthChanged",undoObject:o,redoObject:xh(t)};this.diagram.addHistoryEntry(f)}}return wl(n,this.diagram),r},e.prototype.addUmlNode=function(){var e=this.diagram.selectedItems.nodes[0],t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x+20,y:this.currentPosition.y}),n=this.diagram.findObjectUnderMouse(t,this.action,this.inAction);if(n||(t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),n=this.diagram.findObjectUnderMouse(t,this.action,this.inAction)),e&&e.container&&"Stack"===e.container.type&&n&&n.parentId&&n.parentId===e.id){var i=n,r=Gd(this.diagram.element.id);if(r.getElementById(r.id+"_stack_highlighter")){var o=e.wrapper.children.indexOf(n.wrapper)+1;this.diagram.enableServerDataBinding(!1);var a=new Dd(this.diagram,"nodes",{style:{fill:e.style.fill,strokeColor:"black"===e.style.strokeColor?"#ffffff00":e.style.strokeColor},annotations:n.annotations,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(Ei.Default|Ei.HideThumbs)&~(Ei.Rotate|Ei.Drag|Ei.Resize),minHeight:25},!0);a.annotations[0].content=" + Name : Type";i.id.split("_");a.id=mh()+a.id,a.parentId=e.id,a.zIndex=-1,a.umlIndex=o,this.diagram.startGroupAction();e.wrapper.children.indexOf(a.wrapper);this.diagram.enableServerDataBinding(!0),this.diagram.add(a),this.diagram.updateConnectorEdges(e),this.diagram.clearSelection(),this.diagram.select([this.diagram.nameTable[a.id]]),this.diagram.endGroupAction(),this.diagram.startTextEdit()}}},e}(),_p=function(){function e(){}return e.prototype.findObjectsUnderMouse=function(e,t,n,i,r){var o,a,s,l,c=[];i&&i instanceof Hd&&i.nodes.length+i.connectors.length===1&&(i=i.nodes[0]||i.connectors[0]).children&&0===i.children.length&&(n.actualObject=i);for(var d,h,p=i&&i instanceof $a&&(i.constraints&Oi.ConnectToNearByNode||i.constraints&Oi.ConnectToNearByPort)&&i.connectionPadding||0,u={},f=0,g=t.spatialSearch.findObjects(new di(e.x-50-p,e.y-50-p,100+p,100+p));f<g.length;f++){var m=e;a=(E=g[f]).wrapper.outerBounds;var v=!E.rotateAngle&&a.containsPoint(m,p);if((E!==i||t.currentDrawingObject instanceof $a)&&E instanceof $a?E!==t.currentDrawingObject:E.wrapper.visible)if((C=t.commandHandler.getObjectLayer(E.id))&&!C.lock&&C.visible){if(d=u[C.zIndex]=u[C.zIndex]||[],E.rotateAngle){a=bh(o=E.wrapper);for(var y=0,b=o.children;y<b.length;y++)s=b[y],fi(l=pi(),-(s.rotateAngle+s.parentTransform),s.offsetX,s.offsetY),m=ui(l,e),bh(s).containsPoint(m,p)&&(v=!0)}if((!i||!1===up(t,E))&&((h=E)instanceof $a?h.constraints&Oi.PointerEvents:h.constraints&Ei.PointerEvents)&&(E instanceof $a?$l(E,e):v)){var w=E instanceof $a&&E.hitPadding||0;this.findElementUnderMouse(E,e,p||w)&&"helper"!==E.id&&Ac(E,"zIndex",d)}}}for(var x=0,S=t.layers;x<S.length;x++)for(var C=S[x],O=0,P=c=c.concat(u[C.zIndex]||[]);O<P.length;O++){var E;if("Bpmn"===(E=P[O]).shape.type&&E.processId&&(!(t.eventHandler.tool instanceof Cp)||t.eventHandler.tool instanceof Cp&&bs(E)))(j=c.indexOf(t.nameTable[E.processId]))>-1&&c.splice(j,1);if("UmlClassifier"===E.shape.type&&E.container&&"Stack"===E.container.type)(j=c.indexOf(t.nameTable[t.nameTable[E.id].wrapper.children[0].id]))>-1&&c.splice(j,1)}for(var T=0;T<c.length;T++){var k=t.nameTable[c[T].parentId];if(k)for(var I=this.findElementUnderMouse(k,e),A=0;A<k.ports.length;A++)if(I.id.match("_"+k.ports[A].id+"$")){var M=k.ports[A];if(Ms(M)||As(M))return c}for(;k;){var j;if(-1===(j=c.indexOf(k)))break;c.splice(j,1),k=t.nameTable[k.parentId]}}if(n&&!n.source)for(T=0;T<c.length;T++){var D=t.nameTable[c[T].parentId];if(D&&"SwimLane"===D.shape.type)for(A=0;A<c.length;A++){c[A]instanceof $a&&c.splice(T,1)}}return c},e.prototype.isTarget=function(e,t,n){var i,r=t.selectedItems.connectors[0];if(!(i="ConnectorSourceEnd"===n?t.nameTable[r.targetID]:i=t.nameTable[r.sourceID])||(i.processId||e.processId)&&i.processId===e.processId||(i.processId!==e.processId&&(e=null),e&&e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])),"ConnectorSourceEnd"===n&&r.targetID){var o=t.nameTable[r.targetID];if(o&&o.shape&&"TextAnnotation"===o.shape.shape){var a=r.id.split("_");("Bpmn"===o.shape.type&&"Bpmn"!==e.shape.type||a[0]===e.id||"TextAnnotation"===e.shape.shape)&&(e=null),e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])}}return e},e.prototype.findObjectUnderMouse=function(e,t,n,i,r,o,a){var s,l,c=null;if(0!==t.length)if(a&&a instanceof Hd&&a.nodes.length+a.connectors.length===1&&(a=a.nodes[0]||a.connectors[0]),"ConnectorSourceEnd"===n&&a||"PortDraw"===n||(Ps(e)||Os(e))&&Lc(e.drawingObject)===$a)for(var d=e.selectedItems.connectors[0],h=t.length-1;h>=0;h--){l=Ec(t[h],!1),s=Ec(t[h],!0);var p=e.eventHandler.tool,u=this.findTargetElement(t[h].wrapper,o,void 0);if("Draw"===n&&u&&t[h]instanceof Dd&&!_c(t[h],u)&&(p&&"ConnectorSourceEnd"===p.endPoint&&!ms(t[h])||p&&"ConnectorTargetEnd"===p.endPoint&&!fs(t[h])))return c;if(t[h]instanceof Dd&&(ms(t[h])||vs(l)||fs(t[h])||gs(s)||"PortDraw"===n&&p instanceof Sp&&"ConnectorTargetEnd"==p.endPoint&&(fs(t[h])||gs(s))))return c=t[h],d&&(c=this.isTarget(c,e,n)),r.actualObject=c,c}else if("ConnectorTargetEnd"===n&&a){for(h=t.length-1;h>=0;h--)if(s=Ec(t[h],!0),t[h]instanceof Dd&&(fs(t[h])||gs(s)))return c=t[h],c=this.isTarget(c,e,n),r.actualObject=c,c}else{if(a&&("Drag"===n||e.eventHandler.tool instanceof Cp)){var f=0;for(h=0;h<t.length;h++){var g=t[h];a!==g&&(g instanceof $a||!o||g.wrapper.bounds.containsPoint(o))&&bs(g)&&(c?(c=f>=g.zIndex?c:g,f=Math.max(f,g.zIndex)):f=(c=g).zIndex)}return c&&"Bpmn"===c.shape.type&&(c=e.selectedItems.nodes.length>0&&"Bpmn"===e.selectedItems.nodes[0].shape.type?c:null),c&&(r.actualObject=c),c}if("Select"!==n&&"Pan"!==n||!e.eventHandler.tool)if("Pan"===n||"LayoutAnimation"===n){for(h=t.length-1;h>=0;h--)if(t[h]instanceof Dd||t[h]instanceof $a){var m=this.findTargetElement(t[h].wrapper,o,void 0);if("Pan"===n||m&&(m.id.match("_icon_content_shape$")||m.id.match("_icon_content_rect$")))return t[h]}}else c=t[t.length-1],r&&c&&(r.actualObject=c);else{for(var h=t.length-1;h>=0;h--)if(t[h]instanceof $a){var v=t[h-1];if(t[h-1]instanceof Dd&&v.ports){var y=this.findTargetElement(v.wrapper,o,void 0);if(y&&(y.id.match("_icon_content_shape$")||y.id.match("_icon_content_rect$")))return v;for(var b=0;b<v.ports.length;b++)if(y&&y.id.match("_"+v.ports[b].id+"$")&&As(v.ports[b]))return v}}if(c=t[t.length-1],r.actualObject=c,!e.eventHandler.itemClick(c,!0)&&c.parentId)for(var w=c,x=up(e,w);w&&(!up(e,w)||x);)c=w,w=e.nameTable[w.parentId]}}return c},e.prototype.findElementUnderSelectedItem=function(e,t,n){return e instanceof Hd?1!==e.nodes.length||e.connectors&&e.connectors.length?e.nodes&&!e.nodes.length||1!==e.connectors.length?null:this.findElementUnderMouse(e.connectors[0],t):this.findElementUnderMouse(e.nodes[0],t):this.findElementUnderMouse(e,t,n)},e.prototype.findElementUnderMouse=function(e,t,n){return this.findTargetElement(e.wrapper,t,n)},e.prototype.findTargetElement=function(e,t,n){for(var i=e.children.length-1;i>=0;i--){var r=e.children[i];if(r&&r.outerBounds.containsPoint(t,n||0)){if(r instanceof ir){var o=this.findTargetElement(r,t);if(o)return o}if(r.bounds.containsPoint(t,n||0))return r}}return e.bounds.containsPoint(t,n)&&"none"!==e.style.fill?e:null},e}(),Wp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fp=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vp=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.objectZIndex=-1,o.zIndexTable={},o.objects=[],o}return Wp(t,e),Fp([zt("")],t.prototype,"id",void 0),Fp([zt(!0)],t.prototype,"visible",void 0),Fp([zt(!1)],t.prototype,"lock",void 0),Fp([zt()],t.prototype,"objects",void 0),Fp([zt()],t.prototype,"addInfo",void 0),Fp([zt(-1)],t.prototype,"zIndex",void 0),t}(nn),Up=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Yp=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Xp=function(){function e(e){this.clipboardData={},this.diagramObject={},this.newSelectedObjects={},this.oldSelectedObjects={},this.connectorsTable=[],this.processTable={},this.deepDiffer=new mp,this.isContainer=!1,this.childTable={},this.parentTable={},this.diagram=e}return Object.defineProperty(e.prototype,"snappingModule",{get:function(){return this.diagram.snappingModule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutAnimateModule",{get:function(){return this.diagram.layoutAnimateModule},enumerable:!0,configurable:!0}),e.prototype.startTransaction=function(e){this.state={element:this.diagram.selectedItems,backup:null},e&&this.diagram.protectPropertyChange(!0),Zd(this.diagram.element.id).style.pointerEvents="none"},e.prototype.endTransaction=function(e){this.state=null,e&&this.diagram.protectPropertyChange(!1),Zd(this.diagram.element.id).style.pointerEvents="all"},e.prototype.setFocus=function(){document.getElementById(this.diagram.element.id).focus()},e.prototype.showTooltip=function(e,t,n,i,r){var o=this;if(r&&(this.diagram.tooltipObject.position="BottomCenter",this.diagram.tooltipObject.animation={open:{delay:0,duration:0}},this.diagram.tooltip.relativeMode="ConnectTool"===i?"Mouse":"Object",this.diagram.tooltipObject.openDelay=0,this.diagram.tooltipObject.closeDelay=0),this.diagram.selectedItems.setTooltipTemplate){var a=void 0,s=Dh(this.diagram.selectedItems.setTooltipTemplate);s&&(a=s(e,this.diagram)),n=a instanceof HTMLElement?a.cloneNode(!0):a||n}this.diagram.tooltipObject.content=n;var l=nc(this.diagram,{x:t.x,y:t.y},e);this.diagram.tooltipObject.offsetX=l.x+("ConnectTool"===i?10:0),this.diagram.tooltipObject.offsetY=l.y+10,this.diagram.tooltipObject.dataBind(),r&&setTimeout((function(){o.diagram.tooltipObject.open(o.diagram.element)}),1)},e.prototype.closeTooltip=function(){this.diagram.tooltipObject.close()},e.prototype.canEnableDefaultTooltip=function(){return!!(this.diagram.selectedItems.constraints&Ci.ToolTip)},e.prototype.updateSelector=function(){this.diagram.updateSelector()},e.prototype.updateConnectorValue=function(e){if(e.cancel){var t={},n={},i=this.diagram.nameTable[e.connector.id],r="ConnectorSourceEnd"===e.connectorEnd?"sourceID":"targetID",o="ConnectorSourceEnd"===e.connectorEnd?"sourcePortID":"targetPortID",a="ConnectorTargetEnd"===e.connectorEnd,s=a?e.newValue.connectorTargetValue:e.newValue.connectorSourceValue,l=a?e.oldValue.connectorTargetValue:e.oldValue.connectorSourceValue;n[r]=s.nodeId,n[o]=s.portId,t[r]=l.nodeId,t[o]=l.portId,e.cancel&&"ConnectorTargetEnd"!==e.connectorEnd&&(i.sourceID=l.nodeId,e.connector.sourcePortID&&(i.sourcePortID=l.portId),this.diagram.connectorPropertyChange(i,n,t)),e.cancel&&"ConnectorTargetEnd"===e.connectorEnd&&(e.connector.targetPortID&&(i.targetPortID=l.portId),i.targetID=l.nodeId,this.diagram.connectorPropertyChange(i,n,t))}},e.prototype.triggerEvent=function(e,t){return Up(this,void 0,void 0,(function(){return Yp(this,(function(n){switch(n.label){case 0:if(e===Hi.drop||e===Hi.positionChange||e===Hi.connectionChange){if(this.diagram.currentSymbol)return[2];if(e===Hi.drop&&(t.source=Vc(this.diagram)),this.diagram.currentDrawingObject&&e!==Hi.positionChange)return[2]}return[4,this.diagram.triggerEvent(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.dragOverElement=function(e,t){if(this.diagram.currentSymbol){var n={element:Vc(e.source),target:Vc(e.target),mousePosition:Vc(t),diagram:Vc(this.diagram)};this.triggerEvent(Hi.dragOver,n)}},e.prototype.disConnect=function(e,t,n){var i,r,o=w(),a={},s={};if(e instanceof Hd?r=e.connectors[0]:e instanceof $a&&this.diagram.currentDrawingObject&&(r=this.diagram.currentDrawingObject),e&&r&&(pp(this.diagram)||this.diagram.currentDrawingObject))if(w()&&this.diagram.insertValue(xh(r),!1),!t||"ConnectorSourceEnd"!==t&&"ConnectorTargetEnd"!==t){if("OrthoThumb"!==t&&"SegmentEnd"!==t&&(r.sourceID||r.targetID)){a={sourceID:r.sourceID,sourcePortID:r.sourcePortID,targetID:r.targetID,targetPortID:r.targetPortID},r.sourceID="",r.sourcePortID="",r.targetID="",r.targetPortID="",s={sourceID:r.sourceID,sourcePortID:r.sourcePortID,targetID:r.targetID,targetPortID:r.targetPortID};var l={connector:Vc(r),oldValue:a,newValue:s,cancel:!1,state:"Changing",connectorEnd:t};w()&&(i=l={connector:Vc(r),oldValue:{connector:Vc(a)},newValue:{connector:Vc(s)},cancel:!1,state:"Changed",connectorEnd:t}),o||this.triggerEvent(Hi.connectionChange,l),l.cancel?(r.sourceID=a.sourceID,r.sourcePortID=a.sourcePortID,r.targetID=a.targetID,r.targetPortID=a.targetPortID):(this.diagram.connectorPropertyChange(r,a,s),this.diagram.updateDiagramObject(r),l={connector:r,oldValue:a,newValue:s,cancel:!1,state:"Changed",connectorEnd:t},w()&&(i=l={connector:Vc(r),oldValue:{connector:a},newValue:{connector:s},cancel:!1,state:"Changed",connectorEnd:t}),o||this.triggerEvent(Hi.connectionChange,l))}}else{var c="ConnectorSourceEnd"===t?"sourceID":"targetID",d="ConnectorSourceEnd"===t?"sourcePortID":"targetPortID";r[c]&&(a[c]=r[c],r[c]="",s[c]=r[c],(r.sourcePortID||r.targetPortID)&&(a[d]=r[d],r[d]="",s[d]=r[d]),i=this.connectionEventChange(r,a,s,t,n))}return i},e.prototype.connectionEventChange=function(e,t,n,i,r){var o,a,s=w(),l="ConnectorSourceEnd"===i?"sourceID":"targetID",c="ConnectorSourceEnd"===i?"sourcePortID":"targetPortID";if(this.enableCloneObject){var d=xh(o=this.diagram.nameTable[n[l]]);this.diagram.insertValue(d,!0)}var h={cancel:!1,state:"Changing",connectorEnd:i,connector:Vc(e),oldValue:{nodeId:t[l],portId:t[c]},newValue:{nodeId:n[l],portId:n[c]}};if(w()&&(h={connector:Vc(e),cancel:!1,state:"Changing",connectorEnd:i,oldValue:void 0,newValue:void 0},"ConnectorSourceEnd"===i?(h.oldValue={connectorSourceValue:{portId:t[c],nodeId:t[l]}},h.newValue={connectorSourceValue:{nodeId:n[l],portId:n[c]}}):(h.oldValue={connectorTargetValue:{nodeId:t[l],portId:t[c]}},h.newValue={connectorTargetValue:{nodeId:n[l],portId:n[c]}}),a=h),s||this.triggerEvent(Hi.connectionChange,h),h.cancel||w()&&r?(e[l]=t[l],e[c]=t[c],n=t):(this.diagram.connectorPropertyChange(e,t,n),this.diagram.updateDiagramObject(e),h={connector:Vc(e),oldValue:{nodeId:t[l],portId:t[c]},newValue:{nodeId:n[l],portId:n[c]},cancel:!1,state:"Changing",connectorEnd:i},w()&&(h={connector:Vc(e),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:i},"ConnectorSourceEnd"===i?(h.newValue={connectorSourceValue:{portId:n[c],nodeId:n[l]}},h.oldValue={connectorSourceValue:{portId:t[c],nodeId:t[l]}}):(h.oldValue={connectorTargetValue:{nodeId:t[l],portId:t[c]}},h.newValue={connectorTargetValue:{portId:n[c],nodeId:n[l]}}),a=h)),this.enableCloneObject&&void 0===o){d=xh(o=this.diagram.nameTable[t[l]]);this.diagram.insertValue(d,!0)}return a},e.prototype.findTarget=function(e,t,n,i){if(t instanceof Dd){if(e&&e.id===t.id+"_content")return t;if(n&&"Bpmn"===t.shape.type&&(!w()&&"Activity"===t.shape.shape||w()&&"Activity"===t.shape.bpmnShape)&&"Transaction"===t.shape.activity.subProcess.type){var r=t.shape.activity.subProcess.transaction;if(r.success.visible&&0===e.id.indexOf(t.id+"_success"))return r.success;if(r.cancel.visible&&0===e.id.indexOf(t.id+"_cancel"))return r.cancel;if(r.failure.visible&&0===e.id.indexOf(t.id+"_failure"))return r.failure}if(e instanceof hr)for(var o=0;o<t.ports.length;o++){var a=t.ports[o];if(e.id===t.id+"_"+a.id)return a}}if(!i){var s=void 0;for(o=0;o<t.annotations.length;o++)if(s=t.annotations[o],e.id===t.id+"_"+s.id)return s}return t},e.prototype.canDisconnect=function(e,t,n,i){var r;t.source instanceof Hd?r=t.source.connectors[0]:t.source instanceof $a&&this.diagram.currentDrawingObject&&(r=this.diagram.currentDrawingObject);this.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===e,!0);var o="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";return r["ConnectorSourceEnd"===e?"sourceID":"targetID"]!==i||r[o]!==n},e.prototype.changeAnnotationDrag=function(e){var t;if(e.source&&e.source.connectors&&e.source.connectors.length&&this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e.source.connectors[0])>-1){e.source instanceof Hd&&(t=e.source.connectors[0]);var n=t.id.split("_"),i=(n[n.length-1],n[n.length-3]||n[0]);if(e.target&&e.target.id!==i&&(!w()&&"TextAnnotation"!==e.target.shape.shape||w()&&"TextAnnotation"!==e.target.shape.bpmnShape)){this.diagram.startGroupAction();var r=this.diagram.nameTable[n[0]],o=this.getAnnotation(r,n[1]),a={id:n[1]+mh(),angle:Jn.findAngle(t.intermediatePoints[0],t.intermediatePoints[1]),text:o.text,length:Jn.distancePoints(t.intermediatePoints[0],t.intermediatePoints[1]),shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:o.nodeId},s=new xd(e.target.shape,"annotations",a,!0);this.diagram.bpmnModule.checkAndRemoveAnnotations(this.diagram.nameTable[t.targetID],this.diagram),this.diagram.refreshCanvasLayers(),s.id=n[1],this.diagram.addTextAnnotation(s,e.target),this.diagram.endGroupAction()}else t&&(t.sourceID=i,this.diagram.connectorPropertyChange(t,{},{sourceID:i}),this.diagram.updateDiagramObject(t))}},e.prototype.connect=function(e,t,n){var i,r,o,a,s={},l={};t.source instanceof Hd?o=t.source.connectors[0]:t.source instanceof $a&&this.diagram.currentDrawingObject&&(o=this.diagram.currentDrawingObject);var c=this.findTarget(t.targetWrapper||t.sourceWrapper,t.target||t.actualObject,"ConnectorSourceEnd"===e,!0),d="ConnectorSourceEnd"===e?"sourceID":"targetID",h="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";if(c instanceof Dd)l[d]=o[d],o[d]=c.id,s[d]=o[d],l[h]=o[h],a=this.connectionEventChange(o,l,s,e,n);else{i=o[d],r=o[h],o[h]=c.id,o[d]=t.target&&t.target.id||t.actualObject.id,s[d]=o[d],s[h]=o[h];var p={connector:Vc(o),oldValue:{nodeId:i,portId:r},newValue:{nodeId:s[d],portId:s[h]},cancel:!1,state:"Changing",connectorEnd:e};w()&&(p={connector:Vc(o),oldValue:void 0,newValue:void 0,cancel:!1,state:"Changing",connectorEnd:e},"ConnectorSourceEnd"===e?(p.oldValue={connectorSourceValue:{portId:l[h],nodeId:l[d]}},p.newValue={connectorSourceValue:{portId:s[h],nodeId:s[d]}}):(p.newValue={connectorTargetValue:{portId:s[h],nodeId:s[d]}},p.oldValue={connectorTargetValue:{portId:l[h],nodeId:l[d]}}),a=p),this.triggerEvent(Hi.connectionChange,p),p.cancel||w()&&n?(o[d]=i,o[h]=r,s[d]=i,s[h]=r):(this.diagram.connectorPropertyChange(o,l,s),this.diagram.updateDiagramObject(o),p={connector:Vc(o),oldValue:{nodeId:i,portId:r},newValue:{nodeId:s[d],portId:s[h]},cancel:!1,state:"Changing",connectorEnd:e},w()&&(p={newValue:void 0,connector:Vc(o),oldValue:void 0,cancel:!1,state:"Changing",connectorEnd:e},"ConnectorSourceEnd"===e?(p.oldValue={connectorSourceValue:{portId:l[h],nodeId:l[d]}},p.newValue={connectorTargetValue:{portId:s[h],nodeId:s[d]}}):(p.oldValue={connectorTargetValue:{portId:l[h],nodeId:l[d]}},p.newValue={connectorTargetValue:{portId:s[h],nodeId:s[d]}})))}return this.renderHighlighter(t,void 0,"ConnectorSourceEnd"===e),a},e.prototype.cut=function(){this.clipboardData.pasteIndex=0,this.diagram.undoRedoModule&&this.diagram.historyManager.startGroupAction(),this.clipboardData.clipObject=this.copyObjects(),this.diagram.undoRedoModule&&this.diagram.historyManager.endGroupAction(),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()},e.prototype.UpdateBlazorDiagramModelLayers=function(e,t){var n=Vc(e);if(window&&window.Blazor){var i={methodName:"UpdateBlazorDiagramModelLayers",diagramobj:JSON.stringify(n),isRemove:t};window.sfBlazor.updateBlazorProperties(i,this.diagram)}},e.prototype.addLayer=function(e,t,n){void 0===n&&(n=!0),e.id=e.id||mh(),e.zIndex=this.diagram.layers.length,this.diagram.enableServerDataBinding(!1),e=new Vp(this.diagram,"layers",e,!0),this.diagram.enableServerDataBinding(!0),e.objectZIndex=-1,e.zIndexTable={},this.diagram.layers.push(e),n&&this.UpdateBlazorDiagramModelLayers(e,!1),this.diagram.layerZIndexTable[e.zIndex]=e.id,this.diagram.activeLayer=e;e.objects;if(t)for(var i=0;i<t.length;i++)this.diagram.add(t[i])},e.prototype.getObjectLayer=function(e){for(var t=this.diagram.layers,n=0;n<t.length;n++){if(t[n].objects.indexOf(e)>-1)return t[n]}return this.diagram.activeLayer},e.prototype.getLayer=function(e){for(var t=this.diagram.layers,n=0;n<t.length;n++)if(t[n].id===e)return t[n]},e.prototype.removeLayer=function(e,t){void 0===t&&(t=!0);var n=this.getLayer(e);if(n){for(var i=this.diagram.layers.indexOf(n),r=n.objects,o=r.length-1;o>=0;o--)this.diagram.unSelect(this.diagram.nameTable[r[o]]),this.diagram.remove(this.diagram.nameTable[r[o]]),"default_layer"!==n.id&&this.diagram.activeLayer.id===e&&(this.diagram.activeLayer=this.diagram.layers[this.diagram.layers.length-1]);t&&this.UpdateBlazorDiagramModelLayers(this.diagram.layers[i],!0),delete this.diagram.layerZIndexTable[n.zIndex],this.diagram.layers.splice(i,1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.moveObjects=function(e,t){var n,i=this.getLayer(t)||this.diagram.activeLayer;this.diagram.setActiveLayer(i.id);for(var r=0,o=e;r<o.length;r++){var a=o[r];this.getObjectLayer(a).objects.indexOf(a)>-1&&(n=this.diagram.nameTable[a],this.diagram.unSelect(n),this.diagram.remove(this.diagram.nameTable[a]),this.diagram.add(n))}},e.prototype.cloneLayer=function(e){this.diagram.layers;var t=this.getLayer(e);if(t){var n=[],i={id:e+"_"+mh(),objects:[],visible:!0,lock:!1};this.addLayer(i,null,!0),i.zIndex=this.diagram.layers.length-1;n.length;for(var r=0,o=t.objects;r<o.length;r++){var a=o[r];n.push(this.diagram.nameTable[a])}this.paste(n)}},e.prototype.copy=function(){return this.clipboardData.pasteIndex=1,this.clipboardData.clipObject=this.copyObjects(),this.clipboardData.clipObject},e.prototype.copyObjects=function(){var e=[],t=[];if(this.clipboardData.childTable={},this.diagram.selectedItems.connectors.length>0){e=this.diagram.selectedItems.connectors;for(var n=0;n<e.length;n++){var i=void 0;i=this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e[n])>-1?xh(this.diagram.nameTable[e[n].targetID]):xh(e[n]),t.push(i)}}if(this.diagram.selectedItems.nodes.length>0){e=e.concat(this.diagram.selectedItems.nodes);for(n=0;n<this.diagram.selectedItems.nodes.length;n++)if(!e[n].isPhase){var r=xh(this.diagram.selectedItems.nodes[n]);r.wrapper&&r.offsetX!==r.wrapper.offsetX&&(r.offsetX=r.wrapper.offsetX),r.wrapper&&r.offsetY!==r.wrapper.offsetY&&(r.offsetY=r.wrapper.offsetY);this.copyProcesses(r),t.push(xh(r));var o=pi();if(fi(o,-r.rotateAngle,r.offsetX,r.offsetY),r.children){for(var a=this.clipboardData.childTable,s=void 0,l=this.getAllDescendants(r,[],!0),c=0;c<l.length;c++){var d=a[(s=this.diagram.nameTable[l[c].id]).id]=xh(s),h=ui(o,{x:d.wrapper.offsetX,y:d.wrapper.offsetY});s instanceof Dd&&(d.offsetX=h.x,d.offsetY=h.y,d.rotateAngle-=r.rotateAngle)}this.clipboardData.childTable=a}if("SwimLane"===r.shape.type){var p=this.diagram.getObject(this.diagram.selectedItems.nodes[n].id),u=(a=this.clipboardData.childTable,ul(this.diagram,p.wrapper.children[0]));for(c=0;c<u.length;c++){var f=this.diagram.getObject(u[c]);a[f.id]=xh(f)}}if(r&&r.isLane){a=this.clipboardData.childTable,p=this.diagram.getObject(r.parentId);var g=_l(r,this.diagram);a[r.id]=xh(g),a[r.id].width=p.wrapper.actualSize.width}}}if(0===this.clipboardData.pasteIndex){this.startGroupAction();for(var m=0,v=e;m<v.length;m++){var y=v[m];this.diagram.nameTable[y.id]&&(this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(y)>-1?this.diagram.remove(this.diagram.nameTable[y.targetID]):this.diagram.remove(y))}this.endGroupAction()}return this.sortByZIndex(t,"zIndex"),t},e.prototype.copyProcesses=function(e){if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0){for(var t=0,n=e.shape.activity.subProcess.processes;t<n.length;t++){var i=n[t];this.processTable[i]=xh(this.diagram.nameTable[i]),this.processTable[i].shape.activity.subProcess.processes&&this.processTable[i].shape.activity.subProcess.processes.length>0&&this.copyProcesses(this.processTable[i])}this.clipboardData.processTable=this.processTable}},e.prototype.group=function(){this.oldSelectedObjects=Bc(this.diagram);var e=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Ri.Group;var t,n=[],i={};i.id="group"+mh(),(i=new Dd(this.diagram,"nodes",i,!0)).children=[],n=(n=this.diagram.selectedItems.nodes).concat(this.diagram.selectedItems.connectors);for(var r=0;r<n.length;r++)n[r].parentId||i.children.push(n[r].id);(t=this.diagram.add(i))&&this.select(t);var o={type:"Group",undoObject:i,redoObject:i,category:"Internal"};this.addHistoryEntry(o),this.diagram.diagramActions=this.diagram.diagramActions&~Ri.Group,this.diagram.protectPropertyChange(e),this.updateBlazorSelector()},e.prototype.unGroup=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|Ri.Group;var n=[];e?n.push(e):n=this.diagram.selectedItems.nodes;for(var i=0;i<n.length;i++){var r=n[i],o={type:"UnGroup",undoObject:xh(r),redoObject:xh(r),category:"Internal"};if(this.diagram.diagramActions&Ri.UndoRedo||this.addHistoryEntry(o),r.children){r.ports&&r.ports.length>0&&this.diagram.removePorts(r,r.ports),r.annotations&&r.annotations.length>0&&(!w()||w()&&""!==r.annotations[0].content)&&this.diagram.removeLabels(r,r.annotations);for(var a=this.diagram.nameTable[r.parentId],s=r.children.length-1;s>=0;s--)this.diagram.nameTable[r.children[s]].parentId="",this.diagram.deleteChild(this.diagram.nameTable[r.children[s]],r),r.parentId&&r.children[s]&&this.diagram.addChild(a,r.children[s]);r.parentId&&this.diagram.deleteChild(r,a)}this.diagram.removeNode(r),this.clearSelection()}this.diagram.diagramActions=this.diagram.diagramActions&~Ri.Group,this.diagram.protectPropertyChange(t)},e.prototype.paste=function(e){if(e||this.clipboardData.clipObject){this.diagram.protectPropertyChange(!0);var t=e?this.getNewObject(e):this.clipboardData.clipObject;if(t){var n=1!==t.length,i=!1,r={},o={};0!==this.clipboardData.pasteIndex&&this.clearSelection(),this.diagram.undoRedoModule&&(i=!0,this.diagram.historyManager.startGroupAction());for(var a=0,s=t;a<s.length;a++){r[(d=s[a]).id]=d}var l=[];n&&(this.diagram.isServerUpdate=!0);for(var c=0;c<t.length;c++){var d=t[c];if(Lc(d)===$a){var h=xh(d),p=h.sourceID;h.sourceID="",r[p]&&o[p]&&(h.sourceID=o[p]),p=h.targetID,h.targetID="",r[p]&&o[p]&&(h.targetID=o[p]);var u=this.cloneConnector(h,n);l.push(u),o[d.id]=u.id}else{var f=this.cloneNode(d,n);if(l.push(f),f){o[d.id]=f.id;var g=d.inEdges;if(g)for(var m=0,v=g;m<v.length;m++){if(r[w=v[m]]&&o[w])(x=this.diagram.nameTable[o[w]]).targetID=o[d.id],this.diagram.connectorPropertyChange(x,{targetID:"",targetPortID:""},{targetID:x.targetID,targetPortID:x.targetPortID})}if(g=d.outEdges)for(var y=0,b=g;y<b.length;y++){var w,x;if(r[w=b[y]]&&o[w])(x=this.diagram.nameTable[o[w]]).sourceID=o[d.id],this.diagram.connectorPropertyChange(x,{sourceID:"",sourcePortID:""},{sourceID:x.sourceID,sourcePortID:x.sourcePortID})}}}}n&&(this.diagram.isServerUpdate=!1,this.diagram.UpdateBlazorDiagramModelCollection(t[0],l)),!0===i&&(this.diagram.historyManager.endGroupAction(),i=!1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.clipboardData.pasteIndex++,this.diagram.protectPropertyChange(!1)}}},e.prototype.getNewObject=function(e){var t,n=[];this.clipboardData.pasteIndex=1;for(var i=0;i<e.length;i++)t=xh(e[i]),n.push(t);return n},e.prototype.cloneConnector=function(e,t){var n,i=xh(e);return this.translateObject(i),i.zIndex=-1,n=this.diagram.add(i),this.selectObjects([n],t),n},e.prototype.cloneNode=function(e,t,n,i){var r,o,a={},s=xh(e),l=this.diagram.nameTable[e.parentId];if(e.shape&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length&&(o=s.shape.activity.subProcess.processes,s.zIndex=-1,s.shape.activity.subProcess.processes=void 0),e.shape&&"SwimLane"===e.shape.type)jl(e,this.diagram,this.clipboardData);else if(l&&"SwimLane"===l.shape.type)jl(xh(l),this.diagram,this.clipboardData,e,!0);else if(!e.children||!e.children.length||n&&n.length)if(e.shape&&(!w()&&"TextAnnotation"===e.shape.shape||w()&&"TextAnnotation"===e.shape.bpmnShape)&&-1!==e.id.indexOf("_textannotation_")&&this.diagram.nameTable[e.id])for(var c=e.id.split("_textannotation_"),d=void 0,h=this.diagram.nameTable[e.id],p=0;p<h.inEdges.length;p++){var u=this.diagram.nameTable[h.inEdges[p]];if(u){d=this.diagram.nameTable[u.sourceID];var f=this.getAnnotation(d,c[1]),g={id:c[1]+mh(),angle:f.angle,text:f.text,length:f.length,shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:f.nodeId};this.diagram.addTextAnnotation(g,d)}}else this.translateObject(s,i),s.zIndex=-1,n&&(s.children=n),r=this.diagram.add(s);else r=this.cloneGroup(e,t);for(var m=0,v=Object.keys(a);m<v.length;m++){var y=v[m];this.diagram.add(a[y])}return o&&o.length&&(r.shape.activity.subProcess.processes=o,this.cloneSubProcesses(r)),r&&this.selectObjects([r],t),r},e.prototype.getAnnotation=function(e,t){var n=e.shape.annotations;if(n&&n.length)for(var i=0;i<=n.length;i++)if(n[i].id===t)return n[i]},e.prototype.cloneSubProcesses=function(e){var t=[],n={};if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length)for(var i=e.shape.activity.subProcess.processes,r=0;r<i.length;r++){for(var o=this.diagram.nameTable[i[r]]||this.clipboardData.processTable[i[r]],a=0,s=o.outEdges;a<s.length;a++){var l=s[a];t.indexOf(l)<0&&t.push(l)}for(var c=0,d=o.inEdges;c<d.length;c++){l=d[c];t.indexOf(l)<0&&t.push(l)}var h=xh(this.clipboardData.processTable[i[r]]);h.processId=e.id;var p=this.cloneNode(h,!1);n[i[r]]=p.id,i[r]=p.id,this.diagram.addProcess(p,e.id);for(var u=0,f=t;u<f.length;u++){var g=f[u],m=xh(this.diagram.nameTable[g]||this.diagram.connectorTable[g]);n[m.sourceID]&&n[m.targetID]&&(m.zIndex=-1,m.id+=mh(),m.sourceID=n[m.sourceID],m.targetID=n[m.targetID],t.splice(t.indexOf(g),1),this.diagram.add(m))}}},e.prototype.cloneGroup=function(e,t){var n,i=[],r=[],o=[],a=[];r=r.concat(e.children);var s=mh();if(this.clipboardData.childTable||e.children.length>0)for(var l=0;l<r.length;l++){var c=void 0;(c=this.clipboardData.childTable?this.clipboardData.childTable[r[l]]:this.diagram.nameTable[r[l]]).parentId="",c&&(Lc(c)===$a?o.push(c):(n=this.cloneNode(c,t,void 0,s),a.push(c.id),i.push(n.id)))}for(var d=0;d<o.length;d++){if(o[d].sourceID||o[d].targetID)for(var h=0;h<a.length;h++)o[d].sourceID===a[h]&&(o[d].sourceID+=s),o[d].targetID===a[h]&&(o[d].targetID+=s);n=this.cloneConnector(o[d],t),i.push(n.id)}var p=this.cloneNode(e,t,i);return p&&p.container&&p.shape&&"UmlClassifier"===p.shape.type&&(this.diagram.updateDiagramObject(p),p.wrapper.measure(new Kn)),p},e.prototype.translateObject=function(e,t){e.id+=t||mh();var n=10*this.clipboardData.pasteIndex;if(Lc(e)===$a){if(e.sourcePoint={x:e.sourcePoint.x+n,y:e.sourcePoint.y+n},e.targetPoint={x:e.targetPoint.x+n,y:e.targetPoint.y+n},"Bezier"===e.type)for(var i=e.segments,r=0;r<i.length;r++)Jn.isEmptyPoint(i[r].point1)||(i[r].point1={x:i[r].point1.x+n,y:i[r].point1.y+n}),Jn.isEmptyPoint(i[r].point2)||(i[r].point2={x:i[r].point2.x+n,y:i[r].point2.y+n});if(("Straight"===e.type||"Bezier"===e.type)&&e.segments&&e.segments.length>0)for(i=e.segments,r=0;r<i.length-1;r++)i[r].point.x+=n,i[r].point.y+=n}else e.offsetX+=n,e.offsetY+=n},e.prototype.drawObject=function(e){var t,n,i;w()&&(t=this.diagram.getProtectPropertyChangeValue(),this.diagram.protectPropertyChange(!0)),e&&e.shape&&"Text"===e.shape.type&&(e.width=this.diagram.drawingObject.width?this.diagram.drawingObject.width:50,e.height=this.diagram.drawingObject.height?this.diagram.drawingObject.height:20),i=xh(this.diagram.drawingObject);for(var r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];i[a]=e[a]}return Lc(this.diagram.drawingObject)===Dd?(n=new Dd(this.diagram,"nodes",i,!0)).id=(this.diagram.drawingObject.id||"node")+mh():(n=new $a(this.diagram,"connectors",i,!0)).id=(this.diagram.drawingObject.id||"connector")+mh(),w()&&Kl(n,i,Lc(this.diagram.drawingObject)===Dd?this.diagram.nodeDefaults:this.diagram.connectorDefaults),this.diagram.initObject(n),this.diagram.updateDiagramObject(n),this.diagram.currentDrawingObject=n,w()&&this.diagram.protectPropertyChange(t),n},e.prototype.addObjectToDiagram=function(e){var t;this.diagram.removeFromAQuad(e),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[e.id]),delete this.diagram.nameTable[e.id],t=this.diagram.add(e),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.selectObjects([t]),e&&!Os(this.diagram)&&(this.diagram.tool&=~Ai.DrawOnce,this.diagram.currentDrawingObject=void 0)},e.prototype.enableServerDataBinding=function(e){this.diagram.enableServerDataBinding(e)},e.prototype.addText=function(e,t){var n=this.diagram.findElementUnderMouse(e,t);this.diagram.startTextEdit(e,n instanceof or?n.id.split("_")[1]:void 0)},e.prototype.updateArgsObject=function(e,t,n){if(e)for(var i=0;i<e.length;i++)Lc(e[i])===$a?n.connectors.push(Vc(e[i])):n.nodes.push(Vc(e[i]))},e.prototype.updateSelectionChangeEventArgs=function(e,t,n){if(w()){var i=(e={cause:this.diagram.diagramActions,newValue:{},oldValue:{},state:e.state,type:e.type,cancel:!1}).oldValue,r=e.newValue;return i.connectors=[],i.nodes=[],r.connectors=[],r.nodes=[],this.updateArgsObject(this.getSelectedObject(),e,r),this.updateArgsObject(n,e,i),e}return e},e.prototype.isUserHandle=function(e){var t=this.diagram.selectedItems;if(t.wrapper&&Sc(t.constraints,"UserHandle"))for(var n=0,i=t.userHandles;n<i.length;n++){var r=i[n];if(r.visible)if(dp(e,wc(t,r,this.diagram.scroller.transform),r.size/(2*this.diagram.scroller.transform.scale)))return!0}return!1},e.prototype.selectObjects=function(e,t,n){return Up(this,void 0,void 0,(function(){var i,r,o,a,s,l,c,d,h;return Yp(this,(function(p){switch(p.label){case 0:if(i={oldValue:n||this.getSelectedObject(),newValue:e,cause:this.diagram.diagramActions,state:"Changing",type:"Addition",cancel:!1},this.diagram.enableServerDataBinding(!1),!0,w()?this.oldSelectedObjects=Bc(this.diagram):this.diagram.triggerEvent(Hi.selectionChange,i),r=Ss(this.diagram),(o=xs(this.diagram))||r){if(!r&&(e.length>1||t&&1===e.length)){if(1!==e.length)return[2];this.clearSelection()}if(!o&&1===e.length&&(!t||!hp(this.diagram)))return this.clearSelection(),[2]}if(i.cancel)return[3,4];for(a=0;a<e.length;a++)if(s=e[a])if(!0,hp(this.diagram)){if((a>0||t)&&s.children&&!s.parentId)for(l=0;l<this.diagram.selectedItems.nodes.length;l++)(c=this.diagram.nameTable[this.diagram.selectedItems.nodes[l].parentId])&&(c=this.findParent(c))&&s.id===c.id&&this.selectGroup(s);this.selectProcesses(s),this.selectBpmnSubProcesses(s)&&this.select(s,a>0||t,!0)}else this.select(s,a>0||t,!0);return i={oldValue:n||[],newValue:this.getSelectedObject(),cause:this.diagram.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.diagram.renderSelector(t||e&&e.length>1),this.updateBlazorSelectorModel(n),w()&&this.diagram.selectionChange&&(i=this.updateSelectionChangeEventArgs(i,e,n||[]),this.updateBlazorSelector()),w()?[3,1]:(this.diagram.triggerEvent(Hi.selectionChange,i),[3,3]);case 1:return[4,this.diagram.triggerEvent(Hi.selectionChange,i)];case 2:(d=p.sent())&&d.cancel&&(h=[],d.oldValue.nodes.length>0&&(h=d.oldValue.nodes),d.oldValue.connectors.length>0&&(h=h.concat(d.oldValue.connectors)),h&&(h.length>0?this.diagram.select(h):this.clearSelection(!0,!0))),p.label=3;case 3:this.diagram.enableServerDataBinding(!0),this.updateBlazorSelector(),p.label=4;case 4:return[2]}}))}))},e.prototype.updateBlazorSelector=function(){if(w()){this.newSelectedObjects=Bc(this.diagram);var e=this.deepDiffer.map(xh(this.newSelectedObjects),this.oldSelectedObjects),t=this.deepDiffer.frameObject({},e),n=this.deepDiffer.removeEmptyValues(t);n.nodes=[];for(var i=0;i<this.diagram.selectedItems.nodes.length;i++)n.nodes.push(this.diagram.selectedItems.nodes[i].id);n.connectors=[];for(i=0;i<this.diagram.selectedItems.connectors.length;i++)n.connectors.push(this.diagram.selectedItems.connectors[i].id);if(window&&window.Blazor){var r={methodName:"UpdateBlazorProperties",diagramobj:{selectedItems:n}};window.sfBlazor.updateBlazorProperties(r,this.diagram)}}},e.prototype.findParent=function(e){return e.parentId&&(e=this.diagram.nameTable[e.parentId],this.findParent(e)),e},e.prototype.selectProcesses=function(e){if(this.hasProcesses(e))for(var t=e.shape.activity.subProcess.processes,n=0;n<t.length;n++){var i=this.diagram.nameTable[t[n]];this.hasProcesses(i)&&this.selectObjects([i],!0),this.unSelect(i)}},e.prototype.selectGroup=function(e){for(var t=0;t<e.children.length;t++){var n=this.diagram.nameTable[e.children[t]];n.children&&this.selectGroup(n),this.unSelect(this.diagram.nameTable[e.children[t]])}},e.prototype.selectBpmnSubProcesses=function(e){var t,n=!0;if(e.processId)n=!up(this.diagram,this.diagram.nameTable[e.processId])&&this.selectBpmnSubProcesses(this.diagram.nameTable[e.processId]);else if(e instanceof $a){if(e.sourceID&&this.diagram.nameTable[e.sourceID]&&this.diagram.nameTable[e.sourceID].processId&&(t=this.diagram.nameTable[e.sourceID].processId),e.targetID&&this.diagram.nameTable[e.targetID]&&this.diagram.nameTable[e.targetID].processId&&(t=this.diagram.nameTable[e.targetID].processId),t){if(up(this.diagram,this.diagram.nameTable[t]))return!1;n=this.selectBpmnSubProcesses(this.diagram.nameTable[t])}}else e.parentId&&this.diagram.nameTable[e.parentId]&&"UmlClassifier"===this.diagram.nameTable[e.parentId].shape.type&&up(this.diagram,this.diagram.nameTable[e.parentId])&&(n=!1);return n},e.prototype.hasProcesses=function(e){return!!(e&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)},e.prototype.select=function(e,t,n){var i=this.getObjectLayer(e.id);if(ss(e)&&!(e instanceof Hd)&&!up(this.diagram,e)&&i&&!i.lock&&i.visible&&e.wrapper.visible){(t=!!hp(this.diagram)&&t)||this.clearSelection(),this.diagram.enableServerDataBinding(!1);var r=this.diagram.selectedItems;if(e instanceof Dd)if(e.isHeader){var o=this.diagram.nameTable[e.parentId];r.nodes.push(o)}else r.nodes.push(e);else r.connectors.push(e);if(t)r.wrapper.rotateAngle=r.rotateAngle=0,r.wrapper.children.push(e.wrapper);else if(r.init(this.diagram),1===r.nodes.length&&0===r.connectors.length){var a=Dl(this.diagram,r);a&&(r.wrapper.children[0]=a),r.rotateAngle=r.nodes[0].rotateAngle,r.wrapper.rotateAngle=r.nodes[0].rotateAngle,r.wrapper.pivot=r.nodes[0].pivot}n||this.diagram.renderSelector(t),this.diagram.enableServerDataBinding(!0)}},e.prototype.getObjectCollectionId=function(e,t){for(var n=[],i=0,r=e?this.diagram.selectedItems.nodes:this.diagram.selectedItems.connectors;!t&&i<r.length;)n[i]=r[i].id,i++;return n},e.prototype.updateBlazorSelectorModel=function(e,t){if(window&&window.sfBlazor){for(var n=0,i=[];e&&n<e.length;)i[n]=e[n].id,n++;n=0;var r=Vc({nodes:this.getObjectCollectionId(!0,t),connectors:this.getObjectCollectionId(!1,t)});window.sfBlazor.updateDiagramCollection&&window.sfBlazor.updateDiagramCollection.call(this.diagram,"selectedItems",r,i,!1,!0)}},e.prototype.labelSelect=function(e,t){this.oldSelectedObjects=Bc(this.diagram);var n=this.diagram.selectedItems,i=this.diagram.allowServerDataBinding;this.diagram.allowServerDataBinding=!1,n.nodes=n.connectors=[],this.diagram.allowServerDataBinding=i,e instanceof Dd?n.nodes[0]=e:n.connectors[0]=e,n.annotation=this.findTarget(t,e),n.init(this.diagram),this.diagram.renderSelector(!1),this.updateBlazorSelector()},e.prototype.unSelect=function(e){var t=[];t.push(e);var n={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1};if(this.diagram.currentSymbol||w()||this.diagram.triggerEvent(Hi.selectionChange,n),up(this.diagram,e)){var i=this.diagram.selectedItems,r=void 0;e instanceof Dd?(r=i.nodes.indexOf(e,0),i.nodes.splice(r,1)):(r=i.connectors.indexOf(e,0),i.connectors.splice(r,1)),n={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(t),(n={oldValue:Vc(t),newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:n.cancel}).cancel||(r=i.wrapper.children.indexOf(e.wrapper,0),i.wrapper.children.splice(r,1),this.diagram.updateSelector(),this.diagram.currentSymbol||(w()&&(n=this.updateSelectionChangeEventArgs(n,[],t),this.updateBlazorSelector()),this.diagram.triggerEvent(Hi.selectionChange,n)))}},e.prototype.getChildElements=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.children&&i.children.length>0?t.concat(this.getChildElements(i.children)):(t.push(i.id),i instanceof or&&t.push(i.id+"_text"))}return t},e.prototype.moveSvgNode=function(e,t){var n=Yd(t+"_groupElement",this.diagram.element.id),i=Yd(e+"_groupElement",this.diagram.element.id);n.parentNode.insertBefore(i,n)},e.prototype.sendLayerBackward=function(e){var t=this.getLayer(e);if(t&&0!==t.zIndex){var n=t.zIndex;if("SVG"===this.diagram.mode){var i=t.objects,r=this.getLayer(this.diagram.layerZIndexTable[n-1]).objects[0];if(r)for(var o=0,a=i;o<a.length;o++){var s=a[o];this.moveSvgNode(s,r)}}var l=this.getLayer(this.diagram.layerZIndexTable[n-1]);l.zIndex=l.zIndex+1,t.zIndex=t.zIndex-1;var c=this.diagram.layerZIndexTable[n];this.diagram.layerZIndexTable[n]=this.diagram.layerZIndexTable[n-1],this.diagram.layerZIndexTable[n-1]=c,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.bringLayerForward=function(e){var t=this.getLayer(e);if(t&&t.zIndex<this.diagram.layers.length-1){var n=t.zIndex,i=this.getLayer(this.diagram.layerZIndexTable[n+1]);if("SVG"===this.diagram.mode)for(var r=t.objects[0],o=0,a=i.objects;o<a.length;o++){var s=a[o];s&&this.moveSvgNode(s,r)}i.zIndex=i.zIndex-1,t.zIndex=t.zIndex+1;var l=this.diagram.layerZIndexTable[n];this.diagram.layerZIndexTable[n]=this.diagram.layerZIndexTable[n+1],this.diagram.layerZIndexTable[n+1]=l,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.sendToBack=function(e){if(this.diagram.protectPropertyChange(!0),hp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.nameTable[t].zIndex,i=this.diagram.layers.indexOf(this.getObjectLayer(t)),r=this.diagram.layers[i].zIndexTable,o=xh(this.diagram.selectedItems);if(1!==this.diagram.nodes.length&&(void 0===this.diagram.nameTable[t].children||this.checkObjectBehind(t,r,n))){for(var a=n;a>0;a--)r[a]&&(r[a-1]?(r[a]=r[a-1],this.diagram.nameTable[r[a]].zIndex=a):(r[a-1]=r[a],this.diagram.nameTable[r[a-1]].zIndex=a,delete r[a]));if(r[0]=this.diagram.nameTable[t].id,this.diagram.nameTable[t].zIndex=0,"SVG"===this.diagram.mode){for(var s=r[a=1];!s&&a<n;)s=r[++a];this.moveSvgNode(t,s),this.updateNativeNodeIndex(t)}else this.diagram.refreshCanvasLayers();var l={type:"SendToBack",category:"Internal",undoObject:o,redoObject:xh(this.diagram.selectedItems)};this.diagram.diagramActions&Ri.UndoRedo||this.addHistoryEntry(l)}}this.diagram.protectPropertyChange(!1)},e.prototype.checkObjectBehind=function(e,t,n){for(var i=0;i<n;i++){var r=t[i];if(e!==this.diagram.nameTable[r].parentId)return!0}return!1},e.prototype.bringToFront=function(e){if(this.diagram.protectPropertyChange(!0),hp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);for(var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),i=this.diagram.layers[n].zIndexTable,r=xh(this.diagram.selectedItems),o=Number(Object.keys(i).sort((function(e,t){return Number(e)-Number(t)})).reverse()[0]),a=this.diagram.nameTable[t].zIndex;a<o;a++)i[a]&&(i[a+1]?(i[a]=i[a+1],this.diagram.nameTable[i[a]].zIndex=a):(i[a+1]=i[a],this.diagram.nameTable[i[a+1]].zIndex=a,delete i[a]));if(i[o]=this.diagram.nameTable[t].id,this.diagram.nameTable[t].zIndex=o,"SVG"===this.diagram.mode){var s=this.diagram.diagramLayer,l=(this.getChildElements(this.diagram.nameTable[t].wrapper.children),Yd(t+"_groupElement",this.diagram.element.id)),c=this.diagram.selectedItems.nodes;if(c.length>0&&("Native"===c[0].shape.type||"HTML"===c[0].shape.type)){l.parentNode.removeChild(l);for(var d=0;d<this.diagram.views.length;d++){var h=(l=Yd(t+("HTML"===c[0].shape.type?"_html_element":"_content_groupElement"),this.diagram.views[d])).parentNode.lastChild;h.parentNode.insertBefore(l,h.nextSibling)}var p=nh(this.diagram.element.id);this.diagram.diagramRenderer.renderElement(this.diagram.nameTable[t].wrapper,s,p)}else{var u=this.getObjectLayer(t);for(a=0;a<u.objects.length;a++)u.objects[a]!==t&&this.diagram.nameTable[u.objects[a]].parentId!==t&&(this.moveSvgNode(u.objects[a],t),this.updateNativeNodeIndex(t))}}else this.diagram.refreshCanvasLayers();var f={type:"BringToFront",category:"Internal",undoObject:r,redoObject:xh(this.diagram.selectedItems)};this.diagram.diagramActions&Ri.UndoRedo||this.addHistoryEntry(f)}this.diagram.protectPropertyChange(!1)},e.prototype.sortByZIndex=function(e,t){var n=t||"zIndex";return e=e.sort((function(e,t){return e[n]-t[n]}))},e.prototype.orderCommands=function(e,t,n){var i=t.nodes;if(i=i.concat(t.connectors),e)"SendBackward"===n?this.sendBackward(i[0]):"SendForward"===n?this.sendForward(i[0]):"BringToFront"===n?this.bringToFront(i[0]):"SendToBack"===n&&this.sendToBack(i[0]);else{var r=i[0].zIndex,o=this.diagram.nameTable[i[0].id].zIndex,a=i[0],s=this.getObjectLayer(a.id),l=s.zIndex,c=s.zIndexTable;if("SendBackward"===n||"SendForward"===n)for(var d=0;d<i.length;d++){var h=i[d],p=this.diagram.layers.indexOf(this.getObjectLayer(h.id));this.diagram.nameTable[i[d].id].zIndex=h.zIndex,this.diagram.layers[p].zIndexTable[h.zIndex]=h.id}else if("BringToFront"===n)for(var u=o;u>r;u--)c[u]&&(c[u-1]?(c[u]=c[u-1],this.diagram.nameTable[c[u]].zIndex=u):(c[u-1]=c[u],this.diagram.nameTable[c[u-1]].zIndex=u,delete c[u]));else if("SendToBack"===n)for(u=o;u<r;u++)c[u]&&(c[u+1]?(c[u]=c[u+1],this.diagram.nameTable[c[u]].zIndex=u):(c[u+1]=c[u],this.diagram.nameTable[c[u+1]].zIndex=u,delete c[u]));if("BringToFront"===n||"SendToBack"===n)this.diagram.nameTable[i[0].id].zIndex=a.zIndex,this.diagram.layers[l].zIndexTable[a.zIndex]=a.id;if("SVG"===this.diagram.mode){if("SendBackward"===n)this.moveObject(i[1].id,i[0].id);else if("SendForward"===n)this.moveObject(i[0].id,i[1].id);else if("BringToFront"===n)this.moveObject(i[0].id,c[i[0].zIndex+1]);else if("SendToBack"===n){var f=this.getObjectLayer(i[0].id);for(d=0;d<=i[0].zIndex;d++)f.objects[d]!==i[0].id&&(this.moveSvgNode(f.objects[d],i[0].id),this.updateNativeNodeIndex(i[0].id))}}else this.diagram.refreshCanvasLayers()}},e.prototype.moveObject=function(e,t){t&&(this.moveSvgNode(e,t),this.updateNativeNodeIndex(e,t))},e.prototype.sendForward=function(e){if(this.diagram.protectPropertyChange(!0),hp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),i=this.diagram.layers[n].zIndexTable,r=(Object.keys(i).length,this.diagram.nameTable[t]),o=[],a=this.diagram.spatialSearch.findObjects(r.wrapper.bounds);a.length>2&&(a=this.sortByZIndex(a));for(var s=0,l=a;s<l.length;s++){var c=l[s];if(r.id!==c.id)if(n===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[t].zIndex)<Number(c.zIndex)&&r.wrapper.bounds.intersects(c.wrapper.bounds)){o.push(c);break}}if(o.length>0){var d=o[0].zIndex,h=r.zIndex,p=i[d],u=xh(this.diagram.selectedItems);this.diagram.nameTable[p]instanceof Dd?u.nodes.push(xh(this.diagram.nameTable[p])):u.connectors.push(xh(this.diagram.nameTable[p])),this.diagram.layers[0].zIndexTable[d]=r.id,this.diagram.nameTable[i[d]].zIndex=d,this.diagram.layers[0].zIndexTable[h]=o[0].id,this.diagram.nameTable[i[h]].zIndex=h,"SVG"===this.diagram.mode?(this.moveSvgNode(i[Number(o[0].zIndex)],t),this.updateNativeNodeIndex(i[Number(o[0].zIndex)],t)):this.diagram.refreshCanvasLayers();var f=xh(this.diagram.selectedItems);this.diagram.nameTable[p]instanceof Dd?f.nodes.push(xh(this.diagram.nameTable[p])):f.connectors.push(xh(this.diagram.nameTable[p]));var g={type:"SendForward",category:"Internal",undoObject:u,redoObject:f};this.diagram.diagramActions&Ri.UndoRedo||this.addHistoryEntry(g)}}this.diagram.protectPropertyChange(!1)},e.prototype.sendBackward=function(e){if(this.diagram.protectPropertyChange(!0),hp(this.diagram)||e){var t=e&&e.id;t=t||(this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id);var n=this.diagram.layers.indexOf(this.getObjectLayer(t)),i=this.diagram.layers[n].zIndexTable,r=(Object.keys(i).length,this.diagram.nameTable[t]),o=[],a=this.diagram.spatialSearch.findObjects(r.wrapper.bounds);a.length>2&&(a=this.sortByZIndex(a));for(var s=0,l=a;s<l.length;s++){var c=l[s];if(r.id!==c.id)n===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[t].zIndex)>Number(c.zIndex)&&r.wrapper.bounds.intersects(c.wrapper.bounds)&&o.push(c)}if(o.length>0){var d=o[o.length-1].zIndex,h=r.zIndex,p=i[d],u=xh(this.diagram.selectedItems);this.diagram.nameTable[p]instanceof Dd?u.nodes.push(xh(this.diagram.nameTable[p])):u.connectors.push(xh(this.diagram.nameTable[p])),i[d]=r.id,this.diagram.nameTable[i[d]].zIndex=d,i[h]=o[o.length-1].id,this.diagram.nameTable[i[h]].zIndex=h,"SVG"===this.diagram.mode?r.children&&r.children.length>0||(this.moveSvgNode(t,i[o[o.length-1].zIndex]),this.updateNativeNodeIndex(t,i[o[o.length-1].zIndex])):this.diagram.refreshCanvasLayers();var f=xh(this.diagram.selectedItems);this.diagram.nameTable[p]instanceof Dd?f.nodes.push(xh(this.diagram.nameTable[p])):f.connectors.push(xh(this.diagram.nameTable[p]));var g={type:"SendBackward",category:"Internal",undoObject:u,redoObject:f};this.diagram.diagramActions&Ri.UndoRedo||this.addHistoryEntry(g)}}this.diagram.protectPropertyChange(!1)},e.prototype.updateNativeNodeIndex=function(e,t){for(var n=this.diagram.selectedItems.nodes[0]||this.diagram.getObject(t),i=0;i<this.diagram.views.length;i++)if(n&&("HTML"===n.shape.type||"Native"===n.shape.type)){var r="HTML"===n.shape.type?"_html_element":"_content_groupElement",o=Yd(e+r,this.diagram.views[i]),a=t?Yd(t+r,this.diagram.views[i]):o.parentElement.firstChild;o.parentNode.id===a.parentNode.id&&a.parentNode.insertBefore(o,a)}},e.prototype.initSelectorWrapper=function(){var e=this.diagram.selectedItems;e.init(this.diagram),1===e.nodes.length&&0===e.connectors.length&&(e.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.pivot=e.nodes[0].pivot)},e.prototype.doRubberBandSelection=function(e){this.clearSelectionRectangle();var t=[],n=[];t=this.diagram.getNodesConnectors(t),(n="CompleteIntersect"===this.diagram.selectedItems.rubberBandSelectionMode?function(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i];e.containsRect(r.wrapper.bounds)&&n.push(r)}return n}(e,t):this.diagram.spatialSearch.findObjects(e)).length&&this.selectObjects(n,!0)},e.prototype.clearSelectionRectangle=function(){var e=Gd(this.diagram.element.id).getElementById(this.diagram.element.id+"_diagramAdorner_selected_region");e&&ut(e)},e.prototype.dragConnectorEnds=function(e,t,n,i,r,o){var a,s,l,c=!1;return t instanceof Hd?a=t.connectors[0]:t instanceof $a&&this.diagram.currentDrawingObject&&(this.clearSelection(),a=this.diagram.currentDrawingObject),"BezierSourceThumb"!==e&&"BezierTargetThumb"!==e||(c=!0),"ConnectorSourceEnd"===e||"BezierSourceThumb"===e?(s=n.x-(c?i.bezierPoint1.x:a.sourcePoint.x),l=n.y-(c?i.bezierPoint1.y:a.sourcePoint.y),this.dragSourceEnd(a,s,l,null,n,e,void 0,r,o,void 0,i)):(s=n.x-(c?i.bezierPoint2.x:a.targetPoint.x),l=n.y-(c?i.bezierPoint2.y:a.targetPoint.y),this.dragTargetEnd(a,s,l,null,n,e,void 0,i))},e.prototype.getSelectedObject=function(){var e=this.diagram.selectedItems;return e.nodes.concat(e.connectors)},e.prototype.updateBlazorProperties=function(e){if(e){if(window&&window.Blazor){t={methodName:"UpdateBlazorProperties",diagramobj:this.deepDiffer.diagramObject};window.sfBlazor.updateBlazorProperties(t,this.diagram)}}else if(window&&window.Blazor){var t={methodName:"UpdateBlazorProperties",diagramobj:this.diagramObject};window.sfBlazor.updateBlazorProperties(t,this.diagram)}this.diagram.enableServerDataBinding(!0),this.deepDiffer.newNodeObject=[],this.deepDiffer.newConnectorObject=[],this.diagramObject=[],this.diagram.oldNodeObjects=[],this.diagram.oldConnectorObjects=[]},e.prototype.enableCloneObject=function(e){this.diagram.canEnableBlazorObject=e},e.prototype.ismouseEvents=function(e){this.diagram.blazorActions=e?this.diagram.addConstraints(this.diagram.blazorActions,wi.interaction):this.diagram.removeConstraints(this.diagram.blazorActions,wi.interaction)},e.prototype.updateLayerObject=function(e,t){if(w()){var n;n=this.deepDiffer.getLayerObject(e,t,this.diagram),this.diagramObject=n,this.updateBlazorProperties()}},e.prototype.getDiagramOldValues=function(e,t){for(var n={},i=0;i<t.length;i++)n[t[i]]=xh(this.diagram[t[i]]);var r=xh(n),o=this.deepDiffer.map(r,e),a=this.deepDiffer.frameObject({},o),s=this.deepDiffer.removeEmptyValues(a);s=this.deepDiffer.changeSegments(s,r),this.diagramObject=s,this.updateBlazorProperties()},e.prototype.getBlazorOldValues=function(e,t){if(w()){for(var n=this.diagram.oldNodeObjects,i=0;i<n.length;i++)n[i].id&&(this.diagram.oldNodeObjects[i]instanceof Dd&&(this.diagram.oldNodeObjects[i]=Vc(this.diagram.oldNodeObjects[i])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[n[i].id],e,t,this.diagram));var r=this.diagram.oldConnectorObjects;for(i=0;i<r.length;i++)r[i].id&&(this.diagram.oldConnectorObjects[i]instanceof $a&&(this.diagram.oldConnectorObjects[i]=Vc(this.diagram.oldConnectorObjects[i])),this.deepDiffer.getDifferenceValues(this.diagram.nameTable[r[i].id],e,t,this.diagram));(n.length>0||r.length>0)&&this.updateBlazorProperties(!0)}},e.prototype.getObjectChanges=function(e,t,n){for(var i=0;i<e.length;i++){var r=this.deepDiffer.map(t[i],e[i]),o=this.deepDiffer.frameObject({},r),a=this.deepDiffer.removeEmptyValues(o);a.children&&(a.children=xh(t[i]).children),(a=this.deepDiffer.changeSegments(a,t[i])).sfIndex=vh(this.diagram,t[i].id),n.push(a)}},e.prototype.clearSelection=function(e,t){return Up(this,void 0,void 0,(function(){var n,i,r,o,a,s;return Yp(this,(function(l){switch(l.label){case 0:return n=this.diagram.allowServerDataBinding,this.diagram.enableServerDataBinding(!1),hp(this.diagram)?(i=this.diagram.selectedItems,r=this.getSelectedObject(),this.diagram.currentSymbol&&(this.diagram.previousSelectedObject=r),o={oldValue:r,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1},this.updateBlazorSelectorModel(r,!0),e&&(w()?this.oldSelectedObjects=xh(i):this.diagram.triggerEvent(Hi.selectionChange,o)),o.cancel?[3,3]:(i.offsetX=0,i.offsetY=0,i.width=0,i.height=0,i.rotateAngle=0,i.nodes=[],i.connectors=[],i.wrapper=null,i.annotation=void 0,this.diagram.clearSelectorLayer(),e?(o={oldValue:Vc(r),newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},w()&&(o=this.updateSelectionChangeEventArgs(o,[],r),this.updateBlazorSelector()),w()?[3,1]:(this.diagram.triggerEvent(Hi.selectionChange,o),[3,3])):[3,3])):[3,4];case 1:return[4,this.diagram.triggerEvent(Hi.selectionChange,o)];case 2:(a=l.sent())&&a.cancel&&!t&&(s=[],a.oldValue.nodes.length>0&&(s=a.oldValue.nodes),a.oldValue.connectors.length>0&&(s=s.concat(a.oldValue.connectors)),s&&this.diagram.select(s)),l.label=3;case 3:this.updateBlazorSelector(),this.diagram.enableServerDataBinding(n),l.label=4;case 4:return[2]}}))}))},e.prototype.clearSelectedItems=function(){var e=this.diagram.selectedItems.nodes?this.diagram.selectedItems.nodes.length:0,t=this.diagram.selectedItems.connectors?this.diagram.selectedItems.connectors.length:0;this.clearSelection(e+t>0)},e.prototype.removeStackHighlighter=function(){var e=Gd(this.diagram.element.id),t=e.getElementById(e.id+"_stack_highlighter");t&&t.parentNode.removeChild(t)},e.prototype.renderStackHighlighter=function(e,t){var n,i,r,o=this.diagram.selectedItems.nodes[0];if(!t){var a=this.diagram.findObjectsUnderMouse(e.position);if((t=this.diagram.findObjectUnderMouse(a,"Drag",!0))&&!(t.isLane||t.isPhase||t.isHeader))for(var s=0;s<a.length;s++){var l=this.diagram.nameTable[a[s].id];(l.isLane||l.isPhase||l.isHeader)&&(t=l,this.diagram.parentObject=t)}}o&&t&&t.isLane&&o.shape&&!o.shape.isPhase&&(i=this.diagram.nameTable[t.parentId],this.diagram.currentSymbol&&"SwimLane"===i.shape.type&&(n=!0),(o&&!o.parentId&&"SwimLane"!==o.shape.type||o&&o.parentId&&this.diagram.nameTable[o.parentId]&&this.diagram.nameTable[o.parentId].isLane&&o.parentId!==t.parentId&&o.parentId!==t.id)&&(r=this.diagram.selectedItems,(c=Dl(this.diagram,r,t.id,!0))&&(r.wrapper.children[0]=c),this.diagram.renderSelector(!1,!0),r.wrapper.children[0]=r.nodes[0].wrapper));o&&t&&t.parentId&&o.shape&&o.shape.isPhase&&("SwimLane"===this.diagram.nameTable[t.parentId].shape.type&&(this.diagram.selectedItems.wrapper.children[0]=this.diagram.nameTable[t.parentId].wrapper,this.diagram.renderSelector(!1,!0)));if(n&&this.diagram.currentSymbol.shape.isLane||o&&t&&o.parentId&&t.parentId&&!o.isPhase&&o.parentId===t.parentId&&o.id!==t.id&&i&&i.container&&("Stack"===i.container.type||"Grid"===i.container.type)){var c=void 0,d="Vertical"===i.container.orientation,h="Stack"===i.container?d:!d;"Grid"===i.container.type&&t.isLane&&(!this.diagram.currentSymbol&&"Horizontal"===i.shape.orientation&&t.rowIndex!==o.rowIndex||"Vertical"===i.shape.orientation&&t.columnIndex!==o.columnIndex||this.diagram.currentSymbol&&this.diagram.currentSymbol.shape.orientation===i.container.orientation)&&(r=this.diagram.selectedItems,(o.isLane&&Wl(o,this.diagram)||!o.isLane)&&(c=Dl(this.diagram,r,t.id,n)));var p="Stack"===i.container.type?t.wrapper:c;p&&al(p,h,e.position,this.diagram,!1,!0)}},e.prototype.drag=function(e,t,n){var i;if(ls(e)&&this.checkBoundaryConstraints(t,n,e.wrapper.bounds)&&Is(this.diagram))if(e instanceof Dd){var r={offsetX:e.offsetX,offsetY:e.offsetY};if(e.offsetX+=t,e.offsetY+=n,e.children&&!e.container){el(this.diagram,e,!0)||(this.diagram.diagramActions=this.diagram.diagramActions|Ri.isGroupDragging);for(var o=this.getAllDescendants(e,[]),a=0;a<o.length;a++)i=this.diagram.nameTable[o[a].id],this.drag(i,t,n);this.updateInnerParentProperties(e),this.diagram.diagramActions=this.diagram.diagramActions&~Ri.isGroupDragging}if(el(this.diagram,e,!0)?tl(this.diagram,e):(e&&e.shape&&"UmlClassifier"===e.shape.type&&(e.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(e,r,{offsetX:e.offsetX,offsetY:e.offsetY},void 0,void 0,!1),e.wrapper.measureChildren=!1),"SwimLane"===e.shape.type&&!this.diagram.currentSymbol){var s=e.wrapper.children[0];wl(ul(this.diagram,s),this.diagram)}}else{var l=e,c=(r={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint},"Bezier"===l.type),d=!1;if(l.sourceWrapper?d=!0:this.dragSourceEnd(l,t,n,!0,null,"",c),l.targetWrapper?d=!0:this.dragTargetEnd(l,t,n,!0,null,"",c),!d){this.dragControlPoint(l,t,n,!0);var h={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint};this.diagram.connectorPropertyChange(l,r,h)}}},e.prototype.connectorSegmentChange=function(e,t,n){var i,r,o=!0;if(!1===t.equals(t,e.wrapper.bounds)&&e.outEdges.length>0)for(var a=0;a<e.outEdges.length;a++){var s=this.diagram.nameTable[e.outEdges[a]];if(o=""!==s.targetID?!this.isSelected(this.diagram.nameTable[s.targetID]):!this.isSelected(this.diagram.nameTable[s.id]),"Orthogonal"===s.type&&s.segments&&s.segments.length>1)if(n){var l=s.segments[0],c=s.segments[1],d=no(Xr(e.wrapper,e.wrapper.corners,e.wrapper.bounds),l.direction),h=ho({corners:void 0,point:d=ro(s,s.sourceWrapper,d,{x:s.sourceWrapper.offsetX,y:s.sourceWrapper.offsetY},!1),margin:void 0,direction:l.direction},{corners:void 0,point:c.points[1],margin:void 0,direction:void 0});l.length=Jn.distancePoints(h[0],h[1]),c.direction&&c.length&&(c.length=Jn.distancePoints(h[1],h[2]))}else if(o){switch(s.segments[0].direction){case"Bottom":i=e.wrapper.bounds.bottomCenter.x-t.bottomCenter.x,r=e.wrapper.bounds.bottomCenter.y-t.bottomCenter.y;break;case"Top":i=e.wrapper.bounds.topCenter.x-t.topCenter.x,r=e.wrapper.bounds.topCenter.y-t.topCenter.y;break;case"Left":i=e.wrapper.bounds.middleLeft.x-t.middleLeft.x,r=e.wrapper.bounds.middleLeft.y-t.middleLeft.y;break;case"Right":i=e.wrapper.bounds.middleRight.x-t.middleRight.x,r=e.wrapper.bounds.middleRight.y-t.middleRight.y}this.dragSourceEnd(s,i,r,!0,null,"ConnectorSourceEnd",void 0,void 0,void 0,!(e.parentId&&this.diagram.diagramActions&Ri.isGroupDragging))}}},e.prototype.updateEndPoint=function(e,t){e.sourcePoint,e.targetPoint,e.sourceID&&e.sourceID,e.targetID&&e.targetID,e.sourcePortID&&e.sourcePortID,e.targetPortID&&e.targetPortID,e.segments&&e.segments;var n={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};e.sourceID&&(n.sourceID=e.sourceID),e.targetID&&(n.targetID=e.targetID),e.sourcePortID&&(n.sourcePortID=e.sourcePortID),e.targetPortID&&(n.targetPortID=e.targetPortID),e.segments&&(n.segments=e.segments),this.diagram.connectorPropertyChange(e,t||{},n),this.diagram.updateSelector()},e.prototype.dragSourceEnd=function(e,t,n,i,r,o,a,s,l,c,d){var h=this.diagram.nameTable[e.id],p={},u=this.checkBoundaryConstraints(t,n,h.wrapper.bounds);if(cs(h)&&u&&"BezierSourceThumb"!==o&&Is(this.diagram)&&(p={sourcePoint:h.sourcePoint},h.sourcePoint.x+=t,h.sourcePoint.y+=n,"ConnectorSourceEnd"===o&&"Orthogonal"===h.type&&this.changeSegmentLength(h,s,l,c),"Bpmn"===h.shape.type&&"Default"===h.shape.sequence&&this.updatePathElementOffset(h)),"Bezier"===h.type)if(p={sourcePoint:h.sourcePoint},d)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,n,d,r,!a);else for(var f=0;f<e.segments.length;f++)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,n,e.segments[f],r,!a);return i||this.updateEndPoint(h,p),this.diagram.realActions&zi.AnimationClick||this.diagram.refreshCanvasLayers(),u},e.prototype.updatePathElementOffset=function(e){e.wrapper.children.splice(3,1);var t=new hr,n=e.intermediatePoints;t=Hc(n,e),e.wrapper.children.splice(3,0,t)},e.prototype.changeSegmentLength=function(e,t,n,i){if(e.segments&&null!==e.segments[0].direction&&(!t&&""===e.sourceID||i)){var r=e.segments[0],o=e.segments[1],a=this.diagram.nameTable[e.sourceID],s=void 0;if(r.points[0]=e.sourcePoint,"Top"===r.direction||"Bottom"===r.direction?(r.points[r.points.length-1].x=e.sourcePoint.x,o.points[0].y=r.points[r.points.length-1].y):(r.points[r.points.length-1].y=e.sourcePoint.y,o.points[0].x=r.points[r.points.length-1].x),r.direction&&(r.length||0===r.length)&&(r.length=Jn.distancePoints(r.points[0],r.points[r.points.length-1])),o.direction&&(o.length||0===o.length)&&(o.length=Jn.distancePoints(r.points[r.points.length-1],o.points[o.points.length-1]),o.direction=Jn.direction(r.points[r.points.length-1],o.points[o.points.length-1])),""!==e.sourcePortID&&r.length<10)if(e.segments.length>2){var l=e.segments[2],c=Jn.direction(l.points[0],l.points[1]);r.direction===yo(c)?("Right"===r.direction?l.points[0].x=r.points[r.points.length-1].x=a.wrapper.corners.middleRight.x+20:"Left"===r.direction?l.points[0].x=r.points[r.points.length-1].x=a.wrapper.corners.middleLeft.x-20:"Top"===r.direction?l.points[0].y=r.points[r.points.length-1].y=a.wrapper.corners.topCenter.y-20:l.points[0].y=r.points[r.points.length-1].y=a.wrapper.corners.bottomCenter.y+20,l.direction&&l.length&&(l.length=Jn.distancePoints(l.points[0],l.points[l.points.length-1])),r.length=Jn.distancePoints(r.points[0],r.points[r.points.length-1])):r.direction===c&&l.direction&&l.length?("Top"===r.direction||"Bottom"===r.direction?(l.points[0]=r.points[0],l.points[l.points.length-1].x=l.points[0].x):(l.points[0]=r.points[0],l.points[l.points.length-1].y=l.points[0].y),l.length=Jn.distancePoints(l.points[0],l.points[l.points.length-1]),e.segments.splice(0,2)):r.length=20}else r.length=20;else if(r.length<1)if(""!==e.sourceID){if("Right"===o.direction?(s=a.wrapper.corners.middleRight,o.points[o.points.length-1].y=s.y):"Left"===o.direction?(s=a.wrapper.corners.middleLeft,o.points[o.points.length-1].y=s.y):"Top"===o.direction?(s=a.wrapper.corners.topCenter,o.points[o.points.length-1].x=s.x):(s=a.wrapper.corners.bottomCenter,o.points[o.points.length-1].x=s.x),o.length=Jn.distancePoints(s,o.points[o.points.length-1]),e.segments.length>2)(l=e.segments[2]).direction&&l.length&&(l.length=Jn.distancePoints(o.points[o.points.length-1],l.points[l.points.length-1]));e.segments.splice(0,1)}else e.segments.splice(0,1)}else t&&!n&&e.sourceID!==t.id&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof Dd&&this.changeSourceEndToNode(e,t),t&&n&&e.sourcePortID!==n&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof Dd&&this.changeSourceEndToPort(e,t,n)},e.prototype.changeSourceEndToPort=function(e,t,n){var i=this.diagram.getWrapper(t.wrapper,n),r={x:i.offsetX,y:i.offsetY},o=mo(r,bh(t.wrapper),t.wrapper.bounds),a=e.segments[0],s=e.segments[1];if(a.direction!==o){var l=[],c={};if(a.direction===yo(o)){c={};var d=void 0;"Top"===o||"Bottom"===o?(d="Top"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].y-r.y)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(r.y-a.points[0].y)},c=a.points[0].x>r.x?{type:"Orthogonal",isTerminal:!0,direction:"Right",length:a.points[0].x-r.x}:{type:"Orthogonal",isTerminal:!0,direction:"Left",length:r.x-a.points[0].x}):(d="Right"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].x-r.x)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(r.x-a.points[0].x)},c=a.points[0].y>r.y?{type:"Orthogonal",direction:"Top",isTerminal:!0,length:a.points[0].y-r.y}:{type:"Orthogonal",direction:"Bottom",isTerminal:!0,length:r.y-a.points[0].y}),l.push(new _a(e,"segments",d,!0)),l.push(new _a(e,"segments",c,!0))}else c={type:"Orthogonal",direction:o,length:20,isTerminal:!0},l.push(new _a(e,"segments",c,!0));a.direction!==yo(o)&&("Top"===o||"Bottom"===o?(a.points[0].x=r.x,a.points[0].y=a.points[a.points.length-1].y="Top"===o?r.y-20:r.y+20):(a.points[0].y=r.y,a.points[0].x=a.points[a.points.length-1].x="Right"===o?r.x+20:r.x-20),a.length=Jn.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=Jn.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])),e.segments=l.concat(e.segments)}else a.points[0]=r,"Top"===o||"Bottom"===o?a.points[a.points.length-1].x=r.x:a.points[a.points.length-1].y=r.y,a.length=Jn.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=Jn.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])},e.prototype.removeTerminalSegment=function(e,t){for(var n=0;n<e.segments.length-2;n++){var i=e.segments[0];i.isTerminal&&(t?i.isTerminal=!1:(e.segments.splice(n,1),n--))}},e.prototype.changeSourceEndToNode=function(e,t){this.removeTerminalSegment(e);var n,i,r=t.wrapper.children[0].corners,o=e.segments[0],a=e.segments[1],s=[];if("Right"===o.direction||"Left"===o.direction)if(n="Left"===o.direction?r.middleLeft:r.middleRight,o.length>r.width||"Left"===o.direction&&n.x>=o.points[0].x||"Right"===o.direction&&n.x<=o.points[0].x)o.points[0].y=o.points[o.points.length-1].y=n.y,o.points[0].x=n.x,o.length=Jn.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=Jn.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{var l=void 0;i="Bottom"===(l=a.direction?a.direction:Jn.direction(a.points[0],a.points[a.points.length-1]))?r.bottomCenter:r.topCenter,a.length&&a.direction&&(a.length="Top"===l?o.points[o.points.length-1].y-(i.y+20):i.y+20-o.points[o.points.length-1].y),o.length=o.points[o.points.length-1].x-i.x,o.direction=o.length>0?"Right":"Left";var c={type:"Orthogonal",direction:l,length:20};s.push(new _a(e,"segments",c,!0)),e.segments=s.concat(e.segments)}else if(n="Bottom"===o.direction?r.bottomCenter:r.topCenter,o.length>r.height||"Top"===o.direction&&n.y>=o.points[0].y||"Bottom"===o.direction&&n.y<=o.points[0].y)o.points[0].x=o.points[o.points.length-1].x=n.x,o.points[0].y=n.y,o.length=Jn.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=Jn.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{i="Left"===a.direction?r.middleLeft:r.middleRight;l=void 0;l=a.direction?a.direction:Jn.direction(a.points[0],a.points[a.points.length-1]),a.length&&a.direction&&(a.length="Left"===l?o.points[o.points.length-1].x-(i.x+20):i.x+20-o.points[o.points.length-1].x),o.length=o.points[o.points.length-1].y-i.y,o.direction=o.length>0?"Bottom":"Top";c={type:"Orthogonal",direction:l,length:20};s.push(new _a(e,"segments",c,!0)),e.segments=s.concat(e.segments)}},e.prototype.translateBezierPoints=function(e,t,n,i,r,o,a){var s=e.segments.indexOf(r),l=e.segments[s];l&&("BezierSourceThumb"===t&&(l.vector1.angle||l.vector1.distance)?l.vector1={distance:e.distance(e.sourcePoint,o),angle:Jn.findAngle(e.sourcePoint,o)}:"BezierTargetThumb"===t&&(l.vector2.angle||l.vector2.distance)?l.vector2={distance:e.distance(e.targetPoint,o),angle:Jn.findAngle(e.targetPoint,o)}:("ConnectorSourceEnd"===t&&!e.sourceID||"ConnectorTargetEnd"===t&&!e.targetID)&&a&&Va(l.vector1)&&Va(l.vector2)?(Jn.isEmptyPoint(l.point1)&&(l.bezierPoint1=Ua(e.sourcePoint,e.targetPoint)),Jn.isEmptyPoint(l.point2)&&(l.bezierPoint2=Ua(e.targetPoint,e.sourcePoint))):"BezierSourceThumb"===t||"ConnectorSourceEnd"===t&&!a&&Va(l.vector1)?(l.bezierPoint1.x+=n,l.bezierPoint1.y+=i,Jn.isEmptyPoint(l.point1)&&!a||(l.point1={x:l.bezierPoint1.x,y:l.bezierPoint1.y})):("BezierTargetThumb"===t||"ConnectorTargetEnd"===t&&!a&&Va(l.vector2))&&(l.bezierPoint2.x+=n,l.bezierPoint2.y+=i,Jn.isEmptyPoint(l.point2)&&!a||(l.point2={x:l.bezierPoint2.x,y:l.bezierPoint2.y})))},e.prototype.dragTargetEnd=function(e,t,n,i,r,o,a,s){var l,c=this.diagram.nameTable[e.id],d=this.checkBoundaryConstraints(t,n,c.wrapper.bounds);if(ds(c)&&"BezierTargetThumb"!==o&&d&&Is(this.diagram)){if(l={targetPoint:c.targetPoint},c.targetPoint.x+=t,c.targetPoint.y+=n,"ConnectorTargetEnd"===o&&"Orthogonal"===c.type&&c.segments&&c.segments.length>0){var h=c.segments[c.segments.length-2];h&&2===c.segments[c.segments.length-1].points.length&&("Left"===h.direction||"Right"===h.direction?h.points[h.points.length-1].x=c.targetPoint.x:h.points[h.points.length-1].y=c.targetPoint.y,h.length=Jn.distancePoints(h.points[0],h.points[h.points.length-1]),h.direction=Jn.direction(h.points[0],h.points[h.points.length-1]))}"Bpmn"===c.shape.type&&"Default"===c.shape.sequence&&this.updatePathElementOffset(c)}if("Bezier"===c.type)if(l={targetPoint:c.targetPoint},s)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,n,s,r,!a);else for(var p=0;p<e.segments.length;p++)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,n,e.segments[p],r,!a);return i||this.updateEndPoint(c,l),this.diagram.realActions&zi.AnimationClick||this.diagram.refreshCanvasLayers(),d},e.prototype.dragControlPoint=function(e,t,n,i,r){var o=this.diagram.nameTable[e.id];if(("Straight"===o.type||"Bezier"===o.type)&&o.segments.length>0){if(void 0!==r&&o.segments[r])o.segments[r].point.x+=t,o.segments[r].point.y+=n;else for(var a=0;a<o.segments.length-1;a++)o.segments[a].point.x+=t,o.segments[a].point.y+=n;i||this.updateEndPoint(o)}return!0},e.prototype.rotatePropertyChnage=function(e){var t=this.diagram.selectedItems,n=[];n=(n=n.concat(t.nodes)).concat(t.connectors);var i={x:t.offsetX,y:t.offsetY};this.rotateObjects(t,n,e-t.rotateAngle,i),t.wrapper.rotateAngle=t.rotateAngle=e,this.diagram.updateSelector()},e.prototype.rotateObjects=function(e,t,n,i,r){i=i||{};var o=pi();fi(o,n,i.x,i.y);for(var a=0,s=t;a<s.length;a++){var l=s[a];if(l instanceof Dd){if(ps(l)&&Is(this.diagram)){if(!1!==r||e!==l){({rotateAngle:l.rotateAngle}),l.rotateAngle+=n,l.rotateAngle=(l.rotateAngle+360)%360;var c=ui(o,{x:l.offsetX,y:l.offsetY});l.offsetX=c.x,l.offsetY=c.y,this.diagram.nodePropertyChange(l,{},{offsetX:l.offsetX,offsetY:l.offsetY,rotateAngle:l.rotateAngle})}if(l.processId){var d=this.diagram.nameTable[l.processId],h=this.diagram.bpmnModule.getChildrenBound(d,l.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(h,l,this.diagram)}l.children&&l.children.length&&!l.container&&this.getChildren(l,t)}}else this.rotatePoints(l,n,i||{x:l.wrapper.offsetX,y:l.wrapper.offsetY});this.diagram.updateDiagramObject(l)}this.diagram.refreshCanvasLayers(),this.diagram.updateSelector()},e.prototype.snapConnectorEnd=function(e){return this.diagram.snapSettings.constraints&Si.SnapToLines&&this.snappingModule&&this.diagram.snappingModule.snapConnectorEnd(e),e},e.prototype.snapAngle=function(e){return this.diagram.snapSettings.constraints&Si.SnapToLines&&this.snappingModule?this.snappingModule.snapAngle(this.diagram,e):0},e.prototype.rotatePoints=function(e,t,n){if(!e.sourceWrapper||!e.targetWrapper){var i=pi();fi(i,t,n.x,n.y),e.sourcePoint=ui(i,e.sourcePoint),e.targetPoint=ui(i,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var r={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,{},r)}},e.prototype.updateInnerParentProperties=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);for(var n=this.getAllDescendants(e,[],!1,!0),i=0;i<n.length;i++){var r=this.diagram.nameTable[n[i].id];r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY,r.width=r.wrapper.width,r.height=r.wrapper.height}this.diagram.protectPropertyChange(t)},e.prototype.scale=function(e,t,n,i,r,o){var a=this.diagram.nameTable[e.id],s=a,l=a.wrapper;r||(r=e);var c=r.wrapper,d=function(e,t,n,i,r,o,a,s){var l={x:0,y:0},c=pi();switch(fi(c,r,o,a),s.x){case 0:switch(s.y){case 0:l=ui(c,{x:e,y:t});break;case.5:l=ui(c,{x:e,y:t+i/2});break;case 1:l=ui(c,{x:e,y:t+i})}break;case.5:switch(s.y){case 0:l=ui(c,{x:e+n/2,y:t});break;case.5:l=ui(c,{x:e+n/2,y:t+i/2});break;case 1:l=ui(c,{x:e+n/2,y:t+i})}break;case 1:switch(s.y){case 0:l=ui(c,{x:e+n,y:t});break;case.5:l=ui(c,{x:e+n,y:t+i/2});break;case 1:l=ui(c,{x:e+n,y:t+i})}}return{x:l.x,y:l.y}}(c.offsetX-c.actualSize.width*c.pivot.x,c.offsetY-c.actualSize.height*c.pivot.y,c.actualSize.width,c.actualSize.height,c.rotateAngle,c.offsetX,c.offsetY,i);if(void 0!==l.actualSize.width&&void 0!==l.actualSize.height&&Is(this.diagram)){if(s.children&&!s.container){for(var h=0,p=this.getAllDescendants(s,[]);h<p.length;h++){var u=p[h];this.scaleObject(t,n,d,u,l,r)}e.wrapper.measure(new Kn),e.wrapper.arrange(e.wrapper.desiredSize),this.diagram.updateGroupOffset(a),this.updateInnerParentProperties(s)}else this.scaleObject(t,n,d,a,l,r);var f=wh(e.wrapper);if(!this.checkBoundaryConstraints(void 0,void 0,f)&&o)return this.scale(e,1/t,1/n,i,void 0,!0),!1;this.diagram.updateDiagramObject(e)}return!0},e.prototype.getAllDescendants=function(e,t,n,i){for(var r=e,o=[],a=0;a<r.children.length;a++)(e=this.diagram.nameTable[r.children[a]])&&(e.children?(n&&t.push(e),i&&o.push(e),t=this.getAllDescendants(e,t)):t.push(e));return i?o:t},e.prototype.getChildren=function(e,t){var n=e;if(e.children)for(var i=0;i<n.children.length;i++)e=this.diagram.nameTable[n.children[i]],t.push(e);return t},e.prototype.cloneChild=function(e){return this.diagram.nameTable[e]},e.prototype.scaleObject=function(e,t,n,i,r,o){t=t<0?1:t;var a={};if(1!==(e=e<0?1:e)||1!==t){var s=void 0,l=void 0;if(i instanceof Dd){var c=i,d=void 0,h=void 0;a={width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height,offsetX:i.wrapper.offsetX,offsetY:i.wrapper.offsetY,margin:{top:c.margin.top,left:c.margin.left}},"Bpmn"===c.shape.type&&c.shape.activity.subProcess.processes&&c.shape.activity.subProcess.processes.length>0&&(h=this.diagram.bpmnModule.getChildrenBound(c,c.id,this.diagram),d=c.wrapper.bounds.containsRect(h)),s=c.wrapper.actualSize.width*e,l=c.wrapper.actualSize.height*t,void 0!==c.maxWidth&&0!==c.maxWidth&&(s=Math.min(c.maxWidth,s)),void 0!==c.minWidth&&0!==c.minWidth&&(s=Math.max(c.minWidth,s)),void 0!==c.maxHeight&&0!==c.maxHeight&&(l=Math.min(c.maxHeight,l)),void 0!==c.minHeight&&0!==c.minHeight&&(l=Math.max(c.minHeight,l)),d&&(s=Math.max(s,h.right-c.wrapper.bounds.x),l=Math.max(l,h.bottom-c.wrapper.bounds.y)),e=s/c.actualSize.width,t=l/c.actualSize.height}var p,u=pi();if(o||(o=i),fi(u,-(p=o.wrapper).rotateAngle,n.x,n.y),gi(u,e,t,n.x,n.y),fi(u,p.rotateAngle,n.x,n.y),i instanceof Dd){var f,g,m=ui(u,{x:(c=i).wrapper.offsetX,y:c.wrapper.offsetY}),v=c.wrapper.offsetX-c.wrapper.actualSize.width*c.pivot.x,y=c.wrapper.offsetY-c.wrapper.actualSize.height*c.pivot.y;if(s>0)if(c.processId){var b=this.diagram.nameTable[c.processId];(!b.maxWidth||c.margin.left+s<b.maxWidth)&&(c.width=s,c.offsetX=m.x)}else c.width=s,c.offsetX=m.x;if(l>0)if(c.processId){var w=this.diagram.nameTable[c.processId];(!w.maxHeight||c.margin.top+l<w.maxHeight)&&(c.height=l,c.offsetY=m.y)}else c.height=l,c.offsetY=m.y;f=c.wrapper.offsetX-c.wrapper.actualSize.width*c.pivot.x,g=c.wrapper.offsetY-c.wrapper.actualSize.height*c.pivot.y,this.diagram.nameTable[c.processId]&&(c.margin.top+(g-y)<=0||c.margin.left+(f-v)<=0)?this.diagram.nodePropertyChange(i,{},{margin:{top:c.margin.top,left:c.margin.left}}):el(this.diagram,i,!0)?tl(this.diagram,i):this.diagram.nodePropertyChange(i,a,{width:c.width,height:c.height,offsetX:c.offsetX,offsetY:c.offsetY,margin:{top:c.margin.top+(g-y),left:c.margin.left+(f-v)}})}else{var x=i,S={sourcePoint:x.sourcePoint,targetPoint:x.targetPoint};x.sourceWrapper&&x.targetWrapper||this.scaleConnector(x,u,S)}var C=this.diagram.nameTable[i.processId];if(C){C.wrapper.bounds,i.wrapper.bounds,h=this.diagram.bpmnModule.getChildrenBound(C,i.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(h,i,this.diagram)}}},e.prototype.scaleConnector=function(e,t,n){e.sourcePoint=ui(t,e.sourcePoint),e.targetPoint=ui(t,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var i={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,n,i)},e.prototype.portDrag=function(e,t,n,i){var r,o,a=this.findTarget(t,e),s=wh(e.wrapper);a&&Ms(a,this.diagram)&&(r=this.getPortChanges(e,a),a.offset.x+=n/s.width,a.offset.y+=i/s.height,o=this.getPortChanges(e,a),this.diagram.nodePropertyChange(e,r,o),this.diagram.updateDiagramObject(e))},e.prototype.labelDrag=function(e,t,n,i){var r,o,a;a=this.findTarget(t,e);var s=bh(e.wrapper);r=this.getAnnotationChanges(e,a),a instanceof Or?(a.offset.x+=n/s.width,a.offset.y+=i/s.height):(this.updatePathAnnotationOffset(e,a,n,i),a instanceof Pr&&(a.alignment="Center")),o=this.getAnnotationChanges(e,a),e instanceof Dd?this.diagram.nodePropertyChange(e,r,o):this.diagram.connectorPropertyChange(e,r,o),this.diagram.updateDiagramObject(e),up(this.diagram,a,!1,t)||this.labelSelect(e,t)},e.prototype.updatePathAnnotationOffset=function(e,t,n,i,r,o){var a,s,l,c,d=this.diagram.getWrapper(e.wrapper,t.id),h=d.offsetX,p=d.offsetY,u=e.intermediatePoints,f=0,g=r||{x:h+n,y:p+i},m=this.getInterceptWithSegment(g,u),v=u[u.length-1];if(l=Jn.getLengthFromListOfPoints(u),m.length>0){if(t.dragLimit.top||t.dragLimit.bottom||t.dragLimit.left||t.dragLimit.right){var y={minDistance:null};v=this.getRelativeOffset(g,u,y);var b={minDistance:null};if(c=this.getRelativeOffset(g,m,b),null!=y&&b.minDistance<y.minDistance)v=c;else v=oc(e.intermediatePoints,t,e.wrapper.bounds).point}else v=c=m[m.length-1];if(v){var w=void 0;for(w=0;w<u.length;w++){if(null!=s){if(di.toBounds([s,u[w]]).containsPoint(v)){f+=Jn.findLength(s,v);break}f+=Jn.findLength(s,u[w])}s=u[w]}a={x:f/l,y:0}}this.updateLabelMargin(e,t,a,g,o,n,i)}else this.updateLabelMargin(e,t,null,g,o,n,i)},e.prototype.getRelativeOffset=function(e,t,n){var i,r,o,a;for(a=0;a<t.length;a++)o=t[a],r=Math.round(Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))),null!==n.minDistance&&Math.min(Math.abs(n.minDistance),Math.abs(r))!==Math.abs(r)||(i=o,n.minDistance=r);return i},e.prototype.dragLimitValue=function(e,t,n,i){var r=!1,o=!1;return n.x>=t.x-e.dragLimit.left-i.width/2&&n.x<=t.x+e.dragLimit.right+i.width/2&&(r=!0),n.y>=t.y-e.dragLimit.top-i.height/2&&n.y<=t.y+e.dragLimit.bottom+i.height/2&&(o=!0),{x:r,y:o}},e.prototype.updateLabelMargin=function(e,t,n,i,r,o,a){if(n=n||{x:t.offset,y:0},t&&n&&n.x>0&&n.x<1){var s,l=Jn.getLengthFromListOfPoints(e.intermediatePoints);s=this.getPointAtLength(l*n.x,e.intermediatePoints,0);var c=this.diagram.scrollSettings.currentZoom,d=t.dragLimit;if(d.top||d.bottom||d.left||d.right){this.diagram.getWrapper(e.wrapper,t.id);var h=new di(0,0,0,0),p=this.diagram.getWrapper(e.wrapper,t.id);h.x=p.offsetX/c+o,h.y=p.offsetY/c+a,h.width=p.bounds.width/c,h.height=p.bounds.height/c;var u=new di(s.x-(d.left||0)-h.width/2,s.y-(d.top||0)-h.height/2,(d.left||0)+(d.right||0)+h.width,(d.top||0)+(d.bottom||0)+h.height);if(u.containsPoint(i))i=i;else for(var f=[s,i],g=0,m=this.boundsInterSects(f,u,!1);g<m.length;g++){i=m[g]}var v=this.dragLimitValue(t,s,i,h);t.margin={left:v.x?i.x-s.x:t.margin.left,top:v.y?i.y-s.y:t.margin.top,right:0,bottom:0}}else t.margin={left:i.x-s.x,top:i.y-s.y,right:0,bottom:0};t.offset=n.x,r&&(t.width=r.width,t.height=r.height)}},e.prototype.boundsInterSects=function(e,t,n){var i;if(t){var r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height},{x:t.x,y:t.y}];i=this.intersect(e,r,n)}return i},e.prototype.intersect=function(e,t,n){for(var i=[],r=0;r<e.length-1;r++)for(var o=0;o<t.length-1;o++){var a=Jl(e[r],e[r+1],t[o],t[o+1]);0!==a.x&&0!==a.y&&i.push(a)}return i},e.prototype.getPointAtLength=function(e,t,n){for(var i,r,o=0,a={x:0,y:0},s=0;s<t.length;s++)if(r=t[s],i){var l=Jn.findLength(i,r),c=void 0,d=void 0,h=void 0,p=void 0;if(o+l>=e){c=e-o,d=Jn.findAngle(i,r),h=c*Math.cos(d*Math.PI/180),p=c*Math.sin(d*Math.PI/180),a={x:i.x+h,y:i.y+p},d;break}o+=l,i=r}else i=r;return a},e.prototype.getInterceptWithSegment=function(e,t){var n,i,r,o=[],a=[],s=[];r=Jn.findLength({x:0,y:0},{x:this.diagram.scroller.viewPortWidth,y:this.diagram.scroller.viewPortHeight});for(var l=1;l<t.length;l++){s=[t[l-1],t[l]],a=[],i=Math.round(Jn.findAngle(s[0],s[1])%360),n=Math.round(Jn.findAngle(s[1],s[0])%360);var c=i>0&&i<=90||i>180&&i<=270?90:-90;a.push(Jn.transform(e,i+c,r)),a.push(Jn.transform(e,n+c,r));var d=Ql({x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y},{x1:a[0].x,y1:a[0].y,x2:a[1].x,y2:a[1].y});d.enabled&&o.push(d.intersectPt)}return o},e.prototype.getAnnotationChanges=function(e,t){var n={};return n[Tc(e,t.id,!0)]={width:t.width,height:t.height,offset:e instanceof Dd?{x:t.offset.x,y:t.offset.y}:t.offset,rotateAngle:t.rotateAngle,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,alignment:e instanceof $a?t.alignment:void 0},{annotations:n}},e.prototype.getPortChanges=function(e,t){var n={};return n[Tc(e,t.id,!1)]={offset:t.offset},{ports:n}},e.prototype.labelRotate=function(e,t,n,i){var r,o;r=this.getAnnotationChanges(e,t);pi(),t.rotateAngle;var a=this.diagram.getWrapper(e.wrapper,t.id),s=to({x:a.offsetX,y:a.offsetY},n)+90,l=this.snapAngle(s);(s=0!==l?l:s,t instanceof Pr&&t.segmentAngle)&&(s-=rc(e.intermediatePoints,t,e.wrapper.bounds).angle);s=(s+360)%360,t.rotateAngle+=s-(t.rotateAngle+a.parentTransform),t.margin.bottom+="Top"===a.verticalAlignment?-t.height/2:"Bottom"===a.verticalAlignment?t.height/2:0,t.margin.right+="Left"===a.horizontalAlignment?-t.width/2:"Right"===a.horizontalAlignment?t.width/2:0,t instanceof Pr?t.alignment="Center":t.horizontalAlignment=t.verticalAlignment="Center",i.wrapper.rotateAngle=i.rotateAngle=t.rotateAngle,o=this.getAnnotationChanges(e,t),e instanceof Dd?this.diagram.nodePropertyChange(e,r,o):this.diagram.connectorPropertyChange(e,r,o),this.diagram.updateDiagramObject(e)},e.prototype.labelResize=function(e,t,n,i,r,o){var a,s,l;a=this.getAnnotationChanges(e,t);var c=o.wrapper.children[0];if(n&&1!==n||i&&1!==i){var d=pi(),h=pi();fi(d,-e.rotateAngle,e.offsetX,e.offsetY),fi(h,-(l=(c.rotateAngle+(e instanceof Dd?e.rotateAngle:0)+360)%360),r.x,r.y),gi(h,n,i,r.x,r.y),fi(h,l,r.x,r.y);var p=ui(h,{x:c.offsetX,y:c.offsetY}),u=c.actualSize.height*i,f=c.actualSize.width*n,g=this.findTarget(c,e);if(g instanceof Pr)this.updatePathAnnotationOffset(e,t,0,0,p,new Kn(f,u));else{var m=bh(e.wrapper);(p=ui(d,p)).x=p.x-c.margin.left+c.margin.right,p.y=p.y-c.margin.top+c.margin.bottom,p.y+="Top"===g.verticalAlignment?-u/2:"Bottom"===g.verticalAlignment?u/2:0,p.x+="Left"===g.horizontalAlignment?-f/2:"Right"===g.horizontalAlignment?f/2:0;var v=m.width/(p.x-m.x),y=m.height/(p.y-m.y);f>1&&(g.width=f,g.offset.x=1/v),u>1&&(g.height=u,g.offset.y=1/y)}}t instanceof Pr&&(t.alignment="Center"),s=this.getAnnotationChanges(e,t),e instanceof Dd?this.diagram.nodePropertyChange(e,a,s):this.diagram.connectorPropertyChange(e,a,s),this.diagram.updateDiagramObject(e)},e.prototype.getSubProcess=function(e){var t,n={nodes:[],connectors:[]};return e instanceof Dd?t=e.processId:e&&e.nodes&&e.nodes.length&&e.nodes[0].processId&&(t=e.nodes[0].processId),t?(n.nodes.push(xh(this.diagram.nameTable[t])),n):n},e.prototype.checkBoundaryConstraints=function(e,t,n){var i=this.diagram.pageSettings,r=this.diagram.pageSettings.boundaryConstraints,o=this.diagram.scroller;if("Page"===r||"Diagram"===r){var a=n?void 0:this.diagram.selectedItems.wrapper.bounds,s="Page"===r?i.width:o.viewPortWidth,l="Page"===r?i.height:o.viewPortHeight,c=n,d=(n?c.right:a.right)+(e||0),h=(n?c.left:a.left)+(e||0),p=(n?c.top:a.top)+(t||0),u=(n?c.bottom:a.bottom)+(t||0);return d<=s&&h>=0&&u<=l&&p>=0}return!0},e.prototype.dragSelectedObjects=function(e,t){var n=this.diagram.selectedItems;if(this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=n.offsetX,this.state.backup.offsetY=n.offsetY),n=Js(this.diagram,n)||n,this.checkBoundaryConstraints(e,t)){this.diagram.diagramActions=this.diagram.diagramActions|Ri.PreventZIndexOnDragging|Ri.DragUsingMouse;var i=this.diagram.selectedObject.actualObject;return(i&&i instanceof Dd&&i.isLane&&Wl(i,this.diagram)||!i||!i.isLane)&&this.diagram.drag(n,e,t),this.diagram.diagramActions=this.diagram.diagramActions&~(Ri.PreventZIndexOnDragging|Ri.DragUsingMouse),this.diagram.refreshCanvasLayers(),!0}return!1},e.prototype.scaleSelectedItems=function(e,t,n){var i=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=i.offsetX,this.state.backup.offsetY=i.offsetY,this.state.backup.width=i.width,this.state.backup.height=i.height,this.state.backup.pivot=n),i=Js(this.diagram,i)||i,this.diagram.scale(i,e,t,n)},e.prototype.rotateSelectedItems=function(e){var t=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.angle=t.rotateAngle),t=Js(this.diagram,t)||t,this.diagram.rotate(t,e)},e.prototype.hasSelection=function(){return hp(this.diagram)},e.prototype.isSelected=function(e){return up(this.diagram,e)},e.prototype.initExpand=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);var n=e.target||e.source,i={isExpanded:n.isExpanded};n.isExpanded=!n.isExpanded,this.diagram.preventNodesUpdate=!0,this.diagram.diagramActions|=Ri.PreventIconsUpdate,this.diagram.nodePropertyChange(n,i,{isExpanded:n.isExpanded}),this.diagram.diagramActions=this.diagram.diagramActions&~Ri.PreventIconsUpdate,this.diagram.preventNodesUpdate=!1;for(var r=0,o=this.diagram.views;r<o.length;r++){var a=o[r],s=this.diagram.views[a];s instanceof cu||this.diagram.refreshCanvasDiagramLayer(s)}this.diagram.protectPropertyChange(t)},e.prototype.expandNode=function(e,t){var n,i=this.diagram.preventNodesUpdate,r=e.isExpanded;if(this.diagram.preventNodesUpdate=!0,this.diagram.preventConnectorsUpdate=!0,this.expandCollapse(e,r,this.diagram),e.isExpanded=r,this.diagram.layout.fixedNode=e.id,this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&this.diagram.organizationalChartModule&&(this.diagram.organizationalChartModule.isAnimation=!0),this.diagram.blazorActions=wi.expandNode,n=this.diagram.doLayout(),this.diagram.blazorActions=wi.Default,this.diagram.preventNodesUpdate=i,this.diagram.preventConnectorsUpdate=!1,this.diagram.layoutAnimateModule&&this.diagram.organizationalChartModule)this.diagram.allowServerDataBinding=!1,this.layoutAnimateModule.expand(this.diagram.layout.enableAnimation,n,e,this.diagram),this.diagram.allowServerDataBinding=!0;else{var o={element:Vc(xh(e)),state:!!e.isExpanded};this.triggerEvent(Hi.expandStateChange,o),this.diagram.lineRoutingModule&&this.diagram.constraints&Ii.LineRouting&&this.diagram.resetSegments()}return n},e.prototype.getparentexpand=function(e,t,n,i){for(var r,o=0;o<e.inEdges.length;o++){var a=t.nameTable[e.inEdges[o]],s=t.nameTable[a.sourceID];if(s.isExpanded&&!n&&s.id!==i.sourceID&&a.visible)return!1;r=!0}return r},e.prototype.expandCollapse=function(e,t,n){for(var i=0;i<e.outEdges.length;i++){var r=n.nameTable[e.outEdges[i]],o=n.nameTable[r.targetID],a=this.getparentexpand(o,n,t,r);r.visible=t;var s={visible:o.visible,style:{opacity:o.wrapper.style.opacity}},l={visible:o.visible,style:{opacity:o.wrapper.style.opacity}};a&&(o.isExpanded&&this.expandCollapse(o,t,n),o.visible=t,o.style.opacity=this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&t?.1:o.style.opacity,n.nodePropertyChange(o,s,l)),n.connectorPropertyChange(r,s,l)}},e.prototype.updateNodeDimension=function(e,t){e instanceof Dd&&(e.offsetX=t.x+t.width/2,e.offsetY=t.y+t.height/2,e.width=t.width,e.height=t.height,e.wrapper.children[0].canMeasurePath=!0,this.diagram.nodePropertyChange(e,{},{width:t.width,height:t.height,offsetX:e.offsetX,offsetY:e.offsetY}),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer())},e.prototype.updateConnectorPoints=function(e,t){e instanceof $a&&(this.diagram.connectorPropertyChange(e,{},{targetPoint:e.targetPoint}),this.diagram.updateDiagramObject(e))},e.prototype.updateSelectedNodeProperties=function(e){if(this.diagram.lineRoutingModule&&this.diagram.constraints&Ii.LineRouting){var t=[],n=[],i=[],r=[],o=[],a=[];this.diagram.protectPropertyChange(!0);var s=[],l=[],c=this.diagram.selectedObject.actualObject,d=this.diagram.selectedObject.helperObject;if(d&&c){var h=d.offsetX-c.offsetX,p=d.offsetY-c.offsetY,u=d.width-c.width,f=d.height-c.height,g=d.rotateAngle-c.rotateAngle;if(this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>0&&(this.diagram.selectedItems.wrapper.rotateAngle=this.diagram.selectedItems.rotateAngle=d.rotateAngle),c instanceof Dd&&"SwimLane"!==c.shape.type&&!c.isLane&&!c.isPhase&&!c.isHeader)c.offsetX===c.wrapper.offsetX&&c.offsetY===c.wrapper.offsetY&&c.width===c.wrapper.width&&c.height===c.wrapper.height&&c.rotateAngle===c.wrapper.rotateAngle||(w()&&t.push(xh(c,void 0,void 0,!0)),c.offsetX+=h,c.offsetY+=p,c.width+=u,c.height+=f,c.rotateAngle+=g,this.diagram.nodePropertyChange(c,{},{offsetX:c.offsetX,offsetY:c.offsetY,width:c.width,height:c.height,rotateAngle:c.rotateAngle}),w()&&i.push(xh(c,void 0,void 0,!0))),s=this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds);else if(c instanceof Hd)for(var m=0;m<c.nodes.length;m++){var v=c.nodes[m];v instanceof Dd&&"SwimLane"!==v.shape.type&&!v.isLane&&!v.isPhase&&!v.isHeader&&(v.offsetX+=h,v.offsetY+=p,v.width+=u,v.height+=f,v.rotateAngle+=g,this.diagram.nodePropertyChange(v,{},{offsetX:v.offsetX,offsetY:v.offsetY,width:v.width,height:v.height,rotateAngle:v.rotateAngle}),s=s.concat(this.diagram.spatialSearch.findObjects(c.wrapper.outerBounds)))}}else e instanceof $a?s.push(e):e instanceof Hd&&e.connectors.length&&(s=s.concat(e.connectors));for(m=0;m<s.length;m++)s[m]instanceof $a&&-1===l.indexOf(s[m].id)&&l.push(s[m].id);this.diagram.lineRoutingModule.renderVirtualRegion(this.diagram,!0);for(m=0;m<l.length;m++){var y=this.diagram.nameTable[l[m]];y instanceof $a&&"Orthogonal"===y.type&&(w()&&n.push(xh(y,void 0,void 0,!0)),this.diagram.lineRoutingModule.refreshConnectorSegments(this.diagram,y,!0),w()&&r.push(xh(y,void 0,void 0,!0)))}if(this.updateSelector(),w()){this.getObjectChanges(t,i,o),this.getObjectChanges(n,r,a);var b={nodes:o,connectors:a};if(window&&window.Blazor&&a.length+o.length){var x={methodName:"UpdateBlazorProperties",diagramobj:b};window.sfBlazor.updateBlazorProperties(x,this.diagram)}}this.diagram.protectPropertyChange(!1)}},e.prototype.drawSelectionRectangle=function(e,t,n,i){this.diagram.drawSelectionRectangle(e,t,n,i)},e.prototype.startGroupAction=function(){this.diagram.startGroupAction()},e.prototype.endGroupAction=function(){this.diagram.endGroupAction()},e.prototype.removeChildFromBPmn=function(e,t,n){var i=this.diagram.nameTable[e.id]||e.nodes[0];if(n&&i&&i.processId&&i.processId===n.wrapper.id){var r=xh(i);r.processId=i.processId,this.diagram.startGroupAction();for(var o=[],a=(o=o.concat(i.outEdges,i.inEdges)).length-1;a>=0;a--){var s=this.diagram.nameTable[o[a]];s&&this.diagram.remove(s)}var l=void 0;(l=this.diagram.nameTable[i.processId].shape.activity.subProcess.processes||[]).splice(l.indexOf(i.id),1),this.diagram.bpmnModule.removeChildFromBPMN(this.diagram.nameTable[i.processId].wrapper,i.id),this.diagram.nameTable[i.id].processId="",i.offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY;var c={type:"PositionChanged",redoObject:{nodes:[xh(i)]},undoObject:{nodes:[r]},category:"Internal"};this.addHistoryEntry(c),this.diagram.endGroupAction()}},e.prototype.isDroppable=function(e,t){var n=this.diagram.nameTable[e.id]||e.nodes[0];return!!n&&(!!(!w()&&"TextAnnotation"===n.shape.shape||w()&&"TextAnnotation"===n.shape.bpmnShape)||(!n||"Bpmn"!==n.shape.type||!(n.processId===t.id||n.id===t.processId||"Bpmn"===t.shape.type&&t.shape.activity.subProcess.collapsed)))},e.prototype.renderHighlighter=function(e,t,n){new di;if(e.target instanceof Dd||t&&e.source instanceof Dd){var i=t?e.source:e.target,r=t?e.sourceWrapper:e.targetWrapper,o=this.findTarget(r,i,n,!0),a=void 0;if(o instanceof vd)for(var s=o.id,l=e.target,c=0,d=l.wrapper.children[0].children[0].children[2].children;c<d.length;c++){var h=d[c];if(h.id===l.id+"_"+s){a=h.children[0];break}}else a=o instanceof Dd?o.wrapper:t?e.sourceWrapper:e.targetWrapper;this.diagram.renderHighlighter(a)}},e.prototype.mouseOver=function(e,t,n){return!0},e.prototype.snapPoint=function(e,t,n,i){var r,o=this.diagram.selectedItems,a=t.x<e.x,s=t.y<e.y,l=r={x:n,y:i};return this.snappingModule&&(l=this.diagram.snappingModule.snapPoint(this.diagram,o,a,s,r,e,t)),l},e.prototype.removeSnap=function(){this.diagram.snapSettings.constraints&Si.SnapToObject&&this.snappingModule&&this.snappingModule.removeGuidelines(this.diagram)},e.prototype.dropAnnotation=function(e,t){var n=e instanceof Dd?e:e.nodes[0];if(this.diagram.bpmnModule&&"Bpmn"===t.shape.type&&(!w()&&"TextAnnotation"===n.shape.shape||w()&&"TextAnnotation"===n.shape.bpmnShape)){n.hasTarget=t.id,n.shape.annotation.nodeId=t.id,this.diagram.currentSymbol||(this.diagram.addTextAnnotation(n.shape.annotation,t),n.shape.annotation.nodeId="",this.diagram.remove(n)),this.diagram.refreshDiagramLayer()}},e.prototype.drop=function(e,t,n){this.diagram.bpmnModule&&(this.diagram.bpmnModule.dropBPMNchild(t,e instanceof Dd?e:e.nodes[0],this.diagram),this.diagram.refreshDiagramLayer())},e.prototype.addHistoryEntry=function(e){this.diagram.addHistoryEntry(e)},e.prototype.align=function(e,t,n){if(e.length>0){var i=0;e[0]=this.diagram.nameTable[e[0].id]||e[0];var r="Object"===n?wh(e[0].wrapper):this.diagram.selectedItems.wrapper.bounds,o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(i="Object"===n?i+1:i;i<e.length;i++){var s=0,l=0;e[i]=this.diagram.nameTable[e[i].id]||e[i];var c=wh(e[i].wrapper);"Left"===t?s=r.left+c.width/2-c.center.x:"Right"===t?s=r.right-c.width/2-c.center.x:"Top"===t?l=r.top+c.height/2-c.center.y:"Bottom"===t?l=r.bottom-c.height/2-c.center.y:"Center"===t?s=r.center.x-c.center.x:"Middle"===t&&(l=r.center.y-c.center.y),o=this.storeObject(o,e[i]),this.drag(e[i],s,l),this.diagram.updateSelector(),a=this.storeObject(a,e[i])}o=xh(o),a=xh(a);var d={type:"Align",category:"Internal",undoObject:xh(o),redoObject:xh(a)};this.addHistoryEntry(d)}},e.prototype.distribute=function(e,t){if(e.length>0){var n=0,i=(new di,0),r=0,o=0,a=0,s=0,l=0,c=0,d={nodes:[],connectors:[]},h={nodes:[],connectors:[]};for(n=0;n<e.length;n++)e[n]=this.diagram.nameTable[e[n].id]||e[n];for(e=function(e,t){var n,i=0,r=0;for(i=0;i<e.length;i++){var o=wh(e[i].wrapper);for(r=0;r<e.length;r++){var a=wh(e[r].wrapper);"Top"===t||"Bottom"===t||"BottomToTop"===t||"Middle"===t?o.center.y>a.center.y&&(n=e[i],e[i]=e[r],e[r]=n):o.center.x>a.center.x&&(n=e[i],e[i]=e[r],e[r]=n)}}return e}(e,t),n=1;n<e.length;n++)i=i+e[n].wrapper.bounds.topRight.x-e[n-1].wrapper.bounds.topRight.x,r=r+e[n].wrapper.bounds.topLeft.x-e[n-1].wrapper.bounds.topLeft.x,o=o+e[n].wrapper.bounds.topRight.y-e[n-1].wrapper.bounds.topRight.y,a=a+e[n].wrapper.bounds.bottomRight.y-e[n-1].wrapper.bounds.bottomRight.y,s=s+e[n].wrapper.bounds.center.x-e[n-1].wrapper.bounds.center.x,l=l+e[n].wrapper.bounds.center.y-e[n-1].wrapper.bounds.center.y,c=c+e[n].wrapper.bounds.topRight.y-e[n-1].wrapper.bounds.bottomRight.y;for(n=1;n<e.length-1;n++){var p=0,u=0,f=wh(e[n-1].wrapper),g=wh(e[n].wrapper);"RightToLeft"===t||"Center"===t?p=f.center.x-g.center.x+s/(e.length-1):"Right"===t?p=f.topRight.x-g.topRight.x+i/(e.length-1):"Left"===t?p=f.topLeft.x-g.topLeft.x+r/(e.length-1):"Middle"===t?u=f.center.y-g.center.y+l/(e.length-1):"Top"===t?u=f.topRight.y-g.topRight.y+o/(e.length-1):"Bottom"===t?u=f.bottomRight.y-g.bottomRight.y+a/(e.length-1):"BottomToTop"===t&&(u=f.bottomRight.y-g.topRight.y+c/(e.length-1)),d=this.storeObject(d,e[n]),this.drag(e[n],p,u),this.diagram.updateSelector(),h=this.storeObject(h,e[n])}d=xh(d),h=xh(h);var m={type:"Distribute",category:"Internal",undoObject:xh(d),redoObject:xh(h)};this.addHistoryEntry(m)}},e.prototype.sameSize=function(e,t){if(e.length>0){var n,i=0;n={x:.5,y:.5},e[0]=this.diagram.nameTable[e[0].id]||e[0];var r=wh(e[0].wrapper),o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(i=1;i<e.length;i++){e[i]=this.diagram.nameTable[e[i].id]||e[0];var s=wh(e[i].wrapper),l=1,c=1;"Width"===t?l=r.width/s.width:"Height"===t?c=r.height/s.height:"Size"===t&&(l=r.width/s.width,c=r.height/s.height),o=this.storeObject(o,e[i]),this.scale(e[i],l,c,n),a=this.storeObject(a,e[i])}this.diagram.updateSelector(),o=xh(o),a=xh(a);var d={type:"Sizing",category:"Internal",undoObject:xh(o),redoObject:xh(a)};this.addHistoryEntry(d)}},e.prototype.storeObject=function(e,t){return t instanceof Dd?e.nodes.push(xh(t)):e.connectors.push(xh(t)),e},e.prototype.updatePanState=function(e){if(e)this.diagram.realActions=this.diagram.realActions|zi.PanInProgress;else{this.diagram.dataBind();var t=this.diagram.scrollSettings;this.diagram.realActions=this.diagram.realActions&~zi.PanInProgress;var n={VerticalOffset:t.verticalOffset,HorizontalOffset:t.horizontalOffset,ViewportHeight:t.viewPortHeight,ViewportWidth:t.viewPortWidth,CurrentZoom:t.currentZoom},i={oldValue:n,newValue:n,source:this.diagram,panState:"Completed"};this.triggerEvent(Hi.scrollChange,i)}},e.prototype.dataBinding=function(){this.diagram.dataBind()},e.prototype.setBlazorDiagramProps=function(e){this.diagram.setBlazorDiagramProps(e)},e.prototype.scroll=function(e,t,n){var i=this.diagram.constraints&Ii.PanX,r=function(e){return e.constraints&Ii.PanY}(this.diagram);w()?(this.diagram.setCursor("grabbing"),this.diagram.scroller.zoom(1,(e=i?e:0)*this.diagram.scroller.currentZoom,(t=r?t:0)*this.diagram.scroller.currentZoom,n)):this.diagram.pan((e=i?e:0)*this.diagram.scroller.currentZoom,(t=r?t:0)*this.diagram.scroller.currentZoom,n)},e.prototype.drawHighlighter=function(e){this.diagram.renderHighlighter(e.wrapper)},e.prototype.removeHighlighter=function(){this.diagram.clearHighlighter()},e.prototype.renderContainerHelper=function(e){return Js(this.diagram,e)},e.prototype.isParentAsContainer=function(e,t){return el(this.diagram,e,t)},e.prototype.dropChildToContainer=function(e,t){il(this.diagram,e,t)},e.prototype.checkSelection=function(e,t){var n;if(1===e.nodes.length&&0===e.connectors.length)if(el(this.diagram,e.nodes[0],!0)){n="SwimLane"===e.nodes[0].shape?e.nodes[0]:this.diagram.nameTable[e.nodes[0].parentId];var i=e.nodes[0];if("SwimLane"===n.shape.type){var r="Horizontal"===n.shape.orientation;(i.isPhase&&(r&&"ResizeSouth"===t||!r&&"ResizeEast"===t)||i.isLane&&(r&&"ResizeEast"===t||!r&&"ResizeSouth"===t))&&Ml(this.diagram,n,t)}else if("Grid"===n.container.type)if("Horizontal"===n.container.orientation&&1===i.rowIndex||"Vertical"===n.container.orientation&&i.rowIndex>0&&i.columnIndex>0){if("ResizeSouth"===t)for(var o=0;o<this.diagram.nodes.length;o++){if((a=this.diagram.nodes[o]).rowIndex===n.rows.length-1&&0===a.columnIndex){this.select(a);break}}}else if("ResizeEast"===t)for(o=0;o<this.diagram.nodes.length;o++){var a;if(1===(a=this.diagram.nodes[o]).rowIndex&&a.columnIndex===n.columns.length-1){this.select(a);break}}}else Ml(this.diagram,e.nodes[0],t)},e.prototype.zoom=function(e,t,n,i){this.diagram.scroller.zoom(e,t*this.diagram.scroller.currentZoom,n*this.diagram.scroller.currentZoom,i)},e}(),Gp=function(){function e(e){this.transform={tx:0,ty:0,scale:1},this.oldCollectionObjects=[],this.removeCollection=[],this.vPortWidth=0,this.vPortHeight=0,this.currentZoomFActor=1,this.hOffset=0,this.vOffset=0,this.scrolled=!1,this.hScrollSize=0,this.vScrollSize=0,this.diagram=e,this.objects=[],this.transform=e.scroller?e.scroller.transform:{tx:0,ty:0,scale:1},this.vPortWidth=e.scrollSettings.viewPortWidth,this.vPortHeight=e.scrollSettings.viewPortHeight,this.currentZoomFActor=e.scrollSettings.currentZoom,this.hOffset=e.scrollSettings.horizontalOffset,this.vOffset=e.scrollSettings.verticalOffset}return Object.defineProperty(e.prototype,"viewPortHeight",{get:function(){return this.vPortHeight},set:function(e){this.vPortHeight=e,this.diagram.scrollSettings.viewPortHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentZoom",{get:function(){return this.currentZoomFActor},set:function(e){this.currentZoomFActor=e,this.diagram.scrollSettings.currentZoom=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewPortWidth",{get:function(){return this.vPortWidth},set:function(e){this.vPortWidth=e,this.diagram.scrollSettings.viewPortWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalOffset",{get:function(){return this.hOffset},set:function(e){this.hOffset=e,Math.abs(this.hOffset-this.diagram.scrollSettings.horizontalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|zi.hScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.horizontalOffset=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalOffset",{get:function(){return this.vOffset},set:function(e){this.vOffset=e,Math.abs(this.vOffset-this.diagram.scrollSettings.verticalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|zi.vScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.verticalOffset=e},enumerable:!0,configurable:!0}),e.prototype.updateScrollOffsets=function(e,t){var n,i,r=this.getPageBounds(void 0,void 0,!0);r.x*=this.currentZoom,r.y*=this.currentZoom,r.width*=this.currentZoom,r.height*=this.currentZoom,n=Math.max(0,e-r.left),i=Math.max(0,t-r.top),void 0!==e&&void 0!==t?(this.horizontalOffset=n,this.verticalOffset=i,this.diagram.setOffset(n,i)):this.diagram.setOffset(-this.horizontalOffset-r.x,-this.verticalOffset-r.y),this.transform={tx:Math.max(this.horizontalOffset,-r.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-r.top)/this.currentZoom,scale:this.currentZoom}},e.prototype.setScrollOffset=function(e,t){this.scrolled=!1;var n=this.getPageBounds(void 0,void 0,!0);n.x*=this.currentZoom,n.y*=this.currentZoom,n.width*=this.currentZoom,n.height*=this.currentZoom;var i=-n.left,r=-n.top,o=!1,a=this.viewPortWidth*this.currentZoom,s=this.viewPortHeight*this.currentZoom,l=i-e;if(l!==this.horizontalOffset){i<this.horizontalOffset&&(this.horizontalOffset>l?this.horizontalOffset-=e:this.horizontalOffset=l,o=!0);var c=Math.max(n.right+this.vScrollSize,a);if(!o&&c<-l+this.viewPortWidth){var d=-l+a-this.vScrollSize,h=-this.horizontalOffset+a-this.vScrollSize;d<h||d-n.right>d-h?this.horizontalOffset=l:this.horizontalOffset=-(n.right+this.vScrollSize-a),o=!0}o||(this.horizontalOffset=i-e)}o=!1;var p=r-t;if(p!==this.verticalOffset){r<this.verticalOffset&&(this.verticalOffset>p?this.verticalOffset-=t:this.verticalOffset=p,o=!0);var u=Math.max(n.bottom+this.hScrollSize,s);if(!o&&u<-p+s){var f=-p+s-this.hScrollSize,g=-this.verticalOffset+s-this.hScrollSize;f<g||f-n.bottom>f-g?this.verticalOffset=p:this.verticalOffset=-(n.bottom+this.hScrollSize-s),o=!0}o||(this.verticalOffset=r-t)}this.transform={tx:Math.max(this.horizontalOffset,-n.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-n.top)/this.currentZoom,scale:this.currentZoom},this.setSize()},e.prototype.getObjects=function(e,t){for(var n=[],i=0;i<e.length;i++){for(var r=!1,o=0;o<t.length;o++)if(e[i]===t[o]){r=!0;break}r||n.push(e[i])}return n},e.prototype.virtualizeElements=function(){for(var e=this.viewPortWidth/this.currentZoom,t=this.viewPortHeight/this.currentZoom,n=this.diagram.spatialSearch.findObjects(new di(-this.horizontalOffset/this.currentZoom,-this.verticalOffset/this.currentZoom,e,t)),i=[],r=0;r<n.length;r++)i.push(n[r].id);var o=this.getObjects(i,this.oldCollectionObjects);0===this.oldCollectionObjects.length&&(this.oldCollectionObjects=i);var a=this.getObjects(this.oldCollectionObjects,i);this.diagram.updateVirtualObjects(o,!1,a),this.oldCollectionObjects=i},e.prototype.setSize=function(){var e=this.getPageBounds(void 0,void 0,!0);e.x*=this.currentZoom,e.y*=this.currentZoom,e.width*=this.currentZoom,e.height*=this.currentZoom;var t=Math.min(e.x,-this.horizontalOffset),n=Math.min(e.y,-this.verticalOffset),i=(this.horizontalOffset,this.viewPortWidth,e.right,this.verticalOffset,this.viewPortHeight,e.bottom,this.scrollerWidth),r=this.scrollerWidth;-this.verticalOffset<=e.y&&-this.verticalOffset+this.viewPortHeight>=e.bottom&&(r=0),-this.horizontalOffset<=e.x&&-this.horizontalOffset+this.viewPortWidth>=e.right&&(i=0),this.hScrollSize=i,this.vScrollSize=r;var o=this.diagramWidth,a=this.diagramHeight;this.diagramWidth=Math.max(e.right,-this.horizontalOffset+this.viewPortWidth-r)-t,this.diagramHeight=Math.max(e.bottom,-this.verticalOffset+this.viewPortHeight-i)-n,o===this.diagramWidth&&a===this.diagramHeight||this.diagram.setSize(this.diagramWidth,this.diagramHeight),this.diagram.transformLayers(),this.diagram.element.style.overflow="hidden"},e.prototype.setViewPortSize=function(e,t){this.viewPortWidth=e,this.viewPortHeight=t},e.prototype.getPageBounds=function(e,t,n){var i,r=new di;if("Content"!==t&&null!==this.diagram.pageSettings.width&&null!==this.diagram.pageSettings.height){var o=this.diagram.pageSettings.width,a=this.diagram.pageSettings.height,s=0,l=0;if(this.diagram.pageSettings.multiplePage){if((r=this.diagram.spatialSearch.getPageBounds(0,0)).right>o)o*=c=Math.ceil(r.right/o);if(r.bottom>a)a*=c=Math.ceil(r.bottom/a);if(r.left<0&&Math.abs(r.left)>s){var c=Math.ceil(Math.abs(r.left)/this.diagram.pageSettings.width);s=this.diagram.pageSettings.width*c}if(r.top<0&&Math.abs(r.top)>l){c=Math.ceil(Math.abs(r.top)/this.diagram.pageSettings.height);l=this.diagram.pageSettings.height*c}}i=new di(-s,-l,o+s,a+l)}else{var d=e?void 0:0;i=this.diagram.spatialSearch.getPageBounds(d,d)}if(n){var h=this.diagram.scrollSettings.padding;i.x-=h.left,i.y-=h.top,i.width+=h.left+h.right,i.height+=h.top+h.bottom}return i},e.prototype.getPageBreak=function(e){for(var t=0,n=0,i=-1,r=[],o=0,a=0,s=0,l=0,c=this.diagram.pageSettings.margin.left,d=this.diagram.pageSettings.margin.right,h=this.diagram.pageSettings.margin.top,p=this.diagram.pageSettings.margin.bottom,u=1,f=1,g={x1:o,y1:s,x2:a,y2:l};e.width>t;)(t+=this.diagram.pageSettings.width?this.diagram.pageSettings.width:e.width)===this.diagram.pageSettings.width&&(g={x1:e.left+c,y1:e.top+h,x2:e.left+c,y2:e.bottom-p},r[++i]=g),t<e.width&&(g={x1:o=e.topLeft.x+this.diagram.pageSettings.width*u,y1:s=e.topLeft.y+h,x2:a=e.bottomLeft.x+this.diagram.pageSettings.width*u,y2:l=e.bottomLeft.y-p},r[++i]=g,u++),e.width===t&&(g={x1:e.right-d,y1:e.top+h,x2:e.right-d,y2:e.bottom-p},r[++i]=g);for(;e.height>n;)(n+=this.diagram.pageSettings.height?this.diagram.pageSettings.height:e.height)===this.diagram.pageSettings.height&&(g={x1:e.left+c,y1:e.top+h,x2:e.right-d,y2:e.top+h},r[++i]=g),n<e.height&&(g={x1:o=e.topLeft.x+c,y1:s=e.topLeft.y+this.diagram.pageSettings.height*f,x2:a=e.topRight.x-d,y2:l=e.topRight.y+this.diagram.pageSettings.height*f},r[++i]=g,f++),e.height===n&&(g={x1:e.left+c,y1:e.bottom-p,x2:e.right-d,y2:e.bottom-p},r[++i]=g);return r},e.prototype.zoom=function(e,t,n,i){if(this.diagram.constraints&Ii.Zoom&&1!==e||function(e){return e.constraints&Ii.Pan}(this.diagram)&&1===e){var r=pi();if(gi(r,this.currentZoom,this.currentZoom),mi(r,this.horizontalOffset,this.verticalOffset),i=ui(r,i=i||{x:(this.viewPortWidth/2-this.horizontalOffset)/this.currentZoom,y:(this.viewPortHeight/2-this.verticalOffset)/this.currentZoom}),this.currentZoom*e>=this.diagram.scrollSettings.minZoom&&this.currentZoom*e<=this.diagram.scrollSettings.maxZoom){this.currentZoom*=e;var o=this.getPageBounds(void 0,void 0,!0);o.x*=this.currentZoom,o.y*=this.currentZoom;var a=pi();gi(a,e,e,i.x,i.y),mi(a,t||0,n||0),vi(r,a);var s=ui(r,{x:0,y:0});1===e&&(s=this.applyScrollLimit(s.x,s.y)),this.transform={tx:Math.max(s.x,-o.left)/this.currentZoom,ty:Math.max(s.y,-o.top)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=s.x,this.verticalOffset=s.y,this.setSize(),"SVG"!==this.diagram.mode&&ws(this.diagram)&&this.diagram.scroller.virtualizeElements(),"SVG"===this.diagram.mode||ws(this.diagram)||this.diagram.refreshDiagramLayer(),this.diagram.setOffset(-this.horizontalOffset-o.x,-this.verticalOffset-o.y),ns(this.diagram)}}},e.prototype.fitToPage=function(e){var t=(e=e||{}).mode,n=e.region,i=e.margin||{},r=e.canZoomIn,o=e.customBounds;i.bottom=i.bottom||25,i.top=i.top||25,i.left=i.left||25,i.right=i.right||25;var a,s=o,l=-this.horizontalOffset,c=-this.verticalOffset;if("PageSettings"===(n=n||"PageSettings")&&this.diagram.pageSettings.width&&this.diagram.pageSettings.height||this.diagram.nodes.length>0||this.diagram.connectors.length>0){t=t||"Page","CustomBounds"!==n&&(s=this.getPageBounds(!0,n,!0));var d={x:0,y:0};d.x=(this.viewPortWidth-(i.left+i.right))/s.width,d.y=(this.viewPortHeight-(i.top+i.bottom))/s.height,!r&&s.width-this.horizontalOffset<this.viewPortWidth&&s.height-this.verticalOffset<this.viewPortHeight&&(d.x=Math.min(this.currentZoom,d.x),d.y=Math.min(this.currentZoom,d.y));var h=void 0,p=void 0,u=void 0;switch(t){case"Width":a=(h=d.x)/this.currentZoom,l+=(p=(this.viewPortWidth-s.width*h)/2-s.x*h)+(i.left-i.right)/2*h,c-=-this.verticalOffset*a,c="CustomBounds"!==n?c:c-this.verticalOffset*a;break;case"Height":a=(h=d.y)/this.currentZoom,p=(this.viewPortWidth-s.width*h)/2-s.x*h,u=(this.viewPortHeight-s.height*h)/2-s.y*h,l+=p+(i.left-i.right)/2*h,c+=u+(i.top-i.bottom)/2*h;break;case"Page":a=(h=Math.min(d.x,d.y))/this.currentZoom,p=(this.viewPortWidth-s.width*h)/2-s.x*h,u=(this.viewPortHeight-s.height*h)/2-s.y*h,l+=p+(i.left-i.right)/2*h,c+=u+(i.top-i.bottom)/2*h}this.zoom(a,l,c,{x:0,y:0})}else a=1/this.currentZoom,this.zoom(a,l,c,{x:0,y:0})},e.prototype.bringIntoView=function(e){var t=0,n=0,i=this.currentZoom,r=e,o=-this.horizontalOffset,a=-this.verticalOffset;r=new di(r.x*i,r.y*i,r.width*i,r.height*i),new di(o,a,this.viewPortWidth,this.viewPortHeight).containsRect(r)||(r.right>-o+this.viewPortWidth&&(t=r.right-this.viewPortWidth),r.x<-o&&(t=r.x),r.bottom>-a+this.viewPortHeight&&(n=r.bottom-this.viewPortHeight),r.y<-a&&(n=r.y),this.zoom(1,-this.horizontalOffset-t,-this.verticalOffset-n,null))},e.prototype.bringToCenter=function(e){var t=this.currentZoom,n=new di(e.x*t,e.y*t,e.width*t,e.height*t),i=n.x+n.width/2-this.viewPortWidth/2,r=n.y+n.height/2-this.viewPortHeight/2;this.zoom(1,-this.horizontalOffset-i,-this.verticalOffset-r,null)},e.prototype.applyScrollLimit=function(e,t){if("Infinity"!==this.diagram.scrollSettings.scrollLimit){var n=void 0;if("Limited"===this.diagram.scrollSettings.scrollLimit){var i=this.diagram.scrollSettings.scrollableArea;n=new di(i.x,i.y,i.width,i.height)}(n=n||this.getPageBounds(!0)).x*=this.currentZoom,n.y*=this.currentZoom,n.width*=this.currentZoom,n.height*=this.currentZoom,e*=-1,t*=-1;var r=Math.max(n.right,this.viewPortWidth);if(!(e<=n.x&&(e+this.viewPortWidth>=n.right||e>=n.right-this.viewPortWidth)||e>=n.x&&e+this.viewPortWidth<=r))if(e>=n.x)e=Math.max(n.x,Math.min(e,e-(e+this.viewPortWidth-this.vScrollSize-r)));else{var o=n.right-this.viewPortWidth;e=Math.min(o,n.x)}var a=Math.max(n.bottom,this.viewPortHeight);if(!(t<=n.y&&t+this.viewPortHeight>=n.bottom||t>=n.y&&t+this.viewPortHeight<=a))if(t>=n.y)t=Math.max(n.y,Math.min(t,t-(t+this.viewPortHeight-this.hScrollSize-a)));else{o=n.bottom-this.viewPortHeight;t=Math.min(n.y,o)}e*=-1,t*=-1}return{x:e,y:t}},e}(),qp=function(){function e(e,t,n,i,r){this.objects=[],this.left=e,this.top=t,this.width=n,this.height=i,this.spatialSearch=r}return e.prototype.findQuads=function(e,t){null!=this.first&&this.first.isIntersect(e)&&this.first.findQuads(e,t),null!=this.second&&this.second.isIntersect(e)&&this.second.findQuads(e,t),null!=this.third&&this.third.isIntersect(e)&&this.third.findQuads(e,t),null!=this.fourth&&this.fourth.isIntersect(e)&&this.fourth.findQuads(e,t),this.objects.length>0&&t.push(this)},e.prototype.isIntersect=function(e){return!(this.left+this.width<e.left||this.top+this.height<e.top||this.left>e.right||this.top>e.bottom)},e.prototype.selectQuad=function(){for(var e,t=null,n=this;null!=n;)e=n.getQuad(t),n=e.source,t=e.target||t;return t},e.prototype.getQuad=function(t){var n=this.width/2,i=this.height/2;if(n>=1e3&&i>=1e3){var r=this.left+n,o=this.top+i;if(this.spatialSearch.childRight<=r){if(this.spatialSearch.childBottom<=o){if(!this.first)(a=new e(this.left,this.top,n,i,this.spatialSearch)).parent=this,this.first=a;return{source:this.first}}if(this.spatialSearch.childTop>=o){if(!this.third)(a=new e(this.left,o,n,i,this.spatialSearch)).parent=this,this.third=a;return{source:this.third}}}else if(this.spatialSearch.childLeft>=r){if(this.spatialSearch.childBottom<=o){if(!this.second)(a=new e(r,this.top,n,i,this.spatialSearch)).parent=this,this.second=a;return{source:this.second}}if(this.spatialSearch.childTop>=o){var a;if(!this.fourth)(a=new e(r,o,n,i,this.spatialSearch)).parent=this,this.fourth=a;return{source:this.fourth}}}}return this,this.objects.push(this.spatialSearch.childNode),{target:this}},e.prototype.isContained=function(){return this.spatialSearch.childLeft>=this.left&&this.spatialSearch.childRight<=this.left+this.width&&this.spatialSearch.childTop>=this.top&&this.spatialSearch.childBottom<=this.top+this.height},e.prototype.addIntoAQuad=function(e){var t={};this.spatialSearch.setCurrentNode(e);for(var n=null;!t.isAdded;)n=(t=this.spatialSearch.parentQuad.add(n)).quad;return n},e.prototype.add=function(t){if(t=null,this.isContained())return{isAdded:!0,quad:t=this.selectQuad()};var n=void 0,i=0===this.objects.length&&!this.first&&!this.second&&!this.third&&!this.fourth,r=2*this.width,o=2*this.height;return this.spatialSearch.childLeft<this.left?this.spatialSearch.childTop<this.top?(n=new e(this.left-this.width,this.top-this.height,r,o,this.spatialSearch),i||(n.fourth=this)):(n=new e(this.left-this.width,this.top,r,o,this.spatialSearch),i||(n.second=this)):this.spatialSearch.childTop<this.top?(n=new e(this.left,this.top-this.height,r,o,this.spatialSearch),i||(n.third=this)):(n=new e(this.left,this.top,r,o,this.spatialSearch),i||(n.first=this)),this.parent=n,this.spatialSearch.parentQuad=n,{isAdded:!1,quad:t}},e}(),Zp=function(){function e(e){this.quadSize=500,this.objectTable=e,this.parentQuad=new qp(0,0,2*this.quadSize,2*this.quadSize,this),this.pageLeft=Number.MAX_VALUE,this.pageRight=-Number.MAX_VALUE,this.pageTop=Number.MAX_VALUE,this.pageBottom=-Number.MAX_VALUE,this.quadTable={}}return e.prototype.removeFromAQuad=function(e){if(this.quadTable[e.id]){var t=this.quadTable[e.id],n=this.objectIndex(t.objects,e);-1!==n&&(t.objects.splice(n,1),this.update(t),delete this.quadTable[e.id])}},e.prototype.update=function(e){if(e.parent&&0===e.objects.length&&e.first&&e.second&&e.third&&e.fourth){var t=e.parent;t.first===e?t.first=null:t.second===e?t.second=null:t.third===e?t.third=null:t.fourth===e&&(t.fourth=null),this.update(e.parent)}else e!==this.parentQuad||e.first||e.second||e.third||e.fourth||(e.left=0,e.width=1e3,e.top=0,e.height=1e3)},e.prototype.addIntoAQuad=function(e){var t=this.parentQuad.addIntoAQuad(e);this.quadTable[e.id]=t},e.prototype.objectIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return n;return-1},e.prototype.updateQuad=function(e){this.setCurrentNode(e);var t=e.outerBounds;if(isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height))return!1;this.quadTable[e.id]?this.quadTable[e.id].isContained()||(this.removeFromAQuad(e),this.addIntoAQuad(e)):this.addIntoAQuad(e);if(!this.isWithinPageBounds(t)||this.leftElement===e||this.topElement===e||this.rightElement===e||this.bottomElement===e){var n=!1;return this.pageLeft===this.childLeft&&e===this.leftElement||(this.pageLeft>=this.childLeft?(this.pageLeft=this.childLeft,this.leftElement=e,n=!0):e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.findLeft(this.parentQuad),n=!0)),this.pageTop===this.childTop&&e===this.topElement||(this.pageTop>=this.childTop?(this.pageTop=this.childTop,this.topElement=e,n=!0):e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.findTop(this.parentQuad),n=!0)),this.pageBottom===this.childBottom&&e===this.bottomElement||(this.pageBottom<=this.childBottom?(n=!0,this.pageBottom=this.childBottom,this.bottomElement=e):e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.findBottom(this.parentQuad),n=!0)),this.pageRight===this.childRight&&e===this.rightElement||(this.pageRight<=this.childRight?(this.pageRight=this.childRight,this.rightElement=e,n=!0):e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.findRight(this.parentQuad),n=!0)),n}return this.setCurrentNode(null),!1},e.prototype.isWithinPageBounds=function(e){return e.left>=this.pageLeft&&e.right<=this.pageRight&&e.top>=this.pageTop&&e.bottom<=this.pageBottom},e.prototype.findQuads=function(e){var t=[];return this.parentQuad.findQuads(e,t),t},e.prototype.findObjects=function(e){for(var t=[],n=0,i=this.findQuads(e);n<i.length;n++)for(var r=0,o=i[n].objects;r<o.length;r++){var a=o[r];a.outerBounds.intersects(e)&&t.push(this.objectTable[a.id])}return t},e.prototype.updateBounds=function(e){var t=!1;return e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.topElement=null,this.findTop(this.parentQuad),t=!0),e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.leftElement=null,this.findLeft(this.parentQuad),t=!0),e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.rightElement=null,this.findRight(this.parentQuad),t=!0),e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.bottomElement=null,this.findBottom(this.parentQuad),t=!0),t},e.prototype.findBottom=function(e){e.third||e.fourth?(e.third&&this.findBottom(e.third),e.fourth&&this.findBottom(e.fourth)):(e.second&&this.findBottom(e.second),e.first&&this.findBottom(e.first));for(var t=0,n=e.objects;t<n.length;t++){var i=n[t];this.pageBottom<=i.outerBounds.bottom&&(this.pageBottom=i.outerBounds.bottom,this.bottomElement=i)}},e.prototype.findRight=function(e){e.second||e.fourth?(e.second&&this.findRight(e.second),e.fourth&&this.findRight(e.fourth)):(e.first&&this.findRight(e.first),e.third&&this.findRight(e.third));for(var t=0,n=e.objects;t<n.length;t++){var i=n[t];this.pageRight<=i.outerBounds.right&&(this.pageRight=i.outerBounds.right,this.rightElement=i)}},e.prototype.findLeft=function(e){e.first||e.third?(e.first&&this.findLeft(e.first),e.third&&this.findLeft(e.third)):(e.second&&this.findLeft(e.second),e.fourth&&this.findLeft(e.fourth));for(var t=0,n=e.objects;t<n.length;t++){var i=n[t];this.pageLeft>=i.outerBounds.left&&(this.pageLeft=i.outerBounds.left,this.leftElement=i)}},e.prototype.findTop=function(e){e.first||e.second?(e.first&&this.findTop(e.first),e.second&&this.findTop(e.second)):(e.third&&this.findTop(e.third),e.fourth&&this.findTop(e.fourth));for(var t=0,n=e.objects;t<n.length;t++){var i=n[t];this.pageTop>=i.outerBounds.top&&(this.pageTop=i.outerBounds.top,this.topElement=i)}},e.prototype.setCurrentNode=function(e){if(this.childNode=e,e){var t=e.outerBounds;this.childLeft=Number(t.left),this.childTop=Number(t.top),this.childRight=Number(t.right),this.childBottom=Number(t.bottom)}else this.childLeft=Number.MAX_VALUE,this.childTop=Number.MAX_VALUE,this.childRight=-Number.MAX_VALUE,this.childBottom=-Number.MAX_VALUE},e.prototype.getPageBounds=function(e,t){if(this.pageLeft===Number.MAX_VALUE)return new di(0,0,0,0);var n=void 0!==e?Math.min(this.pageLeft,0):this.pageLeft,i=void 0!==t?Math.min(this.pageTop,0):this.pageTop;return new di(Math.round(n),Math.round(i),Math.round(this.pageRight-n),Math.round(this.pageBottom-i))},e.prototype.getQuad=function(e){return this.quadTable[e.id]},e}(),Kp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$p=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kp(t,e),$p([zt(!1)],t.prototype,"preventDefaults",void 0),t}(nn),Jp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eu=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jp(t,e),eu([zt("")],t.prototype,"action",void 0),eu([zt("")],t.prototype,"cursor",void 0),t}(nn),nu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iu=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nu(t,e),iu([zt(!0)],t.prototype,"inversedAlignment",void 0),t}(nn),ou=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),au=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},su=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))},lu=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},cu=function(e){function t(t,n){var i,r,o=e.call(this,t,n)||this;o.version=17.1,o.checkMenu=!1,o.isServerUpdate=!1,o.oldNodeObjects=[],o.oldDiagramObject={},o.oldConnectorObjects=[],o.canEnableBlazorObject=!1,o.connectorTable={},o.groupTable={},o.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},o.textEditing=!1,o.isTriggerEvent=!1,o.preventNodesUpdate=!1,o.preventConnectorsUpdate=!1,o.callBlazorModel=!0,o.selectionConnectorsList=[],o.deleteVirtualObject=!1,o.changedConnectorCollection=[],o.changedNodesCollection=[],o.previousNodeCollection=[],o.previousConnectorCollection=[],o.crudDeleteNodes=[],o.diagramid=88123,o.selectedObject={helperObject:void 0,actualObject:void 0},o.renderTimer=null;var a=w()&&window&&window.Blazor&&!o.dataSourceSettings.dataSource;o.ignoreCollectionWatch=!0;for(var s=0;t&&t.nodes&&s<t.nodes.length;s++)i=t.nodes[s],r=o.nodes[s],i.children&&i.children.length>0&&(i.style&&i.style.fill||(r.style.fill="transparent"),i.style&&i.style.strokeColor||(r.style.strokeColor="transparent")),i.shape&&"UmlActivity"===i.shape.type&&Xl(i,r),i.shape&&"SwimLane"===i.shape.type&&Vl(i,r),o.nodeDefaults&&(a&&o.previousNodeCollection.push(xh(r,void 0,void 0,!0)),Kl(r,i,o.nodeDefaults)),o.updateAnnotationText(r.annotations);if(t&&t.connectors&&o.connectorDefaults)for(s=0;t&&t.connectors&&s<t.connectors.length;s++)i=t.connectors[s],r=o.connectors[s],a&&o.previousConnectorCollection.push(xh(r,void 0,void 0,!0)),Kl(r,i,o.connectorDefaults),o.updateAnnotationText(r.annotations);for(s=0;t&&t.connectors&&s<t.connectors.length;s++){var l=t.connectors[s],c=o.connectors[s];if(l.shape&&"None"!==l.shape.type&&Gl(l,c),w()){var d=xh(o.bulkChanges);o.enableServerDataBinding(!0),o.protectPropertyChange(!0);for(var h=Object.keys(d),p=0;p<h.length;p++){var u=h[p],f=u.split("-");f&&f[0]&&("nodes"===f[0]&&(d[u].sfIndex=Number(f[1]),o.changedNodesCollection.push(d[u])),"connectors"===f[0]&&(d[u].sfIndex=Number(f[1]),o.changedConnectorCollection.push(d[u])))}}}return o}return ou(t,e),t.prototype.updateAnnotationText=function(e){if(w()&&e.length>0)for(var t=0;e&&t<e.length;t++){var n=e[t];n.content=n.content.split("\\n").join("\n")}},t.prototype.callFromServer=function(e){if("getParentID"===e.methodName){var t=e.id;return this.nameTable[t].parentId}if("getEdges"===e.methodName){var n=e.outEdge;t=e.id;return n?this.nameTable[t].outEdges:this.nameTable[t].inEdges}if("updateDiagramObjects"===e.methodName){var i=e.obj;if(this.isServerUpdate=!0,e.IsAdding){this.add.apply(this,i)}else{this.remove.apply(this,i)}this.isServerUpdate=!1}else if("invokeLoadDiagramMethod"===e.methodName){this.loadDiagram(e.data)}},t.prototype.clearCollection=function(e){for(var t,n=[],i=0,r=Object.keys(this.nameTable);i<r.length;i++){var o=r[i];(t=this.nameTable[o])&&(e&&t instanceof $a||!e&&t instanceof Dd)&&n.push(t)}this.clearObjects(n)},t.prototype.onPropertyChanged=function(n,i){var r=!0,o=!1,a=!1;if(this.diagramActions&Ri.Render){for(var s=0,l=Object.keys(n);s<l.length;s++){switch(l[s]){case"width":case"height":this.element.style.width=this.getSizeValue(this.width),this.element.style.height=this.getSizeValue(this.height),this.eventHandler.updateViewPortSize(this.element);for(var c=0,d=this.views;c<d.length;c++){var h=d[c];(I=this.views[h])instanceof t||I.updateView(I)}break;case"nodes":if(n.nodes.length>0&&0===i.nodes.length)this.clearCollection(),a=!0;else{for(var p=0,u=Object.keys(n.nodes);p<u.length;p++){var f=u[p],g=Number(f),m=this.nodes[g],v=n.nodes[g];o=o||void 0!==v.excludeFromLayout,this.nodePropertyChange(m,i.nodes[g],v,void 0,!0,!0);var y={element:Vc(m),cause:this.diagramActions,oldValue:Vc(i.nodes[g]),newValue:Vc(n.nodes[g])};w()&&(y.element={node:Vc(m)},y.oldValue={node:Vc(void 0)},y.newValue={node:Vc(void 0)}),this.triggerEvent(Hi.propertyChange,y),r&&(r=!1)}"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"connectors":if(n.connectors.length>0&&0===i.connectors.length)this.clearCollection(!0),a=!0;else{for(var b=0,x=Object.keys(n.connectors);b<x.length;b++){f=x[b],g=Number(f),m=this.connectors[g];(v=n.connectors[g])&&(v.sourceDecorator||v.targetDecorator)&&(this.diagramActions|=Ri.DecoratorPropertyChange),this.connectorPropertyChange(m,i.connectors[g],v,!0,!0),v&&(v.sourceDecorator||v.targetDecorator)&&(this.diagramActions=this.diagramActions&~Ri.DecoratorPropertyChange);y={element:Vc(m),cause:this.diagramActions,oldValue:Vc(i.connectors[g]),newValue:Vc(n.connectors[g])};w()&&(y.element={connector:Vc(m)},y.oldValue={connector:Vc(void 0)},y.newValue={connector:Vc(void 0)}),this.triggerEvent(Hi.propertyChange,y),m&&m.parentId&&"UmlClassifier"===this.nameTable[m.parentId].shape.type&&this.updateConnectorEdges(this.nameTable[m.parentId]||m),r&&(r=!1)}this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"bridgeDirection":this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer();break;case"backgroundColor":this.intOffPageBackground();break;case"pageSettings":this.validatePageSize(),this.updatePage();break;case"selectedItems":if(n.selectedItems.userHandles&&this.selectedItems.wrapper&&this.selectedItems.userHandles&&this.selectedItems.userHandles.length>0){this.renderSelector(!0);break}if(n.selectedItems.constraints){this.renderSelector(!0);break}break;case"snapSettings":this.updateSnapSettings(n);break;case"commandManager":this.initCommands();break;case"layout":o=!0;break;case"dataSourceSettings":this.clear(),this.initObjects(),"None"===this.layout.type?a=!0:o=!0;break;case"tooltip":ga(this);break;case"rulerSettings":this.updateRulerSettings(n);break;case"layers":this.updateLayer(n);break;case"scrollSettings":this.updateScrollSettings(n);break;case"locale":n.locale!==i.locale&&(this.realActions|=zi.PreventDataInit,e.prototype.refresh.call(this),this.realActions&=~zi.PreventDataInit);break;case"contextMenuSettings":if(void 0!==n.contextMenuSettings.showCustomMenuOnly&&(this.contextMenuSettings.showCustomMenuOnly=n.contextMenuSettings.showCustomMenuOnly),void 0!==n.contextMenuSettings.show&&(this.contextMenuSettings.show=n.contextMenuSettings.show),n.contextMenuSettings.items)for(var S=n.contextMenuSettings.items,C=0,O=Object.keys(S);C<O.length;C++){f=O[C],g=Number(f);this.contextMenuSettings.items[g]=S[g]}break;case"serializationSettings":void 0!==n.serializationSettings.preventDefaults&&(this.serializationSettings.preventDefaults=n.serializationSettings.preventDefaults)}}if(o&&!a&&this.doLayout(),r&&this.propertyChange){y={element:Vc(this),cause:this.diagramActions,oldValue:Vc(i),newValue:Vc(n)};w()&&(y.element={diagram:Vc(this)},y.oldValue={diagram:Vc(void 0)},y.newValue={diagram:Vc(void 0)}),this.triggerEvent(Hi.propertyChange,y)}if(!a&&this.canLogChange()&&this.modelChanged(n,i)){var P={type:"PropertyChanged",undoObject:i,redoObject:n,category:"Internal"};this.addHistoryEntry(P)}this.resetDiagramActions(),a&&(this.initObjects(!0),this.refreshDiagramLayer(),o&&this.doLayout());var E=1===Object.keys(n).length&&void 0!==n.scrollSettings;if(!a)for(var T=0,k=this.views;T<k.length;T++){var I=k[T];(h=this.views[I])instanceof t||(n.scrollSettings&&n.scrollSettings.currentZoom!=i.scrollSettings.currentZoom&&h.updateHtmlLayer(h),E||this.refreshCanvasDiagramLayer(h))}this.resetTemplate()}},t.prototype.updateSnapSettings=function(e){(void 0!==e.snapSettings.constraints||e.snapSettings.horizontalGridlines||e.snapSettings.verticalGridlines||e.snapSettings.gridType)&&this.diagramRenderer.updateGrid(this.snapSettings,Qd(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.updateRulerSettings=function(e){void 0!==e.rulerSettings.dynamicGrid&&this.diagramRenderer.updateGrid(this.snapSettings,Qd(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),void 0!==e.rulerSettings.showRulers?(this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):void 0===e.rulerSettings.horizontalRuler&&void 0===e.rulerSettings.verticalRuler||(void 0!==e.rulerSettings.horizontalRuler.thickness||void 0!==e.rulerSettings.verticalRuler.thickness?(is(this),this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):ns(this)),this.diagramRenderer.updateGrid(this.snapSettings,Qd(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){this.initializePrivateVariables(),this.isProtectedOnChange=!0,this.serviceLocator=new Vh,this.initializeServices(),this.setCulture();window.measureElement&&(window.measureElement=null),this.initDiagram(),this.initViews(),this.unWireEvents(),this.wireEvents(),this.element.classList.add("e-diagram")},t.prototype.initializePrivateVariables=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-diagram").length;this.element.id="diagram_"+this.diagramid+"_"+e}this.defaultLocale={Copy:"Copy",Cut:"Cut",Paste:"Paste",Undo:"Undo",Redo:"Redo",SelectAll:"Select All",Grouping:"Grouping",Group:"Group",UnGroup:"Un Group",Order:"Order",BringToFront:"Bring To Front",MoveForward:"Move Forward",SendToBack:"Send To Back",SendBackward:"Send Backward"},this.layerZIndex=-1,this.layerZIndexTable={},this.nameTable={},this.pathTable={},this.groupTable={},this.commands={},this.isLoading||(this.views=[]),this.commandHandler=new Xp(this),this.eventHandler=new Hp(this,this.commandHandler),this.spatialSearch=new Zp(this.nameTable),this.scroller=new Gp(this)},t.prototype.initializeServices=function(){this.serviceLocator.register("localization",this.localeObj=new Sn(this.getModuleName(),this.defaultLocale,this.locale))},t.prototype.setCulture=function(){this.localeObj=new Sn(this.getModuleName(),this.defaultLocale,this.locale)},t.prototype.render=function(){this.ignoreCollectionWatch=!0;window.domTable={};var e=[];if(w()){for(var t=[],n=[],i=0;i<this.changedNodesCollection.length;i++)t.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedNodesCollection[i]));for(i=0;i<this.changedConnectorCollection.length;i++)n.push(this.commandHandler.deepDiffer.removeEmptyValues(this.changedConnectorCollection[i]));var r="sfBlazor",o="Blazor",a={nodes:t,connectors:n};if(window&&window[o]&&!this.dataSourceSettings.dataSource&&(t.length>0||n.length>0)){var s={methodName:"UpdateBlazorProperties",diagramobj:a};window[r].updateBlazorProperties(s,this)}}this.dataSourceSettings.crudAction.read&&this.renderInitialCrud(),this.initHistory(),this.diagramRenderer=new Nh(this.element.id,new Rh,"SVG"===this.mode),this.initLayers(),this.initializeDiagramLayers(),this.diagramRenderer.setLayers(),this.initObjects(!0);var l=!1;if(w()&&!this.dataSourceSettings.dataSource&&"None"!==this.layout.type){for(var c=0,d=this.nodes;c<d.length;c++){s=d[c];this.insertValue(xh(s),!0)}for(var h=0,p=this.connectors;h<p.length;h++){s=p[h];this.insertValue(xh(s),!1)}l=!0}if(this.doLayout(),l&&this.commandHandler.getBlazorOldValues(),this.lineRoutingModule){var u=[],f=[],g=[];if(w())for(var m=0,v=this.connectors;m<v.length;m++){s=v[m];u.push(xh(s,void 0,void 0,!0))}if(this.lineRoutingModule.lineRouting(this),w()){for(var y=0,b=this.connectors;y<b.length;y++){s=b[y];f.push(xh(s,void 0,void 0,!0))}this.commandHandler.getObjectChanges(u,f,g);r="sfBlazor",o="Blazor",a={nodes:[],connectors:g};if(window&&window[o]){s={methodName:"UpdateBlazorProperties",diagramobj:a};window[r].updateBlazorProperties(s,this)}}}this.validatePageSize(),this.renderPageBreaks(),this.diagramRenderer.renderSvgGridlines(this.snapSettings,Qd(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.commandHandler.initSelectorWrapper(),this.notify("initial-load",{}),this.trigger("load"),this.scroller.setSize(),this.scroller.updateScrollOffsets(),this.refreshDiagramLayer(),(this.scrollSettings.verticalOffset>0||this.scrollSettings.horizontalOffset>0)&&this.updateScrollOffset(),le.isDevice&&(this.tool=Ai.ZoomPan|Ai.SingleSelect),this.notify("initial-end",{}),this.isProtectedOnChange=!1,this.tooltipObject=ga(this),this.diagramActions=Ri.Render;var x=this.nodes;for(i=0;i<x.length;i++)x[i].isExpanded||e.push(x[i]);if(e.length)for(i=e.length-1;i>=0;i--)this.commandHandler.expandNode(e[i],this);this.initCommands();var S=document.getElementsByClassName(this.element.id+"_hiddenUserHandleTemplate");!function(e,t,n){var i,r,o,a,s;if(e&&t){i=yh(e);for(var l=0,c=n.userHandles;l<c.length;l++)if(r=c[l],i){for(o=i(xh(r),void 0,"template",void 0,void 0,!1),a=0;a<o.length;a++){(s=ih("div",{style:"height: 100%; width: 100%; pointer-events: all",id:r.name+"_template_hiddenUserHandle"})).appendChild(o[a])}t[0].appendChild(s)}}else if(w())for(var d=void 0,h=0,p=n.userHandles;h<p.length;h++)if(!(r=p[h]).pathData&&!r.content&&!r.source){for(a=0,d=(o=ze(r.content))(Vc(r),null,null,"diagramsf_userHandle_template");a<d.length;a++){(s=ih("div",{style:"height: 100%; width: 100%; pointer-events: all",id:r.name+"_template_hiddenUserHandle"})).appendChild(d[a])}t[0].appendChild(s)}}(this.userHandleTemplate,S,this.selectedItems),this.updateTemplate(),this.isLoading=!1,this.renderComplete(),this.updateFitToPage()},t.prototype.updateFitToPage=function(){this.pageSettings&&this.pageSettings.fitOptions&&this.pageSettings.fitOptions.canFit&&this.fitToPage(this.pageSettings.fitOptions)},t.prototype.updateTemplate=function(){for(var e,t,n,i=0;i<this.nodes.length;i++)t=(e=this.nodes[i]).annotations[0],"HTML"===e.shape.type||"Native"===e.shape.type?Be("diagramsf_node_template","NodeTemplate",this,!1):t&&"Template"===t.annotationType&&Be("diagramsf_annotation_template","AnnotationTemplate",this,!1);for(i=0;i<this.connectors.length;i++)(n=this.connectors[i].annotations[0])&&"Template"===n.annotationType&&Be("diagramsf_annotation_template","AnnotationTemplate",this,!1);for(i=0;i<this.selectedItems.userHandles.length;i++)this.selectedItems.userHandles[i].template&&Be("diagramsf_userHandle_template","UserHandleTemplate",this,!1)},t.prototype.resetTemplate=function(){for(var e,t,n,i=0;i<this.nodes.length;i++)t=(e=this.nodes[i]).annotations[0],"HTML"===e.shape.type&&e.shape.content instanceof HTMLElement?He("diagramsf_node_template"):t&&"Template"===t.annotationType&&He("diagramsf_annotation_template");for(i=0;i<this.connectors.length;i++)(n=this.connectors[i].annotations[0])&&"Template"===n.annotationType&&He("diagramsf_annotation_template");for(i=0;i<this.selectedItems.userHandles.length;i++)this.selectedItems.userHandles[i].template&&Be("diagramsf_userHandle_template","UserHandleTemplate",this,!1)},t.prototype.renderInitialCrud=function(){var e,t=this;t.dataSourceSettings.crudAction.read&&((e=new Q(t.dataSourceSettings.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.dataManager?t.dataSourceSettings.dataManager=JSON.parse(e):t.dataSourceSettings.dataSource=JSON.parse(e),t.dataBind()},e.send().then());t.dataSourceSettings.connectionDataSource.crudAction.read&&((e=new Q(t.dataSourceSettings.connectionDataSource.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.connectionDataSource.dataManager=JSON.parse(e),t.dataBind()},e.send().then())},t.prototype.getModuleName=function(){return"diagram"},t.prototype.getClassName=function(){return"Diagram"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e.push({member:"Bridging",args:[]}),e.push({member:"ConnectorEditingTool",args:[]}),this.constraints&Ii.UndoRedo&&e.push({member:"UndoRedo",args:[]}),("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type||this.layout.enableAnimation)&&e.push({member:"LayoutAnimate",args:[]}),this.snapSettings.constraints&&e.push({member:"Snapping",args:[this]}),e.push({member:"PrintandExport",args:[this]}),this.contextMenuSettings.show&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type||e.push({member:"OrganizationalChart",args:[this]}),"ComplexHierarchicalTree"===this.layout.type&&e.push({member:"ComplexHierarchicalTree",args:[]}),"MindMap"===this.layout.type&&e.push({member:"MindMapChart",args:[]}),"RadialTree"===this.layout.type&&e.push({member:"RadialTree",args:[]}),"SymmetricalLayout"===this.layout.type&&e.push({member:"SymmetricalLayout",args:[]}),(this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource||this.dataSourceSettings.crudAction.read||this.dataSourceSettings.connectionDataSource.crudAction.read)&&e.push({member:"DataBinding",args:[]}),this.constraints&Ii.LineRouting&&e.push({member:"LineRouting",args:[]}),e},t.prototype.destroy=function(){if(clearInterval(this.renderTimer),this.renderTimer=null,this.hRuler&&this.vRuler&&(this.hRuler.destroy(),this.vRuler.destroy()),this.tooltipObject.destroy(),this.droppable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),document.getElementById(this.element.id)){this.element.classList.remove("e-diagram");for(var t=document.getElementsByClassName("e-diagram-tooltip");t.length>0;)t[0].parentNode.removeChild(t[0]);var n=document.getElementById(this.element.id+"content");n&&this.element.removeChild(n);if(window.measureElement){window.measureElement.usageCount-=1;window.measureElementCount--,0===window.measureElementCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null)}}window.domTable={};for(var i=0;i<this.layers.length;i++){this.layers[i].zIndexTable={}}this.diagramActions=void 0},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent,i=le.isPointer?"pointerleave":"mouseleave",r=le.isPointer,o="mozilla"===le.info.name?r?"mousewheel":"DOMMouseScroll":"mousewheel";ce.add(this.diagramCanvas,e,this.eventHandler.mouseDown,this.eventHandler),ce.add(this.diagramCanvas,n,this.eventHandler.mouseMove,this.eventHandler),ce.add(this.diagramCanvas,t,this.eventHandler.mouseUp,this.eventHandler),ce.add(this.diagramCanvas,i,this.eventHandler.mouseLeave,this.eventHandler),ce.add(this.diagramCanvas,"keydown",this.eventHandler.keyDown,this.eventHandler),ce.add(this.diagramCanvas,"keyup",this.eventHandler.keyUp,this.eventHandler),ce.add(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick,this.eventHandler),ce.add(this.diagramCanvas,"scroll",this.eventHandler.scrolled,this.eventHandler),ce.add(this.diagramCanvas,o,this.eventHandler.mouseWheel,this.eventHandler),ce.add(window,"resize",this.eventHandler.windowResize,this.eventHandler),this.initDroppables()},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchMoveEvent,n=le.isPointer?"pointerleave":"mouseleave",i=le.isPointer,r="mozilla"===le.info.name?i?"mousewheel":"DOMMouseScroll":"mousewheel",o=le.touchEndEvent;ce.remove(this.diagramCanvas,e,this.eventHandler.mouseDown),ce.remove(this.diagramCanvas,t,this.eventHandler.mouseMove),ce.remove(this.diagramCanvas,o,this.eventHandler.mouseUp),ce.remove(this.diagramCanvas,n,this.eventHandler.mouseLeave),ce.remove(this.diagramCanvas,"keydown",this.eventHandler.keyDown),ce.remove(this.diagramCanvas,"keyup",this.eventHandler.keyUp),ce.remove(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick),ce.remove(this.diagramCanvas,"scroll",this.eventHandler.scrolled),ce.remove(this.diagramCanvas,r,this.eventHandler.mouseWheel),ce.remove(window,"resize",this.eventHandler.windowResize)},t.prototype.select=function(e,t){if(w()){for(var n=0;n<e.length;n++)e[n]=this.nameTable[e[n].id];e=this.nameTable[e.id]||e}null!=e&&this.commandHandler.selectObjects(e,t)},t.prototype.selectAll=function(){var e;e=this.getObjectsOfLayer(this.activeLayer.objects),this.select(e)},t.prototype.unSelect=function(e){w()&&(this.commandHandler.oldSelectedObjects=xh(this.selectedItems),e=this.nameTable[e.id]||e),e&&up(this,e)&&(this.commandHandler.unSelect(e),this.commandHandler.updateBlazorSelector())},t.prototype.clearSelection=function(){this.commandHandler.clearSelection(!0)},t.prototype.updateViewPort=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.eventHandler.updateViewPortSize(this.element),this.updateBlazorDiagramProperties(e,!0)},t.prototype.cutCommand=function(){this.cut()},t.prototype.cut=function(){this.commandHandler.cut()},t.prototype.addProcess=function(e,t){this.bpmnModule&&this.bpmnModule.addProcess(e,t,this)},t.prototype.removeProcess=function(e){this.bpmnModule&&this.bpmnModule.removeProcess(e,this)},t.prototype.pasteCommand=function(){this.paste()},t.prototype.paste=function(e){this.commandHandler.paste(e)},t.prototype.fitToPage=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.fitToPage(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.bringIntoView=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.bringIntoView(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.bringToCenter=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t),this.scroller.bringToCenter(e),this.updateBlazorDiagramProperties(t,!0)},t.prototype.copyCommand=function(){this.copy()},t.prototype.copy=function(){return this.commandHandler.copy()},t.prototype.group=function(){this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.group(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues()},t.prototype.unGroup=function(){this.callBlazorModel=!1,this.insertBlazorDiagramObjects(this.selectedItems),this.commandHandler.unGroup(),this.callBlazorModel=!0,this.commandHandler.getBlazorOldValues()},t.prototype.sendToBack=function(){var e=this.selectedItems.nodes.length?this.selectedItems.nodes[0]:this.selectedItems.connectors[0];this.insertBlazorDiagramObjects(e),this.commandHandler.sendToBack(),this.commandHandler.getBlazorOldValues()},t.prototype.setActiveLayer=function(e){var t=this.commandHandler.getLayer(e);this.activeLayer=t},t.prototype.addLayer=function(e,t){this.commandHandler.addLayer(e,t)},t.prototype.addDiagramLayer=function(e,t){this.commandHandler.addLayer(e,t,!1)},t.prototype.removeLayer=function(e){this.commandHandler.removeLayer(e)},t.prototype.removeDiagramLayer=function(e){this.commandHandler.removeLayer(e,!1)},t.prototype.moveObjects=function(e,t){var n=xh(this.layers);this.enableServerDataBinding(!1),this.commandHandler.moveObjects(e,t);var i=this.commandHandler.deepDiffer.map(n,xh(this.layers)),r=this.commandHandler.deepDiffer.frameObject({},i);this.oldDiagramObject={layers:r},this.commandHandler.updateBlazorProperties()},t.prototype.layerObjectUpdate=function(){if(w()){this.enableServerDataBinding(!1),this.oldDiagramObject.layers=[];for(var e=0;e<this.layers.length;e++){var t=xh(this.layers[e]);t.sfIndex=this.layers[e].zIndex,this.oldDiagramObject.layers.push(t)}}},t.prototype.sendLayerBackward=function(e){this.layerObjectUpdate(),this.commandHandler.sendLayerBackward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject,!0)},t.prototype.bringLayerForward=function(e){this.layerObjectUpdate(),this.commandHandler.bringLayerForward(e),this.commandHandler.updateLayerObject(this.oldDiagramObject)},t.prototype.cloneLayer=function(e){this.commandHandler.cloneLayer(e)},t.prototype.bringToFront=function(){var e=this.selectedItems.nodes.length?this.selectedItems.nodes[0]:this.selectedItems.connectors[0];this.insertBlazorDiagramObjects(e),this.commandHandler.bringToFront(),this.commandHandler.getBlazorOldValues()},t.prototype.moveForward=function(){var e=this.selectedItems.nodes.length?this.selectedItems.nodes[0]:this.selectedItems.connectors[0];this.insertBlazorDiagramObjects(e),this.commandHandler.sendForward(),this.commandHandler.getBlazorOldValues()},t.prototype.sendBackward=function(){var e=this.selectedItems.nodes.length?this.selectedItems.nodes[0]:this.selectedItems.connectors[0];this.insertBlazorDiagramObjects(e),this.commandHandler.sendBackward(),this.commandHandler.getBlazorOldValues()},t.prototype.getObject=function(e){return this.nameTable[e]},t.prototype.getNodeObject=function(e){return xh(this.nameTable[e])},t.prototype.getConnectorObject=function(e){return xh(this.nameTable[e])},t.prototype.getActiveLayer=function(){return this.activeLayer},t.prototype.nudgeCommand=function(e,t,n){"object"!==typeof e&&(this.selectedItems.nodes.length||this.selectedItems.connectors.length)>0&&this.nudge(e)},t.prototype.nudge=function(e,t,n){var i=0,r=0;"Left"===e||"Right"===e?i=("Left"===e?-1:1)*(t||1):r=("Up"===e?-1:1)*(n||1);var o=this.selectedItems,a=this.selectedItems.wrapper.children[0];if(a instanceof or)this.commandHandler.labelDrag(o.nodes[0],a,i,r);else{var s=xh(this.selectedItems);this.protectPropertyChange(!0),this.drag(o,i,r),this.protectPropertyChange(!1);var l={type:"PositionChanged",redoObject:xh(this.selectedItems),undoObject:s,category:"Internal"};this.addHistoryEntry(l)}this.refreshCanvasLayers()},t.prototype.insertBlazorDiagramObjects=function(e){if(w()&&!(this.blazorActions&wi.interaction)){if(this.enableServerDataBinding(!1),e instanceof Hd){for(var t=0;t<e.nodes.length;t++)this.insertBlazorDiagramObjects(e.nodes[t]);for(t=0;t<e.connectors.length;t++)this.insertBlazorDiagramObjects(e.connectors[t])}if(!(e instanceof Hd)){var n;if(e&&e.children&&e.children.length>0)for(t=0;t<e.children.length;t++)this.insertBlazorDiagramObjects(this.nameTable[e.children[t]]);n=xh(this.nameTable[e.id]),this.insertValue(n,!(Lc(e)===$a))}}},t.prototype.drag=function(e,t,n){if((this.insertBlazorDiagramObjects(e),w()&&e.id&&(e=this.nameTable[e.id]||e),this.bpmnModule&&e instanceof Dd)&&this.bpmnModule.updateAnnotationDrag(e,this,t,n))return;if(e instanceof Hd){if(this.preventConnectorsUpdate=!0,e.nodes&&e.nodes.length){for(var i=0,r=e.nodes;i<r.length;i++){var o=r[i];if(this.callBlazorModel=!1,this.drag(o,t,n),o.parentId){var a=this.nameTable[o.parentId];if(a.isLane)ol(a,this.nameTable[a.parentId],o,this)}}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var s=0,l=e.connectors;s<l.length;s++){var c=l[s];this.drag(c,t,n),-1===this.selectionConnectorsList.indexOf(c)&&this.selectionConnectorsList.push(c)}this.callBlazorModel=!0}this.updateSelector(),this.diagramActions&Ri.DragUsingMouse&&this.updatePage()}else e instanceof Dd&&this.bpmnModule&&this.bpmnModule.updateAnnotationDrag(e,this,t,n),this.commandHandler.drag(e,t,n);if(e instanceof Hd){this.preventConnectorsUpdate=!1;for(var d=0,h=this.selectionConnectorsList;d<h.length;d++){var p=h[d];this.updateConnectorProperties(this.nameTable[p.id]),"Bpmn"===p.shape.type&&"Default"===p.shape.sequence&&this.commandHandler.updatePathElementOffset(p)}this.selectionConnectorsList=[]}this.diagramActions&Ri.ToolAction||this.diagramActions&Ri.DragUsingMouse||this.updateSelector(),!this.callBlazorModel||this.blazorActions&wi.interaction||this.commandHandler.getBlazorOldValues()},t.prototype.disableStackContainerPadding=function(e,t){if(e instanceof Zc&&(e.considerPadding=t),e.children)for(var n=0,i=e.children;n<i.length;n++){var r=i[n];this.disableStackContainerPadding(r,!1)}},t.prototype.scale=function(e,t,n,i){this.disableStackContainerPadding(e.wrapper,!1),this.insertBlazorDiagramObjects(e);var r=!0;if(e.id&&(e=this.nameTable[e.id]||e),e instanceof Hd){if(e.nodes&&e.nodes.length){this.callBlazorModel=!1;for(var o=0,a=e.nodes;o<a.length;o++){var s=a[o];r=this.commandHandler.scale(s,t,n,i,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(s,1/t,1/n,i,e)}this.callBlazorModel=!0}if(e.connectors&&e.connectors.length){this.callBlazorModel=!1;for(var l=0,c=e.connectors;l<c.length;l++){var d=c[l];this.commandHandler.scale(d,t,n,i,e),this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds)||this.commandHandler.scale(d,1/t,1/n,i,e)}this.callBlazorModel=!0}this.updateSelector(),this.refreshCanvasLayers()}else this.commandHandler.scale(e,t,n,i,e.children?e:void 0);return!this.callBlazorModel||this.blazorActions&wi.interaction||this.commandHandler.getBlazorOldValues(),this.disableStackContainerPadding(e.wrapper,!0),r},t.prototype.rotate=function(e,t,n){var i;if(this.insertBlazorDiagramObjects(e),e.id&&(e=this.nameTable[e.id]||e),e)if(n=n||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof Hd){this.callBlazorModel=!1,e.rotateAngle+=t,e.wrapper.rotateAngle+=t;var r=wh(e.wrapper);if(!(i=this.commandHandler.checkBoundaryConstraints(void 0,void 0,r)))return e.rotateAngle-=t,e.wrapper.rotateAngle-=t,i;var o=[];o=(o=o.concat(e.nodes)).concat(e.connectors),this.commandHandler.rotateObjects(e,o,t,n),this.callBlazorModel=!0}else this.commandHandler.rotateObjects(e,[e],t,n);return!this.callBlazorModel||this.blazorActions&wi.interaction||this.commandHandler.getBlazorOldValues(),i},t.prototype.dragSourceEnd=function(e,t,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragSourceEnd(e,t,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.dragTargetEnd=function(e,t,n){this.insertBlazorDiagramObjects(e),this.commandHandler.dragTargetEnd(e,t,n),this.callBlazorModel&&this.commandHandler.getBlazorOldValues()},t.prototype.findObjectsUnderMouse=function(e,t){return this.eventHandler.findObjectsUnderMouse(e,t)},t.prototype.findObjectUnderMouse=function(e,t,n){return this.eventHandler.findObjectUnderMouse(e,t,n)},t.prototype.findTargetObjectUnderMouse=function(e,t,n,i,r){return this.eventHandler.findTargetUnderMouse(e,t,n,i,r)},t.prototype.findElementUnderMouse=function(e,t,n){return this.eventHandler.findElementUnderMouse(e,t,n)},t.prototype.findActionToBeDone=function(e,t,n,i){return this.eventHandler.findActionToBeDone(e,t,n,i)},t.prototype.getTool=function(e){var t,n=Dh(this.getCustomTool);return n&&(t=n(e))?t:this.eventHandler.getTool(e)},t.prototype.getCursor=function(e,t){var n,i=Dh(this.getCustomCursor);if(i&&(n=i(e,t)))return n;if(this.customCursor.length)for(var r=0;r<this.customCursor.length;r++)if(this.customCursor[r].action===e)return this.customCursor[r].cursor;return this.eventHandler.getCursor(e)},t.prototype.initHistory=function(){this.undoRedoModule&&this.undoRedoModule.initHistory(this)},t.prototype.addHistoryEntry=function(e){if(this.undoRedoModule&&this.constraints&Ii.UndoRedo&&!this.currentSymbol){if(e.undoObject&&"helper"===e.undoObject.id)return;this.undoRedoModule.addHistoryEntry(e,this),"StartGroup"!==e.type&&"EndGroup"!==e.type&&this.historyChangeTrigger(e,"CustomAction")}},t.prototype.addCustomHistoryEntry=function(e){w()&&this.undoRedoModule&&this.constraints&Ii.UndoRedo&&(e.type=void 0,e.category="External",this.undoRedoModule.addHistoryEntry(e,this))},t.prototype.historyChangeTrigger=function(e,t){var n={},i=[];if("Internal"===e.category){switch(e&&e.redoObject&&e.redoObject.nodes instanceof Array&&e.redoObject.connectors instanceof Array?i=e.redoObject.nodes.concat(e.redoObject.connectors):e.redoObject&&i.push(e.redoObject),n.type=e.type,e.type){case"PositionChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY};break;case"RotationChanged":n.oldValue={rotateAngle:e.undoObject.rotateAngle},n.newValue={rotateAngle:e.redoObject.rotateAngle};break;case"SizeChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY,width:e.undoObject.width,height:e.undoObject.height},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY,width:e.redoObject.width,height:e.redoObject.height};break;case"CollectionChanged":n[e.changeType]=i;break;case"ConnectionChanged":n.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},n.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY}}var r=void 0;if(r={cause:e.category,source:Vc(i),change:Vc(n),action:t},w()){var o=(r={cause:e.category,change:Vc(n),source:{connectors:void 0,nodes:void 0},action:t}).source;o.connectors=[],o.nodes=[];for(var a=void 0,s=0;s<i.length;s++)a=Vc(i[s]),Lc(i[s])===$a?o.connectors.push(a):o.nodes.push(a);r.source=o}i.length&&this.triggerEvent(Hi.historyChange,r)}},t.prototype.startGroupAction=function(){this.addHistoryEntry({type:"StartGroup",category:"Internal"})},t.prototype.endGroupAction=function(){this.addHistoryEntry({type:"EndGroup",category:"Internal"})},t.prototype.undo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&Ii.UndoRedo&&this.undoRedoModule.undo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.redo=function(){this.canEnableBlazorObject=!0,this.callBlazorModel=!1,this.undoRedoModule&&this.constraints&Ii.UndoRedo&&this.undoRedoModule.redo(this),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.getBlazorDiagramObjects=function(e){if(e)for(var t=0;t<e.length;t++)this.insertBlazorDiagramObjects(e[t]);else this.insertBlazorDiagramObjects(this.selectedItems);this.callBlazorModel=!1,this.canEnableBlazorObject=!0},t.prototype.align=function(e,t,n){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Ri.PublicMethod,this.commandHandler.align(t,e,n||"Object"),this.commandHandler.getBlazorOldValues(),this.callBlazorModel=!0,this.canEnableBlazorObject=!1},t.prototype.distribute=function(e,t){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Ri.PublicMethod,this.commandHandler.distribute(t,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.sameSize=function(e,t){this.getBlazorDiagramObjects(t),t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|Ri.PublicMethod,this.commandHandler.sameSize(t,e),this.commandHandler.getBlazorOldValues(),this.canEnableBlazorObject=!1,this.callBlazorModel=!0},t.prototype.updateBlazorDiagramProperties=function(e,t){if(w()&&!t){this.enableServerDataBinding(!1);for(var n=0;n<e.length;n++)this.oldDiagramObject[e[n]]=xh(this[e[n]])}t&&this.commandHandler.getDiagramOldValues(this.oldDiagramObject,e)},t.prototype.getZoomingAttribute=function(){var e=[];return e.push("scrollSettings"),e.push("snapSettings"),e},t.prototype.zoom=function(e,t){var n=this.getZoomingAttribute();this.updateBlazorDiagramProperties(n),this.scroller.zoom(e,0,0,t),this.blazorActions&wi.interaction||this.updateBlazorDiagramProperties(n,!0)},t.prototype.zoomTo=function(e){var t=this.getZoomingAttribute();this.updateBlazorDiagramProperties(t);var n=e.zoomFactor?e.zoomFactor:.2;n="ZoomOut"===e.type?1/(1+n):1+n,this.scroller.zoom(n,0,0,e.focusPoint),this.updateBlazorDiagramProperties(t,!0)},t.prototype.pan=function(e,t,n){var i=this.getZoomingAttribute();this.updateBlazorDiagramProperties(i),this.setCursor("grabbing"),this.scroller.zoom(1,e,t,n),this.updateBlazorDiagramProperties(i,!0)},t.prototype.reset=function(){var e=this.getZoomingAttribute();this.updateBlazorDiagramProperties(e),this.scroller.zoom(1/this.scroller.currentZoom,-this.scroller.horizontalOffset,-this.scroller.verticalOffset,{x:0,y:0}),this.updateBlazorDiagramProperties(e,!0)},t.prototype.resetSegments=function(){var e=[],t=[],n=[];if(w())for(var i=0,r=this.connectors;i<r.length;i++){var o=r[i];e.push(xh(o,void 0,void 0,!0))}if(this.constraints&Ii.LineRouting&&this.lineRoutingModule)this.lineRoutingModule.lineRouting(this);else{this.protectPropertyChange(!0);for(var a=void 0,s=0;s<this.connectors.length;s++)(a=this.connectors[s]).segments=[],this.connectorPropertyChange(a,{},{segments:a.segments});this.protectPropertyChange(!1)}if(w()){for(var l=0,c=this.connectors;l<c.length;l++){o=c[l];t.push(xh(o,void 0,void 0,!0))}this.commandHandler.getObjectChanges(e,t,n);var d={nodes:[],connectors:n};if(window&&window.Blazor){o={methodName:"UpdateBlazorProperties",diagramobj:d};window.sfBlazor.updateBlazorProperties(o,this)}}},t.prototype.setBlazorDiagramProps=function(e){var t=this.getZoomingAttribute();e?this.updateBlazorDiagramProperties(t):this.updateBlazorDiagramProperties(t,!0)},t.prototype.triggerEvent=function(e,t){return su(this,void 0,void 0,(function(){var n;return lu(this,(function(i){switch(i.label){case 0:return t&&this.updateEventValue(t),[4,this.trigger(Hi[e],t)];case 1:return n=i.sent(),w()&&"string"===typeof n&&(n=JSON.parse(n)),[2,n]}}))}))},t.prototype.updateEventValue=function(e){var t=e.element;e.element&&t instanceof Hd&&t.nodes.length+t.connectors.length===1&&(e.element=1===t.nodes.length?t.nodes[0]:t.connectors[0])},t.prototype.addNodeToLane=function(e,t,n){if(this.nameTable[t]){var i=this.nameTable[t];if(this.protectPropertyChange(!0),this.undoRedoModule&&this.historyManager.startGroupAction(),this.nameTable[e.id]||(e.offsetX=i.wrapper.bounds.width+i.wrapper.bounds.x,e.offsetY=i.wrapper.bounds.height+i.wrapper.bounds.y,e=this.add(e)),e.parentId="",i.shape.phases.length)for(var r=0;r<i.shape.phases.length;r++){l=t+n+r;if(this.nameTable[l]&&this.nameTable[l].isLane){var o=this.nameTable[l].wrapper.bounds,a={x:o.x+(o.x-i.wrapper.bounds.x+e.margin.left+e.wrapper.bounds.width/2),y:o.y+i.wrapper.bounds.y-e.margin.top};if("Horizontal"===i.shape.orientation)a.y=o.y;else{a.x=o.x;var s=this.nameTable[l].parentId+i.shape.lanes[0].id+"_0_header";a.y=o.y+(i.wrapper.bounds.y-this.nameTable[s].wrapper.bounds.height+e.margin.top+e.wrapper.bounds.height/2)}if(o.containsPoint(a)||l===t+n+(i.shape.phases.length-1)){il(this,this.nameTable[l],e,void 0,!0),ol(this.nameTable[l],i,e,this);break}}}else{var l=t+n+"0";this.nameTable[l]&&(il(this,this.nameTable[l],e,void 0,!0),ol(this.nameTable[l],i,e,this))}this.undoRedoModule&&this.historyManager.endGroupAction(),this.protectPropertyChange(!1)}this.updateDiagramElementQuad()},t.prototype.showTooltip=function(e){var t=wh(e.wrapper),n={x:0,y:0},i=e.tooltip.content?e.tooltip.content:"X:"+Math.round(t.x)+" Y:"+Math.round(t.y);e&&"Custom"===e.tooltip.openOn&&(n=e instanceof Dd?{x:e.offsetX+e.width/2,y:e.offsetY+e.height/2}:{x:e.targetPoint.x,y:e.targetPoint.x},this.commandHandler.showTooltip(e,n,i,"SelectTool",!0))},t.prototype.hideTooltip=function(e){e&&"Custom"===e.tooltip.openOn&&this.tooltipObject.close()},t.prototype.addNode=function(e,t){return this.add(e,t)},t.prototype.addChildToGroup=function(e,t){this.addChild(e,t)},t.prototype.getHistoryStack=function(e){var t,n=[];if(t=e?this.historyManager.undoStack:this.historyManager.redoStack,void 0!==this.historyManager.stackLimit){for(var i=t.length-1;i>=0;i--)if(n.push(t[i]),n.length>this.historyManager.stackLimit)return n}else n=t;return n},t.prototype.getEdges=function(e){return e.outEdge?this.nameTable[e.id].outEdges:this.nameTable[e.id].inEdges},t.prototype.getParentId=function(e){return this.nameTable[e].parentId},t.prototype.addConnector=function(e){return this.add(e)},t.prototype.UpdateBlazorDiagramModelCollection=function(e,t,n){var i=Vc(e);if(window&&window.Blazor&&(!this.isServerUpdate||n)){this.isServerUpdate=!0;var r=[],o=[],a=[],s=void 0,l=[],c=[];if(!t){l=n||this.commandHandler.getChildren(e,[]);for(var d=0;d<l.length;d++)i=Vc(l[d]),o.push(i),s=Lc(l[d])===$a?this.connectors.indexOf(l[d]):this.nodes.indexOf(l[d]),r.push(s),c.push(Lc(l[d])===$a?"Connector":"Node");n||(o.push(Vc(e)),r.push(this.nodes.indexOf(e)),c.push(Lc(e)===$a?"Connector":"Node"))}if(t&&t.length>0)for(d=0;d<t.length;d++){i=Vc(t[d]),t[d]instanceof Dd?o.push(i):a.push(i),c.push(Lc(t[d])===$a?"Connector":"Node")}var h={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(o),ObjectType:c,removalIndex:t?void 0:r,isMultipleObjects:!0,annotationIndex:void 0,connectorObj:JSON.stringify(a)}};window.sfBlazor.updateBlazorProperties(h,this)}},t.prototype.UpdateBlazorDiagramModel=function(e,t,n,i){var r=Vc(e);if(window&&window.Blazor&&!this.isServerUpdate&&!(this.diagramActions&Ri.Clear)){var o={methodName:"UpdateBlazorDiagramObjects",diagramobj:{nodeObj:JSON.stringify(r),ObjectType:t,removalIndex:n,isMultipleObjects:!1,annotationIndex:i,connectorObj:void 0}};window.sfBlazor.updateBlazorProperties(o,this)}},t.prototype.addBlazorDiagramObjects=function(){var e=[],t=[];if(this.dataBindingModule&&!(this.realActions&zi.PreventDataInit)){for(var n=0;n<this.nodes.length;n++)e.push(xh(this.nodes[n],void 0,void 0,!0));for(n=0;n<this.connectors.length;n++)t.push(xh(this.connectors[n],void 0,void 0,!0))}if(window&&window.Blazor){var i={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(e),isConnector:!1}};window.sfBlazor.updateBlazorProperties(i,this),i={methodName:"AddBlazorObjects",diagramobj:{nodeObj:JSON.stringify(t),isConnector:!0}},window.sfBlazor.updateBlazorProperties(i,this)}},t.prototype.removeNodeEdges=function(e,t,n){var i=this.nameTable[e],r=n?i.outEdges:i.inEdges;if(r.length>0)for(var o=0;o<r.length;o++)r[o]===t&&r.splice(o,1)},t.prototype.add=function(e,n){var i,r=this.isProtectedOnChange;if(this.protectPropertyChange(!0),e){var o=void 0;o={element:e=xh(e),cause:this.diagramActions,state:"Changing",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),w()&&(o=Dc(o,e,"Changing","Addition")),"helper"===e.id||this.diagramActions&Ri.PreventCollectionChangeOnDragOver||this.triggerEvent(Hi.collectionChange,o),o.cancel&&this.drawingObject&&(this.removeElements(o.element),this.tooltipObject.close(),Lc(o.element)===$a&&(o.element.sourceID&&this.removeNodeEdges(o.element.sourceID,o.element.id,!0),o.element.targetID&&this.removeNodeEdges(o.element.targetID,o.element.id,!1))),this.diagramActions=this.diagramActions|Ri.PublicMethod,e.id=e.id||mh();var a=this.activeLayer;if(!o.cancel&&!a.lock){if(a.objects.indexOf(e.id)<0&&!a.lock&&(a.visible||(a.visible=!0,this.dataBind()),a.objects.push(e.id)),Lc(e)===$a)(i=new $a(this,"connectors",e,!0)).status="New",Kl(i,e,this.connectorDefaults),this.connectors.push(i),this.initObject(i),this.UpdateBlazorDiagramModel(i,"Connector"),!1===e.visible&&this.updateElementVisibility(i.wrapper,i,e.visible),this.updateEdges(i);else{if(Kl(i=new Dd(this,"nodes",e,!0),e,this.nodeDefaults),i.parentId=e.parentId,i.umlIndex=e.umlIndex,i.status="New",this.nodes.push(i),this.initObject(i,a,void 0,n),this.updateTemplate(),this.UpdateBlazorDiagramModel(i,"Node"),this.bpmnModule){if(i.shape.annotations&&0!==i.shape.annotations.length)for(var s=0,l=this.bpmnModule.getTextAnnotationConn(i);s<l.length;s++){var c=l[s];this.initConnectors(c,a,!1)}i.shape.activity&&i.shape.activity.subProcess.processes&&i.shape.activity.subProcess.processes.length&&this.bpmnModule.updateDocks(i,this)}if(this.lineRoutingModule&&this.constraints&Ii.LineRouting)for(var d=this.spatialSearch.findObjects(i.wrapper.outerBounds),h=0;h<d.length;h++){var p=d[h];p instanceof $a&&this.connectorPropertyChange(p,{},{sourceID:p.sourceID,targetID:p.targetID,sourcePortID:p.sourcePortID,targetPortID:p.targetPortID,sourcePoint:p.sourcePoint,targetPoint:p.targetPoint})}if(i.umlIndex>-1&&e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type){var u=this.nameTable[e.parentId];u.children.splice(i.umlIndex,0,i.id),u.wrapper.children.splice(i.umlIndex,0,i.wrapper),u.wrapper.measure(new Kn),u.wrapper.arrange(u.wrapper.desiredSize),this.updateDiagramObject(u)}}if(o={element:i,cause:this.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.parentObject&&(o.parentId=this.parentObject.id),this.updateBlazorCollectionChange(i,!0),w()&&(o=Dc(o,e,"Changed","Addition")),"helper"===e.id||this.diagramActions&Ri.PreventCollectionChangeOnDragOver||this.triggerEvent(Hi.collectionChange,o),!(this.diagramActions&Ri.UndoRedo)&&!(this.diagramActions&Ri.Group)&&!(this.diagramActions&Ri.PreventHistory)){var f={type:"CollectionChanged",changeType:"Insert",undoObject:xh(e),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(f)}this.parentObject=void 0,"SVG"===this.mode&&(this.updateSvgNodes(i),this.updateTextElementValue(i),this.updateDiagramObject(i),i.shape.activity&&i.shape.activity.subProcess.processes&&i.shape.activity.subProcess.processes.length&&this.updateProcesses(i),this.updateBridging())}}this.protectPropertyChange(r),this.resetDiagramActions(Ri.PublicMethod),i&&this.layers.length>1&&this.moveNode(i);for(var g=0,m=this.views;g<m.length;g++){var v=m[g],y=this.views[v];y instanceof t||this.refreshCanvasDiagramLayer(y)}return i},t.prototype.updateBlazorCollectionChange=function(e,t){if(window&&window.sfBlazor){var n={},i=e instanceof Dd?"nodes":"connectors";n["nodes"===i?this.nodes.indexOf(e).toString():this.connectors.indexOf(e).toString()]=xh(e),window.sfBlazor.updateDiagramCollection&&window.sfBlazor.updateDiagramCollection.call(this,i,n,{},!t,!1)}},t.prototype.updateSvgNodes=function(e){if(e.children)for(var t=0,n=e.children;t<n.length;t++){var i=n[t];if(this.nameTable[i]&&this.nameTable[i].parentId){var r=Yd(i+"_groupElement",this.element.id);r&&r.parentNode.removeChild(r)}}},t.prototype.updateProcesses=function(e){if(this.bpmnModule&&e&&e.shape&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length){var t=e.shape.activity.subProcess.processes;this.moveSvgNode(e.id);for(var n=0,i=t;n<i.length;n++){var r=i[n];this.moveSvgNode(r);for(var o=[],a=(o=o.concat(this.nameTable[r].outEdges,this.nameTable[r].inEdges)).length-1;a>=0;a--)this.moveSvgNode(o[a])}for(var s=0,l=t;s<l.length;s++){r=l[s];this.nameTable[r].shape.activity.subProcess.processes&&this.nameTable[r].shape.activity.subProcess.processes.length&&this.updateProcesses(this.nameTable[r])}}else this.moveSvgNode(e.id)},t.prototype.moveSvgNode=function(e){var t=Yd(e+"_groupElement",this.element.id),n=t.parentElement;t.parentNode.removeChild(t),n.appendChild(t)},t.prototype.addTextAnnotation=function(e,t){if(this.bpmnModule){var n=this.bpmnModule.addAnnotation(t,e,this);if(this.initConnectors(n,this.commandHandler.getObjectLayer(t.id),!1),this.updateDiagramObject(t),!(this.diagramActions&Ri.UndoRedo)&&!(this.diagramActions&Ri.Group)){var i={type:"CollectionChanged",changeType:"Insert",undoObject:xh(e),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(i)}}},t.prototype.spliceConnectorEdges=function(e,t){var n,i,r=[];if(n=t?this.nameTable[e.sourceID]:this.nameTable[e.targetID]){for(var o=(r=t?n.outEdges:n.inEdges).length-1;o>=0;o--)r[o]===e.id&&r.splice(o,1);for(var a=0;n.ports&&a<n.ports.length;a++)i=!t,this.removePortEdges(n,n.ports[a].id,e.id,i)}},t.prototype.removeDependentConnector=function(e){for(var t,n=[],i=(n=n.concat(e.outEdges,e.inEdges)).length-1;i>=0;i--)(t=this.nameTable[n[i]])&&(this.connectorTable[t.id]=xh(t),this.remove(t))},t.prototype.removeObjectsFromLayer=function(e){if(e.children)for(var t=0;t<e.children.length;t++){var n=this.nameTable[e.children[t]];n&&this.removeObjectsFromLayer(n)}var i=this.layers.indexOf(this.commandHandler.getObjectLayer(e.id)),r=this.layers[i].objects.indexOf(e.id);r>-1&&(up(this,e)&&this.unSelect(e),this.layers[i].objects.splice(r,1),delete this.layers[i].zIndexTable[this.nameTable[e.id].zIndex])},t.prototype.removeElements=function(e){if("SVG"===this.mode||"Canvas"===this.mode&&"Native"===e.shape.type){var t=Yd(e.id+"_groupElement",this.element.id),n=e;if(n.ports&&n.ports.length>0)for(var i=0;i<n.ports.length;i++){var r=n.ports[i],o=Yd(n.id+"_"+r.id+"_groupElement",this.element.id);o&&o.parentNode.removeChild(o)}t&&t.parentNode.removeChild(t)}this.refreshCanvasLayers();var a,s=e.wrapper.children;if(s)for(i=0;i<s.length;i++){if(s[i]instanceof gr||s[i].id&&s[i].id.indexOf("icon_content")>0){s[i].id.indexOf("icon_content")>0&&"SVG"===this.mode&&((a=Yd(s[i].id+"_shape_groupElement",this.element.id))&&a.parentNode.removeChild(a),(a=Yd(s[i].id+"_rect_groupElement",this.element.id))&&a.parentNode.removeChild(a));for(var l=0,c=this.views;l<c.length;l++){var d=c[l];lh(s[i].id+"_groupElement",d);var h=this.scroller.removeCollection.indexOf(e.id);this.scroller.removeCollection.splice(h,1)}}else if(s[i]instanceof Ta)for(var p=0,u=this.views;p<u.length;p++){d=u[p];lh(e.id+"_html_element",d),lh(s[i].id+"_html_element",d)}vc(s[i].id)}},t.prototype.removeCommand=function(){this.remove()},t.prototype.remove=function(e){var t,n=[];n=n.concat(this.selectedItems.nodes,this.selectedItems.connectors);var i=!1;if(e){if((e=this.nameTable[e.id])&&e.shape&&"SwimLane"===e.shape.type&&function(e,t){var n,i,r,o,a,s,l=t.wrapper.children[0].rows;for(i=0;i<l.length;i++)for(r=0;r<l[i].cells.length;r++){if((a=Rl(l[i].cells[r]))&&a.children)for(o=0;o<a.children.length;o++)a.children[o].children&&(s=e.nameTable[a.children[o].id])&&(s.isLane?Nl(e,s):(e.removeDependentConnector(s),e.diagramActions|=Ri.PreventHistory,s.constraints&Ei.Delete?e.remove(s):Qs(e,s,{},!1),e.diagramActions&=~Ri.PreventHistory,o--));a&&(n=e.nameTable[a.id])&&Nl(e,n)}}(this,e),e&&(function(e){return e instanceof $a?e.constraints&Oi.Delete:e.constraints&Ei.Delete}(e)||this.diagramActions&Ri.Clear)&&(t={element:e,cause:this.diagramActions,state:"Changing",type:"Removal",cancel:!1},w()&&(t=Dc(t,e,"Changing","Removal")),this.diagramActions&Ri.Clear||"helper"===e.id||this.triggerEvent(Hi.collectionChange,t),!t.cancel)){if(this.bpmnModule&&this.bpmnModule.checkAndRemoveAnnotations(e,this))return void this.refreshCanvasLayers();if(!(this.diagramActions&Ri.UndoRedo)&&!(this.diagramActions&Ri.PreventHistory)&&(e instanceof Dd||e instanceof $a)){var r={type:"CollectionChanged",changeType:"Remove",undoObject:xh(e),redoObject:xh(e),category:"Internal"};this.updateBlazorCollectionChange(e,!1),this.diagramActions&Ri.Clear||n.length>0&&this.undoRedoModule&&!this.layout.type&&(this.historyManager.startGroupAction(),i=!0),e instanceof Dd&&this.removeDependentConnector(e),e.isLane||e.isPhase||this.diagramActions&Ri.Clear||this.isStackChild(e)||this.addHistoryEntry(r)}!e.children||e.isLane||e.isPhase||this.deleteGroup(e),e.parentId&&(this.deleteChild(e),this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type&&(this.updateDiagramObject(this.nameTable[e.parentId]),this.updateConnectorEdges(this.nameTable[e.parentId])));var o=void 0;this.diagramActions=this.diagramActions|Ri.PublicMethod;var a=this.nameTable[e.id];if(a instanceof Dd){if("Bpmn"===a.shape.type&&this.bpmnModule&&this.bpmnModule.removeBpmnProcesses(a,this),a.isLane||a.isPhase||"SwimLane"===a.shape.type){(s=a.isLane||a.isPhase?this.nameTable[a.parentId]:this.nameTable[a.id]).wrapper.children[0];a.isLane?zl(this,a,s):a.isPhase&&Hl(this,a,s)}o=this.nodes.indexOf(a),w()&&"helper"!==e.id&&this.UpdateBlazorDiagramModel(e,"Node",o),-1!==o&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.nodes.splice(o,1),this.updateNodeEdges(a))}else o=this.connectors.indexOf(a),this.UpdateBlazorDiagramModel(e,"Connector",o),-1!==o&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.connectors.splice(o,1)),this.updateEdges(a),this.spliceConnectorEdges(e,!0),this.spliceConnectorEdges(e,!1);if(i&&this.historyManager.endGroupAction(),up(this,a)&&this.unSelect(a),!a.isPhase){if(this.removeObjectsFromLayer(e),this.currentDrawingObject&&(this.currentDrawingObject.wrapper=void 0),delete this.nameTable[e.id],n.length>0&&n[0].id===a.id&&a.parentId){var s,l=this.nameTable[a.parentId];if(l&&l.isLane&&"SwimLane"===this.nameTable[l.parentId].shape.type)Ll(this,s=this.nameTable[l.parentId],l,a)}this.removeElements(a),this.updateBridging(),"SVG"!==this.mode&&this.refreshDiagramLayer(),this.diagramActions&Ri.Clear||(this.removeFromAQuad(a),t={element:e,cause:this.diagramActions,state:"Changed",type:"Removal",cancel:!1},w()&&(t=Dc(t,e,"Changed","Removal")),"helper"!==e.id&&this.triggerEvent(Hi.collectionChange,t),this.resetTool())}}}else if(n.length>0){this.undoRedoModule&&(this.historyManager.startGroupAction(),i=!0);for(var c=0;c<n.length;c++){n[c];if(this.nameTable[n[c].id]){if(n[c]instanceof $a&&this.bpmnModule&&this.bpmnModule.textAnnotationConnectors.indexOf(n[c])>-1)return void this.remove(this.nameTable[n[c].targetID]);w()&&(!this.isServerUpdate&&n&&n.length>1&&(this.isServerUpdate=!0,this.UpdateBlazorDiagramModelCollection(n[0],void 0,n)),n[c].parentId&&this.insertBlazorDiagramObjects(this.nameTable[n[c].parentId])),this.remove(n[c]),w()&&n[c].parentId&&(this.commandHandler.getBlazorOldValues(),this.isServerUpdate=!1)}}i&&this.historyManager.endGroupAction(),this.clearSelection()}if(this.tooltipObject.close(),w()&&n&&n.length>0){for(var d=!0,h=0;h<n.length;h++)this.nameTable[n[h].id]&&(d=!1);d&&(this.isServerUpdate=!1)}},t.prototype.isStackChild=function(e){var t,n=this.nameTable[e.parentId];if(e&&e.parentId&&n.container&&"Stack"===n.container.type&&"UmlClassifier"!==this.nameTable[e.parentId].shape.type){t=!0;var i={type:"StackChildPositionChanged",redoObject:{sourceIndex:void 0,source:e,target:void 0,targetIndex:void 0},undoObject:{sourceIndex:n.wrapper.children.indexOf(e.wrapper),source:e,target:void 0,targetIndex:void 0},category:"Internal"};this.diagramActions&Ri.UndoRedo||this.addHistoryEntry(i)}return t},t.prototype.deleteChild=function(e,t){var n;if(t=t?this.nameTable[t.id]:this.nameTable[e.parentId],n="string"===typeof e?e:e.id,t&&t.children){for(var i=0;i<t.children.length;i++)if(t.children[i]===n){t.children.splice(i,1);for(var r=0;r<t.wrapper.children.length;r++)t.wrapper.children[r].id===n&&t.wrapper.children.splice(r,1)}t.wrapper.measure(new Kn),t.wrapper.arrange(t.wrapper.desiredSize)}},t.prototype.addChild=function(e,t,n){var i,r=this.nameTable[e.id];if(r.children||(r.children=[]),r.children&&("string"===typeof t?this.nameTable[t]&&(i=t):(i=t.id=t.id||mh(),this.add(t)),i&&(!t.umlIndex||-1===t.umlIndex))){var o=this.nameTable[i];o.parentId=r.id,r.container&&"Stack"===r.container.type&&this.updateStackProperty(r,o),n?(r.children.splice(n,0,i),r.wrapper.children.splice(n,0,o.wrapper)):(r.children.push(i),r.wrapper.children.push(o.wrapper)),r.wrapper.measure(new Kn),r.wrapper.arrange(r.wrapper.desiredSize),r.isLane||(this.nameTable[e.id].width=r.wrapper.actualSize.width,this.nameTable[e.id].height=r.wrapper.actualSize.height),void 0!==r.container&&(o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY),(!r.parentId||this.nameTable[r.parentId]&&"SwimLane"!==this.nameTable[r.parentId].shape.type)&&this.updateDiagramObject(r)}},t.prototype.clear=function(){this.clearObjects()},t.prototype.clearObjects=function(e){var t=[];t=e||(t=t.concat(this.nodes)).concat(this.connectors),this.diagramActions=this.diagramActions|Ri.Clear;for(var n=0,i=t;n<i.length;n++){var r=i[n];this.nameTable[r.id]&&this.remove(r)}this.diagramActions=this.diagramActions&~Ri.Clear,this.spatialSearch=new Zp(this.nameTable),this.initHistory()},t.prototype.startEditCommad=function(){var e,t=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:void 0;if(t&&t instanceof Dd)if(t.isLane&&t.parentId)for(var n=this.nameTable[t.parentId],i=n.shape.lanes,r=t.id.slice(n.id.length),o=r.substring(0,r.length-1),a=0;a<i.length;a++)t.isLane&&o===i[a].id&&(e=this.nameTable[i[a].header.id]);else if("SwimLane"===t.shape.type&&t.shape.header&&t.shape.hasHeader){var s=t.wrapper.children[0].rows[0].cells[0].children[0].id;e=this.nameTable[s]}this.startTextEdit(e)},t.prototype.startTextEdit=function(e,t){if(!Cs(this)&&!Ss(this)||xs(this)){this.textEditing=!0;var n=this.scroller.transform,i=ks(this)?n.scale:1,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;if(e||(e=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:this.selectedItems.connectors[0]),e){if(w()){var c=xh(e);c.annotations.length>0&&this.insertValue(c,e instanceof Dd),e=this.nameTable[e.id]||e}e.shape&&"UmlClassifier"===e.shape.type&&(e=this.nameTable[e.children[0]]);var d=!1;if(this.bpmnModule&&(l=this.bpmnModule.getTextAnnotationWrapper(e,t))&&(e=this.nameTable[e.id.split("_textannotation_")[0]]),l?d=!0:("Text"!==e.shape.type&&0===e.annotations.length&&(e.constraints&Ei.ReadOnly||(this.activeLabel.isGroup=!0,this.startGroupAction(),this.addLabels(e,[{id:mh(),content:""}]))),!t&&("Text"!==e.shape.type&&e.annotations.length>0||"Text"===e.shape.type)&&(t="Text"===e.shape.type?e.wrapper.children[0].id.split("_")[1]:e.annotations[0].id),t&&(l=this.getWrapper(e.wrapper,t))),e&&l&&!(l instanceof Ta)&&(!function(e,t){var n;return n=t instanceof $a?Oi.ReadOnly:Ei.ReadOnly,"Text"===t.shape.type?t.constraints&Ei.ReadOnly:t.constraints&n?e.constraints&Pi.InheritReadOnly?1:0:e.constraints&Pi.ReadOnly?1:0}(l,e)||d)){var h=l.style,p=void 0;p=90>(p=l.bounds.width<e.wrapper.bounds.width?l.bounds.width:e.wrapper.bounds.width)?90:p;var u=document.getElementById(this.element.id+"_editTextBoxDiv"),f=document.getElementById(this.element.id+"_editBox");r=f?f.value:l.content,this.activeLabel.text=r,u||f||(u=ih("div",{}),f=ih("textarea",{}),this.diagramCanvas.appendChild(u),u.appendChild(f),f.appendChild(document.createTextNode(r))),(o=Fd(l.style,r,void 0,void 0,p)).isEmpty()&&(o="Text"!==e.shape.type?new Kn(Oc(e,l.id.split(e.id+"_")[1]).width||50,l.style.fontSize):new Kn(e.width>50?50:e.width,l.style.fontSize)),e.parentId&&"UmlClassifier"===this.nameTable[e.parentId].shape.type?(o.width=e.wrapper.bounds.width-20,a=(e.wrapper.bounds.center.x+n.tx)*n.scale-o.width/2*i-2.5,s=(e.wrapper.bounds.center.y+n.ty)*n.scale-o.height/2*i-3,l.style.textAlign="Left"):(o.width=Math.max(o.width,50),a=(l.bounds.center.x+n.tx)*n.scale-o.width/2*i-2.5,s=(l.bounds.center.y+n.ty)*n.scale-o.height/2*i-3),ph(u,{id:this.element.id+"_editTextBoxDiv",style:"position: absolute;left:"+a+"px;top:"+s+"px;width:"+(o.width+1)*i+"px;height:"+o.height*i+"px; containerName:"+e.id+";"}),ph(f,{id:this.element.id+"_editBox",style:"width:"+(o.width+1)*i+"px;height:"+o.height*i+"px;resize: none;outline: none;overflow: hidden;;font-family:"+h.fontFamily+";font-size:"+h.fontSize*i+"px;text-align:"+l.style.textAlign.toLocaleLowerCase()+";",class:"e-diagram-text-edit"}),f.style.fontWeight=h.bold?"bold":"",f.style.fontStyle=h.italic?"italic":"",f.style.lineHeight=(1.2*h.fontSize+"px;").toString(),f.style.textDecoration=h.textDecoration?h.textDecoration:"",this.activeLabel.parentId=e.id,this.activeLabel.id=t,l.visible=!1,this.updateDiagramObject(e),this.diagramActions=this.diagramActions|Ri.TextEdit,this.isTriggerEvent||(ce.add(f,"input",this.eventHandler.inputChange,this.eventHandler),ce.add(f,"focusout",this.focusOutEdit,this),f.select())}}}},t.prototype.updateNodeExpand=function(e,t){for(var n=0;n<e.outEdges.length;n++){var i=this.nameTable[e.outEdges[n]],r=this.nameTable[i.targetID];i.visible=t,t||(this.updateElementVisibility(i.wrapper,i,!1),r.isExpanded=t),this.updateNodeExpand(r,r.isExpanded),r.visible=t,t||this.updateElementVisibility(r.wrapper,r,!1)}},t.prototype.updateConnectorAnnotation=function(e){if(e.annotations.length)for(var t=void 0,n=0,i=e.annotations;n<i.length;n++){var r=i[n];t=this.getWrapper(e.wrapper,r.id),e.updateAnnotation(r,e.intermediatePoints,e.wrapper.bounds,t,this.diagramActions&Ri.Interactions)}e.wrapper.measure(new Kn(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.removeChildrenFromLayout=function(e){for(var t,n=[],i=0;i<e.length;i++)(t=e[i]).parentId||t.processId||n.push(t);return n},t.prototype.doLayout=function(){var e,t=!1,n=this.isProtectedOnChange;this.protectPropertyChange(!0);var i=this.removeChildrenFromLayout(this.nodes),r={x:this.scroller.viewPortWidth,y:this.scroller.viewPortHeight};if("None"!==this.layout.type){if(this.organizationalChartModule)e=this.organizationalChartModule.updateLayout(i,this.nameTable,this.layout,r,this.dataSourceSettings.id,this.diagramActions),t=!0,this.layoutAnimateModule&&e.rootNode&&!this.diagramActions&&this.updateNodeExpand(e.rootNode,e.rootNode.isExpanded);else if(this.mindMapChartModule)i&&i.length>0&&this.mindMapChartModule.updateLayout(i,this.nameTable,this.layout,r,this.dataSourceSettings.id,this.dataSourceSettings.root),t=!0;else if(this.radialTreeModule)this.radialTreeModule.updateLayout(i,this.nameTable,this.layout,r),t=!0;else if(this.symmetricalLayoutModule)this.symmetricalLayoutModule.maxIteration=this.layout.maxIteration,this.symmetricalLayoutModule.springLength=this.layout.springLength,this.symmetricalLayoutModule.springFactor=this.layout.springFactor,this.symmetricalLayoutModule.updateLayout(i,this.connectors,this.symmetricalLayoutModule,this.nameTable,this.layout,r),t=!0;else if(this.complexHierarchicalTreeModule){var o=this.complexHierarchicalTreeModule.getLayoutNodesCollection(this.nodes);o.length>0&&this.complexHierarchicalTreeModule.doLayout(o,this.nameTable,this.layout,r),t=!0}if(t){this.preventDiagramUpdate=!0;var a={},s=i;w()&&this.updateTemplate();for(var l=0,c=s;l<c.length;l++){var d=c[l];if(this.preventNodesUpdate||this.diagramActions&&this.diagramActions&Ri.PreventIconsUpdate||(this.updateIcon(d),this.updateDefaultLayoutIcons(d)),this.preventNodesUpdate=!0,this.nodePropertyChange(d,{},{offsetX:d.offsetX,offsetY:d.offsetY},!0),this.preventNodesUpdate=!1,d.wrapper.measure(new Kn(d.wrapper.width,d.wrapper.height)),d.wrapper.arrange(d.wrapper.desiredSize),this.updateDiagramObject(d,!0),d.inEdges.length>0)for(var h=0;h<d.inEdges.length;h++){a[(m=this.nameTable[d.inEdges[h]]).id]=m}if(d.outEdges.length>0)for(var p=0;p<d.outEdges.length;p++){var u=this.nameTable[d.outEdges[p]];a[u.id]=u}}for(var f=0,g=Object.keys(a);f<g.length;f++){var m;bc(m=a[g[f]],this.getPoints(m)),"Bpmn"===m.shape.type&&"Default"===m.shape.sequence&&this.commandHandler.updatePathElementOffset(m),m.wrapper.measure(new Kn(void 0,void 0)),m.wrapper.arrange(m.wrapper.desiredSize),this.updateConnectorAnnotation(m),this.updateQuad(m),this.updateDiagramObject(m,!0)}this.preventDiagramUpdate=!1,this.updatePage(),this.diagramActions&Ri.Render&&"Canvas"!==this.mode||this.refreshDiagramLayer()}n||this.protectPropertyChange(n)}return t&&this.updateDiagramElementQuad(),!(this.blazorActions&wi.expandNode)||e},t.prototype.saveDiagram=function(){return lc(this)},t.prototype.loadDiagram=function(e){return hc(e,this)},t.prototype.getDiagramContent=function(e){return this.printandExportModule?this.printandExportModule.getDiagramContent(e):""},t.prototype.exportImage=function(e,t){this.printandExportModule&&this.printandExportModule.exportImages(e,t)},t.prototype.printImage=function(e,t){this.printandExportModule&&(t.printOptions=!0,this.printandExportModule.exportImages(e,t))},t.prototype.setStackLimit=function(e){this.undoRedoModule&&e&&(this.historyManager.stackLimit=e,this.undoRedoModule.applyLimit(this.historyManager.currentEntry,e,this,!0))},t.prototype.clearHistory=function(){this.undoRedoModule&&this.undoRedoModule.clearHistory(this)},t.prototype.getDiagramBounds=function(){if(this.printandExportModule){var e=this.printandExportModule.getDiagramBounds("",{});return e.width=e.width>this.scrollSettings.viewPortWidth?e.width+(e.x>0?e.x:0):this.scrollSettings.viewPortWidth,e.height=e.height>this.scrollSettings.viewPortHeight?e.height+(e.y>0?e.y:0):this.scrollSettings.viewPortHeight,e.x=e.x>0?0:e.x,e.y=e.y>0?0:e.y,e}return new di},t.prototype.exportDiagram=function(e){return this.printandExportModule?this.printandExportModule.exportDiagram(e):""},t.prototype.print=function(e){this.printandExportModule&&this.printandExportModule.print(e)},t.prototype.addPorts=function(e,t){var n;this.protectPropertyChange(!0),e=this.nameTable[e.id]||e,t.length>1&&this.startGroupAction();for(var i=0;i<t.length;i++){if(n=new br(e,"ports",t[i],!0),e.ports.push(n),e.children){var r=e.wrapper;e.initPorts(this.getDescription,e.wrapper.children[r.children.length-1])}else{e.wrapper.children.push(e.initPortWrapper(e.ports[e.ports.length-1]))}if(!(this.diagramActions&Ri.UndoRedo)&&!(this.diagramActions&Ri.Group)){var o={type:"PortCollectionChanged",changeType:"Insert",undoObject:xh(n),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(o)}}t.length>1&&this.endGroupAction(),e.wrapper.measure(new Kn(e.width,e.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addConstraints=function(e,t){return e|t},t.prototype.removeConstraints=function(e,t){return e&~t},t.prototype.addNodeLabels=function(e,t){this.addLabels(e,t)},t.prototype.addConnectorLabels=function(e,t){this.addLabels(e,t)},t.prototype.addLabels=function(e,t){this.protectPropertyChange(!0);var n,i=(e=this.nameTable[e.id]||e).wrapper;t.length>1&&this.startGroupAction();for(var r=0;r<t.length;r++){if(e instanceof Dd){if(n=new Or(e,"annotations",t[r],!0),e.annotations.push(n),w()){var o=xh(e);this.insertValue(o,e instanceof Dd)}if(this.UpdateBlazorDiagramModel(n,"NodeAnnotation",void 0,this.nodes.indexOf(e)),e.children)for(var a=e,s=0;s<a.wrapper.children.length;s++){if(a.wrapper.children[s].id===a.id+"group_container")a.wrapper.children[s].children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id))}else i.children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id))}else if(e instanceof $a){if(n=new Pr(e,"annotations",t[r],!0),this.UpdateBlazorDiagramModel(n,"ConnectorAnnotation",void 0,this.connectors.indexOf(e)),e.annotations.push(n),w()){o=xh(e);this.insertValue(o,e instanceof Dd)}var l=i.children[0],c=new di(l.offsetX-l.width/2,l.offsetY-l.height/2,l.width,l.height);i.children.push(e.getAnnotationElement(e.annotations[e.annotations.length-1],e.intermediatePoints,c,this.getDescription,this.element.id))}if(!(this.diagramActions&Ri.UndoRedo)&&!(this.diagramActions&Ri.Group)){var d={type:"LabelCollectionChanged",changeType:"Insert",undoObject:xh(n),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(d)}}t.length>1&&this.endGroupAction(),e.wrapper.measure(new Kn(i.width,i.height)),e.wrapper.arrange(i.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addLanes=function(e,t,n){e=this.nameTable[e.id]||e;for(var i=0;i<t.length;i++)Tl(this,e,t[i],n),void 0!==n&&(n+=1);this.updateDiagramElementQuad()},t.prototype.addPhases=function(e,t){e=this.nameTable[e.id]||e;for(var n=0;n<t.length;n++)Il(this,e,t[n]);this.updateDiagramElementQuad()},t.prototype.removeLane=function(e,t){zl(this,void 0,e,t),this.updateDiagramElementQuad()},t.prototype.removePhase=function(e,t){Hl(this,void 0,e,t),this.updateDiagramElementQuad()},t.prototype.removelabelExtension=function(e,t,n,i){for(var r=0;r<i.children.length;r++){var o=i.children[r];if((o instanceof or||o instanceof Ta)&&o.id.match("_"+t[n].id+"$")){for(var a=0;a<e.annotations.length;a++)if(o.id.match("_"+e.annotations[a].id+"$")){if(!(this.diagramActions&Ri.UndoRedo)){var s={type:"LabelCollectionChanged",changeType:"Remove",undoObject:xh(e.annotations[a]),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(s)}e.annotations.splice(a,1)}if(i.children.splice(r,1),"SVG"===this.mode){var l=Yd(o.id,this.element.id);if(l){var c=Yd(o.id,this.element.id);c.parentNode.removeChild(c)}Yd(o.id+"_text",this.element.id)&&(l=Yd(o.id+"_text",this.element.id)).parentNode.removeChild(l);var d=Yd(o.id+"_html_element",this.element.id);d&&d.parentNode.removeChild(d)}else this.refreshCanvasLayers()}}},t.prototype.removeLabels=function(e,t){e=this.nameTable[e.id]||e,t.length>1&&this.startGroupAction();for(var n=t.length-1;n>=0;n--)if(e.children&&e.children.length>0)for(var i=0;i<e.wrapper.children.length;i++)this.removelabelExtension(e,t,n,e.wrapper.children[i]);else this.removelabelExtension(e,t,n,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.removePortsExtenion=function(e,t,n,i){for(var r=0;r<i.children.length;r++){var o=i.children[r];if(o instanceof hr&&o.id.match("_"+t[n].id+"$")){for(var a=0;a<e.ports.length;a++)if(o.id.match("_"+e.ports[a].id+"$")){if(!(this.diagramActions&Ri.UndoRedo)){var s={type:"PortCollectionChanged",changeType:"Remove",undoObject:xh(e.ports[a]),redoObject:xh(e),category:"Internal"};this.addHistoryEntry(s)}e.ports.splice(a,1)}if(i.children.splice(r,1),"SVG"===this.mode){var l=Yd(o.id,this.element.id);l.parentNode.removeChild(l)}else this.refreshCanvasLayers()}}},t.prototype.removePorts=function(e,t){e=this.nameTable[e.id]||e,t.length>1&&this.startGroupAction();for(var n=t.length-1;n>=0;n--)if(e.children&&e.children.length>0)for(var i=0;i<e.wrapper.children.length;i++)this.removePortsExtenion(e,t,n,e.wrapper.children[i]);else this.removePortsExtenion(e,t,n,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.getSizeValue=function(e,t){var n;if(n=e.toString().indexOf("px")>0?e.toString():e.toString().indexOf("%")>0?void 0!==t?"100%":e.toString():e.toString()+"px",t){rs(this);n="calc("+n+" - "+t+"px)"}return n},t.prototype.renderRulers=function(){this.rulerSettings.showRulers?(!function(e){var t=rs(e),n=ih("div",{id:e.element.id+"_overlapRuler",style:"height:"+t.height+"px;width:"+t.width+"px;position:absolute;left:0;top:0",class:"e-ruler-overlap"});e.element.insertBefore(n,e.element.firstChild)}(this),ts(this,!0),ts(this,!1)):is(this)},t.prototype.intOffPageBackground=function(){var e=new Kn;e=rs(this);var t=document.getElementById(this.element.id+"content"),n=this.getSizeValue(this.width,e.width),i=this.getSizeValue(this.height,e.height),r=this.rulerSettings.showRulers?"width:"+n+"; height:"+i+";top:"+e.height+"px;left:"+e.width+"px;overflow: scroll;position:absolute;overflow:auto;":"width:"+n+"; height:"+i+";position:absolute; left:0px;  top:0px;overflow: auto;",o={id:this.element.id+"content",tabindex:"0",style:r};t?(this.diagramCanvas=t,hh(this.diagramCanvas,r)):(this.diagramCanvas=ih("div",o),this.element.appendChild(this.diagramCanvas)),this.diagramCanvas.style.background=this.backgroundColor},t.prototype.initDiagram=function(){this.intOffPageBackground(),ph(this.element,{style:"width:"+this.getSizeValue(this.width)+"; height:"+this.getSizeValue(this.height)+";position:relative;overflow:hidden;"})},t.prototype.renderHiddenUserHandleTemplateLayer=function(e){var t;t=ih("div",{class:this.element.id+"_hiddenUserHandleTemplate",style:"width:"+e.width+"px; height:"+e.height+"px;visibility:hidden ;  overflow: hidden;"}),this.element.appendChild(t)},t.prototype.renderBackgroundLayer=function(e,t){var n=this.createSvg(this.element.id+"_backgroundLayer_svg",e.width,e.height);hh(n,t);var i=rh("g",{id:this.element.id+"_backgroundImageLayer",class:"e-background-image-layer"});n.appendChild(i);var r=rh("g",{id:this.element.id+"_backgroundLayer",class:"e-background-layer"});n.appendChild(r),this.diagramCanvas.appendChild(n)},t.prototype.renderGridLayer=function(e,t){var n=this.createSvg(this.element.id+"_gridline_svg",e.width,e.height);n.setAttribute("class","e-grid-layer");var i=rh("g",{id:this.element.id+"_gridline",width:"100%",height:"100%"}),r=rh("rect",{id:this.element.id+"_grid_rect",x:"0",y:"0",width:"100%",height:"100%"});Uc()?r.setAttribute("fill","url("+location.protocol+"//"+location.host+location.pathname+"#"+this.element.id+"_pattern)"):r.setAttribute("fill","url(#"+this.element.id+"_pattern)"),i.appendChild(r),n.appendChild(i),this.diagramCanvas.appendChild(n),dh(n,{style:t})},t.prototype.renderDiagramLayer=function(e,t){var n={id:this.element.id+"_diagramLayer_div",style:"width:"+e.width+"px; height:"+e.height+"px;"+t};if(this.diagramLayerDiv=ih("div",n),"SVG"===this.mode){var i=this.createSvg(this.element.id+"_diagramLayer_svg",e.width,e.height);i.style["pointer-events"]="none",i.setAttribute("class","e-diagram-layer");var r=rh("g",{id:this.element.id+"_diagramLayer"}),o=rh("g",{});this.diagramLayer=r,i.style["pointer-events"]="all",o.appendChild(r),i.appendChild(o),this.diagramLayerDiv.appendChild(i)}else this.diagramLayer=Lh.createCanvas(this.element.id+"_diagram",e.width,e.height),hh(this.diagramLayer,"position:absolute;left:0px;top:0px;"),this.diagramLayerDiv.appendChild(this.diagramLayer);this.diagramCanvas.appendChild(this.diagramLayerDiv)},t.prototype.initLayers=function(){var e="position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",t=document.getElementById(this.element.id).getBoundingClientRect(),n=function(){var e=ih("div",{style:"visibility:hidden; width: 100px"});document.body.appendChild(e);var t=e.getBoundingClientRect().width;e.style.overflow="scroll";var n=ih("div",{style:"width:100%"});e.appendChild(n);var i=n.getBoundingClientRect().width;return e.parentNode.removeChild(e),t-i}();this.scroller.scrollerWidth=n,this.scroller.setViewPortSize(t.width,t.height),this.renderRulers();window.measureElement&&(window.measureElement=null,document.getElementById("measureElement").remove());uh(),this.renderBackgroundLayer(t,e),this.renderGridLayer(t,e),this.renderDiagramLayer(t,e),this.renderHTMLLayer(t,e),this.renderPortsExpandLayer(t,e),this.renderNativeLayer(t,e),this.renderAdornerLayer(t,e),this.renderHiddenUserHandleTemplateLayer(t)},t.prototype.renderAdornerLayer=function(e,t){var n=ih("div",{id:this.element.id+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t}),i=ih("div",{id:this.element.id+"_diagramUserHandleLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t});i.setAttribute("class","e-userHandle-layer"),n.appendChild(i);var r=this.createSvg(this.element.id+"_diagramAdorner_svg",e.width,e.height);r.setAttribute("class","e-adorner-layer"),r.style["pointer-events"]="none",this.adornerLayer=rh("g",{id:this.element.id+"_diagramAdorner"}),this.adornerLayer.style[" pointer-events"]="all",r.appendChild(this.adornerLayer),n.appendChild(r),this.diagramCanvas.appendChild(n);var o=rh("g",{id:this.element.id+"_SelectorElement"});this.adornerLayer.appendChild(o),dh(r,{style:"pointer-events:none;"})},t.prototype.renderPortsExpandLayer=function(e,t){var n=this.createSvg(this.element.id+"_diagramPorts_svg",e.width,e.height);n.setAttribute("class","e-ports-expand-layer");var i=rh("g",{id:this.element.id+"_diagramPorts",class:"e-ports-layer",style:"pointer-events: all;"});n.appendChild(i);var r=rh("g",{id:this.element.id+"_diagramExpander",class:"e-expand-layer",style:"pointer-events: all;"});n.appendChild(r),this.diagramCanvas.appendChild(n),dh(n,{style:t})},t.prototype.renderHTMLLayer=function(e,t){this.htmlLayer=ih("div",{id:this.element.id+"_htmlLayer",style:"width:"+e.width+"px; height:"+e.height+"px;position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",class:"e-html-layer"});var n=ih("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;pointer-events:all;"});this.htmlLayer.appendChild(n),this.diagramCanvas.appendChild(this.htmlLayer)},t.prototype.renderNativeLayer=function(e,t){var n=this.createSvg(this.element.id+"_nativeLayer_svg",e.width,e.height),i=rh("g",{id:this.element.id+"_nativeLayer",style:"pointer-events:all;"});n.appendChild(i),this.diagramLayerDiv.appendChild(n),dh(n,{class:"e-native-layer",style:t})},t.prototype.createSvg=function(e,t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return dh(i,{id:e,width:t,height:n}),i},t.prototype.updateBazorShape=function(){for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];switch(t.shape.type){case"Bpmn":t.shape.bpmnShape=t.shape.shape?t.shape.shape:t.shape.bpmnShape;break;case"UmlActivity":t.shape.umlActivityShape=t.shape.shape?t.shape.shape:t.shape.umlActivityShape;break;case"Flow":t.shape.flowShape=t.shape.shape?t.shape.shape:t.shape.flowShape;break;case"Basic":t.shape.basicShape=t.shape.shape?t.shape.shape:t.shape.basicShape;break;case"Text":t.shape.textContent=t.shape.content?t.shape.content:t.shape.textContent}}},t.prototype.initObjects=function(e){this.updateBazorShape(),this.isLoading||this.initData(),this.initLayerObjects(),this.updateBridging(e)},t.prototype.initLayerObjects=function(){var e=this.layers.length>1,t=[],n=window&&window.Blazor&&!this.dataSourceSettings.dataSource,i={},r={},o=[],a=[],s=[],l=[],c=[],d=[],h=[];w()&&n&&(a=this.previousNodeCollection,s=this.previousConnectorCollection);for(var p=0,u=this.nodes;p<u.length;p++){(P=u[p]).id=P.id||mh(),this.addToLayer(P,e),i[P.id]=P}for(var f=0,g=this.connectors;f<g.length;f++){(P=g[f]).id=P.id||mh(),this.addToLayer(P,e),i[P.id]=P}for(var m=0,v=this.layers;m<v.length;m++){for(var y=0,b=(A=v[m]).objects;y<b.length;y++){if(i[P=b[y]])if(i[P]instanceof $a)if((D=i[P]).sourceID&&D.targetID){var x=i[D.sourceID],S=i[D.targetID];x&&x.wrapper&&S&&S.wrapper?this.initConnectors(i[P],A):t.push(i[P])}else this.initConnectors(i[P],A);else i[P].children?o.push(P):i[P].shape instanceof Sd&&i[P].shape.activity.subProcess.processes&&i[P].shape.activity.subProcess.processes.length>0?r[i[P].id]=P:this.initNodes(i[P],A)}if(this.bpmnModule)for(var C=0,O=this.bpmnModule.textAnnotationConnectors;C<O.length;C++){var P=O[C];this.initConnectors(P,A,!1)}}for(var E=0,T=Object.keys(r);E<T.length;E++){P=T[E];this.initObject(i[P]),this.bpmnModule.updateDocks(i[P],this)}for(var k=0,I=this.alignGroup(o,i);k<I.length;k++){P=I[k];var A=this.commandHandler.getObjectLayer(P);this.initNodes(i[P],A)}for(var M=0,j=t;M<j.length;M++){var D=j[M];A=this.commandHandler.getObjectLayer(D.id);this.initConnectors(D,A)}if(w()&&n){for(var L=0,R=this.nodes;L<R.length;L++){var N=R[L];l.push(xh(N,void 0,void 0,!0))}for(var z=0,B=this.connectors;z<B.length;z++){var H=B[z];c.push(xh(H,void 0,void 0,!0))}this.commandHandler.getObjectChanges(a,l,d),this.commandHandler.getObjectChanges(s,c,h);P={methodName:"UpdateBlazorProperties",diagramobj:{nodes:d,connectors:h}};window.sfBlazor.updateBlazorProperties(P,this)}},t.prototype.alignGroup=function(e,t){var n,i,r,o,a=[],s=[];for(r=0;r<e.length;r++){var l=void 0;if((i=t[n=e[r]])&&i.children.length)for(o=0;o<i.children.length;o++)l=i.children[o],e.indexOf(l)>-1&&-1===a.indexOf(l)&&-1===s.indexOf(l)&&a.splice(0,0,l);-1===a.indexOf(n)&&s.push(n)}return a=a.concat(s)},t.prototype.addToLayer=function(e,t){var n;t&&(n=this.commandHandler.getObjectLayer(e.id)),t&&n||-1===this.activeLayer.objects.indexOf(e.id)&&this.activeLayer.objects.push(e.id),this.setZIndex(n||this.activeLayer,e)},t.prototype.updateLayer=function(e){for(var t=0,n=Object.keys(e.layers);t<n.length;t++){for(var i=n[t],r=0,o=this.layers[i].objects;r<o.length;r++){var a=o[r],s=this.nameTable[a];void 0!==e.layers[i].visible?this.updateElementVisibility(s.wrapper,s,e.layers[i].visible):!0===e.layers[i].lock&&this.unSelect(s)}void 0!==e.layers[i].lock&&(this.layers[i].lock=e.layers[i].lock)}"SVG"!==this.mode&&this.refreshDiagramLayer()},t.prototype.updateScrollSettings=function(e){var t=-this.scroller.horizontalOffset+e.scrollSettings.horizontalOffset||0,n=this.scroller.verticalOffset-e.scrollSettings.verticalOffset||0,i={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom};0===t&&0===n||this.pan(t,n);var r={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom},o="Start";this.realActions&zi.PanInProgress&&(o="Progress");var a={oldValue:i,newValue:r,source:this,panState:o};w()&&this.scrollChange&&(a={oldValue:i,newValue:r,sourceId:this.element.id,panState:o}),this.triggerEvent(Hi.scrollChange,a),this.commandHandler.updatePanState(!0),"Canvas"===this.mode&&this.constraints&Ii.Virtualization&&this.refreshDiagramLayer()},t.prototype.initData=function(){var e=this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource;if(this.dataBindingModule&&!(this.realActions&zi.PreventDataInit))if(e&&this.dataSourceSettings.connectionDataSource.dataManager){var t=this.dataSourceSettings.dataManager||this.dataSourceSettings.dataSource;this.nodes=this.generateData(t,!0),this.connectors=this.generateData(this.dataSourceSettings.connectionDataSource.dataManager,!1)}else e&&e.dataSource&&(e.dataSource.url||"BlazorAdaptor"===e.adaptorName&&!e.dataSource.url)?this.dataBindingModule.initSource(this.dataSourceSettings,this):this.dataBindingModule.initData(this.dataSourceSettings,this)},t.prototype.generateData=function(e,t){var n,i=[];for(n=0;n<e.length;n++){var r=e[n],o=t?this.makeData(r,!0):this.makeData(r,!1);!o||!o.id||Fl(i,o.id)&&Fl(i,o.id)||i.push(o)}return i},t.prototype.makeData=function(e,t){var n,i=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource,r={};if(r.id=e[i.id]?e[i.id]:mh(),i.sourceID&&(r.sourceID=e[i.sourceID]),i.targetID&&(r.targetID=e[i.targetID]),e[i.sourcePointX]&&e[i.sourcePointY]&&(r.sourcePoint={x:Number(e[i.sourcePointX]),y:Number(e[i.sourcePointY])}),e[i.targetPointX]&&e[i.targetPointY]&&(r.targetPoint={x:Number(e[i.targetPointX]),y:Number(e[i.targetPointY])}),i.crudAction.customFields&&i.crudAction.customFields.length>0)for(n=0;n<i.crudAction.customFields.length;n++)r[i.crudAction.customFields[n]]=e[i.crudAction.customFields[n]];return r},t.prototype.initNodes=function(e,t){this.preventDiagramUpdate=!0,this.initObject(e,t),this.preventDiagramUpdate=!1},t.prototype.initConnectors=function(e,t,n){this.preventDiagramUpdate=!0,this.initObject(e,t,n),this.updateEdges(e),this.preventDiagramUpdate=!1},t.prototype.setZIndex=function(e,t){var n=e;if(-1===t.zIndex){for(;n.zIndexTable[n.objectZIndex+1];)e.objectZIndex++;t.zIndex=++n.objectZIndex}else{var i=t.zIndex;if(n.zIndexTable[i])for(var r=Object.keys(n.zIndexTable).length,o=0;o<r;o++){if(o===i){for(var a=r;a>i;a--)n.zIndexTable[a]=n.zIndexTable[a-1],this.nameTable[n.zIndexTable[a]]&&(this.nameTable[n.zIndexTable[a]].zIndex=a);n.zIndexTable[o]=t.id}0}}},t.prototype.initializeDiagramLayers=function(){this.layers;for(var e=0;e<this.layers.length;e++)if(-1!==this.layers[e].zIndex){var t=this.layers[e];this.layers[e]=this.layers[this.layers[e].zIndex],this.layers[t.zIndex]=t}for(var n=0,i=this.layers;n<i.length;n++){var r=i[n];r.zIndex=-1!==r.zIndex?r.zIndex:this.layers.indexOf(r),this.layerZIndexTable[r.zIndex]=r.id}for(e=0;e<this.layers.length;e++)for(var o=e+1;o<this.layers.length;o++)if(this.layers[e].zIndex>this.layers[o].zIndex){t=this.layers[e];this.layers[e]=this.layers[o],this.layers[o]=t}if(0===this.layers.length){this.commandHandler.addLayer({id:"default_layer",visible:!0,lock:!1,objects:[],zIndex:0,objectZIndex:-1,zIndexTable:{}},null,!0)}this.setActiveLayer(this.layers[this.layers.length-1].id)},t.prototype.resetTool=function(){this.eventHandler.resetTool()},t.prototype.initObjectExtend=function(e,t,n){if(n){var i=this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds);if(t.zIndexTable[e.zIndex]=e.id,!i){for(var r=e instanceof Dd?this.nodes:this.connectors,o=0;o<=r.length;o++)r[o]&&e.id===r[o].id&&r.splice(o,1);delete t.zIndexTable[e.zIndex]}}},t.prototype.initObject=function(e,t,n,i){if(void 0===n&&(n=!0),void 0!==e){if(n&&(t||(this.addToLayer(e,!1),t=this.activeLayer),(e instanceof Dd||e instanceof $a)&&this.setZIndex(t,e)),e instanceof Dd){if(n){if("helper"!==e.id)if(o=Dh(this.getNodeDefaults)){if((a=o(e,this))&&a.ports)for(var r=0;r<a.ports.length;r++)a.ports[r].inEdges=[],a.ports[r].outEdges=[];a&&a!==e&&Ch(a,e)}this.initNode(e,this.element.id)}}else if(e instanceof $a){var o,a;if(o=Dh(this.getConnectorDefaults))(a=o(e,this))&&a!==e&&Ch(a,e),e.segments.length&&e.type!==e.segments[0].type&&(e.segments=[]);var s=this.nameTable[e.sourceID],l=this.nameTable[e.targetID],c=this.getConnectedPort(s,e,!0),d=this.getConnectedPort(l,e),h=this.findInOutConnectPorts(s,!1),p=this.findInOutConnectPorts(l,!0);if((void 0!==s&&ms(s)||""!==e.sourcePortID&&vs(h))&&(e.sourceWrapper=this.getEndNodeWrapper(s,e,!0),e.sourcePortID&&c&&c.constraints&&!(c.constraints&_i.None)&&c.constraints&_i.OutConnect&&(e.sourcePortWrapper=this.getWrapper(s.wrapper,e.sourcePortID))),(void 0!==l&&fs(l)||""!==e.targetPortID&&gs(p))&&(e.targetWrapper=this.getEndNodeWrapper(l,e,!1),e.targetPortID&&d&&d.constraints&&!(d.constraints&_i.None)&&d.constraints&_i.InConnect&&(e.targetPortWrapper=this.getWrapper(l.wrapper,e.targetPortID))),!n){var u=e.getConnectorPoints(e.type);bc(e,u)}n&&e.init(this);for(var f=0;f<e.wrapper.children.length;f++)this.pathTable[e.wrapper.children[f].data]&&(e.wrapper.children[f].absoluteBounds=this.pathTable[e.wrapper.children[f].data].absoluteBounds);e.wrapper.measure(new Kn(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize),e instanceof $a&&"Bezier"===e.type&&this.updateConnectorAnnotation(e);for(var g=0;g<e.wrapper.children.length;g++)this.pathTable[e.wrapper.children[g].data]={},this.pathTable[e.wrapper.children[g].data].absoluteBounds=e.wrapper.children[g].absoluteBounds}if(e instanceof Dd&&e.children&&e.container)for(r=0;r<e.children.length;r++)this.nameTable[e.children[r]].offsetX=this.nameTable[e.children[r]].wrapper.offsetX,this.nameTable[e.children[r]].offsetY=this.nameTable[e.children[r]].wrapper.offsetY;if(this.bpmnModule&&e instanceof Dd&&"Bpmn"===e.shape.type&&e.shape.annotations.length>0&&this.bpmnModule.updateQuad(e,this),this.initObjectExtend(e,t,n),this.nameTable[e.id]=e,e instanceof Dd&&e.children){this.preventNodesUpdate=!0,this.preventConnectorsUpdate=!0,i||e.container||this.updateGroupOffset(e,!0),this.groupTable[e.id]=e.children;for(r=0;r<e.children.length;r++){var m=this.nameTable[e.children[r]];m&&(m.parentId=e.id)}this.isLoading||!e.rotateAngle||e.container||this.commandHandler.rotateObjects(e,[e],e.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),this.preventNodesUpdate=!1,this.preventConnectorsUpdate=!1}void 0===this.enterObject&&this.updateQuad(e)}!1===e.visible&&this.updateElementVisibility(e.wrapper,e,!1)},t.prototype.getConnectedPort=function(e,t,n){if(e&&e.ports)for(var i=0,r=e.ports;i<r.length;i++){var o=r[i];if(o.id===t.sourcePortID&&n)return o;if(o.id===t.targetPortID&&!n)return o}return null},t.prototype.scaleObject=function(e,t,n){var i=n?e.wrapper.actualSize.width:e.wrapper.actualSize.height,r=n?1+(t-i)/i:1,o=n?1:1+(t-i)/i;e.offsetX,e.offsetY;this.realActions|=zi.PreventDrag,this.scale(e,r,o,{x:.5,y:.5}),this.realActions&=~zi.PreventDrag},t.prototype.updateDefaultLayoutIcons=function(e){"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type&&"ComplexHierarchicalTree"!==this.layout.type||(this.updateDefaultLayoutIcon(e,e.expandIcon),this.updateDefaultLayoutIcon(e,e.collapseIcon))},t.prototype.updateDefaultLayoutIcon=function(e,t){if("None"!==t.shape&&"Auto"===t.horizontalAlignment&&"Auto"===t.verticalAlignment&&.5===t.offset.x&&1===t.offset.y){var n=this.getWrapper(e.wrapper,"icon_content"),i=void 0,r=void 0;"TopToBottom"===this.layout.orientation||"BottomToTop"===this.layout.orientation?(i=.5,r="TopToBottom"===this.layout.orientation?1:0):"RightToLeft"!==this.layout.orientation&&"LeftToRight"!==this.layout.orientation||(i="LeftToRight"===this.layout.orientation?1:0,r=.5),n.setOffsetWithRespectToBounds(i,r,"Fraction"),n.horizontalAlignment="Center",n.verticalAlignment="Center",e.wrapper.measure(new Kn(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)}},t.prototype.updateGroupOffset=function(e,t){if(e.children&&e.children.length>0&&!e.container||e.processId){var n=this.nameTable[e.id];if(!(this.realActions&zi.PreventScale)&&!(this.realActions&zi.PreventDrag)){if(!n.offsetX||!(this.realActions&zi.EnableGroupAction)&&(this.diagramActions&Ri.ToolAction||this.diagramActions&Ri.PublicMethod))n.offsetX=e.wrapper.offsetX;else{this.realActions|=zi.PreventScale;var i=n.offsetX-e.wrapper.offsetX;n.offsetX=e.wrapper.offsetX;var r=n.offsetY-e.wrapper.offsetY;n.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(n,i,r),this.realActions&=~zi.PreventScale}if(!n.offsetY||!(this.realActions&zi.EnableGroupAction)&&this.diagramActions&Ri.ToolAction)n.offsetY=e.wrapper.offsetY;else{this.realActions|=zi.PreventScale;r=n.offsetY-e.wrapper.offsetY;n.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(n,0,r),this.realActions&=~zi.PreventScale}this.diagramActions&&(n.width=e.wrapper.actualSize.width,n.height=e.wrapper.actualSize.height)}}t&&e.children&&e.children.length>0&&(void 0!==this.nameTable[e.id].width?this.scaleObject(e,this.nameTable[e.id].width,!0):this.nameTable[e.id].width=e.wrapper.actualSize.width,void 0!==this.nameTable[e.id].height?this.scaleObject(e,this.nameTable[e.id].height,!1):this.nameTable[e.id].height=e.wrapper.actualSize.height)},t.prototype.initNode=function(e,t,n){var i,r,o=e.initContainer(),a=new sr;if(this.diagramSettings.inversedAlignment||(o.inversedAlignment=!1),o.children||(o.children=[]),e.children){if(o.measureChildren=!1,e.container&&"Grid"===e.container.type)for(var s=0;s<e.children.length;s++){var l=new sr,c=this.nameTable[e.children[s]];l.children=[],l.children.push(c.wrapper),c&&o.addObject(c.wrapper,c.rowIndex,c.columnIndex,c.rowSpan,c.columnSpan)}else for(s=0;s<e.children.length;s++)if(this.nameTable[e.children[s]]){c=this.nameTable[e.children[s]];this.updateStackProperty(e,c,s),o.children.push(c.wrapper),o.elementActions=o.elementActions|Ti.ElementIsGroup,c.wrapper.flip="None"===c.wrapper.flip?e.wrapper.flip:c.wrapper.flip}a.id=e.id+"group_container",a.style.fill="none",a.style.strokeColor="none",a.horizontalAlignment="Stretch",a.verticalAlignment="Stretch",o.style=e.style,a.children=[],a.preventContainer=!0,e.container&&(a.relativeMode="Object"),e.container&&"Grid"===e.container.type||o.children.push(a)}else{var d=Dh(this.setNodeTemplate);d&&"helper"!==e.id&&(i=d(e,this)),i||(i=e.init(this)),o.children.push(i)}r=Dh(this.getDescription),(e.children?o:i).description=r||(e.annotations.length?e.annotations[0].content:e.id);var h=e.children?a:o;e.initAnnotations(this.getDescription,h,this.element.id,!!ws(this),this.annotationTemplate),e.initPorts(this.getDescription,h),e.initIcons(this.getDescription,this.layout,h,t),"SwimLane"===e.shape.type&&e.wrapper&&e.wrapper.children.length>0&&e.wrapper.children[0]instanceof Xs?(fl(e),ml(this,e),this.updateDiagramElementQuad()):(o.measure(new Kn(e.width,e.height),e.id,this.onLoadImageSize.bind(this)),o instanceof Xs?o.arrange(o.desiredSize,!0):o.arrange(o.desiredSize)),"None"!==e.wrapper.flip&&e.wrapper.elementActions&Ti.ElementIsGroup&&zc(e.wrapper,e.wrapper.offsetX,e.wrapper.offsetY,this,e.wrapper.flip),e instanceof Dd&&e.container&&(e.width<o.outerBounds.width||e.height<o.outerBounds.height)&&o.bounds.x<=o.outerBounds.x&&o.bounds.y<=o.outerBounds.y&&(e.width=o.width=o.outerBounds.width,e.height=o.height=o.outerBounds.height,o.measure(new Kn(e.width,e.height)),o.arrange(o.desiredSize)),e.container&&"Grid"===e.container.type&&e.children&&e.children.length>0&&this.updateChildPosition(e)},t.prototype.updateDiagramElementQuad=function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].wrapper&&this.nodes[e].wrapper instanceof ir&&this.updateQuad(this.nodes[e])},t.prototype.onLoadImageSize=function(e,t){var n=this.getObject(e),i=document.getElementById(e+"sf-imageNode");i&&i.parentNode.removeChild(i),this.nodePropertyChange(n,{},{width:t.width,height:t.height});var r={element:xh(n),size:t};this.triggerEvent(Hi.onImageLoad,r)},t.prototype.updateChildPosition=function(e){for(var t=0;t<e.children.length;t++){var n=this.getObject(e.children[t]);n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY,n.children&&n.children.length>0&&this.updateChildPosition(n)}},t.prototype.canExecute=function(){return!0},t.prototype.updateStackProperty=function(e,t,n){e.container&&"Stack"===e.container.type&&(t.width||(t.wrapper.horizontalAlignment="Stretch",t.horizontalAlignment="Stretch"),t.height||(t.verticalAlignment="Stretch",t.wrapper.verticalAlignment="Stretch"),n&&"UmlClassifier"===e.shape.type&&(t.umlIndex=n))},t.prototype.initViews=function(){this.isLoading||(this.views.push(this.element.id),this.views[this.element.id]=this)},t.prototype.initCommands=function(){var e=this.commandManager.commands,t={copy:{execute:this.copyCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.C,keyModifiers:Di.Control}},paste:{execute:this.pasteCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.V,keyModifiers:Di.Control}},cut:{execute:this.cutCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.X,keyModifiers:Di.Control}},delete:{execute:this.removeCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.Delete}},selectAll:{execute:this.selectAll.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.A,keyModifiers:Di.Control}},undo:{execute:this.undo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.Z,keyModifiers:Di.Control}},redo:{execute:this.redo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.Y,keyModifiers:Di.Control}},nudgeUp:{execute:this.nudgeCommand.bind(this,"Up"),canExecute:this.canExecute.bind(this),gesture:{key:Li.Up},parameter:"up"},nudgeRight:{execute:this.nudgeCommand.bind(this,"Right"),canExecute:this.canExecute.bind(this),gesture:{key:Li.Right},parameter:"right"},nudgeDown:{execute:this.nudgeCommand.bind(this,"Down"),canExecute:this.canExecute.bind(this),gesture:{key:Li.Down},parameter:"down"},nudgeLeft:{execute:this.nudgeCommand.bind(this,"Left"),canExecute:this.canExecute.bind(this),gesture:{key:Li.Left},parameter:"left"},startEdit:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.F2}},endEdit:{execute:this.endEditCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.Escape}},focusToNextItem:{canExecute:this.canExecute.bind(this),gesture:{key:Li.Tab}},focusToPreviousItem:{canExecute:this.canExecute.bind(this),gesture:{key:Li.Tab,keyModifiers:Di.Control}},selectFocusedItem:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:Li.Enter}}};this.initCommandManager(e,t)},t.prototype.overrideCommands=function(e,t){for(var n,i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];if(n=t[o],e.gesture.key===n.gesture.key&&e.gesture.keyModifiers===n.gesture.keyModifiers){delete t[o];break}}},t.prototype.initCommandManager=function(e,t){var n=0;if(e)for(n=0;n<e.length;n++)t[e[n].name]&&e[n]?(e[n].canExecute&&(t[e[n].name].canExecute=e[n].canExecute),e[n].execute&&(t[e[n].name].execute=e[n].execute),(e[n].gesture.key||e[n].gesture.keyModifiers)&&(t[e[n].name].gesture=e[n].gesture),""!==e[n].parameter&&(t[e[n].name].parameter=e[n].parameter)):(this.overrideCommands(e[n],t),t[e[n].name]={execute:e[n].execute,canExecute:e[n].canExecute,gesture:e[n].gesture,parameter:e[n].parameter});this.commands=t},t.prototype.updateNodeEdges=function(e){for(var t=0,n=e.inEdges;t<n.length;t++){var i=n[t];this.nameTable[i]&&(this.nameTable[i].targetID="")}for(var r=0,o=e.outEdges;r<o.length;r++){i=o[r];this.nameTable[i]&&(this.nameTable[i].sourceID="")}e.inEdges=[],e.outEdges=[]},t.prototype.updateIconVisibility=function(e,t){for(var n=0;n<e.wrapper.children.length;n++){var i=e.wrapper.children[n];if(i.id){var r=i.id.split(e.id)[1];r&&r.match("^_icon")&&(i.visible=t,this.updateDiagramContainerVisibility(i,t))}}},t.prototype.updateEdges=function(e){var t;void 0!==e.sourceID&&""!==e.sourceID&&((t=this.nameTable[e.sourceID])&&t.outEdges&&0===t.outEdges.length&&(t.outEdges=[]),t&&t.outEdges&&-1===t.outEdges.indexOf(e.id)&&t.outEdges.push(e.id),this.updatePortEdges(t,e,!1));if(void 0!==e.targetID&&""!==e.targetID&&((t=this.nameTable[e.targetID])&&t.inEdges&&0===t.inEdges.length&&(t.inEdges=[]),t&&t.inEdges&&-1===t.inEdges.indexOf(e.id)&&t.inEdges.push(e.id),this.updatePortEdges(t,e,!0),t&&t.visible&&t.outEdges)){var n=0!==t.outEdges.length;this.updateIconVisibility(t,n)}},t.prototype.updatePortEdges=function(e,t,n){if(e)for(var i=0;i<e.ports.length;i++){var r=e.ports[i],o=n?t.targetPortID:t.sourcePortID;if(r.id===o){var a=n?r.inEdges:r.outEdges;-1===a.indexOf(t.id)&&a.push(t.id)}}},t.prototype.refreshDiagram=function(){if(this.initLayerObjects(),this.doLayout(),this.updateBridging(),this.scroller.setSize(),this.addBlazorDiagramObjects(),w()&&this.layout&&this.layout.layoutInfo&&this.layout.layoutInfo.isRootInverse&&this.nodes.length>2){var e=this.nodes[0];if(e.outEdges.length>1){var t=this.isProtectedOnChange,n=this.nameTable[e.outEdges[1]];this.protectPropertyChange(!1),this.preventDiagramUpdate=!0,n.sourcePortID=e.ports[1].id,this.preventDiagramUpdate=!1,this.dataBind(),this.protectPropertyChange(t)}}if(w())for(var i=void 0,r=0,o=this.views;r<o.length;r++){var a=o[r];(i=this.views[a]).renderDocument&&(i.renderDocument(i),i.diagramRenderer.setLayers(),i.updateView(i),this.renderNodes(i))}this.updateFitToPage()},t.prototype.updateCanupdateStyle=function(e,t){for(var n=0;n<e.length;n++)e[n].children&&this.updateCanupdateStyle(e[n].children,t),e[n].canApplyStyle=t},t.prototype.getZindexPosition=function(e,t){var n,i=[],r=void 0;if(i=(i=i.concat(this.nodes)).concat(this.connectors),-1!==e.zIndex)for(var o=0;o<i.length;o++)if(i[o].zIndex>e.zIndex){"HTML"!==e.shape.type&&"Native"!==e.shape.type||(n="HTML"===e.shape.type?"html":"native"),r=Xd(t,i[o].id,n);break}return r},t.prototype.updateDiagramObject=function(e,t,n){for(var i,r=0,o=this.views;r<o.length;r++){var a=o[r];if(i=this.views[a],this.diagramActions&&"SVG"===i.mode){var s=void 0;if(this.layers.length>1&&(s=this.commandHandler.getObjectLayer(e.id)),void 0===s||s&&s.visible||n){var l=nh(this.element.id);window.domTable[i.element.id+"_diagramLayer"]||(window.domTable[i.element.id+"_diagramLayer"]=document.getElementById(i.element.id+"_diagramLayer"));var c=window.domTable[i.element.id+"_diagramLayer"];this.diagramActions&Ri.Interactions&&this.updateCanupdateStyle(e.wrapper.children,!0),this.diagramRenderer.updateNode(e.wrapper,c,l,void 0,t?void 0:this.getZindexPosition(e,i.element.id)),this.updateCanupdateStyle(e.wrapper.children,!0)}}}},t.prototype.updateGridContainer=function(e){for(var t,n=nh(this.element.id),i=0,r=this.views;i<r.length;i++){var o=r[i];if("SVG"===(t=this.views[o]).mode&&this.diagramActions){var a=document.getElementById(t.element.id+"_diagramLayer");this.diagramRenderer.updateNode(e,a,n,void 0)}else this.refreshCanvasDiagramLayer(t)}},t.prototype.getObjectsOfLayer=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];this.nameTable[r]&&t.push(this.nameTable[r])}return t},t.prototype.refreshDiagramLayer=function(){for(var e,t=0,n=this.views;t<n.length;t++){var i=n[t];switch((e=this.views[i]).mode){case"SVG":this.refreshSvgDiagramLayer(e);break;case"Canvas":this.refreshCanvasLayers(e)}}},t.prototype.refreshCanvasLayers=function(e){if(e)this.refreshCanvasDiagramLayer(e);else for(var t=0,n=this.views;t<n.length;t++){var i=n[t],r=this.views[i];this.refreshCanvasDiagramLayer(r)}},t.prototype.renderBasicElement=function(e){for(var t=nh(e.element.id),n=0;n<this.basicElements.length;n++){var i=this.basicElements[n];i instanceof ir&&(i.prevRotateAngle=0),i.measure(new Kn(i.width,i.height)),i.arrange(i.desiredSize),e.diagramRenderer.renderElement(i,e.diagramLayer,t)}},t.prototype.refreshElements=function(e){if(!this.isDestroyed){this.clearCanvas(e),e instanceof t&&(e.diagramLayer.getContext("2d").setTransform(e.scroller.currentZoom,0,0,e.scroller.currentZoom,0,0),e.diagramLayer.getContext("2d").scale(1.5,1.5));var n=nh(e.element.id);this.spatialSearch.getPageBounds();this.renderDiagramElements(e.diagramLayer,e.diagramRenderer,n);for(var i=0;i<this.basicElements.length;i++){var r=this.basicElements[i];r.measure(new Kn(r.width,r.height)),r.arrange(r.desiredSize),e.diagramRenderer.renderElement(r,e.diagramLayer,n)}e instanceof t&&(e.diagramLayer.style.transform="scale("+2/3+")",e.diagramLayer.style.transformOrigin="0 0"),this.renderTimer=null}},t.prototype.refreshCanvasDiagramLayer=function(e){var t=this;"SVG"===e.mode||this.isDestroyed||(this.basicElements.length>0&&this.renderBasicElement(e),!this.diagramActions||0===(this.diagramActions&Ri.Render)||Ri.ToolAction&this.diagramActions||ws(this)||1!==this.scroller.currentZoom?this.refreshElements(e):this.renderTimer||(this.renderTimer=setTimeout((function(){t.refreshElements(e)}),40)))},t.prototype.updatePortVisibility=function(e,t,n){var i,r=!this.drawingObject||!this.drawingObject.shape;if(e instanceof Dd&&r&&ls(e)){for(var o=e.ports,a=!1,s=0;s<o.length;s++)i=this.getWrapper(e.wrapper,o[s].id),(t&xi.Hover||t&xi.Connect)&&Cc(o[s],t)&&(i.visible=!n,a=!0);a&&this.updateDiagramObject(e)}},t.prototype.refreshSvgDiagramLayer=function(e){var t,n=document.getElementById(e.element.id+"_diagramLayer"),i=nh(e.element.id);if(ws(this))this.scroller.virtualizeElements();else{for(var r=0;r<this.basicElements.length;r++)(t=this.basicElements[r]).measure(new Kn(t.width,t.height)),t.arrange(t.desiredSize,!(this.diagramActions&Ri.Render)),this.diagramRenderer.renderElement(t,n,i);this.renderDiagramElements(n,this.diagramRenderer,i)}},t.prototype.removeVirtualObjects=function(e){if(this.deleteVirtualObject){for(var t=0;t<this.scroller.removeCollection.length;t++){var n=this.nameTable[this.scroller.removeCollection[t]];this.removeElements(n)}this.deleteVirtualObject=!1}clearInterval(e)},t.prototype.updateTextElementValue=function(e){for(var t=0;t<e.wrapper.children.length;t++){var n=e.wrapper.children[t];n instanceof or&&(n.canMeasure=!0,n.measure(new Kn(e.width,e.height)),n.arrange(n.desiredSize))}},t.prototype.updateVirtualObjects=function(e,t,n){var i=document.getElementById(this.element.id+"_diagramLayer"),r=nh(this.element.id);if("SVG"===this.mode){for(var o=0;o<e.length;o++){var a=this.scroller.removeCollection.indexOf(e[o]);a>=0&&this.scroller.removeCollection.splice(a,1);var s=this.nameTable[e[o]];this.updateTextElementValue(s),this.diagramRenderer.renderElement(s.wrapper,i,r,void 0,void 0,void 0,void 0,s.zIndex)}for(var l=0;l<n.length;l++)this.scroller.removeCollection.push(n[l]);1!==this.scroller.currentZoom&&this.eventHandler.updateVirtualization()}else this.diagramActions&&this.refreshDiagramLayer()},t.prototype.renderDiagramElements=function(e,t,n,i,r,o){void 0===i&&(i=!0);var a=this.scroller.getPageBounds();a.x*=this.scroller.currentZoom,a.y*=this.scroller.currentZoom,a.width*=this.scroller.currentZoom,a.height*=this.scroller.currentZoom;for(var s=-this.scroller.horizontalOffset-a.x,l=-this.scroller.verticalOffset-a.y,c=0,d=Object.keys(this.layerZIndexTable);c<d.length;c++){var h=d[c],p=this.commandHandler.getLayer(this.layerZIndexTable[h]),u=void 0,f=void 0;"Canvas"===this.mode&&ws(this)&&!this.diagramActions&&this.scroller.virtualizeElements();for(var g="Canvas"===this.mode&&ws(this)&&this.scroller.oldCollectionObjects.length>0?this.scroller.oldCollectionObjects:void 0,m=0,v=Object.keys(g||p.zIndexTable);m<v.length;m++){var y=v[m],b=g?this.nameTable[g[y]]:this.nameTable[p.zIndexTable[y]];if(b&&!b.parentId&&p.visible&&!b.processId){var w={tx:this.scroller.transform.tx,ty:this.scroller.transform.ty,scale:this.scroller.transform.scale};if(ws(this)){if(this.scroller.currentZoom<1){if(a.x<0||this.scroller.horizontalOffset<0){var x=this.scroller.verticalOffset<0?this.scroller.verticalOffset:0;u=(s>0?s:0)+"px",f=(this.realActions&zi.vScrollbarMoved?0:-x)+"px"}else u="0px",f="0px";this.realActions&zi.hScrollbarMoved&&(this.realActions=this.realActions&~zi.hScrollbarMoved),this.realActions&zi.vScrollbarMoved&&(this.realActions=this.realActions&~zi.vScrollbarMoved)}else u=(a.x<0?s:-this.scroller.horizontalOffset)+"px",f=(a.y<0?l:-this.scroller.verticalOffset)+"px";this.diagramLayer.style.left=u,this.diagramLayer.style.top=f,w.tx=this.scroller.horizontalOffset/w.scale,w.ty=this.scroller.verticalOffset/w.scale}var S=!0;r&&(S=!1),this.updateTextElementValue(b),t.renderElement(b.wrapper,e,n,!t.isSvgMode&&i?w:void 0,void 0,void 0,S&&(!this.diagramActions||o))}}}},t.prototype.updateBridging=function(e){if(this.bridgingModule)for(var t=0;t<this.connectors.length;t++){var n=this.connectors[t];this.bridgingModule.updateBridging(n,this);var i=this.connectors[t].wrapper;if(i){var r=i.children[0],o=r.data;n.getSegmentElement(n,r,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0),r.data!==o&&(i.measure(new Kn),i.arrange(i.desiredSize),"SVG"!==this.mode||e||this.updateDiagramObject(n))}}},t.prototype.setCursor=function(e){this.diagramRenderer.setCursor(this.diagramCanvas,e)},t.prototype.clearCanvas=function(e){var t,n;(t=e.contentWidth||e.diagramLayer.width/this.scroller.currentZoom,n=e.contentHeight||e.diagramLayer.height/this.scroller.currentZoom,"SVG"!==e.mode)&&Lh.getContext(e.diagramLayer).clearRect(0,0,t,n)},t.prototype.updateScrollOffset=function(){this.scroller.setScrollOffset(this.diagramCanvas.scrollLeft,this.diagramCanvas.scrollTop),ns(this),ws(this)&&this.scroller.virtualizeElements()},t.prototype.setOffset=function(e,t){window.domTable[this.element.id+"content"]||(window.domTable[this.element.id+"content"]=document.getElementById(this.element.id+"content"));var n=window.domTable[this.element.id+"content"];n&&(n.scrollLeft=e,n.scrollTop=t)},t.prototype.setSize=function(e,t){if(this.diagramLayer&&!this.preventDiagramUpdate){var n=rs(this);e-=n.width,t-=n.height;var i=this.spatialSearch.getPageBounds();i.x*=this.scroller.currentZoom,i.y*=this.scroller.currentZoom,i.width*=this.scroller.currentZoom,i.height*=this.scroller.currentZoom;var r="SVG"===this.mode?1:1.5,o="SVG"===this.mode?Ud(this.element.id):this.diagramLayer,a="Canvas"===this.mode&&this.constraints&Ii.Virtualization?this.scroller.viewPortWidth:e,s="Canvas"===this.mode&&this.constraints&Ii.Virtualization?this.scroller.viewPortHeight:t;o.setAttribute("width",(r*a).toString()),o.setAttribute("height",(r*s).toString());var l=document.getElementById(this.element.id+"_diagramUserHandleLayer");l&&(l.style.width=e+"px",l.style.height=t+"px");var c={width:e.toString(),height:t.toString()};this.diagramLayerDiv.style.width=e+"px",this.diagramLayerDiv.style.height=t+"px",dh($d(this.element.id),c),dh(Yd(this.element.id).getElementsByClassName("e-ports-expand-layer")[0],c);var d=Gd(this.element.id);dh(d,c),d.parentNode.style.width=e+"px",d.parentNode.style.height=t+"px";var h=Qd(this.element.id);dh(h,c),this.diagramRenderer.updateGrid(this.snapSettings,h,this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),dh(Jd(this.element.id),c),this.htmlLayer.style.width=e+"px",this.htmlLayer.style.height=t+"px","SVG"===this.mode||ws(this)||this.refreshDiagramLayer(),"SVG"===this.mode&&ws(this)&&this.scroller.virtualizeElements()}},t.prototype.transformLayers=function(){var e=this.spatialSearch.getPageBounds();e.x*=this.scroller.currentZoom,e.y*=this.scroller.currentZoom,e.width*=this.scroller.currentZoom,e.height*=this.scroller.currentZoom,this.diagramRenderer.updateGrid(this.snapSettings,Qd(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.diagramRenderer.transformLayers(this.scroller.transform,"SVG"===this.mode),this.diagramActions&Ri.DragUsingMouse||this.updateSelector(),this.renderPageBreaks(e)},t.prototype.removePageBreaks=function(){if(this.diagramLayer){var e=eh(this.element.id);if(e&&e.childNodes)for(var t=e.childNodes.length,n=0;n<t;n++)e.removeChild(e.childNodes[0])}},t.prototype.renderPageBreaks=function(e){this.removePageBreaks();var t=eh(this.element.id);if(t){var n=0;e=this.scroller.getPageBounds(!0);var i=(this.scroller.transform.tx+e.x)*this.scroller.currentZoom,r=(this.scroller.transform.ty+e.y)*this.scroller.currentZoom,o=e.height*this.scroller.currentZoom,a=e.width*this.scroller.currentZoom;Nh.renderSvgBackGroundImage(this.pageSettings.background,this.element,i,r,a,o);var s={id:t.id+"rect",x:i,y:r,height:o,width:a,angle:0,stroke:"",strokeWidth:1,fill:this.pageSettings.background.color,opacity:1,pivotX:0,pivotY:0,visible:!0,dashArray:"0"};if(this.diagramRenderer.drawRect(t,s),this.pageSettings.showPageBreaks){var l=this.scroller.getPageBreak(e);for(n=0;n<l.length;n++)this.diagramRenderer.drawLine(t,{class:"e-diagram-page-break",fill:"none",stroke:"#aaaaaa",strokeWidth:1,dashArray:"10 10",opacity:2,x:0,y:0,width:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,startPoint:{x:(l[n].x1+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[n].y1+this.scroller.transform.ty)*this.scroller.currentZoom},endPoint:{x:(l[n].x2+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[n].y2+this.scroller.transform.ty)*this.scroller.currentZoom},id:l[n].y1===l[n].y2?"HorizontalLines":"VerticalLines"})}}},t.prototype.validatePageSize=function(){var e=0;"Portrait"===this.pageSettings.orientation?this.pageSettings.width>this.pageSettings.height&&(e=this.pageSettings.height,this.pageSettings.height=this.pageSettings.width,this.pageSettings.width=e):this.pageSettings.height>this.pageSettings.width&&(e=this.pageSettings.width,this.pageSettings.width=this.pageSettings.height,this.pageSettings.height=e)},t.prototype.setOverview=function(e,t){if(e)e&&(this.views.push(e.id),this.views[e.id]=e,e.renderDocument(e),e.diagramRenderer.setLayers(),e.updateView(e),this.renderNodes(e));else{for(var n=0;n<this.views.length;n++)this.views[n]===t&&(e=this.views[t]);this.views[t]=void 0;var i=this.views.indexOf(t);this.views.splice(i,1)}},t.prototype.renderNodes=function(e){if(e){var t=new Nh(e.id,new Rh,!1),n=document.getElementById(e.element.id+"_diagramLayer"),i=nh(e.element.id);this.renderDiagramElements(n,e.diagramRenderer||t,i,void 0,void 0,!0)}},t.prototype.updateThumbConstraints=function(e,t,n){for(var i=e.length,r=0;r<i;r++){var o=e[r],a=!1,s=!1,l=t.thumbsConstraints;o instanceof Dd?(a="Bpmn"===o.shape.type&&"Activity"===o.shape.shape&&!1===o.shape.activity.subProcess.collapsed||"TextAnnotation"===o.shape.shape,s="Bpmn"===o.shape.type&&"TextAnnotation"===o.shape.shape,ps(o)&&l&ki.Rotate&&!a||(l&=~ki.Rotate),ys(o,"SouthEast")&&l&ki.ResizeSouthEast&&!s||(l&=~ki.ResizeSouthEast),ys(o,"NorthWest")&&l&ki.ResizeNorthWest&&!s||(l&=~ki.ResizeNorthWest),ys(o,"East")&&l&ki.ResizeEast&&!s||(l&=~ki.ResizeEast),ys(o,"West")&&l&ki.ResizeWest&&!s||(l&=~ki.ResizeWest),ys(o,"North")&&l&ki.ResizeNorth&&!s||(l&=~ki.ResizeNorth),ys(o,"South")&&l&ki.ResizeSouth&&!s||(l&=~ki.ResizeSouth),ys(o,"NorthEast")&&l&ki.ResizeNorthEast&&!s||(l&=~ki.ResizeNorthEast),ys(o,"SouthWest")&&l&ki.ResizeSouthWest&&!s||(l&=~ki.ResizeSouthWest)):o instanceof $a?(n||(l|=ki.Default),cs(o)?l|=ki.ConnectorSource:l&=~ki.ConnectorSource,ds(o)?l|=ki.ConnectorTarget:l&=~ki.ConnectorTarget):(n||(l|=ki.Default),ys(o)||(l&=~(ki.ResizeSouthEast|ki.ResizeSouthWest|ki.ResizeSouth|ki.ResizeEast|ki.ResizeWest|ki.ResizeNorth|ki.ResizeNorthEast|ki.ResizeNorthWest)),ps(o)||(l&=~ki.Rotate)),t.thumbsConstraints=l}},t.prototype.renderSelector=function(e,t){var n=this.isProtectedOnChange;w()&&(this.isProtectedOnChange=!0);var i=new Kn,r=this.selectedItems,o=(r.constraints,this.diagramRenderer.rendererActions);if(this.diagramRenderer.rendererActions=this.currentSymbol?this.addConstraints(o,Ni.DrawSelectorBorder):this.removeConstraints(o,Ni.DrawSelectorBorder),this.clearSelectorLayer(),this.commandHandler.hasSelection()){if(1===r.nodes.length&&0===r.connectors.length&&(r.rotateAngle=r.nodes[0].rotateAngle,r.pivot=r.nodes[0].pivot),r.wrapper.measure(i),r.wrapper.arrange(r.wrapper.desiredSize),r.width=r.wrapper.actualSize.width,r.height=r.wrapper.actualSize.height,r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY,0!==r.rotateAngle){for(var a=0,s=r.nodes;a<s.length;a++){var l=s[a];l.offsetX=l.wrapper.offsetX,l.offsetY=l.wrapper.offsetY}for(var c=0,d=r.connectors;c<d.length;c++)d[c]}var h;this.spatialSearch.getPageBounds();h=qd(this.element.id);var p;if(p=Kd(this.element.id),r.thumbsConstraints=ki.Default,r.annotation?this.updateThumbConstraints([r.annotation],r):(this.updateThumbConstraints(r.nodes,r),this.updateThumbConstraints(r.connectors,r,!0)),r.annotation)this.renderSelectorForAnnotation(r,h);else if(r.nodes.length+r.connectors.length===1){if(r.nodes[0]instanceof Dd){var u=r.nodes[0];el(this,u)&&(t||"UmlClassifier"===u.shape.type||u.parentId&&this.nameTable[u.parentId]&&"UmlClassifier"===this.nameTable[u.parentId].shape.type||((!u.container||"Canvas"!==u.container.type&&"Grid"!==u.container.type)&&(r.nodes[0].constraints&=~(Ei.Rotate|Ei.HideThumbs)),r.thumbsConstraints&=~ki.Rotate));var f=!!t||!!(u.constraints&Ei.HideThumbs),g=!!("SwimLane"===u.shape.type||u.isLane||u.isPhase||t);this.diagramRenderer.renderResizeHandle(r.wrapper.children[0],h,r.thumbsConstraints,this.scroller.currentZoom,r.constraints,this.scroller.transform,void 0,ls(u),f,g)}else if(r.connectors[0]instanceof $a&&js(this.diagramRenderer.rendererActions)){var m=r.connectors[0];this.diagramRenderer.renderEndPointHandle(m,h,r.thumbsConstraints,r.constraints,this.scroller.transform,void 0!==m.sourceWrapper,void 0!==m.targetWrapper,!(!this.connectorEditingToolModule||!hs(m)))}}else this.diagramRenderer.renderResizeHandle(r.wrapper,h,r.thumbsConstraints,this.scroller.currentZoom,r.constraints,this.scroller.transform,void 0,ls(r));r.annotation||this.currentSymbol||this.diagramRenderer.renderUserHandler(r,h,this.scroller.transform,p)}this.isProtectedOnChange=n},t.prototype.updateSelector=function(){var e=new Kn,t=this.selectedItems,n=t.constraints;if(this.diagramActions&Ri.ToolAction||1!==this.selectedItems.nodes.length||(this.selectedItems.rotateAngle=this.selectedItems.nodes[0].rotateAngle,this.selectedItems.wrapper.rotateAngle=this.selectedItems.nodes[0].rotateAngle),void 0!==this.selectedItems&&(this.clearSelectorLayer(),null!==t.wrapper&&t.wrapper.children&&t.wrapper.children.length)){if(t.wrapper.measure(e),t.wrapper.arrange(t.wrapper.desiredSize),0!==t.rotateAngle||t.rotateAngle!==t.wrapper.prevRotateAngle)for(var i=0,r=t.nodes;i<r.length;i++){var o=r[i];o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY}t.width=t.wrapper.actualSize.width,t.height=t.wrapper.actualSize.height,t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY;var a;a=qd(this.element.id);var s;s=Kd(this.element.id);var l=this.eventHandler.canHideResizers();if(t.thumbsConstraints=ki.Default,t.annotation?this.updateThumbConstraints([t.annotation],t):(this.updateThumbConstraints(t.nodes,t),this.updateThumbConstraints(t.connectors,t,!0)),this.selectedItems.constraints&Ci.UserHandle&&!t.annotation&&!this.currentSymbol&&this.diagramRenderer.renderUserHandler(t,a,this.scroller.transform,s),t.annotation)this.renderSelectorForAnnotation(t,a);else if(t.nodes.length+t.connectors.length===1){if(t.connectors[0]instanceof $a&&js(this.diagramRenderer.rendererActions)){var c=t.connectors[0];this.diagramRenderer.renderEndPointHandle(c,a,t.thumbsConstraints,n,this.scroller.transform,void 0!==c.sourceWrapper,void 0!==c.targetWrapper,!(!this.connectorEditingToolModule||!hs(c)))}else if(t.nodes[0]instanceof Dd){var d=t.nodes[0];el(this,t.nodes[0])&&("UmlClassifier"===d.shape.type||d.parentId&&this.nameTable[d.parentId]&&"UmlClassifier"===this.nameTable[d.parentId].shape.type||((!d.container||"Canvas"!==d.container.type&&"Grid"!==d.container.type)&&(t.nodes[0].constraints&=~(Ei.HideThumbs|Ei.Rotate)),t.thumbsConstraints&=~ki.Rotate));var h=!("SwimLane"!==d.shape.type&&!d.isLane&&!d.isPhase);this.diagramRenderer.renderResizeHandle(t.wrapper.children[0],a,t.thumbsConstraints,this.scroller.currentZoom,t.constraints,this.scroller.transform,l,ls(t.nodes[0]),!!(t.nodes[0].constraints&Ei.HideThumbs),h)}}else this.diagramActions&Ri.Interactions&&(this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions|Ni.PreventRenderSelector),this.diagramRenderer.renderResizeHandle(t.wrapper,a,t.thumbsConstraints,this.scroller.currentZoom,t.constraints,this.scroller.transform,l,ls(t)),this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions&~Ni.PreventRenderSelector}},t.prototype.renderSelectorForAnnotation=function(e,t){this.diagramRenderer.renderResizeHandle(e.wrapper.children[0],t,e.thumbsConstraints,this.scroller.currentZoom,e.constraints,this.scroller.transform,void 0,ls(e.annotation))},t.prototype.drawSelectionRectangle=function(e,t,n,i){this.clearSelectorLayer(),this.diagramRenderer.drawSelectionRectangle(e,t,n,i,this.adornerLayer,this.scroller.transform)},t.prototype.renderHighlighter=function(e){var t=Gd(this.element.id);this.diagramRenderer.renderHighlighter(e,t,this.scroller.transform)},t.prototype.clearHighlighter=function(){var e=Gd(this.element.id),t=e.getElementById(e.id+"_highlighter");t&&t.parentNode.removeChild(t)},t.prototype.getNodesConnectors=function(e){for(var t=0;t<this.nodes.length;t++){var n=this.nodes[t];e.push(n)}for(t=0;t<this.connectors.length;t++){var i=this.connectors[t];e.push(i)}return e},t.prototype.clearSelectorLayer=function(){var e=Gd(this.element.id);if(this.currentSymbol){var t=e.getElementById("borderRect_symbol");t&&t.parentNode.removeChild(t)}else{var n=e.getElementById(this.adornerLayer.id+"_selected_region");n&&n.parentNode.removeChild(n),this.clearHighlighter();for(var i=qd(this.element.id).childNodes,r=void 0,o=i.length;o>0;o--)(r=i[o-1]).parentNode.removeChild(r);var a=Kd(this.element.id).childNodes,s=void 0;for(s=a.length;s>0;s--)a[s-1].parentNode.removeChild(a[s-1])}},t.prototype.getWrapper=function(e,t){var n;t=e.id+"_"+t;for(var i=e instanceof sr?e:this.getPortContainer(this.nameTable[e.id]),r=0;r<i.children.length;r++)t===i.children[r].id&&(n=i.children[r]);return n},t.prototype.getEndNodeWrapper=function(e,t,n){if("Bpmn"===e.shape.type&&e.wrapper.children[0]instanceof sr){if(!w()&&"Activity"===e.shape.shape||w()&&"Activity"===e.shadow.bpmnShape){if(n&&"Transaction"===e.shape.activity.subProcess.type&&t.sourcePortID){var i=t.sourcePortID,r=e.wrapper.children[0].children[0].children[2];if(r.children)for(var o=0,a=r.children;o<a.length;o++){var s=a[o];if(s.visible&&s.id===e.id+"_"+i)return s.children[0]}}return e.wrapper.children[0].children[0].children[0]}return e.wrapper.children[0].children[0]}return this.containsMargin(e.wrapper.children[0])||e.children?e.wrapper:e.wrapper.children[0]},t.prototype.containsMargin=function(e){return e.margin&&(0!==e.margin.left||0!==e.margin.top||0!==e.margin.right||0!==e.margin.bottom)},t.prototype.focusOutEdit=function(){this.endEdit()},t.prototype.endEditCommand=function(){this.endEdit(),this.textEditing=!1},t.prototype.endEdit=function(){return su(this,void 0,void 0,(function(){var e,t,n,i,r,o,a,s,l,c,d,h,p,u,f,g,m,v,y,b,x,S,C;return lu(this,(function(O){switch(O.label){case 0:return this.diagramActions&Ri.TextEdit?(e=void 0,t=void 0,n={},this.enableServerDataBinding(!1),w()&&(this.canEnableBlazorObject=!0),i=document.getElementById(this.element.id+"_editBox"),w()&&i||!w()?(r=i.value,ce.remove(i,"input",this.eventHandler.inputChange),ce.remove(i,"focusout",this.focusOutEdit),o=document.getElementById(this.element.id+"_editTextBoxDiv"),a=void 0,a=this.nameTable[this.activeLabel.parentId],s=Oc(a,this.activeLabel.id),l={oldValue:this.activeLabel.text,newValue:r,cancel:!1,element:a,annotation:s},w()&&this.textEdit&&(l=this.getBlazorTextEditArgs(l)),c=!1,o.parentNode.removeChild(o),d=void 0,this.bpmnModule?(a=this.bpmnModule.isBpmnTextAnnotation(this.activeLabel,this),d=this.bpmnModule.getTextAnnotationWrapper(a,this.activeLabel.id),(c=!!a)?o.textContent===r&&r===this.activeLabel.text?[3,4]:w()?[4,this.triggerEvent(Hi.textEdit,l)]:[3,2]:[3,4]):[3,4]):[3,9]):[3,9];case 1:return l=O.sent()||l,[3,3];case 2:this.triggerEvent(Hi.textEdit,l),O.label=3;case 3:l.cancel||this.bpmnModule.updateTextAnnotationContent(a,this.activeLabel,r,this),O.label=4;case 4:return c?[3,8]:(a=this.nameTable[this.activeLabel.parentId],!(h=Oc(a,this.activeLabel.id))||h instanceof dd?e=w()&&"Text"===a.shape.type?{shape:{textContent:a.shape.content}}:{shape:{content:a.shape.content}}:(u=Tc(a,h.id,!0),n[u]={content:h.content},e={annotations:n}),(p=this.eventHandler.isAddTextNode(a,!0))||o.textContent===r&&r===this.activeLabel.text?[3,7]:w()?[4,this.triggerEvent(Hi.textEdit,l)]:[3,6]);case 5:return l=O.sent()||l,[3,7];case 6:this.triggerEvent(Hi.textEdit,l),O.label=7;case 7:d||(d=this.getWrapper(a.wrapper,this.activeLabel.id)),h.content===r||l.cancel||(a.parentId&&"UmlClassifier"===this.nameTable[a.parentId].shape.type&&-1===r.indexOf("+")&&-1===r.indexOf("-")&&-1===r.indexOf("#")&&-1===r.indexOf("~")&&-1===a.id.indexOf("_umlClass_header")&&(r=" + "+r),(a.isLane||a.isPhase)&&this.protectPropertyChange(!0),h instanceof dd?t=w()&&"Text"===a.shape.type?{shape:{textContent:r}}:{shape:{content:r}}:(u=Tc(a,h.id,!0),(f={})[u]={content:r},t={annotations:f}),(g=this.getIndex(a,a.id))&&((m={})[g]=e,(v={})[g]=t,Lc(a)===Dd?this.onPropertyChanged({nodes:v},{nodes:m}):this.onPropertyChanged({connectors:v},{connectors:m})),this.protectPropertyChange(!0),w()&&"Text"===a.shape.type?a.shape.textContent=r:h.content=r,this.protectPropertyChange(!1),this.updateSelector(),(a.isLane||a.isPhase)&&this.protectPropertyChange(!1)),p&&(this.removeObjectsFromLayer(a),this.removeFromAQuad(a),delete this.nameTable[this.activeLabel.parentId],""!==r&&(this.clearSelection(),y=xh(a),a=this.add(y),this.updateDiagramObject(a),this.commandHandler.oldSelectedObjects=Bc(this),this.commandHandler.select(this.nameTable[a.id]),this.commandHandler.updateBlazorSelector())),O.label=8;case 8:if(this.selectedItems.nodes.length){if(b=this.nameTable[this.activeLabel.parentId],(x=this.nameTable[b.parentId])&&"SwimLane"===x.shape.type||"SwimLane"===b.shape.type)if("LaneHeaderParent","PhaseHeaderParent","SwimLane"===b.shape.type&&(x=this.nameTable[this.activeLabel.parentId],b=a),b.isLane||b.isPhase)for(S=b.isLane?x.shape.lanes:x.shape.phases,C=0;C<S.length;C++)S[C].id===(b.LaneHeaderParent||b.PhaseHeaderParent)&&(S[C].header.annotation.content=b.annotations[0].content);else b.isHeader&&x.shape.hasHeader&&(x.shape.header.annotation.content=b.annotations[0].content);this.dataBind()}d.visible=!0,this.updateDiagramObject(a),this.diagramActions=this.diagramActions&~Ri.TextEdit,this.activeLabel.isGroup&&this.endGroupAction(),this.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},this.commandHandler.getBlazorOldValues(),w()&&(this.canEnableBlazorObject=!1),this.enableServerDataBinding(!0),O.label=9;case 9:return[2]}}))}))},t.prototype.getIndex=function(e,t){for(var n=Lc(e)===Dd?this.nodes:this.connectors,i=0;i<n.length;i++)if(n[i].id.toString()===t.toString())return i.toString();return null},t.prototype.getBlazorTextEditArgs=function(e){var t=Lc(e.element)===$a?{connector:Vc(e.element)}:{node:Vc(e.element)},n={};return t.node?"Text"===t.node.shape.type?n.textNode=e.element.shape:n.nodeAnnotation=e.element.annotations[0]:n.connectorAnnotation=e.element.annotations[0],e={oldValue:e.oldValue,newValue:e.newValue,cancel:e.cancel,element:t,annotation:n}},t.prototype.canLogChange=function(){return!(!(this.diagramActions&Ri.Render)||this.diagramActions&Ri.ToolAction||this.diagramActions&Ri.UndoRedo||this.diagramActions&Ri.PublicMethod)},t.prototype.modelChanged=function(e,t){return!!(e.connectors||t.connectors||e.nodes||t.connectors||e.pageSettings||t.pageSettings||e.bridgeDirection||t.bridgeDirection)},t.prototype.resetDiagramActions=function(e){var t=!!e;this.diagramActions&Ri.UndoRedo&&(!t||e===Ri.UndoRedo)&&(this.diagramActions=this.diagramActions&~Ri.UndoRedo),this.diagramActions&Ri.PublicMethod&&(!t||e===Ri.PublicMethod)&&(this.diagramActions=this.diagramActions&~Ri.PublicMethod)},t.prototype.removeNode=function(e){if(this.removeObjectsFromLayer(e),this.removeFromAQuad(this.nameTable[e.id]),delete this.nameTable[e.id],e.children&&delete this.groupTable[e.id],w())for(var t=0;t<this.nodes.length;t++)e.id===this.nodes[t].id&&this.UpdateBlazorDiagramModel(e,"Node",t);this.UpdateBlazorDiagramModel(e,"Node",this.nodes.indexOf(e)),this.nodes.splice(this.nodes.indexOf(e),1)},t.prototype.deleteGroup=function(e){var t=[];e.children&&(t=this.commandHandler.getChildren(e,[])),this.UpdateBlazorDiagramModelCollection(e);for(var n=0,i=t;n<i.length;n++){var r=i[n];this.nameTable[r.id]&&this.remove(r)}},t.prototype.updateObject=function(e,t,n){if(!(this.diagramActions&Ri.ToolAction)){var i=e.wrapper.children[0].bounds;if(!this.commandHandler.checkBoundaryConstraints(void 0,void 0,i))if(e instanceof Dd){for(var r=t,o=0,a=Object.keys(n);o<a.length;o++){switch(c=a[o]){case"width":e.width=r.width;break;case"height":e.height=r.height;break;case"offsetX":e.offsetX=r.offsetX;break;case"offsetY":e.offsetY=r.offsetY;break;case"rotateAngle":e.rotateAngle=r.rotateAngle}}this.nodePropertyChange(e,n,t)}else{for(var s=0,l=Object.keys(n);s<l.length;s++){var c=l[s],d=t,h=e.sourcePoint,p=e.targetPoint;switch(c){case"sourcePoint":h.x=d.sourcePoint.x||h.x,h.y=d.sourcePoint.y||h.y;break;case"targetPoint":p.x=d.targetPoint.x||p.x,p.y=d.targetPoint.y||p.y}}this.connectorPropertyChange(e,n,t)}}},t.prototype.nodePropertyChangeExtend=function(e,t,n,i){return void 0!==n.style&&"Bpmn"!==e.shape.type&&(pc(n.style,e.wrapper.children[0]),i=!0),void 0!==n.shadow&&(this.updateShadow(e.shadow,n.shadow),i=!0),void 0!==n.constraints&&(t.constraints&Ei.Select&&!(n.constraints&Ei.Select)&&up(this,e)?this.clearSelection():(this.updateThumbConstraints(this.selectedItems.nodes,this.selectedItems),this.updateSelector(),i=!0)),this.swimLaneNodePropertyChange(e,t,n,i),i},t.prototype.swimLaneNodePropertyChange=function(e,t,n,i){if("SwimLane"===e.shape.type&&!this.currentSymbol){if(t.shape){var r=n.shape,o=e.shape,a="Horizontal"===o.orientation,s=o.padding,l=t.shape,c=e.wrapper.children[0],d=void 0,h=void 0,p=void 0;if(l.lanes||l.phases){if(l.lanes)for(var u=0,f=Object.keys(r.lanes);u<f.length;u++){var g=f[u],m=Number(g),v=l.lanes[m],y=void 0,b=r.lanes[m];if(b&&b.header&&(p=o.lanes[m].header.id,d=v.header,h=b.header,this.nodePropertyChange(this.nameTable[p],d,h)),v.children)for(var w=0,x=Object.keys(v.children);w<x.length;w++){var S=x[w];p=o.lanes[m].children[Number(S)].id;var C=this.nameTable[p];d=v.children[Number(S)],h=b.children[Number(S)],this.nodePropertyChange(C,d,h)}v.width&&!a&&(y=o.phases&&o.phaseSize?m+1:m,c.updateColumnWidth(y,b.width,!0,s),this.updateDiagramElementQuad()),v.height&&a&&(y=o.header&&o.hasHeader?m+1:m,y+=o.phases&&o.phaseSize?1:0,c.updateRowHeight(y,b.height,!0,s),this.updateDiagramElementQuad())}if(r.phases)for(var O=0,P=Object.keys(r.phases);O<P.length;O++){var E=P[O],T=(m=Number(E),r.phases[m]),k=void 0,I=o.header&&o.hasHeader?1:0;if(T&&T.header&&(p=o.phases[m].header.id,d=l.phases[m].header,h=T.header,this.nodePropertyChange(this.nameTable[p],d,h)),T.offset){if(0===m)k=T.offset;else{var A=o.phases[m-1];(k=T.offset-A.offset)<=0&&(k=T.offset)}a?(c.updateColumnWidth(m,k,!0,s),Pl(e,this,c.rows[I].cells[m],m)):c.updateRowHeight(I+m,k,!0,s)}}}if(void 0!==r.phaseSize&&o.phases.length)if(0===r.phaseSize||0===l.phaseSize)if(l.phaseSize)a?(c.removeRow(o.header&&o.hasHeader?1:0),e.height=e.wrapper.height=c.height):(o.header&&o.hasHeader&&(c.rows[0].cells[1].children=c.rows[0].cells[0].children,c.rows[0].cells[1].columnSpan=c.rows[0].cells[0].columnSpan-1,c.rows[0].cells[0].children=[]),c.removeColumn(0));else{if(a){var M=new Gs;M.height=r.phaseSize,c.addRow(o.header&&o.hasHeader?1:0,M,!0),e.height=e.wrapper.height+=r.phaseSize}else{var j=new qs;j.width=r.phaseSize,c.addColumn(0,j,!0),o.header&&o.hasHeader&&(c.rows[0].cells[0].children=c.rows[0].cells[1].children,c.rows[0].cells[1].children=[],c.rows[0].cells[1].columnSpan=1,c.rows[0].cells[1].minWidth=void 0,c.rows[0].cells[0].columnSpan=o.lanes.length+1)}for(var D=0;D<o.phases.length;D++)""===o.phases[D].id&&(o.phases[D].id=mh()),cl(c,this,e,o.header&&o.hasHeader?1:0,a,D)}else a?c.updateRowHeight(o.header&&o.hasHeader?1:0,r.phaseSize,!1):c.updateColumnWidth(0,r.phaseSize,!1);if(o.header&&o.hasHeader&&l.header){var L=c.rows[0].cells[0].children[0].id,R=this.nameTable[L];this.nodePropertyChange(R,l.header,r.header)}e.height=e.wrapper.height=c.height,e.width=e.wrapper.width=c.width}else if(t.constraints){var N=t.constraints&Ei.Select,z=n.constraints&Ei.Select;if(N!==z){r=e.shape;(R=this.nameTable[e.id+r.header.id]).constraints=z?R.constraints|Ei.Select:R.constraints&~Ei.Select;var B=void 0;if(r.phaseSize>0)for(var H=0;H<r.phases.length;H++)(B=this.nameTable[e.id+r.phases[H].id+"_header"]).constraints=z?B.constraints|Ei.Select:B.constraints&~Ei.Select;var _=void 0,W=void 0,F=r.phases.length||1;for(H=0;H<r.lanes.length;H++)for(var V=0;V<F;V++)(_=this.nameTable[e.id+r.lanes[H].id+V]).constraints=z?_.constraints|Ei.Select:_.constraints&~Ei.Select,0===V&&((W=this.nameTable[e.id+r.lanes[H].id+"_"+V+"_header"]).constraints=z?W.constraints|Ei.Select:W.constraints&~Ei.Select)}}i=!0}return i},t.prototype.insertValue=function(e,t){for(var n,i=t?this.oldNodeObjects:this.oldConnectorObjects,r=0;r<i.length;r++)i[r].id===e.id&&(n=!0);n||(t?this.oldNodeObjects.push(e):this.oldConnectorObjects.push(e))},t.prototype.nodePropertyChange=function(e,t,n,i,r,o){if(this.canEnableBlazorObject){var a=xh(e);this.insertValue(a,!0)}var s,l=e.wrapper.outerBounds,c=e.wrapper.bounds,d=!1;if(void 0!==n.width&&(e.children?e.container?e.wrapper.width=n.width:this.scaleObject(e,n.width,!0):(e.wrapper.children[0].width=n.width,s=!0,d=!0)),void 0!==n.height&&(e.children?e.container?e.wrapper.height=n.height:this.scaleObject(e,n.height,!1):(e.wrapper.children[0].height=n.height,s=!0,d=!0)),s=this.nodePropertyChangeExtend(e,t,n,s),void 0!==n.constraints&&us(t)!==us(n)&&(e.wrapper.children[0].shadow=us(e)?e.shadow:null),void 0!==n.offsetX){if("None"!==e.wrapper.flip){if(e.offsetX!==e.wrapper.offsetX&&void 0!==t.offsetX){var h=n.offsetX-t.offsetX;e.wrapper.offsetX=e.wrapper.offsetX+h,this.updateFlipOffset(e.wrapper,h,0,e.wrapper.flip)}}else e.wrapper.offsetX=n.offsetX;s=!0,d=!0}if(void 0!==n.offsetY){if("None"!==e.wrapper.flip){if(e.offsetY!==e.wrapper.offsetY&&void 0!==t.offsetY){var p=n.offsetY-t.offsetY;e.wrapper.offsetY=e.wrapper.offsetY+p,this.updateFlipOffset(e.wrapper,0,p,e.wrapper.flip)}}else e.wrapper.offsetY=n.offsetY;s=!0,d=!0}if(void 0!==n.pivot&&(e.wrapper.pivot=n.pivot,s=!0),void 0!==n.minWidth&&(e.wrapper.minWidth=e.wrapper.children[0].minWidth=n.minWidth,s=!0,d=!0),void 0!==n.minHeight&&(e.wrapper.minHeight=e.wrapper.children[0].minHeight=n.minHeight,s=!0,d=!0),void 0!==n.maxWidth&&(e.wrapper.maxWidth=n.maxWidth,s=!0,d=!0),void 0!==n.maxHeight&&(e.wrapper.maxHeight=n.maxHeight,s=!0,d=!0),void 0!==n.flip)if(e.wrapper.flip=n.flip,s=!0,d=!0,e.wrapper.elementActions&Ti.ElementIsGroup){if(zc(e.wrapper,e.offsetX,e.offsetY,this,n.flip),e&&e.children)for(var u=0,f=e.children;u<f.length;u++){var g=f[u],m=this.nameTable[g];m.wrapper.flip=n.flip,this.updatePorts(m,n.flip)}}else e.wrapper.children[0].flip=n.flip,this.updatePorts(e,n.flip);if(void 0!==n.rotateAngle&&(e.children&&r&&this.commandHandler.rotateObjects(e,[e],e.rotateAngle-e.wrapper.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),e.wrapper.rotateAngle=n.rotateAngle,s=!0,d=!0),void 0!==n.backgroundColor&&(e.wrapper.style.fill=n.backgroundColor),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.shape&&"Bpmn"!==e.shape.type&&(s=!0,gc(n,e,t,this),d=!0),n.margin&&(s=!0,this.updateMargin(e,n),d=!0),(void 0!==n.shape&&void 0===n.shape.type||void 0!==n.width||void 0!==n.height||void 0!==n.style)&&"Bpmn"===e.shape.type&&this.bpmnModule&&(s=!0,d=!0,this.bpmnModule.updateBPMN(n,t,e,this)),"UmlActivity"===e.shape.type&&(!w()&&"FinalNode"===e.shape.shape||w()&&"FinalNode"===e.shape.umlActivityShape)&&(s=!0,d=!0,this.updateUMLActivity(n,t,e,this)),(e.shape&&"UmlClassifier"===e.shape.type||e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type)&&(s=!0,d=!0),void 0!==n.ports)for(var v=0,y=Object.keys(n.ports);v<y.length;v++){var b=y[v],x=Number(b);s=!0;var S=n.ports[b],C=e.ports[x];this.updatePort(S,C,e.wrapper),d=!0}if(void 0!==n.annotation||void 0!==n.annotations||void 0!==n.width)for(var O=0,P=Object.keys(n.annotations||e.annotations);O<P.length;O++){b=P[O],x=Number(b);s=!0;S=void 0;S=n.annotation?n.annotation:n.annotations?n.annotations[b]:e.annotations;var E=e.annotations[x];if(E){var T=!!e.width;this.updateAnnotation(S,E,e.wrapper,e,T);var k=this.nameTable[e.parentId];if(k&&"SwimLane"===k.shape.type){if(e.isLane||e.isPhase)for(var I=e.isLane?k.shape.lanes:k.shape.phases,A=0;A<I.length;A++)if(I[A].id===(e.LaneHeaderParent||e.PhaseHeaderParent)){I[A].header.annotation.content=e.annotations[0].content,I[A].header.annotation.style=e.annotations[0].style;break}}}}if(void 0===n.expandIcon&&void 0===n.collapseIcon&&void 0===n.isExpanded||(this.updateIcon(e),this.updateDefaultLayoutIcons(e),void 0!==n.isExpanded&&this.commandHandler.expandNode(e,this),s=!0),void 0!==n.tooltip&&this.updateTooltip(e,n),s){if(void 0!==this.bpmnModule&&this.bpmnModule.updateTextAnnotationProp(e,{offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY},this),this.checkSelectedItem(e)&&e.wrapper.children[0]instanceof or&&e.wrapper.children[0].refreshTextElement(),e.wrapper.measure(new Kn(e.wrapper.bounds.width,e.wrapper.bounds.height),e.id,this.onLoadImageSize.bind(this)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateObject(e,t,n),"SwimLane"===e.shape.type&&!this.currentSymbol&&!(this.diagramActions&Ri.ToolAction)){El(this,e);var M=e.wrapper.children[0],j=e.shape,D=M.columnDefinitions().length;if("Horizontal"===j.orientation){x=j.header&&j.hasHeader?1:0;Pl(e,this,M.rows[x].cells[D-1],D-1)}e.wrapper.measure(new Kn(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}if(this.diagramActions&Ri.ToolAction&&!(this.diagramActions&Ri.UndoRedo)||this.checkSelectedItem(e)&&this.updateSelector(),!1===l.equals(l,e.wrapper.outerBounds)&&this.updateQuad(e),i?e&&e.visible&&e.outEdges&&this.updateIconVisibility(e,0!==e.outEdges.length):this.commandHandler.connectorSegmentChange(e,c,void 0!==n.rotateAngle),void 0!==this.bpmnModule&&this.bpmnModule.updateDocks(e,this),this.updateGroupOffset(e),e.parentId&&this.nameTable[e.parentId]){var L=this.nameTable[e.parentId];L.wrapper.measure(new Kn(L.wrapper.width,e.wrapper.height)),L.wrapper.arrange(L.wrapper.desiredSize),L.offsetX=L.wrapper.offsetX,L.offsetY=L.wrapper.offsetY}if(!1===c.equals(c,e.wrapper.bounds)&&(this.updateGroupSize(e),e.children&&this.updateGroupOffset(e)),"SwimLane"===e.shape.type&&!this.currentSymbol&&this.diagramActions&Ri.Render)wl(ul(this,e.wrapper.children[0]),this);if(!this.preventNodesUpdate&&((!ws(this)||ws(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)&&(this.diagramActions&Ri.PreventZIndexOnDragging?this.updateDiagramObject(e,!0):this.updateDiagramObject(e)),!i&&d&&(this.lineRoutingModule&&this.diagramActions&&this.constraints&Ii.LineRouting&&"helper"!==e.id&&(this.diagramActions&Ri.ToolAction||this.lineRoutingModule.renderVirtualRegion(this,!0)),this.updateConnectorEdges(e),"helper"!==e.id&&!(this.diagramActions&Ri.ToolAction))))for(var R=this.spatialSearch.findObjects(e.wrapper.outerBounds),N=0;N<R.length;N++){var z=R[N];z instanceof $a&&this.connectorPropertyChange(R[N],{},{sourceID:z.sourceID,targetID:z.targetID,sourcePortID:z.sourcePortID,targetPortID:z.targetPortID,sourcePoint:z.sourcePoint,targetPoint:z.targetPoint})}"New"!==e.status&&this.diagramActions&&(e.status="Update")}if(!o){var B=e,H={element:B,cause:this.diagramActions,oldValue:t,newValue:n};w()&&this.propertyChange&&(H.element={node:Vc(B)},H.oldValue={node:Vc(t)},H.newValue={node:Vc(n)}),this.triggerEvent(Hi.propertyChange,H)}},t.prototype.updatePorts=function(e,t){if(e&&e.ports.length>0)for(var n=0,i=Object.keys(e.ports);n<i.length;n++){var r=i[n],o=Number(r),a=e.ports[o],s=this.getWrapper(e.wrapper,a.id);(s=Nc(s,t,a)).relativeMode="Point",s.measure(new Kn(s.width,s.height)),s.arrange(s.desiredSize)}},t.prototype.updateFlipOffset=function(e,t,n,i){if(e.hasChildren())for(var r=0,o=e.children;r<o.length;r++){var a=o[r];"Horizontal"!==i&&"Both"!==i||(a.flipOffset.x=a.flipOffset.x+t),"Vertical"!==i&&"Both"!==i||(a.flipOffset.y=a.flipOffset.y+n),(a instanceof sr||a instanceof ir)&&this.updateFlipOffset(a,t,n,i)}},t.prototype.updateUMLActivity=function(e,t,n,i){if(void 0!==e.width||void 0!==e.height){var r=n.wrapper.children[0].children[0];r.width=e.width,r.height=e.height;var o=n.wrapper.children[0].children[1];o.width=e.width/1.5,o.height=e.height/1.5}},t.prototype.updateConnectorProperties=function(e){if(this.preventConnectorsUpdate){-1===this.selectionConnectorsList.indexOf(e)&&this.selectionConnectorsList.push(e)}else{var t={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint,sourceID:e.sourceID,targetID:e.targetID,sourcePortID:e.sourcePortID,targetPortID:e.targetPortID};this.connectorPropertyChange(e,{},t,void 0,!0)}},t.prototype.updateConnectorEdges=function(e){if(e.inEdges.length>0)for(var t=0;t<e.inEdges.length;t++)this.updateConnectorProperties(this.nameTable[e.inEdges[t]]);if(e.outEdges.length>0)for(var n=0;n<e.outEdges.length;n++)this.updateConnectorProperties(this.nameTable[e.outEdges[n]]);e.parentId&&this.nameTable[e.parentId]&&this.updateConnectorEdges(this.nameTable[e.parentId])},t.prototype.connectorProprtyChangeExtend=function(e,t,n,i){return void 0!==n.type&&n.type!==t.type&&e.segments.length>0&&void 0===n.segments&&(e.segments=[]),void 0!==n.shape&&void 0!==e.shape&&e.shape&&"Bpmn"===e.shape.type&&this.bpmnModule&&this.bpmnModule.updateBPMNConnector(e,t,n,this),void 0!==e.constraints?(this.updateThumbConstraints(this.selectedItems.connectors,this.selectedItems),!0):i},t.prototype.connectorPropertyChange=function(e,t,n,i,r){if(this.canEnableBlazorObject){var o=xh(e);this.insertValue(o,!1)}var a,s,l,c,d,h=e.wrapper.bounds,p=!1,u=[];if(p=this.connectorProprtyChangeExtend(e,t,n,p),void 0!==n.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==n.sourcePoint||void 0!==n.targetPoint||void 0!==n.sourceID||void 0!==n.targetID||void 0!==n.targetPadding||void 0!==n.sourcePortID||void 0!==n.targetPortID||void 0!==n.sourcePadding||void 0!==n.type||void 0!==n.segments||void 0!==n.flip){if(void 0!==n.sourceID&&n.sourceID!==t.sourceID||n.sourcePortID){var f=this.nameTable[e.sourceID];if(s=this.findInOutConnectPorts(f,!1),(!f||ms(f)||""!==e.sourcePortID&&vs(s))&&(e.sourceWrapper=f?this.getEndNodeWrapper(f,e,!0):void 0,e.sourcePortID&&void 0===n.sourcePortID&&(e.sourcePortWrapper=f?this.getWrapper(f.wrapper,e.sourcePortID):void 0),this.removePortEdges(this.nameTable[t.sourceID]||f,t.sourcePortID||e.sourcePortID,e.id,!1)),void 0!==n.sourceID&&void 0!==t.sourceID&&""!==t.sourceID){var g=this.nameTable[t.sourceID];void 0!==g&&g.outEdges&&-1!==g.outEdges.indexOf(e.id)&&yc(g.outEdges,e.id)}this.updateEdges(e)}if(void 0!==n.targetID&&n.targetID!==t.targetID){var m=this.nameTable[n.targetID];if(a=this.findInOutConnectPorts(m,!0),(!m||fs(m)||""!==e.targetPortID&&gs(a))&&(e.targetWrapper=m?this.getEndNodeWrapper(m,e,!1):void 0,e.targetPortID&&void 0===n.targetPortID&&(e.targetPortWrapper=m?this.getWrapper(m.wrapper,e.targetPortID):void 0),this.removePortEdges(this.nameTable[t.targetID]||m,t.targetPortID||e.targetPortID,e.id,!0)),void 0!==t&&void 0!==t.targetID&&""!==t.targetID){var v=this.nameTable[t.targetID];void 0!==v&&v.inEdges&&-1!==v.inEdges.indexOf(e.id)&&yc(v.inEdges,e.id)}this.updateEdges(e)}if(void 0!==n.sourcePortID&&n.sourcePortID!==t.sourcePortID)e.sourceID&&this.nameTable[e.sourceID]&&(l=this.nameTable[e.sourceID].wrapper),(!(f=this.nameTable[e.sourceID])||ms(f)||""!==e.sourcePortID&&vs(s))&&(e.sourcePortWrapper=l?this.getWrapper(l,n.sourcePortID):void 0);if(void 0!==n.targetPortID&&n.targetPortID!==t.targetPortID){m=this.nameTable[e.targetID];e.targetID&&this.nameTable[e.targetID]&&(c=this.nameTable[e.targetID].wrapper),(!m||fs(m)||""!==e.targetPortID&&gs(a))&&(e.targetPortWrapper=c?this.getWrapper(c,n.targetPortID):void 0)}void 0!==n.flip&&(e.flip=n.flip,Rc(e)),"Orthogonal"===e.type&&this.lineRoutingModule&&this.diagramActions&&this.constraints&Ii.LineRouting&&!(this.diagramActions&Ri.ToolAction)&&(this.lineRoutingModule.renderVirtualRegion(this,!0),this.lineRoutingModule.refreshConnectorSegments(this,e,!1)),u=this.getPoints(e)}void 0!==n.style&&pc(n.style,e.wrapper.children[0]),(u.length>0||void 0!==n.sourceDecorator||void 0!==n.targetDecorator&&(-1!==(d=Object.keys(n.targetDecorator)).indexOf("shape")||-1!==d.indexOf("pathData")||-1!==d.indexOf("width")||-1!==d.indexOf("height"))||void 0!==n.cornerRadius)&&(bc(e,u.length>0?u:e.intermediatePoints,this.diagramActions),void 0!==n.type&&(p=!0),u.length>0&&(e.wrapper.measure(new Kn(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateConnectorAnnotation(e),this.updateObject(e,t,n))),(n.sourcePoint||n.targetPoint||n.segments)&&this.diagramActions===Ri.Render&&(p=!0),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.commandHandler.updatePathElementOffset(e),i||this.updateBridging(),this.updateAnnotations(n,e),e.wrapper.measure(new Kn(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),!1===h.equals(h,e.wrapper.bounds)&&(this.updateQuad(e),this.updateGroupSize(e)),!0!==p||!this.checkSelectedItem(e)||this.diagramActions&Ri.ToolAction&&!(this.diagramActions&Ri.UndoRedo)||this.updateSelector(),this.preventConnectorsUpdate||(!ws(this)||ws(this)&&this.scroller.oldCollectionObjects.indexOf(e.id)>-1)&&(this.diagramActions&Ri.PreventZIndexOnDragging?this.updateDiagramObject(e,!0):this.updateDiagramObject(e)),this.diagramActions&&"New"!==e.status&&(e.status="Update"),this.triggerPropertyChange(r,e,t,n)},t.prototype.removePortEdges=function(e,t,n,i){if(e)for(var r=0;r<e.ports.length;r++){var o=e.ports[r];if(o.id===t)yc(i?o.inEdges:o.outEdges,n)}},t.prototype.getpropertyChangeArgs=function(e,t,n,i){return i.element={connector:Vc(e)},i.oldValue={connector:Vc(t)},i.newValue={connector:Vc(n)},i},t.prototype.triggerPropertyChange=function(e,t,n,i){if(!e){var r=t,o={element:Vc(r),cause:this.diagramActions,oldValue:Vc(n),newValue:Vc(i)};w()&&(o=this.getpropertyChangeArgs(r,n,i,o)),this.triggerEvent(Hi.propertyChange,o)}},t.prototype.findInOutConnectPorts=function(e,t){var n={};return e&&(n=Ec(e,t)),n},t.prototype.getPoints=function(e,t){return e.getConnectorPoints(e.type,t,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0)},t.prototype.updateNodeProperty=function(e,t,n){if(void 0===t)this.updateElementVisibility(e,this.nameTable[e.id],t);else{e.style.opacity=n;for(var i=0;i<e.children.length;i++)e.children[i]instanceof ir&&this.updateNodeProperty(e.children[i],void 0,n),e.children[i].style.opacity=n}},t.prototype.checkSelectedItem=function(e){var t=this.selectedItems,n=!1,i=[];return(i=i.concat(t.nodes,t.connectors)).length>0&&e.id===i[i.length-1].id&&(n=!0),n},t.prototype.updateDiagramContainerVisibility=function(e,t){if(e instanceof ir)for(var n=0;n<e.children.length;n++)this.updateDiagramContainerVisibility(e.children[n],t);e.visible=t},t.prototype.updateElementVisibility=function(e,t,n){if(void 0!==n){if(e.visible=n,t instanceof Dd){if(t.children)for(var i=0,r=t.children;i<r.length;i++){var o=r[i];this.updateElementVisibility(this.nameTable[o].wrapper,this.nameTable[o],n)}else e.children[0].visible=n,this.updateDiagramContainerVisibility(e.children[0],n),"Bpmn"===t.shape.type&&this.bpmnModule&&this.bpmnModule.updateElementVisibility(t,n,this);if(t.ports)for(var a=0,s=t.ports;a<s.length;a++){var l=s[a];if(l.visibility&xi.Visible)(g=this.getWrapper(e,l.id)).visible=n}if(t.annotations)for(var c=0,d=t.annotations;c<d.length;c++){var h=d[c];(g=this.getWrapper(e,h.id)).visible=n}}else for(var p=0;p<3;p++)e.children[p].visible=n;if(t.annotations)for(var u=0,f=t.annotations;u<f.length;u++){h=f[u];(g=this.getWrapper(e,h.id)).visible=n}if(t.expandIcon||t.collapseIcon){var g;if(g=this.getWrapper(e,"icon_content")){for(p=0;p<g.children.length;p++)g.children[p].visible=n;g.visible=n}t&&t.visible&&t.outEdges&&this.updateIconVisibility(t,0!==t.outEdges.length)}!1===n&&this.unSelect(this.nameTable[e.id]),(t instanceof Dd&&!this.preventNodesUpdate||t instanceof $a&&!this.preventConnectorsUpdate)&&this.diagramActions&&this.updateDiagramObject(this.nameTable[e.id],void 0,!0)}},t.prototype.updateAnnotations=function(e,t){if(void 0!==e.annotations)for(var n=0,i=Object.keys(e.annotations);n<i.length;n++){var r=i[n],o=Number(r),a=e.annotations[r],s=t.annotations[o];this.updateAnnotation(a,s,t.wrapper,t)}},t.prototype.updateAnnotation=function(e,t,n,i,r){var o,a=!1;if(void 0!==(o=this.getWrapper(n,t.id))){if(void 0!==e.width&&void 0!==e.height&&(o.width=e.width,o.height=e.height,a=!0),void 0!==e.rotateAngle&&(o.rotateAngle=e.rotateAngle),!r||o instanceof Ta||o.refreshTextElement(),t instanceof Pr&&void 0!==e.segmentAngle&&(o.rotateAngle=t.rotateAngle),t instanceof Or&&void 0!==e.offset){var s=e.offset;a=!0;var l=void 0!==s.x?s.x:t.offset.x,c=void 0!==s.y?s.y:t.offset.y;o.setOffsetWithRespectToBounds(l,c,"Fraction"),o.relativeMode="Point"}else t instanceof Pr&&(void 0!==e.offset||void 0!==e.segmentAngle)&&i.updateAnnotation(t,i.intermediatePoints,i.wrapper.bounds,o);if(t instanceof Pr&&e.displacement&&(void 0===e.displacement.x&&void 0===e.displacement.y||(a=!0)),void 0!==e.margin&&(a=!0,void 0!==e.margin.bottom&&(o.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(o.margin.top=e.margin.top),void 0!==e.margin.left&&(o.margin.left=e.margin.left),void 0!==e.margin.right&&(o.margin.right=e.margin.right)),(a||r)&&(o.width=t.width||i.width,t.template&&(o.width=o.width||o.actualSize.width,o.height=t.height||i.height||o.actualSize.height)),void 0!==e.horizontalAlignment&&(o.horizontalAlignment=e.horizontalAlignment,a=!0),void 0!==e.verticalAlignment&&(o.verticalAlignment=e.verticalAlignment,a=!0),void 0!==e.visibility&&(o.visible=!(!n.visible||!e.visibility)),void 0!==e.constraints){o.constraints&Pi.Select&&!(e.constraints&Pi.Select)&&up(this,i,!1,o),o.constraints=e.constraints}void 0!==e.style&&pc(e.style,o),void 0!==e.hyperlink&&function(e,t,n){for(var i=t,r=i.hyperlink,o=0,a=Object.keys(e);o<a.length;o++){switch(a[o]){case"color":i.style.color=r.color=e.color;break;case"content":i.content=r.content=e.content||r.link;break;case"link":var s=n.style;i.style.color=e.link?r.color:s.color,i.style.textDecoration=e.link?r.textDecoration:n.style.textDecoration,i.content=e.link?r.content||e.link:n.content,r.link=e.link;break;case"textDecoration":i.style.textDecoration=r.textDecoration=e.textDecoration}}}(e.hyperlink,o,t),this.updateAnnotationContent(e,a,o,i,t,n),!0===a&&(o.measure(new Kn(o.width,o.height)),o.arrange(o.desiredSize)),o instanceof Ta||o.refreshTextElement()}},t.prototype.updateAnnotationContent=function(e,t,n,i,r,o){void 0!==e.content&&(n&&(!0,"UmlActivity"===i.shape.type&&(w&&"StructuredNode"===i.shape.umlActivityShape||!w&&"StructuredNode"===i.shape.shape)?n.content="<<"+e.content+">>":n.content=e.content),n instanceof Ta&&this.updateAnnotationWrapper(n,i,r,o)),void 0!==e.template&&(n.content=e.template,this.updateAnnotationWrapper(n,i,r,o))},t.prototype.updateAnnotationWrapper=function(e,t,n,i){for(var r=0,o=this.views;r<o.length;r++){var a=o[r];lh(e.id+"_groupElement",a),lh(e.id+"_html_element",a)}if(t instanceof Dd)e=t.initAnnotationWrapper(n,this.element.id);else if(t instanceof $a){var s=t.wrapper.children[0],l=new di(s.offsetX-s.width/2,s.offsetY-s.height/2,s.width,s.height);e=t.getAnnotationElement(t.annotations[t.annotations.length-1],t.intermediatePoints,l,this.getDescription,this.element.id)}for(var c=0;c<i.children.length;c++)e.id===i.children[c].id&&i.children.splice(c,1,e)},t.prototype.updatePort=function(e,t,n){var i,r=!1;if(void 0!==(i=this.getWrapper(n,t.id))){if(void 0!==e.offset){r=!0;var o=void 0!==e.offset.x?e.offset.x:t.offset.x,a=void 0!==e.offset.y?e.offset.y:t.offset.y;i.setOffsetWithRespectToBounds(o,a,"Fraction"),i.relativeMode="Point"}if(void 0!==e.width&&(r=!0,i.width=e.width),void 0!==e.height&&(r=!0,i.height=e.height),void 0!==e.visibility&&(i.visible=!(!n.visible||!Cc(t,xi.Visible))),void 0!==e.margin&&(r=!0,void 0!==e.margin.bottom&&(i.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(i.margin.top=e.margin.top),void 0!==e.margin.right&&(i.margin.right=e.margin.right),void 0!==e.margin.left&&(i.margin.left=e.margin.left)),void 0!==e.horizontalAlignment&&(r=!0,i.horizontalAlignment=e.horizontalAlignment),void 0!==e.verticalAlignment&&(r=!0,i.verticalAlignment=e.verticalAlignment),void 0!==e.style&&(void 0!==e.style.fill&&(i.style.fill=e.style.fill),void 0!==e.style.opacity&&(i.style.opacity=e.style.opacity),void 0!==e.style.strokeColor&&(i.style.strokeColor=e.style.strokeColor),void 0!==e.style.strokeWidth&&(i.style.strokeWidth=e.style.strokeWidth),void 0!==e.style.strokeDashArray&&(i.style.strokeDashArray=e.style.strokeDashArray)),void 0!==e.shape&&i){var s=Er(e.shape);i.data=s,i.canMeasurePath=!0}void 0!==e.pathData&&(i.data=String(e.pathData),r=!0),!0===r&&(i.measure(new Kn(i.width,i.height)),i.arrange(i.desiredSize))}},t.prototype.updateIcon=function(e){var t=this.getWrapper(e.wrapper,"icon_content"),n=this.diagramActions&Ri.Render?this.element.id:void 0;if(t){if("SVG"===this.mode){var i=Yd(e.wrapper.id+"_icon_content",n);if(i){var r=Yd(i.id+"_rect",n),o=Yd(i.id+"_shape",n),a=Yd(o.id+"_native_element",n);a&&a.parentNode.removeChild(a),o.parentNode.removeChild(o),r.parentNode.removeChild(r),i.parentNode.removeChild(i)}}var s=e.wrapper.children.indexOf(t);e.wrapper.children.splice(s,1)}var l=this.getPortContainer(e);e.initIcons(this.getDescription,this.layout,l,this.element.id)},t.prototype.getPortContainer=function(e){if(e.children)for(var t=0;t<e.wrapper.children.length;t++)if(e.wrapper.children[t].id===e.id+"group_container")return e.wrapper.children[t];return e.wrapper},t.prototype.updateTooltip=function(e,t){void 0!==t.tooltip.content&&(e.tooltip.content=t.tooltip.content),void 0!==t.tooltip.position&&(e.tooltip.position=t.tooltip.position),void 0!==t.tooltip.height&&(e.tooltip.height=t.tooltip.height),void 0!==t.tooltip.width&&(e.tooltip.width=t.tooltip.width),void 0!==t.tooltip.showTipPointer&&(e.tooltip.showTipPointer=t.tooltip.showTipPointer)},t.prototype.updateQuad=function(e){this.spatialSearch.updateQuad(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.removeFromAQuad=function(e){if(e.children)for(var t=void 0,n=e.children,i=0;i<n.length;i++)(t=this.nameTable[n[i]])&&this.removeFromAQuad(t);this.spatialSearch.removeFromAQuad(e.wrapper),this.spatialSearch.updateBounds(e.wrapper)&&!this.preventDiagramUpdate&&this.updatePage()},t.prototype.updateGroupSize=function(e){var t;e.parentId&&(t=this.nameTable[e.parentId])&&(t.parentId?this.updateGroupSize(t):(t.wrapper.measure(new Kn),t.wrapper.arrange(t.wrapper.desiredSize),this.updateGroupOffset(t),this.updateDiagramObject(t)))},t.prototype.updatePage=function(){if(this.diagramActions&Ri.Render&&!(this.diagramActions&Ri.DragUsingMouse)){this.scroller.updateScrollOffsets(),this.scroller.setSize();for(var e=0,n=this.views;e<n.length;e++){var i=n[e],r=this.views[i];r instanceof t||r.updateView(r)}}this.diagramActions&Ri.DragUsingMouse&&this.renderPageBreaks()},t.prototype.protectPropertyChange=function(e){this.isProtectedOnChange=e},t.prototype.getProtectPropertyChangeValue=function(){return this.isProtectedOnChange},t.prototype.enableServerDataBinding=function(e){w()&&(this.allowServerDataBinding=e,e&&(this.bulkChanges={}))},t.prototype.updateShadow=function(e,t){void 0!==t.angle&&(e.angle=t.angle),void 0!==t.color&&(e.color=t.color),void 0!==t.distance&&(e.distance=t.distance),void 0!==t.opacity&&(e.opacity=t.opacity)},t.prototype.updateMargin=function(e,t){void 0!==t.margin.top&&(e.margin.top=t.margin.top),void 0!==t.margin.bottom&&(e.margin.bottom=t.margin.bottom),void 0!==t.margin.left&&(e.margin.left=t.margin.left),void 0!==t.margin.right&&(e.margin.right=t.margin.right)},t.prototype.initDroppables=function(){var e,t,n=this,i={},r={};this.droppable=new vn(this.element),this.droppable.over=function(o){if(n.currentSymbol)o.event.touches&&o.event.touches.length&&n.eventHandler.mouseMove(o.event,o.event.touches);else{var a=null;if(!o.dragData&&"drag"===o.name){var s=document.getElementsByClassName("e-dragclone")[0];s&&(a=s)}if(o.dragData||a){var l=void 0,c=void 0;document.getElementById(n.element.id+"content").focus();var d=n.eventHandler.getMousePosition(o.event),h=void 0,p=a||o.dragData.helper,u=p.getAttribute("paletteId"),f=void 0,g=void 0,m=void 0;if(u){var v=document.getElementById(u).ej2_instances[0];n.droppable.sourceElement=v;if(v){var y=v.selectedSymbols;n.allowServerDataBinding=!1,h=xh(v.selectedSymbols),i=v.childTable;var b=y.wrapper.children[0].children[0];if(v.selectedSymbols instanceof Dd){"TextAnnotation"===y.shape.shape?(h.offsetX=d.x+11+(h.width||b.actualSize.width)/2,h.offsetY=d.y+11+(h.height||b.actualSize.height)/2):(h.offsetX=d.x+5+(h.width||b.actualSize.width)/2,h.offsetY=d.y+(h.height||b.actualSize.height)/2);var x=new Dd(n,"nodes",h,!0);"Bpmn"===x.shape.type&&x.shape.activity.subProcess.processes&&x.shape.activity.subProcess.processes.length&&(x.shape.activity.subProcess.processes=[]),f=x.dragSize,g=x.previewSize,m=v.symbolDragSize;var S=v.symbolPreview;if(x.width=f.width||m.width||g.width||S.width||x.width,x.height=f.height||m.height||g.height||S.height||x.height,"SwimLane"===x.shape.type){if(n.diagramActions|=Ri.PreventHistory,x.shape.isLane){x.children=[],e={id:"header"+mh()},"Horizontal"===x.shape.orientation?(e.width=x.shape.lanes[0].header.width,e.height=x.shape.lanes[0].height):(e.width=x.shape.lanes[0].width,e.height=x.shape.lanes[0].header.height),e.style=x.shape.lanes[0].header.style,e.offsetX=d.x+5+e.width/2,e.offsetY=d.y+e.height/2,n.diagramActions|=Ri.PreventCollectionChangeOnDragOver,e=n.add(e),t={id:"body"+mh()},"Horizontal"===x.shape.orientation?(t.width=x.shape.lanes[0].width-e.width,t.height=x.shape.lanes[0].height,t.offsetX=d.x+5+(x.shape.lanes[0].header.width+t.width/2),t.offsetY=d.y+t.height/2):(t.width=x.shape.lanes[0].width,t.height=x.shape.lanes[0].height-e.height,t.offsetX=d.x+5+t.width/2,t.offsetY=d.y+(x.shape.lanes[0].header.height+t.height/2)),t.style=x.shape.lanes[0].style,t=n.add(t);var C={id:"group"+mh(),children:[e.id,t.id]};C.shape=x.shape,C.width=x.shape.lanes[0].width,C.height=x.shape.lanes[0].height,C.previewSize=x.previewSize,C.dragSize=x.dragSize,C.addInfo=x.addInfo,x=n.add(C),n.diagramActions&=~Ri.PreventCollectionChangeOnDragOver}n.diagramActions&=~Ri.PreventHistory}if(x.shape.isPhase&&((c="Horizontal"===x.shape.orientation)?(x.offsetX=d.x+5+(x.width||b.actualSize.width)/2,x.offsetY=d.y,x.shape.data="M20,"+x.height/2+" L"+(x.width-20)+","+x.height/2+"z",x.height=1):(x.offsetX=d.x+5,x.offsetY=d.y+(x.height||b.actualSize.height)/2,x.shape.data="M"+x.width/2+",20 L"+x.width/2+","+(x.height-20)+"z",x.width=1)),l=x,h.children){var O=h;r=n.getChildren(O,{},i),Ic(O,-O.offsetX,-O.offsetY,r,!0,n)}}else if(v.selectedSymbols instanceof $a){l=new $a(n,"connectors",h,!0);var P=di.toBounds([l.sourcePoint,l.targetPoint]),E=d.x-P.left,T=d.y-P.top;l.sourcePoint.x+=E,l.sourcePoint.y+=T,l.targetPoint.x+=E,l.targetPoint.y+=T}l.shape.isLane||(l.id+=mh());var k={source:v,element:l,cancel:!1,diagram:n};if(w()&&(k=n.getBlazorDragEventArgs(k)),n.enterObject=l,n.enterTable=r,n.triggerEvent(Hi.dragEnter,k),l instanceof Dd&&"SwimLane"===l.shape.type&&l.shape.isLane){var I,A,M=k.element,j=M.shape.lanes[0];c="Horizontal"===M.shape.orientation,I=n.nameTable[l.children[0]],A=n.nameTable[l.children[1]],f=l.dragSize,g=l.previewSize,m=v.symbolDragSize,j.width=f.width||m.width||g.width||j.width,j.height=f.height||m.height||g.height||j.height,c?(e.width=j.header.width,e.height=j.height,t.width=j.width-e.width,t.height=j.height,t.offsetX=d.x+5+(j.header.width+A.width/2),t.offsetY=d.y+A.height/2):(e.width=j.width,e.height=j.header.height,t.width=j.width,t.height=j.height-e.height,t.offsetX=d.x+5+A.width/2,t.offsetY=d.y+(j.header.height+A.height/2)),e.offsetX=d.x+5+I.width/2,e.offsetY=d.y+I.height/2,l.width=j.width,l.height=j.height}l instanceof Dd&&l.shape.isPhase&&(c?l.height=1:l.width=1),n.activeLayer.lock||k.cancel||(n.preventDiagramUpdate=!0,l.children&&n.findChild(l,r),n.preventDiagramUpdate=!0,-1!==l.zIndex&&(l.zIndex=-1),n.initObject(l,void 0,void 0,!0),n.currentSymbol=l,"SVG"!==n.mode&&n.refreshDiagramLayer(),n.commandHandler.oldSelectedObjects=Bc(n),n.commandHandler.select(l),n.commandHandler.updateBlazorSelector(),n.eventHandler.mouseDown(o.event),n.eventHandler.mouseMove(o.event,o),n.preventDiagramUpdate=!1,n.updatePage(),p.style.opacity="0"),delete n.enterObject,delete n.enterTable}n.droppable.selectedSymbols=p,n.allowServerDataBinding=!0}}}},this.droppable.drop=function(e){return su(n,void 0,void 0,(function(){var t,n,i,r,o,a,s,l,c,d;return lu(this,(function(h){switch(h.label){case 0:return this.allowServerDataBinding=!1,t="sourceElement",this.currentSymbol?(i=!1,o=void 0,o=this.currentSymbol instanceof $a,e.event.touches&&this.eventHandler.mouseUp(e.event),a=void 0,void 0,void 0,l=void 0,l={source:this.droppable[t],element:this.currentSymbol,target:this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this,cancel:!1,position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},w()?(l={source:Vc(this.droppable[t]),element:Lc(this.currentSymbol)===$a?{connector:Vc(this.currentSymbol)}:{node:Vc(this.currentSymbol)},cancel:!1,target:{},position:{x:this.currentSymbol.wrapper.offsetX,y:this.currentSymbol.wrapper.offsetY}},this.getDropEventArgs(l),[4,this.triggerEvent(Hi.drop,l)]):[3,2]):[3,4];case 1:return l=h.sent()||l,[3,3];case 2:this.triggerEvent(Hi.drop,l),h.label=3;case 3:return c=void 0,d="id",(c=xh(this.currentSymbol)).hasTarget=this.currentSymbol.hasTarget,this.removeFromAQuad(this.currentSymbol),this.removeObjectsFromLayer(this.nameTable[this.currentSymbol.id]),this.removeElements(this.currentSymbol),(this.currentSymbol.shape.isLane||this.currentSymbol.shape.isPhase)&&this.removeChildInNodes(this.currentSymbol),l.cancel&&ac(this.currentSymbol,this),this.currentSymbol.shape.isPhase&&(i=!0,r=this.currentSymbol.shape.orientation),delete this.nameTable[this.currentSymbol.id],this.currentSymbol=null,this.protectPropertyChange(!0),l.cancel?this.clearSelectorLayer():(this.startGroupAction(),c&&(c.shape.isLane||i)&&(i&&(c.shape.isPhase=i,c.shape.orientation=r),this.eventHandler.addSwimLaneObject(c)),"Bpmn"===c.shape.type&&c.shape.annotation&&c.hasTarget&&(s=c.shape.annotation.nodeId,c.shape.annotation.id=c.id,this.addTextAnnotation(c.shape.annotation,this.nameTable[s]),c.nodeId=""),c.shape.isLane||i||(c.children&&this.addChildNodes(c),l.target&&l.target instanceof Dd&&!o&&el(this,l.target)&&bs(l.target)?il(this,l.target,c):n=this.add(c,!0),(c||n)&&xs(this)&&this.select([this.nameTable[c[d]]]))),this.protectPropertyChange(!1),a=this.nameTable[c[d]],c.hasTarget&&(c.nodeId=c.hasTarget,this.remove(c)),this.bpmnModule&&a instanceof Dd&&c.processId&&(a.processId=c.processId,this.bpmnModule.dropBPMNchild(this.nameTable[a.processId],a,this)),this.endGroupAction(),"SVG"!==this.mode&&this.refreshDiagramLayer(),delete this.droppable[t],[3,5];case 4:l={source:Vc(e.droppedElement),element:void 0,target:Vc(this.eventHandler.hoverNode||this.eventHandler.lastObjectUnderMouse||this),cancel:!1,position:void 0},w()&&(l={source:Vc(e.droppedElement),element:void 0,cancel:!1,position:void 0,target:{}},this.getDropEventArgs(l)),this.triggerEvent(Hi.drop,l),c=void 0,d="id",h.label=5;case 5:return"selectedSymbols",this.droppable.selectedSymbols&&ut(this.droppable.selectedSymbols),this.allowServerDataBinding=!0,[2]}}))}))},this.droppable.out=function(e){if(n.currentSymbol&&!n.eventHandler.focus){n.unSelect(n.currentSymbol),n.removeFromAQuad(n.currentSymbol),"SVG"!==n.mode&&"Native"===n.currentSymbol.shape.type&&n.removeElements(n.currentSymbol),n.removeObjectsFromLayer(n.nameTable[n.currentSymbol.id]),delete n.nameTable[n.currentSymbol.id];var t={element:Vc(n.currentSymbol),diagram:n};w()&&(t=n.getBlazorDragLeaveEventArgs(t)),n.triggerEvent(Hi.dragLeave,t),"SVG"!==n.mode?n.refreshDiagramLayer():n.removeElements(n.currentSymbol),n.currentSymbol=null;n.droppable.selectedSymbols.style.opacity="1";delete n.droppable.sourceElement,n.diagramRenderer.rendererActions=n.removeConstraints(n.diagramRenderer.rendererActions,Ni.DrawSelectorBorder),n.previousSelectedObject&&n.select(n.previousSelectedObject,n.previousSelectedObject.length>1),n.previousSelectedObject=null}}},t.prototype.getBlazorDragLeaveEventArgs=function(e){return e={diagramId:this.element.id,element:Lc(e.element)===$a?{connector:Vc(e.element)}:{node:Vc(e.element)}}},t.prototype.getDropEventArgs=function(e){if(this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode){var t=this.eventHandler.lastObjectUnderMouse||this.eventHandler.hoverNode;e.target=Lc(t)===$a?{connector:Vc(t)}:{node:Vc(t)}}else e.target.diagramId=this.element.id},t.prototype.removeChildInNodes=function(e){if(e){if(e.children)for(var t=0;t<e.children.length;t++)this.removeChildInNodes(this.nameTable[e.children[t]]);var n=this.nodes.indexOf(e);-1!==n&&this.nodes.splice(n,1)}},t.prototype.getBlazorDragEventArgs=function(e){return e={source:Vc(e.source),element:Lc(e.element)===$a?{connector:Vc(e.element)}:{node:Vc(e.element)},cancel:e.cancel,diagramId:this.element.id}},t.prototype.findChild=function(e,t){for(var n,i,r=0;r<e.children.length;r++)(n=t[e.children[r]])&&(n.children&&this.findChild(n,t),n.id=n.id+mh(),t[n.id]=n,e.children[r]=n.id,i=new Dd(this,"nodes",n,!0),this.initObject(i,void 0,void 0,!0))},t.prototype.getChildren=function(e,t,n){for(var i,r=0;r<e.children.length;r++)(i=n[e.children[r]])&&(i.children&&(t=this.getChildren(i,t,n)),t[i.id]=xh(i));return t},t.prototype.addChildNodes=function(e){for(var t,n=0;n<e.children.length;n++)(t=this.nameTable[e.children[n]])&&(t.children&&this.addChildNodes(t),this.add(t,!0))},t.prototype.moveNode=function(e){for(var t,n=this.commandHandler.getObjectLayer(e.id),i=n.zIndex,r=n.objects.length,o=0;o<this.layers.length;o++)i===this.layers[o].zIndex&&(t=this.layers[o+1]);if(r>1)this.commandHandler.moveSvgNode(e.id,n.objects[r-2]),this.commandHandler.moveSvgNode(n.objects[r-2],e.id);else if(t){var a=this.commandHandler.getLayer(this.layerZIndexTable[t.zIndex]).objects[0];a?(this.commandHandler.moveSvgNode(e.id,a),this.commandHandler.updateNativeNodeIndex(e.id,a)):this.moveObjectsUp(e,n)}else this.moveObjectsUp(e,n)},t.prototype.moveObjectsUp=function(e,t){for(var n,i=this.layers.length-1;i>=0;i--)if(n=this.layers[i],t.id!==n.id){var r=this.commandHandler.getLayer(this.layerZIndexTable[n.zIndex]).objects[n.objects.length-1];if(r){this.commandHandler.moveSvgNode(e.id,r),this.commandHandler.moveSvgNode(r,e.id);break}}},t.prototype.insertData=function(e){return this.crudOperation(e,"create",this.getNewUpdateNodes("New"))},t.prototype.updateData=function(e){return this.crudOperation(e,"update",this.getNewUpdateNodes("Update"))},t.prototype.removeData=function(e){return this.crudOperation(e,"destroy",this.getDeletedNodes())},t.prototype.crudOperation=function(e,t,n){if(e){var i=this.parameterMap(e,!(e instanceof $a));if(i){var r=e instanceof $a?this.dataSourceSettings.connectionDataSource.crudAction[t]:this.dataSourceSettings.crudAction[t];this.raiseAjaxPost(JSON.stringify(i),r)}return i}var o=n;return this.processCrudCollection(o,this.dataSourceSettings.crudAction[t],this.dataSourceSettings.connectionDataSource.crudAction[t]),o},t.prototype.processCrudCollection=function(e,t,n){if(e.nodes){var i=[],r=void 0;for(r=0;r<e.nodes.length;r++)i.push(this.parameterMap(e.nodes[r],!0));i&&i.length>0&&this.raiseAjaxPost(JSON.stringify(i),t)}if(e.connectors){i=[],r=void 0;for(r=0;r<e.connectors.length;r++)i.push(this.parameterMap(e.connectors[r],!1));i&&i.length>0&&this.raiseAjaxPost(JSON.stringify(i),n)}},t.prototype.parameterMap=function(e,t){var n,i={},r=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource;if(r.id&&(i[r.id]=e.id),r.sourcePointX&&r.sourcePointY&&(i[r.sourcePointX]=e.sourcePoint.x,i[r.sourcePointY]=e.sourcePoint.y),r.targetPointX&&r.targetPointY&&(i[r.targetPointX]=e.targetPoint.x,i[r.targetPointY]=e.targetPoint.y),r.sourceID&&(i[r.sourceID]=e.sourceID),r.targetID&&(i[r.targetID]=e.targetID),r.crudAction&&r.crudAction.customFields&&r.crudAction.customFields.length>0)for(n=0;n<r.crudAction.customFields.length;n++)i[r.crudAction.customFields[n]]=e[r.crudAction.customFields[n]];return i},t.prototype.getNewUpdateNodes=function(e){var t=[],n=[];for(var i in this.nameTable){var r=this.nameTable[i];r.status==e&&(r&&r instanceof $a?(r.status="None",n.push(r)):(r.status="None",t.push(r)))}return{nodes:t,connectors:n}},t.prototype.getDeletedNodes=function(){var e,t=[],n=[];for(e=0;e<this.crudDeleteNodes.length;e++){var i=this.crudDeleteNodes[e];i&&i.segments?n.push(i):i&&t.push(i)}return this.crudDeleteNodes=[],{nodes:t,connectors:n}},t.prototype.raiseAjaxPost=function(e,t){var n=new Q(t,"POST",!0,"application/json"),i=JSON.stringify(JSON.parse(e));n.send(i).then(),n.onSuccess=function(e){}},au([zt("100%")],t.prototype,"width",void 0),au([zt("SVG")],t.prototype,"mode",void 0),au([zt("100%")],t.prototype,"height",void 0),au([Bt({},Us)],t.prototype,"contextMenuSettings",void 0),au([zt(Ii.Default)],t.prototype,"constraints",void 0),au([zt(Ai.Default)],t.prototype,"tool",void 0),au([zt("Top")],t.prototype,"bridgeDirection",void 0),au([zt("transparent")],t.prototype,"backgroundColor",void 0),au([Bt({},Gh)],t.prototype,"snapSettings",void 0),au([Bt({},$h)],t.prototype,"rulerSettings",void 0),au([Bt({},Wh)],t.prototype,"pageSettings",void 0),au([Bt({},Qp)],t.prototype,"serializationSettings",void 0),au([_t([],Dd)],t.prototype,"nodes",void 0),au([zt()],t.prototype,"drawingObject",void 0),au([_t([],$a)],t.prototype,"connectors",void 0),au([zt([])],t.prototype,"basicElements",void 0),au([Bt({},fa)],t.prototype,"tooltip",void 0),au([Bt({},op)],t.prototype,"dataSourceSettings",void 0),au([zt()],t.prototype,"addInfo",void 0),au([zt()],t.prototype,"historyManager",void 0),au([zt()],t.prototype,"nodeTemplate",void 0),au([zt()],t.prototype,"annotationTemplate",void 0),au([zt()],t.prototype,"userHandleTemplate",void 0),au([zt()],t.prototype,"getNodeDefaults",void 0),au([zt()],t.prototype,"nodeDefaults",void 0),au([zt()],t.prototype,"getConnectorDefaults",void 0),au([zt()],t.prototype,"connectorDefaults",void 0),au([zt()],t.prototype,"setNodeTemplate",void 0),au([zt()],t.prototype,"getDescription",void 0),au([zt()],t.prototype,"getCustomProperty",void 0),au([zt()],t.prototype,"getCustomTool",void 0),au([zt()],t.prototype,"getCustomCursor",void 0),au([_t([],tu)],t.prototype,"customCursor",void 0),au([zt()],t.prototype,"updateSelection",void 0),au([Bt({},ru)],t.prototype,"diagramSettings",void 0),au([Bt({},Hd)],t.prototype,"selectedItems",void 0),au([Bt({},Fh)],t.prototype,"scrollSettings",void 0),au([Bt({},lp)],t.prototype,"layout",void 0),au([Bt({},Vs)],t.prototype,"commandManager",void 0),au([Ft()],t.prototype,"dataLoaded",void 0),au([Ft()],t.prototype,"dragEnter",void 0),au([Ft()],t.prototype,"dragLeave",void 0),au([Ft()],t.prototype,"dragOver",void 0),au([Ft()],t.prototype,"click",void 0),au([Ft()],t.prototype,"historyChange",void 0),au([Ft()],t.prototype,"historyStateChange",void 0),au([Ft()],t.prototype,"doubleClick",void 0),au([Ft()],t.prototype,"textEdit",void 0),au([Ft()],t.prototype,"scrollChange",void 0),au([Ft()],t.prototype,"selectionChange",void 0),au([Ft()],t.prototype,"sizeChange",void 0),au([Ft()],t.prototype,"connectionChange",void 0),au([Ft()],t.prototype,"sourcePointChange",void 0),au([Ft()],t.prototype,"targetPointChange",void 0),au([Ft()],t.prototype,"propertyChange",void 0),au([Ft()],t.prototype,"positionChange",void 0),au([Ft()],t.prototype,"keyUp",void 0),au([Ft()],t.prototype,"keyDown",void 0),au([Ft()],t.prototype,"animationComplete",void 0),au([Ft()],t.prototype,"rotateChange",void 0),au([Ft()],t.prototype,"collectionChange",void 0),au([Ft()],t.prototype,"onUserHandleMouseDown",void 0),au([Ft()],t.prototype,"onUserHandleMouseUp",void 0),au([Ft()],t.prototype,"onUserHandleMouseEnter",void 0),au([Ft()],t.prototype,"onUserHandleMouseLeave",void 0),au([Ft()],t.prototype,"segmentCollectionChange",void 0),au([Ft()],t.prototype,"onImageLoad",void 0),au([Ft()],t.prototype,"expandStateChange",void 0),au([Ft()],t.prototype,"created",void 0),au([Ft()],t.prototype,"mouseEnter",void 0),au([Ft()],t.prototype,"mouseLeave",void 0),au([Ft()],t.prototype,"mouseOver",void 0),au([Ft()],t.prototype,"contextMenuOpen",void 0),au([Ft()],t.prototype,"contextMenuBeforeItemRender",void 0),au([Ft()],t.prototype,"contextMenuClick",void 0),au([Ft()],t.prototype,"commandExecute",void 0),au([_t([],Vp)],t.prototype,"layers",void 0),au([Ft()],t.prototype,"drop",void 0),t}(ln),du=(function(){function e(e){this.diagram=e}e.prototype.exportDiagram=function(e){var t,n,i,r,o="data",a=[],s=e.margin||{},l=e&&e.region?e.region:"Content";r=e&&e.mode?e.mode:"Download";var c=this.getDiagramBounds(l,e);e.bounds&&(n=!0,c.x=e.bounds.x?e.bounds.x:c.x,c.y=e.bounds.y?e.bounds.y:c.y,c.width=e.bounds.width||c.width,c.height=e.bounds.height||c.height),s={top:void 0!==s.top?s.top:25,bottom:void 0!==s.bottom?s.bottom:25,right:void 0!==s.right?s.right:25,left:void 0!==s.left?s.left:25};this.diagram.nodes;"PageSettings"!==l&&(c.x-=s.left,c.y-=s.top,c.width+=s.left+s.right,c.height+=s.top+s.bottom);var d=e.fileName||"diagram";if("SVG"!==e.format){if(null!==(o=this.setCanvas(e,c,s,r,n,l,d)))return o}else{t=e.format,e.bounds=c,e.margin=s;var h=i=this.diagramAsSvg(e,s);if("Data"===r)return w()&&"SVG"===e.format?(new XMLSerializer).serializeToString(h):i;var p=(new XMLSerializer).serializeToString(h);a.push(p)}if("Download"===r&&null!==o)for(var u=0;u<a.length;u++){var f=new Blob([a[u]],{type:"application/octet-stream"});if("msie"===le.info.name)window.navigator.msSaveOrOpenBlob(f,d+"."+t);else{var g=ih("a",{download:d+"."+t}),m=URL.createObjectURL(f);g.href=m;var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}return null},e.prototype.setCanvas=function(e,t,n,i,r,o,a){var s;e.bounds=t,e.region=o;this.setScaleValueforCanvas(e,t);var l=this.diagramAsCanvas({bounds:t,margin:n,region:o,scaleX:e.scaleX,scaleY:e.scaleY,scaleOffsetX:e.scaleOffsetX,scaleOffsetY:e.scaleOffsetY},r),c=s=l.toDataURL();return"Data"===i?s:(this.canvasMultiplePage(e,l,n,c,a),null)},e.prototype.canvasMultiplePage=function(e,t,n,i,r){var o=this,a=[],s=e.format||"JPG";if(e.multiplePage){if(e.pageHeight=e.pageHeight?e.pageHeight:this.diagram.pageSettings.height,e.pageWidth=e.pageWidth?e.pageWidth:this.diagram.pageSettings.width,e.pageHeight=e.pageHeight?e.pageHeight:t.width,e.pageWidth=e.pageWidth?e.pageWidth:t.height,n=e.margin||{},e.pageOrientation&&("Landscape"===e.pageOrientation&&e.pageHeight>e.pageWidth||"Portrait"===e.pageOrientation&&e.pageWidth>e.pageHeight)){var l=e.pageWidth;e.pageWidth=e.pageHeight,e.pageHeight=l}e.margin={top:isNaN(n.top)?0:n.top,bottom:isNaN(n.bottom)?0:n.bottom,left:isNaN(n.left)?0:n.left,right:isNaN(n.right)?0:n.right};var c=ih("img",{id:this.diagram.element.id+"_printImage",src:i});c.onload=function(){a=o.getMultipleImage(c,e,!0),o.exportImage(a,r,s,i)}}else a=[i],this.exportImage(a,r,s,i)},e.prototype.exportImage=function(e,t,n,i){for(var r=[],o=e instanceof HTMLElement?0:e.length,a=0;a<o;a++){for(var s=e[a].replace(/^data:[a-z]*;,/,"").split(","),l=atob(s[1]),c=new ArrayBuffer(l.length),d=new Uint8Array(c),h=0;h<l.length;h++)d[h]=l.charCodeAt(h);r.push(c)}for(var p=function(e){var i=new Blob([r[e]],{type:"application/octet-stream"});if("msie"===le.info.name)window.navigator.msSaveOrOpenBlob(i,t+"."+n);else{var o=ih("a",{download:t+"."+n}),a=URL.createObjectURL(i);o.href=a;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),setTimeout((function(){o.dispatchEvent(s)}),5*(e+1))}},u=0;u<r.length;u++)p(u)},e.prototype.getObjectsBound=function(e){for(var t,n=0,i=this.diagram.nodes;n<i.length;n++){var r=i[n];r.visible&&(("SVG"===e.format||r instanceof gr||r instanceof Ta)&&("SVG"!==e.format||r instanceof Ta)||(t=t?t.uniteRect(r.wrapper.outerBounds):r.wrapper.outerBounds))}for(var o=0,a=this.diagram.connectors;o<a.length;o++){var s=a[o];s.visible&&(t=t?t.uniteRect(s.wrapper.outerBounds):s.wrapper.outerBounds)}return t||new di(0,0,0,0)},e.prototype.getDiagramBounds=function(e,t){var n=this.getObjectsBound(t),i=n.left,r=n.top,o=n.right-n.left,a=n.bottom-n.top;"Content"!==e&&(this.diagram.pageSettings&&this.diagram.pageSettings.multiplePage?(i=n.left,r=n.top,this.diagram.pageSettings.width&&(i=Math.floor(i/this.diagram.pageSettings.width)*this.diagram.pageSettings.width,o=Math.ceil(n.right/this.diagram.pageSettings.width)*this.diagram.pageSettings.width-i),this.diagram.pageSettings.height&&(r=Math.floor(r/this.diagram.pageSettings.height)*this.diagram.pageSettings.height,a=Math.ceil(n.bottom/this.diagram.pageSettings.height)*this.diagram.pageSettings.height-r),0===n.width&&null!==this.diagram.pageSettings.width&&(o=this.diagram.pageSettings.width),0===n.height&&null!==this.diagram.pageSettings.height&&(a=this.diagram.pageSettings.height)):(this.diagram.pageSettings.width&&(i=0,o=this.diagram.pageSettings.width),this.diagram.pageSettings.height&&(r=0,a=this.diagram.pageSettings.height)));var s=new di;return s.x=i,s.y=r,s.width=o,s.height=a,s},e.prototype.setScaleValueforCanvas=function(e,t){var n="scaleX";e[n]=1,e.scaleY=1,e.scaleOffsetX=0,e.scaleOffsetY=0,e.pageHeight=e.pageHeight||this.diagram.pageSettings.height,e.pageWidth=e.pageWidth||this.diagram.pageSettings.width;var i=e.pageOrientation||this.diagram.pageSettings.orientation;if(i||(i="Portrait"),"Portrait"===i){if(e.pageWidth>e.pageHeight){var r=e.pageHeight;e.pageHeight=e.pageWidth,e.pageWidth=r}}else if(e.pageHeight>e.pageWidth){r=e.pageWidth;e.pageWidth=e.pageHeight,e.pageHeight=r}e.pageWidth&&e.pageHeight&&!e.multiplePage&&(e.stretch="Meet");var o=e.pageHeight||t.height,a=e.pageWidth||t.width;"Stretch"!==e.stretch&&"Meet"!==e.stretch&&"Slice"!==e.stretch||(e[n]=a/t.width,e.scaleY=o/t.height,"Meet"===e.stretch?(e[n]=e.scaleY=Math.min(e[n],e.scaleY),e.scaleOffsetY=(e.pageHeight-t.height*e[n])/2,e.scaleOffsetX=(e.pageWidth-t.width*e[n])/2):"Slice"===e.stretch&&(e[n]=e.scaleY=Math.max(e[n],e.scaleY)),t.width=a,t.height=o),t.x*=e[n],t.y*=e.scaleY},e.prototype.diagramAsSvg=function(e,t){var n=this.diagram.createSvg(this.diagram.element.id+"_diagram_svg",e.bounds.width,e.bounds.height);document.body.appendChild(n);var i=rh("g",{id:this.diagram.element.id+"_pageBackground"}),r=e&&e.region?e.region:"Content",o=this.getDiagramBounds(r,e),a=o.x,s=o.y,l=o.width,c=o.height;n.appendChild(i);var d={x:String(a),y:String(s),width:String(l),height:String(c)};dh(i,d),this.setTransform(i,e.bounds,t);var h=document.getElementById(this.diagram.element.id+"gradient_pattern");h&&n.appendChild(h),d={x:String(a),y:String(s),width:String(l+t.left+t.right),height:String(c+t.top+t.bottom)};var p=document.getElementById(this.diagram.element.id+"_backgroundImageLayer").cloneNode(!0);dh(p,d),n.appendChild(p),this.setTransform(p,o,t);var u=document.getElementById(this.diagram.element.id+"_backgroundLayerrect").cloneNode(!0);if(dh(u,d),n.appendChild(u),this.setTransform(u,o,t),"SVG"===this.diagram.mode){var f=void 0,g=void 0,m=Ud(this.diagram.element.id);for(n.appendChild(m.getElementById(this.diagram.diagramLayer.id).cloneNode(!0)),g=0;g<n.childNodes.length;g++)(f=n.childNodes[g]).id===this.diagram.element.id+"_diagramLayer"&&this.setTransform(f,o,t)}else{i=rh("g",{id:this.diagram.element.id+"_diagramLayer"}),n.appendChild(i),this.setTransform(i,e.bounds,t);var v=new Nh("",null,!0),y=nh(this.diagram.element.id);this.diagram.renderDiagramElements(n,v,y,!1)}return document.body.removeChild(n),n},e.prototype.setTransform=function(e,t,n){e.setAttribute("transform","translate("+(-t.x+n.left)+", "+(-t.y+n.top)+")")},e.prototype.diagramAsCanvas=function(e,t){var n=e.bounds,i=e.margin,r=e&&e.region?e.region:"Content",o=this.getDiagramBounds(r,e),a=this.diagram.pageSettings.background.color,s=Lh.createCanvas(this.diagram.element.id+"_diagram",e.bounds.width,e.bounds.height),l=s.getContext("2d");l.translate(-n.x,-n.y),l.save(),l.fillStyle=this.diagram.pageSettings.background.color,n="Content"===r?o:n,l.fillRect(n.x,n.y,n.width,n.height);var c=this.diagram.pageSettings.background;if(c&&c.source){o=this.getDiagramBounds(r,e);var d=new Image;d.src=c.source;var h=o.width/d.width,p=o.height/d.height,u=o.x,f=o.y,g=o.width,m=o.height,v=this.isImageExportable(c);if("None"!==c.scale&&"None"!==c.align){var y="Meet"===c.scale?Math.min(h,p):Math.max(h,p);g=y*d.width,m=y*d.height,c.align.indexOf("xmid")>-1?u+=(o.width-g)/2:c.align.indexOf("xmax")>-1&&(u=u+o.width-g),c.align.indexOf("ymid")>-1?f+=(o.height-m)/2:c.align.indexOf("ymax")>-1&&(f=f+o.height-m),"none"!==this.diagram.pageSettings.background.color&&"transparent"!==this.diagram.pageSettings.background.color||(l.fillStyle="white",l.fillRect(o.x*e.scaleX,o.y*e.scaleY,o.width*e.scaleX,o.height*e.scaleY)),v&&l.drawImage(d,u,f,y*d.width,y*d.height)}else v&&l.drawImage(d,u,f,o.width,o.height)}else l.fillStyle="transparent"===a?"white":a,l.fillRect(o.x*e.scaleX-i.left,o.y*e.scaleY-i.top,o.width*e.scaleX+i.left+i.right,e.scaleY*o.height+i.top+i.bottom);var b=this.diagram.pageSettings.background.color,w=this.diagram.pageSettings.width;w&&(l.strokeStyle="none"===b?"transparent":b,l.lineWidth=w,l.strokeRect(o.x*e.scaleX,o.y*e.scaleY,o.width*e.scaleX,o.height*e.scaleY)),l.restore();var x=nh(this.diagram.element.id),S=new Nh("",null,!1);return this.updateObjectValue(e.scaleX,e.scaleOffsetX,e.scaleOffsetY,!0),this.diagram.renderDiagramElements(s,S,x,!1,!0),this.updateObjectValue(e.scaleX,e.scaleOffsetX,e.scaleOffsetY,!1),s},e.prototype.updateWrapper=function(e,t,n,i,r){if(e&&e.length>0)for(var o=0;o<e.length;o++)e[o].children&&this.updateWrapper(e[o].children,t,n,i,r),e[o].exportScaleValue.x=t,e[o].exportScaleValue.y=t,e[o].exportScaleOffset.x=n,e[o].exportScaleOffset.y=i,e[o].isExport=r},e.prototype.updateObjectValue=function(e,t,n,i){for(var r,o=0;o<this.diagram.nodes.length;o++)r=this.diagram.nodes[o].wrapper,this.updateWrapper(r.children,e,t,n,i),r.exportScaleValue.x=e,r.exportScaleValue.y=e,r.exportScaleOffset.x=t,r.exportScaleOffset.y=n,r.isExport=i;for(var a=0;a<this.diagram.connectors.length;a++){r=this.diagram.connectors[a].wrapper;for(var s=0;s<r.children.length;s++)r.children[s].isExport=i,i&&(r.children[s].exportScaleValue.x=e,r.children[s].exportScaleValue.y=e,r.children[s].exportScaleOffset.x=t,r.children[s].exportScaleOffset.y=n)}},e.prototype.isImageExportable=function(e){var t,n=!0;if(e.source)try{var i=(t=Lh.createCanvas(this.diagram.element.id+"temp_canvas",100,100)).getContext("2d");i.save();var r=new Image;r.src=e.source,i.drawImage(r,0,0,100,100),i.restore(),t.toDataURL()}catch(o){n=!1}return n},e.prototype.getPrintCanvasStyle=function(e,t){var n=0,i=0,r=new Kn;if(n=e.width,i=e.height,(t.pageHeight||t.pageWidth)&&(i=t.pageHeight?t.pageHeight:i,n=t.pageWidth?t.pageWidth:n),t.pageOrientation&&("Landscape"===t.pageOrientation&&i>n||"Portrait"===t.pageOrientation&&n>i)){var o=n;n=i,i=o}return r.height=i,r.width=n,r},e.prototype.getMultipleImage=function(e,t,n){var i,r,o=[],a=ih("div",{}),s=this.getPrintCanvasStyle(e,t),l=t.margin,c=l.left,d=l.top,h=l.right,p=l.bottom,u=0;i=s.width+u,r=s.height+0;var f=0,g=0;if(t&&t.multiplePage){a.style.height="auto",a.style.width="auto";var m=e.height,v=e.width,y=0,b=0,w=void 0,x=0,S=0,C=void 0,O=void 0;do{do{x=s.width,S=s.height,f+s.width>=v&&(x=v-f),g+s.height>=m&&(S=m-g),(C=(O=Lh.createCanvas(this.diagram.element.id+"_multiplePrint",s.width,s.height)).getContext("2d")).drawImage(e,u+f+c,0+g+d,x-h-c,S-p-d,0+c,0+d,x-h-c,S-p-d),f+s.width>=v&&(f-=f-v),w=O.toDataURL(),C.restore(),f+=i,n?o.push(w):this.printImage(a,w,y+""+b,i+"px;",r+"px;"),y++}while(f<v);b++,y=u=f=0,g+s.height>=m&&(g-=g-m),g+=r}while(g<m)}else{var P,E,T=this.getPrintCanvasStyle(e,t);P=T.width,E=T.height;C=void 0,O=void 0,w=void 0;(C=(O=Lh.createCanvas(this.diagram.element.id+"_diagram",P,E)).getContext("2d")).drawImage(e,0+c,0+d,e.width-(h+c),e.height-(d+p),0+c,0+d,P-(h+c),E-(d+p)),w=O.toDataURL(),C.restore(),n?o.push(w):this.printImage(a,w,0)}return n?o:a},e.prototype.printImage=function(e,t,n,i,r){var o={class:"e-diagram-print-page",style:"width:"+i+"height:"+r},a=ih("img",o),s=ih("div",o);ph(a,o={id:this.diagram.element.id+"_multiplePrint_img"+n,style:"float:left",src:t}),s.appendChild(a),e.appendChild(s)},e.prototype.print=function(e){e.mode="Data";var t=this.exportDiagram(e);this.printImages(t,e)},e.prototype.printImages=function(e,t){var n=this,i={id:this.diagram.element.id+"_printImage",src:e};t.margin={top:0,bottom:0,right:0,left:0};var r=ih("img",i);r.onload=function(){var e=n.getMultipleImage(r,t),i=window.open("");null!=i&&e instanceof HTMLElement&&(i.document.write("<html><head><style> body{margin:0px;}  @media print { .e-diagram-print-page{page-break-after: left; }.e-diagram-print-page:last-child {page-break-after: avoid;}}</style><title></title></head>"),i.document.write('<BODY onload="setTimeout(function(){window.print();}, 100)">'),i.document.write("<center>"+e.innerHTML+"</center>"),i.document.close())}},e.prototype.getDiagramContent=function(e){var t=document.getElementById(this.diagram.element.id+"content"),n=t.scrollLeft,i=t.scrollTop,r=this.diagram.scrollSettings.currentZoom,o=this.diagram.scroller.horizontalOffset,a=this.diagram.scroller.verticalOffset,s=Number(String(this.diagram.width).split("px")[0]),l=Number(String(this.diagram.height).split("px")[0]),c=this.getDiagramBounds("",{});this.diagram.scroller.zoom(1/r);var d,h;d=c.x,h=c.y,this.diagram.scroller.transform={tx:-d,ty:-h,scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=-d,this.diagram.scroller.verticalOffset=-h,this.diagram.scroller.setSize(),this.diagram.setSize(c.width,c.height);var p=this.diagram.snapSettings.constraints;this.diagram.snapSettings.constraints=this.diagram.snapSettings.constraints&~Si.ShowLines,this.diagram.dataBind(),this.diagram.clearSelection(),e=e||document.styleSheets;for(var u="",f=0;f<e.length;f++)(e[f].href||"string"===typeof e[f])&&(u+="<link href='"+(e[f].href||e[f])+"' rel='stylesheet' />");var g=document.getElementById(this.diagram.element.id+"content").innerHTML;return g=(g=u+"<body style=\"margin: 0px; padding: 0px\"><div style='margin-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;'>"+g+"</div></body>").replace(/ transform: t/g," -webkit-transform: t"),this.diagram.setSize(s,l),this.diagram.scroller.zoom(r/this.diagram.scrollSettings.currentZoom),this.diagram.snapSettings.constraints=p,this.diagram.dataBind(),n||i?this.diagram.setOffset(n,i):(this.diagram.scroller.transform={tx:o/this.diagram.scroller.currentZoom,ty:a/this.diagram.scroller.currentZoom,scale:this.diagram.scroller.currentZoom},this.diagram.scroller.horizontalOffset=o,this.diagram.scroller.verticalOffset=a),this.diagram.renderSelector(!1),Uc()?g.replace("url("+location.protocol+"//"+location.host+location.pathname+"#diagram_pattern ","url(#diagram_pattern)"):g},e.prototype.exportImages=function(e,t){var n=this,i=t&&t.region?t.region:"Content",r=t.margin||{};r={top:isNaN(r.top)?0:r.top,bottom:isNaN(r.bottom)?0:r.bottom,left:isNaN(r.left)?0:r.left,right:isNaN(r.right)?0:r.right};var o=this.getDiagramBounds(i,{});t.bounds&&(o.x=isNaN(t.bounds.x)?o.x:t.bounds.x,o.y=isNaN(t.bounds.y)?o.y:t.bounds.y,o.width=t.bounds.width||o.width,o.height=t.bounds.height||o.height);var a=document.createElement("img");ph(a,{src:e});var s=this;a.onload=function(){var i=Lh.createCanvas(s.diagram.element.id+"innerImage",o.width+(r.left+r.right),o.height+(r.top+r.bottom)),l=i.getContext("2d");if(l.fillStyle=s.diagram.pageSettings.background.color,l.fillRect(0,0,o.width+(r.left+r.right),o.height+(r.top+r.bottom)),l.drawImage(a,0,0,o.width,o.height,r.left,r.top,o.width,o.height),e=i.toDataURL(),t.printOptions)s.printImages(e,t);else{l.restore();var c=t.fileName||"diagram";n.canvasMultiplePage(t,i,r,e,c)}}},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"PrintandExport"}}(),function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"===typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,n,i){return(e=e||this.dataManager)?e.executeQuery(this,t,n,i):uu.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return(e=e||this.dataManager)?e.executeLocal(this):uu.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"===typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,n,i,r){t=t?t.toLowerCase():null;var o=null;return"string"===typeof e?o=new hu(e,t,n,i,r):e instanceof hu&&(o=e),this.queries.push({fn:"onWhere",e:o}),this},e.prototype.search=function(e,t,n,i,r){"string"===typeof t&&(t=[t]),n&&"none"!==n||(n="contains");var o=uu.fnOperators[n];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:n,searchKey:e,ignoreCase:i,ignoreAccent:r,comparer:o}}),this},e.prototype.sortBy=function(t,n,i){var r,o,a="ascending";if("string"===typeof t&&uu.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),n="descending"),n&&"string"!==typeof n||(a=n?n.toLowerCase():"ascending",n=uu.fnSort(n)),i){r=e.filterQueries(this.queries,"onSortBy");for(var s=0;s<r.length;s++)if("string"===typeof(o=r[s].e.fieldName)){if(o===t)return this}else if(o instanceof Array)for(var l=0;l<o.length;l++)if(o[l]===t||t.toLowerCase()===o[l]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:n,direction:a}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,n){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:n||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"===typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter((function(e){return e.fn===t}))},e.filterQueryLists=function(e,t){for(var n=e.filter((function(e){return-1!==t.indexOf(e.fn)})),i={},r=0;r<n.length;r++)i[n[r].fn]||(i[n[r].fn]=n[r].e);return i},e}()),hu=function(){function e(t,n,i,r,o){return void 0===r&&(r=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"===typeof t?(this.field=t,this.operator=n.toLowerCase(),this.value=i,this.ignoreCase=r,this.ignoreAccent=o,this.isComplex=!1,this.comparer=uu.fnOperators.processOperator(this.operator)):(t instanceof e&&i instanceof e||i instanceof Array)&&(this.isComplex=!0,this.condition=n.toLowerCase(),this.predicates=[t],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return e.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,n,i,r,o){return e.combine(this,t,n,i,"and",r,o)},e.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,n,i,r,o){return e.combine(this,t,n,i,"or",r,o)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],n=0,i=e.length;n<i;n++)t.push(this.fromJSONData(e[n]));return t}var r=e;return this.fromJSONData(r)},e.prototype.validate=function(e){var t,n,i=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,uu.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var r=0;r<i.length;r++)if(n=i[r].validate(e),t){if(!n)return!1}else if(n)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var n=0;n<t.length;n++)e.push(t[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,n){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],n,t.slice(1))},e.combine=function(t,n,i,r,o,a,s){return n instanceof e?e[o](t,n):"string"===typeof n?e[o](t,new e(n,i,r,a,s)):uu.throwError("Predicate - "+o+" : invalid arguments")},e.fromJSONData=function(t){for(var n=t.predicates||[],i=n.length,r=[],o=0;o<i;o++)r.push(this.fromJSONData(n[o]));return t.isComplex?new e(r[0],t.condition,r.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),pu={GroupGuid:"{271bbba0-1ee7}"},uu=function(){function e(){}return e.getValue=function(e,t){return"function"===typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return f(e)&&f(t)||null===t||void 0===t?-1:"string"===typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return f(e)&&f(t)?-1:null===t||void 0===t?1:"string"===typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var n={},i=0;i<t.length;i++)n=this.setValue(t[i],this.getObject(t[i],e),n);return n},e.select=function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(this.extractFields(e[i],t));return n},e.group=function(t,n,i,r,o,a){r=r||1;var s=t;if(s.GroupGuid===pu.GroupGuid){for(var l=function(e){if(f(o))s[e].items=c.group(s[e].items,n,i,s.level+1,null,a),s[e].count=s[e].items.length;else{var t,r=o.filter((function(t){return t.key===s[e].key}));t=o.indexOf(r[0]),s[e].items=c.group(s[e].items,n,i,s.level+1,o[t].items,a),s[e].count=o[t].count}},c=this,d=0;d<s.length;d++)l(d);return s.childLevels+=1,s}var h={},p=[];p.GroupGuid=pu.GroupGuid,p.level=r,p.childLevels=0,p.records=s;for(var u=function(e){var t=g.getVal(s,e,n);if(f(a)||(t=a(t,n)),!h[t]&&(h[t]={key:t,count:0,items:[],aggregates:{},field:n},p.push(h[t]),!f(o))){var i=o.filter((function(e){return e.key===h[t].key}));h[t].count=i[0].count}h[t].count=f(o)?h[t].count+=1:h[t].count,h[t].items.push(s[e])},g=this,m=0;m<s.length;m++)u(m);if(i&&i.length){var v=function(t){for(var n={},r=void 0,a=i,s=0;s<i.length;s++)if(r=e.aggregates[i[s].type],f(o))r&&(n[a[s].field+" - "+a[s].type]=r(p[t].items,a[s].field));else{var l=o.filter((function(e){return e.key===p[t].key}));r&&(n[a[s].field+" - "+a[s].type]=r(l[0].items,a[s].field))}p[t].aggregates=n};for(m=0;m<p.length;m++)v(m)}return s.length&&p||s},e.buildHierarchy=function(e,t,n,i,r){var o,a={};for(i.result&&(i=i.result),i.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<i.length;o++){(a[s=this.getObject(e,i[o])]||(a[s]=[])).push(i[o])}for(o=0;o<n.length;o++){var s=this.getObject(r||e,n[o]);n[o][t]=a[s]}},e.getFieldList=function(e,t,n){if(void 0===n&&(n=""),void 0===t||null===t)return this.getFieldList(e,[],n);for(var i=e,r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];"object"!==typeof i[a]||i[a]instanceof Array?t.push(n+a):this.getFieldList(i[a],t,n+a+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var n=t,i=e.split("."),r=0;r<i.length&&null!=n;r++)n=n[i[r]];return n}},e.setValue=function(e,t,n){var i,r,o=e.toString().split("."),a=n||{},s=a,l=o.length;for(i=0;i<l;i++)r=o[i],i+1===l?s[r]=void 0===t?void 0:t:f(s[r])&&(s[r]={}),s=s[r];return a},e.sort=function(e,t,n){if(e.length<=1)return e;var i=parseInt((e.length/2).toString(),10),r=e.slice(0,i),o=e.slice(i);return r=this.sort(r,t,n),o=this.sort(o,t,n),this.merge(r,o,t,n)},e.ignoreDiacritics=function(t){return"string"!==typeof t?t:t.split("").map((function(t){return t in e.diacritics?e.diacritics[t]:t})).join("")},e.merge=function(e,t,n,i){for(var r,o=[];e.length>0||t.length>0;)r=e.length>0&&t.length>0?i?i(this.getVal(e,0,n),this.getVal(t,0,n),e[0],t[0])<=0?e:t:e[0][n]<e[0][n]?e:t:e.length>0?e:t,o.push(r.shift());return o},e.getVal=function(e,t,n){return n?this.getObject(n,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"===typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,n,i){if(t in e){var r=e[t](n,i);f(r)||(n=r)}return n},e.getAddParams=function(t,n,i){var r={};return e.callAdaptorFunction(t,"addParams",{dm:n,query:i,params:i.params,reqParams:r}),r},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(t){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,n){if("crypto"in window&&"getRandomValues"in crypto){var i=new Uint8Array(1);window.crypto.getRandomValues(i),t=i[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===n?3&t|8:t]}))},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,n,i){var r,o,a,s=0,l="string"===typeof e.getVal(t,0,n);if(t.length)for(;f(r)&&s<t.length;)r=e.getVal(t,s,n),a=t[s++];for(;s<t.length;s++)f(o=e.getVal(t,s,n))||(l&&(r=+r,o=+o),i(r,o)>0&&(r=o,a=t[s]));return a},e.distinct=function(t,n,i){i=!f(i)&&i;var r,o=[],a={};return t.forEach((function(s,l){(r="object"===typeof t[l]?e.getVal(t,l,n):t[l])in a||(o.push(i?t[l]:r),a[r]=1)})),o},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},e.aggregates={sum:function(t,n){for(var i,r=0,o="number"!==typeof e.getVal(t,0,n),a=0;a<t.length;a++)i=e.getVal(t,a,n),isNaN(i)||null===i||(o&&(i=+i),r+=i);return r},average:function(t,n){return e.aggregates.sum(t,n)/t.length},min:function(t,n){var i;return"function"===typeof n&&(i=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,i||e.fnAscending))},max:function(t,n){var i;return"function"===typeof n&&(i=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,i||e.fnDescending))},truecount:function(e,t){return new xu(e).executeLocal((new du).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new xu(e).executeLocal((new du).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:function(t,n,i,r){return r&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?e.toLowerCase(t)===e.toLowerCase(n):t===n},notequal:function(t,n,i,r){return r&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),!e.fnOperators.equal(t,n,i)},lessthan:function(t,n,i){return i?e.toLowerCase(t)<e.toLowerCase(n):t<n},greaterthan:function(t,n,i){return i?e.toLowerCase(t)>e.toLowerCase(n):t>n},lessthanorequal:function(t,n,i){return i?e.toLowerCase(t)<=e.toLowerCase(n):t<=n},greaterthanorequal:function(t,n,i){return i?e.toLowerCase(t)>=e.toLowerCase(n):t>=n},contains:function(t,n,i,r){return r&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?!f(t)&&!f(n)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(n)):!f(t)&&!f(n)&&-1!==t.toString().indexOf(n)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,n,i,r){return r&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?t&&n&&e.startsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.startsWith(t,n)},endswith:function(t,n,i,r){return r&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?t&&n&&e.endsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.endsWith(t,n)},processSymbols:function(t){var n=e.operatorSymbols[t];return n?e.fnOperators[n]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var n=e.fnOperators[t];return n||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"===typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"===typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var n=0;n<t.length;n++)"object"===typeof t[n]&&null!==t[n]?e.parse.iterateAndReviveJson(t[n]):"string"!==typeof t[n]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[n])?t[n]=e.parse.parseJson(t[n]):t[n]=e.parse.jsonReviver("",t[n])},iterateAndReviveJson:function(t){for(var n,i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];e.startsWith(o,"__")||("object"===typeof(n=t[o])?n instanceof Array?e.parse.iterateAndReviveArray(n):n&&e.parse.iterateAndReviveJson(n):t[o]=e.parse.jsonReviver(t[o],n))}},jsonReviver:function(t,n){if("string"===typeof n){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n),r=e.timeZoneHandling?e.serverTimezoneOffset:null;if(i)return e.dateParse.toTimeZone(new Date(parseInt(i[1],10)),r,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var o=n.indexOf("Z")>-1||n.indexOf("z")>-1,a=n.split(/[^0-9.]/);if(o)n=e.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),e.serverTimezoneOffset,!1);else{var s=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),l=parseInt(a[6],10),c=parseInt(a[7],10);if(isNaN(l)&&isNaN(c))return s;n.indexOf("+")>-1?s.setHours(s.getHours()-l,s.getMinutes()-c):s.setHours(s.getHours()+l,s.getMinutes()+c),n=e.dateParse.toTimeZone(s,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(n=e.dateParse.addSelfOffset(n))}}return n},isJson:function(t){return"string"===typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,n){return e.isPlainObject(t)?e.parse.jsonReplacer(t,n):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},n).val:t},jsonReplacer:function(t,n){for(var i,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];if((i=t[a])instanceof Date){var s=i;null==e.serverTimezoneOffset?t[a]=e.dateParse.toTimeZone(s,null).toJSON():(s=new Date(+s+36e5*e.serverTimezoneOffset),t[a]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(s),null).toJSON())}}return t},arrayReplacer:function(t){for(var n=0;n<t.length;n++)e.isPlainObject(t[n])?t[n]=e.parse.jsonReplacer(t[n]):t[n]instanceof Date&&(t[n]=e.parse.jsonReplacer({date:t[n]}).date);return t},jsonDateReplacer:function(t,n){if("value"===t&&n){if("string"===typeof n){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n);if(i)n=e.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var r=n.split(/[^0-9]/);n=e.dateParse.toTimeZone(new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),null,!0)}}if(n instanceof Date)return n=e.dateParse.addSelfOffset(n),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(n),null).toJSON():(n=e.dateParse.toTimeZone(n,n.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return n}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,n,i){if(null===n)return t;var r=i?e.dateParse.toUTC(t):t;return new Date(+r-36e5*n)},toLocalTime:function(e){var t=e,n=-t.getTimezoneOffset(),i=n>=0?"+":"-",r=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+i+r(n/60)+":"+r(n%60)}},e}(),fu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gu=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,n,i){return e},e}(),mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fu(t,e),t.prototype.processQuery=function(e,t){for(var n,i,r=e.dataSource.json.slice(0),o=r.length,a=!0,s={},l=0;l<t.queries.length;l++)n=this[(i=t.queries[l]).fn].call(this,r,i.e,t),"onAggregates"===i.fn?s[i.e.field+" - "+i.e.type]=n:r=void 0!==n?n:r,"onPage"!==i.fn&&"onSkip"!==i.fn&&"onTake"!==i.fn&&"onRange"!==i.fn||(a=!1),a&&(o=r.length);return t.isCountRequired&&(r={result:r,count:o,aggregates:s}),r},t.prototype.batchRequest=function(e,t,n){var i,r=t.deletedRecords.length;for(i=0;i<t.addedRecords.length;i++)this.insert(e,t.addedRecords[i]);for(i=0;i<t.changedRecords.length;i++)this.update(e,n.key,t.changedRecords[i]);for(i=0;i<r;i++)this.remove(e,n.key,t.deletedRecords[i]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e},t.prototype.onAggregates=function(e,t){var n=uu.aggregates[t.type];return e&&n&&0!==e.length?n(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&uu.getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var n=0;n<t.fieldNames.length;n++)if(t.comparer.call(e,uu.getObject(t.fieldNames[n],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e},t.prototype.onSortBy=function(e,t,n){if(!e||!e.length)return e;var i,r=uu.getValue(t.fieldName,n);if(!r)return e.sort(t.comparer);if(r instanceof Array){for(var o=(r=r.slice(0)).length-1;o>=0;o--)r[o]&&(i=t.comparer,uu.endsWith(r[o]," desc")&&(i=uu.fnSort("descending"),r[o]=r[o].replace(" desc","")),e=uu.sort(e,r[o],i));return e}return uu.sort(e,r,t.comparer)},t.prototype.onGroup=function(e,t,n){if(!e||!e.length)return e;var i=du.filterQueries(n.queries,"onAggregates"),r=[];if(i.length)for(var o=void 0,a=0;a<i.length;a++)o=i[a].e,r.push({type:o.type,field:uu.getValue(o.field,n)});return uu.group(e,uu.getValue(t.fieldName,n),r,null,null,t.comparer)},t.prototype.onPage=function(e,t,n){var i=uu.getValue(t.pageSize,n),r=(uu.getValue(t.pageIndex,n)-1)*i,o=r+i;return e&&e.length?e.slice(r,o):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(uu.getValue(t.start),uu.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,uu.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(uu.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?uu.select(e,uu.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,n,i,r){return f(r)?e.dataSource.json.push(t):e.dataSource.json.splice(r,0,t)},t.prototype.remove=function(e,t,n,i){var r,o=e.dataSource.json;for("object"!==typeof n||n instanceof Date||(n=uu.getObject(t,n)),r=0;r<o.length&&uu.getObject(t,o[r])!==n;r++);return r!==o.length?o.splice(r,1):null},t.prototype.update=function(e,t,n,i){var r,o,a=e.dataSource.json;for(f(t)||(o=c(t,n)),r=0;r<a.length&&(f(t)||c(t,a[r])!==o);r++);return r<a.length?p(a[r],n):null},t}(gu),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fu(t,e),t.prototype.processQuery=function(e,t,n){var i,r,o=this.getQueryRequest(t),a=du.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=t.params,l=e.dataSource.url,c=null,d=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?(i=a.onPage,r=((r=uu.getValue(i.pageIndex,t))-1)*(c=uu.getValue(i.pageSize,t))):"onRange"in a&&(r=(i=a.onRange).start,c=i.end-i.start);for(var p=0;p<o.sorts.length;p++)i=uu.getValue(o.sorts[p].e.fieldName,t),h.sorts.push(uu.callAdaptorFunction(this,"onEachSort",{name:i,direction:o.sorts[p].e.direction},t));n&&(i=this.getFiltersFrom(n,t))&&h.filters.push(uu.callAdaptorFunction(this,"onEachWhere",i.toJson(),t));for(p=0;p<o.filters.length;p++){h.filters.push(uu.callAdaptorFunction(this,"onEachWhere",o.filters[p].e.toJson(),t));for(var u=0,f="object"===typeof h.filters[p]?Object.keys(h.filters[p]):[];u<f.length;u++){var g=f[u];uu.isNull(h[g])&&delete h[g]}}for(p=0;p<o.searches.length;p++)i=o.searches[p].e,h.searches.push(uu.callAdaptorFunction(this,"onEachSearch",{fields:i.fieldNames,operator:i.operator,key:i.searchKey,ignoreCase:i.ignoreCase},t));for(p=0;p<o.groups.length;p++)h.groups.push(uu.getValue(o.groups[p].e.fieldName,t));for(p=0;p<o.aggregates.length;p++)i=o.aggregates[p].e,h.aggregates.push({type:i.type,field:uu.getValue(i.field,t)});var m={};this.getRequestQuery(d,t,a,h,m),uu.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:s,reqParams:m});for(var v=0,y=Object.keys(m);v<y.length;v++){g=y[v];(uu.isNull(m[g])||""===m[g]||0===m[g].length)&&delete m[g]}d.skip in m&&d.take in m||null===c||(m[d.skip]=uu.callAdaptorFunction(this,"onSkip",r,t),m[d.take]=uu.callAdaptorFunction(this,"onTake",c,t));var b=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(m,uu.parse.jsonDateReplacer),url:l,pvtData:b,type:"POST",contentType:"application/json; charset=utf-8"}:(i=this.convertToQueryString(m,t,e),{type:"GET",url:(i=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+i).length?l.replace(/\/*$/,i):l,pvtData:b})},t.prototype.getRequestQuery=function(e,t,n,i,r){var o=r;o[e.from]=t.fromTable,e.apply&&t.distincts.length&&(o[e.apply]="onDistinct"in this?uu.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(o[e.expand]="onExpand"in this&&"onSelect"in n?uu.callAdaptorFunction(this,"onExpand",{selects:uu.getValue(n.onSelect.fieldNames,t),expands:t.expands},t):t.expands),o[e.select]="onSelect"in n&&!t.distincts.length?uu.callAdaptorFunction(this,"onSelect",uu.getValue(n.onSelect.fieldNames,t),t):"",o[e.count]=t.isCountRequired?uu.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",o[e.search]=i.searches.length?uu.callAdaptorFunction(this,"onSearch",i.searches,t):"",o[e.skip]="onSkip"in n?uu.callAdaptorFunction(this,"onSkip",uu.getValue(n.onSkip.nos,t),t):"",o[e.take]="onTake"in n?uu.callAdaptorFunction(this,"onTake",uu.getValue(n.onTake.nos,t),t):"",o[e.where]=i.filters.length||i.searches.length?uu.callAdaptorFunction(this,"onWhere",i.filters,t):"",o[e.sortBy]=i.sorts.length?uu.callAdaptorFunction(this,"onSortBy",i.sorts,t):"",o[e.group]=i.groups.length?uu.callAdaptorFunction(this,"onGroup",i.groups,t):"",o[e.aggregates]=i.aggregates.length?uu.callAdaptorFunction(this,"onAggregates",i.aggregates,t):"",o.param=[]},t.prototype.convertToQueryString=function(e,t,n){return""},t.prototype.processResponse=function(e,t,n,i,r,o){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("application/json")){var a=uu.timeZoneHandling;t&&!t.timeZoneHandling&&(uu.timeZoneHandling=!1),e=uu.parse.parseJson(e),uu.timeZoneHandling=a}var s=r,l=s.pvtData||{},c=e?e.groupDs:[];if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var d=JSON.parse(s.data);if(d&&"batch"===d.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);var h={};return e&&"count"in e&&(h.count=e.count),h.result=e&&e.result?e.result:e,this.getAggregateResult(l,e,h,c,n),uu.isNull(h.count)?h.result:{result:h.result,count:h.count,aggregates:h.aggregates}},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,n,i,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},uu.getAddParams(this,e,i)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,n,i){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:t,table:n,action:"insert"},uu.getAddParams(this,e,i)))}},t.prototype.remove=function(e,t,n,i,r){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{key:n,keyColumn:t,table:i,action:"remove"},uu.getAddParams(this,e,r)))}},t.prototype.update=function(e,t,n,i,r){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:n,action:"update",keyColumn:t,key:uu.getObject(t,n),table:i},uu.getAddParams(this,e,r)))}},t.prototype.getFiltersFrom=function(e,t){var n,i=t.fKey,r=i,o=t.key,a=[];"object"!==typeof e[0]&&(r=null);for(var s=0;s<e.length;s++)n="object"===typeof e[0]?uu.getObject(o||r,e[s]):e[s],a.push(new hu(i,"equal",n));return hu.or(a)},t.prototype.getAggregateResult=function(e,t,n,i,r){var o=t;if(t&&t.result&&(o=t.result),e&&e.aggregates&&e.aggregates.length){var a=e.aggregates,s=void 0,l=o,c={};t.aggregate&&(l=t.aggregate);for(var d=0;d<a.length;d++)(s=uu.aggregates[a[d].type])&&(c[a[d].field+" - "+a[d].type]=s(l,a[d].field));n.aggregates=c}if(e&&e.groups&&e.groups.length){var h=e.groups;for(d=0;d<h.length;d++){f(i)||(i=uu.group(i,h[d]));var p=du.filterQueries(r.queries,"onGroup")[d].e;o=uu.group(o,h[d],e.aggregates,null,i,p.comparer)}n.result=o}return n},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=du.filterQueries(e.queries,"onSortBy"),t.groups=du.filterQueries(e.queries,"onGroup"),t.filters=du.filterQueries(e.queries,"onWhere"),t.searches=du.filterQueries(e.queries,"onSearch"),t.aggregates=du.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var n=0,i=e.params;n<i.length;n++){var r=i[n];if(t[r.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[r.key]=r.value,r.fn&&(t[r.key]=r.fn.call(e.query,r.key,e.query,e.dm)),t.params[r.key]=t[r.key]}},t}(gu),yu=function(e){function t(t){var n=e.call(this)||this;return n.options=u({},n.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),u(n.options,t||{}),n}return fu(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,n,i){var r,o,a="",s=e.value,l=typeof s,c=e.field?t.getField(e.field):null;if(s instanceof Date&&(s="datetime'"+uu.parse.replacer(s)+"'"),"string"===l&&(s="'"+(s=encodeURIComponent(s))+"'",i&&(c="cast("+c+", 'Edm.String')"),uu.parse.isGuid(s)&&(o="guid"),e.ignoreCase&&(o||(c="tolower("+c+")"),s=s.toLowerCase())),r=uu.odBiOperator[e.operator])return a+=c,a+=r,o&&(a+=o),a+s;if("substringof"===(r=f(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?uu.odUniOperator[e.operator]:uu.odv4UniOperator[e.operator])){var d=s;s=c,c=d}return a+=r+"(",a+=c+",",o&&(a+=o),a+=s+")"},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,n){for(var i=[],r=0;r<e.predicates.length;r++)i.push("("+this.onEachWhere(e.predicates[r],t,n)+")");return i.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,n){return e.isComplex?this.onComplexPredicate(e,t,n):this.onPredicate(e,t,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&uu.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],n=0;n<e.fields.length;n++)t.push(new hu(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=hu.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var n=[];if(e.name instanceof Array)for(var i=0;i<e.name.length;i++)n.push(t.getField(e.name[i])+("descending"===e.direction?" desc":""));else n.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return n.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var n=0;n<e.length;n++)e[n]=t.getField(e[n]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,n){uu.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,n,i,r,o){if(r&&"GET"===r.type&&!this.rootUrl&&e["odata.metadata"]){var a=e["odata.metadata"].split("/$metadata#");this.rootUrl=a[0],this.resourceTableName=a[1]}if(!f(e.d)){var s=n&&n.isCountRequired?e.d.results:e.d;if(!f(s))for(var l=0;l<s.length;l++)f(s[l].__metadata)||delete s[l].__metadata}var c=r&&r.pvtData,d=this.processBatchResponse(e,n,i,r,o);if(d)return d;var h=i&&r.getResponseHeader("DataServiceVersion"),p=null,u=h&&parseInt(h,10)||2;if(n&&n.isCountRequired){(e.__count||e["odata.count"])&&(p=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(p=e.__count||e["odata.count"])}3===u&&e.value&&(e=e.value),e.d&&(e=e.d),u<3&&e.results&&(e=e.results);var g={};return g.count=p,g.result=e,this.getAggregateResult(c,e,g,null,n),uu.isNull(p)?g.result:{result:g.result,count:g.count,aggregates:g.aggregates}},t.prototype.convertToQueryString=function(e,t,n){var i=[],r=e.table||"";delete e.table,n.dataSource.requiresFormat&&(e.$format="json");for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];i.push(s+"="+e[s])}return i=i.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!r?i:i.length?r+"?"+i:r||""},t.prototype.localTimeReplacer=function(e,t){for(var n=0,i=f(t)?[]:Object.keys(t);n<i.length;n++){var r=i[n];t[r]instanceof Date&&(t[r]=uu.dateParse.toLocalTime(t[r]))}return t},t.prototype.insert=function(e,t,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,n,i){var r;return r="string"!==typeof n||uu.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+r}},t.prototype.update=function(e,t,n,i,r,o){var a;return"PATCH"!==this.options.updateType||f(o)||(n=this.compareAndRemove(n,o,t)),a="string"!==typeof n[t]||uu.parse.isGuid(n[t])?"("+n[t]+")":"('"+n[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+a,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,n,i,r){var o=n.guid=uu.getGuid(this.options.batchPre),a=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var s={url:n.url,key:n.key,cid:1,cSet:uu.getGuid(this.options.changeSet)},l="--"+o+"\n";return l+="Content-Type: multipart/mixed; boundary="+s.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(t.addedRecords,s,e),l+=this.generateUpdateRequest(t.changedRecords,s,e,r?r.changedRecords:[]),l+=this.generateDeleteRequest(t.deletedRecords,s,e),l+=s.cSet+"--\n",{type:"POST",url:a,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:l+="--"+o+"--"}},t.prototype.generateDeleteRequest=function(e,t,n){if(!e)return"";var i={method:"DELETE ",url:function(e,t,n){var i=uu.getObject(n,e[t]);return"number"===typeof i||uu.parse.isGuid(i)?"("+i+")":i instanceof Date?"("+e[t][n].toJSON()+")":"('"+i+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,i,n)+"\n"},t.prototype.generateInsertRequest=function(e,t,n){if(!e)return"";var i={method:"POST ",url:function(e,t,n){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,i,n)},t.prototype.generateUpdateRequest=function(e,t,n,i){var r=this;if(!e)return"";e.forEach((function(e){return e=r.compareAndRemove(e,i.filter((function(n){return uu.getObject(t.key,n)===uu.getObject(t.key,e)}))[0],t.key)}));var o={method:this.options.updateType+" ",url:function(e,t,n){return"number"===typeof e[t][n]||uu.parse.isGuid(e[t][n])?"("+e[t][n]+")":e[t][n]instanceof Date?"("+e[t][n].toJSON()+")":"('"+e[t][n]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,o,n)},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,n,i){for(var r="",o=0;o<e.length;o++)r+="\n"+t.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=n.method,"POST "===n.method?r+=(i.dataSource.insertUrl||i.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?r+=(i.dataSource.updateUrl||i.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n":"DELETE "===n.method&&(r+=(i.dataSource.removeUrl||i.dataSource.crudUrl||t.url)+n.url(e,o,t.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",f(e[o]["@odata.etag"])?r+="\n":(r+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),r+=n.data(e,o);return r},t.prototype.processBatchResponse=function(e,t,n,i,r){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&uu.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){var o=n.getResponseHeader("Content-Type"),a=void 0,s=void 0,l=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),(l=l.split(o)).length<2)return{};l=l[1];var c=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);c&&l.replace(c[0],"");for(var d=c?c[1]:"",h=(l=l.split(d)).length;h>-1;h--)/\bContent-ID:/i.test(l[h])&&/\bHTTP.+201/.test(l[h])&&(a=parseInt(/\bContent-ID: (\d+)/i.exec(l[h])[1],10),r.addedRecords[a]&&(s=uu.parse.parseJson(/^\{.+\}/m.exec(l[h])[0]),u({},r.addedRecords[a],this.processResponse(s))));return r}return null},t.prototype.compareAndRemove=function(e,t,n){var i=this;return f(t)||Object.keys(e).forEach((function(r){r!==n&&"@odata.etag"!==r&&(uu.isPlainObject(e[r])?(i.compareAndRemove(e[r],t[r]),0===Object.keys(e[r]).filter((function(e){return"@odata.etag"!==e})).length&&delete e[r]):(e[r]===t[r]||e[r]&&t[r]&&e[r].valueOf()===t[r].valueOf())&&delete e[r])})),e},t}(vu),bu=(function(e){function t(t){var n=e.call(this,t)||this;return n.options=u({},n.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),u(n.options,t||{}),n}fu(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,n,i){var r="",o=t.value,a=o instanceof Date;if(n instanceof du)for(var s=this.getQueryRequest(n),l=0;l<s.filters.length;l++)s.filters[l].e.key===t.value&&(i=!0);return r=e.prototype.onPredicate.call(this,t,n,i),a&&(r=r.replace(/datetime'(.*)'$/,"$1")),uu.parse.isGuid(o)&&(r=r.replace("guid","").replace(/'/g,"")),r},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t=this,n={},i={},r=e.expands.slice(),o=[];return e.selects.filter((function(e){return e.indexOf(".")>-1})).forEach((function(e){var t=e.split(".");t[0]in n||(n[t[0]]=[]),n[t[0]].push(t[1])})),Object.keys(n).forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r.forEach((function(e){i[e]=e in n?e+"("+t.options.select+"="+n[e].join(",")+")":e})),Object.keys(i).forEach((function(e){return o.push(i[e])})),o.join(",")},t.prototype.onDistinct=function(e){return"groupby(("+e.map((function(e){return yu.getField(e)})).join(",")+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter((function(e){return-1===e.indexOf(".")})))},t.prototype.beforeSend=function(e,t,n){"POST"!==n.type&&"PUT"!==n.type&&"PATCH"!==n.type||t.setRequestHeader("Prefer","return=representation"),t.setRequestHeader("Accept",this.options.accept)},t.prototype.processResponse=function(t,n,i,r,o,a){if(o&&"GET"===o.type&&!this.rootUrl&&t["@odata.context"]){var s=t["@odata.context"].split("/$metadata#");this.rootUrl=s[0],this.resourceTableName=s[1]}var l=o&&o.pvtData,c=e.prototype.processBatchResponse.call(this,t,i,r,o,a);if(c)return c;var d=null;i&&i.isCountRequired&&"@odata.count"in t&&(d=t["@odata.count"]),t=f(t.value)?t:t.value;var h={};return h.count=d,h.result=t,this.getAggregateResult(l,t,h,null,i),uu.isNull(d)?h.result:{result:h.result,count:d,aggregates:h.aggregates}}}(yu),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fu(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,n){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,n,i){return{type:"DELETE",url:e.dataSource.url+"/"+n,data:JSON.stringify(n)}},t.prototype.update=function(e,t,n,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(n)}},t.prototype.batchRequest=function(e,t,n){var i=this,r=n.guid=uu.getGuid(this.options.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;for(var a=[],s=function(i,o){t.addedRecords.forEach((function(o,s){var l=function(e,t,n){return""};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||n.url)+l(t.addedRecords,i,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))},l=0,c=t.addedRecords.length;l<c;l++)s(l);var d=function(o,s){t.changedRecords.forEach((function(s,l){i.options.updateType;var c=function(e,t,n){return""};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||n.url)+c(t.changedRecords,o,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",s?JSON.stringify(s):"")}))};for(l=0,c=t.changedRecords.length;l<c;l++)d(l);var h=function(i,o){t.deletedRecords.forEach((function(o,s){var l=function(e,t,n){var i=uu.getObject(n,e[t]);return"number"===typeof i||uu.parse.isGuid(i)?"/"+i:i instanceof Date?"/"+e[t][n].toJSON():"/'"+i+"'"};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||n.url)+l(t.deletedRecords,i,n.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))};for(l=0,c=t.deletedRecords.length;l<c;l++)h(l);return a.push("--"+r+"--",""),{type:"POST",url:o,contentType:"multipart/mixed; boundary="+r,data:a.join("\r\n")}},t.prototype.beforeSend=function(e,t,n){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,n,i,r,o){var a=r&&r.pvtData,s=null,l={};if(r&&"post"!==r.type.toLowerCase()){var c=i&&r.getResponseHeader("DataServiceVersion"),d=c&&parseInt(c,10)||2;n&&n.isCountRequired&&(uu.isNull(e.Count)||(s=e.Count)),d<3&&e.Items&&(e=e.Items),l.count=s,l.result=e,this.getAggregateResult(a,e,l,null,n)}return l.result=l.result||e,uu.isNull(s)?l.result:{result:l.result,count:l.count,aggregates:l.aggregates}}}(yu),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fu(t,e),t.prototype.processQuery=function(e,t,n){var i=(new vu).processQuery(e,t,n),r=uu.parse.parseJson(i.data),o={};if(r.param)for(var a=0;a<r.param.length;a++){var s=r.param[a],l=Object.keys(s)[0];o[l]=s[l]}o.value=r;return{data:JSON.stringify(o),url:i.url,pvtData:i.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}(vu),function(e){function t(){var t=e.call(this)||this;return d("beforeSend",vu.prototype.beforeSend,t),t}return fu(t,e),t.prototype.insert=function(e,t,n,i,r){return this.pvt.position=r,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:t,table:n,action:"insert"},uu.getAddParams(this,e,i)))}},t.prototype.remove=function(t,n,i,r,o){return e.prototype.remove.call(this,t,n,i),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(u({},{key:i,keyColumn:n,table:r,action:"remove"},uu.getAddParams(this,t,o)))}},t.prototype.update=function(e,t,n,i,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(u({},{value:n,action:"update",keyColumn:t,key:n[t],table:i},uu.getAddParams(this,e,r)))}},t.prototype.processResponse=function(t,n,i,r,o,a,s){var l;if("add"===this.updateType&&e.prototype.insert.call(this,n,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,n,this.updateKey,t),this.updateType=void 0,t.added)for(l=0;l<t.added.length;l++)e.prototype.insert.call(this,n,t.added[l]);if(t.changed)for(l=0;l<t.changed.length;l++)e.prototype.update.call(this,n,s.key,t.changed[l]);if(t.deleted)for(l=0;l<t.deleted.length;l++)e.prototype.remove.call(this,n,s.key,t.deleted[l]);return t},t.prototype.batchRequest=function(e,t,n,i,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n.url,key:n.key},uu.getAddParams(this,e,i)))}},t.prototype.addParams=function(e){(new vu).addParams(e)},t}(mu)),wu=function(e){function t(t,n,i){var r=e.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,f(t)||(r.cacheAdaptor=t),r.pageSize=i,r.guidId=uu.getGuid("cacheAdaptor");window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var o=r.guidId;return f(n)||setInterval((function(){var e;e=uu.parse.parseJson(window.localStorage.getItem(o));for(var t=[],i=0;i<e.results.length;i++){var r=+new Date,a=+new Date(e.results[i].timeStamp);e.results[i].timeStamp=r-a,r-a>n&&t.push(i)}for(i=0;i<t.length;i++)e.results.splice(t[i],1),e.keys.splice(t[i],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))}),n),r}return fu(t,e),t.prototype.generateKey=function(e,t){var n=this.getQueryRequest(t),i=du.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=e;"onPage"in i&&(r+=i.onPage.pageIndex),n.sorts.forEach((function(e){r+=e.e.direction+e.e.fieldName})),n.groups.forEach((function(e){r+=e.e.fieldName})),n.searches.forEach((function(e){r+=e.e.searchKey}));for(var o=0;o<n.filters.length;o++){var a=n.filters[o];if(a.e.isComplex){var s=t.clone();s.queries=[];for(var l=0;l<a.e.predicates.length;l++)s.queries.push({fn:"onWhere",e:a.e.predicates[l],filter:t.queries.filter});r+=a.e.condition+this.generateKey(e,s)}else r+=a.e.field+a.e.operator+a.e.value}return r},t.prototype.processQuery=function(e,t,n){var i,r=this.generateKey(e.dataSource.url,t),o=(i=uu.parse.parseJson(window.localStorage.getItem(this.guidId)))?i.results[i.keys.indexOf(r)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},t.prototype.processResponse=function(e,t,n,i,r,o){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&uu.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,n,i,r,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var a=n?this.generateKey(t.dataSource.url,n):t.dataSource.url,s={},l=(s=uu.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(a);for(-1!==l&&(s.results.splice(l,1),s.keys.splice(l,1)),s.results[s.keys.push(a)-1]={keys:a,result:e.result,timeStamp:new Date,count:e.count};s.results.length>this.pageSize;)s.results.splice(0,1),s.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(s)),e},t.prototype.beforeSend=function(e,t,n){!f(this.cacheAdaptor.options.batch)&&uu.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,n,i)},t.prototype.insert=function(e,t,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,n)},t.prototype.remove=function(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,n,i)},t.prototype.batchRequest=function(e,t,n){return this.cacheAdaptor.batchRequest(e,t,n)},t}(vu),xu=function(){function e(e,t,n){var i,r=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),n=n||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?i={json:e,offline:!0}:"object"===typeof e?(e.json||(e.json=[]),i={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof bu)&&!e.url,requiresFormat:e.requiresFormat}):uu.throwError("DataManager: Invalid arguments"),void 0!==i.requiresFormat||uu.isCors()||(i.requiresFormat=!!f(i.crossDomain)||i.crossDomain),void 0===i.dataType&&(i.dataType="json"),this.dataSource=i,this.defaultQuery=t,i.url&&i.offline&&!i.json.length?(this.isDataAvailable=!1,this.adaptor=n||new yu,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new du),this.ready.then((function(e){r.dataSource.offline=!0,r.isDataAvailable=!0,i.json=e.result,r.adaptor=new mu}))):this.adaptor=i.offline?new mu:new yu,!i.jsonp&&this.adaptor instanceof yu&&(i.jsonp="callback"),this.adaptor=n||this.adaptor,i.enableCaching&&(this.adaptor=new wu(this.adaptor,i.timeTillExpiration,i.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof du||uu.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||uu.throwError("DataManager - executeLocal() : Json data is required to execute"),t=t||this.defaultQuery;var n=this.adaptor.processQuery(this,t);if(t.subQuery){var i=t.subQuery.fromTable,r=t.subQuery.lookups,o=t.isCountRequired?n.result:n;r&&r instanceof Array&&uu.buildHierarchy(t.subQuery.fKey,i,o,r,t.subQuery.key);for(var a=0;a<o.length;a++)o[a][i]instanceof Array&&(o[a]=u({},{},o[a]),o[a][i]=this.adaptor.processResponse(t.subQuery.using(new e(o[a][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(n,this,t)},e.prototype.executeQuery=function(t,n,i,r){var o=this;"function"===typeof t&&(r=i,i=n,n=t,t=null),t||(t=this.defaultQuery),t instanceof du||uu.throwError("DataManager - executeQuery() : A query is required to execute");var a=new Su,s={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!f(this.adaptor.makeRequest)){var l=this.adaptor.processQuery(this,t);f(this.adaptor.makeRequest)?f(l.url)?(s=e.getDeferedArgs(t,l,s),a.resolve(s)):this.makeRequest(l,a,s,t):this.adaptor.makeRequest(l,a,s,t)}else e.nextTick((function(){var n=o.executeLocal(t);s=e.getDeferedArgs(t,n,s),a.resolve(s)}));return(n||i)&&a.promise.then(n,i),r&&a.promise.then(r,r),a.promise},e.getDeferedArgs=function(e,t,n){return e.isCountRequired?(n.result=t.result,n.count=t.count,n.aggregates=t.aggregates):n.result=t,n},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,n){return u({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:n},e)},e.prototype.makeRequest=function(e,t,n,i){var r=this,o=!!i.subQuerySelector,a=function(e){n.error=e,t.reject(n)},s=function(e,i,r,o,a,s,l){n.xhr=r,n.count=i?parseInt(i.toString(),10):0,n.result=e,n.request=o,n.aggregates=s,n.actual=a,n.virtualSelectRecords=l,t.resolve(n)},l=function(e,t){var l=new Su,c={parent:n};i.subQuery.isChild=!0;var d=r.adaptor.processQuery(r,i.subQuery,e?r.adaptor.processResponse(e):t),h=r.makeRequest(d,l,c,i.subQuery);return o||l.then((function(t){e&&(uu.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,e,t,i.subQuery.key),s(e,t.count,t.xhr))}),a),h},c=this.extendRequest(e,(function(e,t){-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&r.dateParse&&(e=uu.parse.parseJson(e));var n=r.adaptor.processResponse(e,r,i,t.httpRequest,t),a=0,c=null,d=e.virtualSelectRecords;i.isCountRequired&&(a=n.count,c=n.aggregates,n=n.result),i.subQuery?o||l(n,t):s(n,a,t.httpRequest,t.type,e,c,d)}),a),d=new Q(c);if(d.beforeSend=function(){r.beforeSend(d.httpRequest,d)},(c=d.send()).catch((function(e){return!0})),this.requests.push(d),o){var h=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});h&&h.length?Promise.all([c,l(null,h)]).then((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],a=r.adaptor.processResponse(n[0],r,i,r.requests[0].httpRequest,r.requests[0]),l=0;i.isCountRequired&&(l=a.count,a=a.result);var c=r.adaptor.processResponse(n[1],r,i.subQuery,r.requests[1].httpRequest,r.requests[1]);l=0,i.subQuery.isCountRequired&&(l=c.count,c=c.result),uu.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,a,c,i.subQuery.key),o=!1,s(a,l,r.requests[0].httpRequest)})):o=!1}return c},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var n,i=this.dataSource.headers,r=0;i&&r<i.length;r++){n=[];for(var o=0,a=Object.keys(i[r]);o<a.length;o++){var s=a[o];n.push(s),e.setRequestHeader(s,i[r][s])}}},e.prototype.saveChanges=function(e,t,n,i,r){var o=this;n instanceof du&&(i=n,n=null);var a={url:n,key:t||this.dataSource.key},s=this.adaptor.batchRequest(this,e,a,i||new du,r);if(this.dataSource.offline)return s;if(f(this.adaptor.doAjaxRequest)){var l=new Su,c=new Q(s);return c.beforeSend=function(){o.beforeSend(c.httpRequest,c)},c.onSuccess=function(t,n){l.resolve(o.adaptor.processResponse(t,o,null,n.httpRequest,n,e,a))},c.onFailure=function(e){l.reject([{error:e}])},c.send().catch((function(e){return!0})),l.promise}return this.adaptor.doAjaxRequest(s)},e.prototype.insert=function(e,t,n,i){t instanceof du&&(n=t,t=null);var r=this.adaptor.insert(this,e,t,n,i);return this.dataSource.offline?r:f(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)},e.prototype.remove=function(e,t,n,i){"object"===typeof t&&(t=uu.getObject(e,t)),n instanceof du&&(i=n,n=null);var r=this.adaptor.remove(this,e,t,n,i);return this.dataSource.offline?r:f(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)},e.prototype.update=function(e,t,n,i,r){n instanceof du&&(i=n,n=null);var o=this.adaptor.update(this,e,t,n,i,r);return this.dataSource.offline?o:f(this.adaptor.doAjaxRequest)?this.doAjaxRequest(o):this.adaptor.doAjaxRequest(o)},e.prototype.doAjaxRequest=function(e){var t=this,n=new Su;e=u({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);var i=new Q(e);return i.beforeSend=function(){t.beforeSend(i.httpRequest,i)},i.onSuccess=function(e,i){try{uu.parse.parseJson(e)}catch(r){e=[]}e=t.adaptor.processResponse(uu.parse.parseJson(e),t,null,i.httpRequest,i),n.resolve(e)},i.onFailure=function(e){n.reject([{error:e}])},i.send().catch((function(e){return!0})),n.promise},e}(),Su=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)},Cu=(function(){function e(){this.dataTable={}}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"DataBinding"},e.prototype.initData=function(e,t){var n,i=e.dataManager||e.dataSource||{};(n=i.data||i.json||(i.dataSource?i.dataSource.json:void 0))&&0===n.length&&i.dataSource.data&&(n=i.dataSource.data),n&&n.length&&(this.applyDataSource(e,n,t),t.trigger("dataLoaded",{diagram:Vc(t)}))},e.prototype.initSource=function(e,t){var n,i=this,r=e,o=e;if(r.dataManager instanceof xu||r.dataSource instanceof xu){var a=(o.dataManager||o.dataSource).defaultQuery||new du;(e.dataManager||e.dataSource).executeQuery(a).then((function(r){n=r.result,t.isDestroyed||(t.protectPropertyChange(!0),i.applyDataSource(e,n,t),t.refreshDiagram(),t.protectPropertyChange(!1),t.trigger("dataLoaded",{diagram:Vc(t)}))}))}},e.prototype.applyDataSource=function(e,t,n){var i,r,o;this.dataTable={};var a,s,l=[],c=[];if(void 0!==t){for(var d=0;d<t.length;d++)void 0===(i=t[d])[e.parentId]||null===i[e.parentId]||"object"!==typeof i[e.parentId]?void 0!==l[i[e.parentId]]?l[i[e.parentId]].items.push(i):l[i[e.parentId]]={items:[i]}:l=this.updateMultipleRootNodes(i,l,e,t),e.root===i[e.id]&&(r={items:[i]});if(r)c.push(r);else for(var h=0,p=Object.keys(l);h<p.length;h++){var u=p[h];u&&"undefined"!==u&&"''"!==u&&"null"!==u||c.push(l[u])}for(var f=0;f<c.length;f++)for(var g=0;g<c[f].items.length;g++)a=c[f].items[g],o=this.applyNodeTemplate(e,a,n),n.nodes.push(o),this.dataTable[a[e.id]]=o,void 0!==(s=l[o.data[e.id]])&&this.renderChildNodes(e,s,o.id,l,n)}this.dataTable=null},e.prototype.updateMultipleRootNodes=function(e,t,n,i){for(var r,o=e[n.parentId],a=0;a<o.length;a++)t[r=o[a]]?t[r].items.push(e):t[r]={items:[e]};return t},e.prototype.applyNodeTemplate=function(e,t,n){var i={id:mh(),data:t},r=Dh(e.doBinding);r&&r(i,t,n);var o=new Dd(n,"nodes",i,!0);if(Kl(o,i,n.nodeDefaults),e.dataMapSettings)for(var a=void 0,s=[],l=[],c=0;c<e.dataMapSettings.length;c++){if(-1!==e.dataMapSettings[c].property.indexOf(".")){l=this.splitString(e.dataMapSettings[c].property);for(var d=0;d<l.length;d++)-1!==l[d].indexOf("[")&&(a=l[d].indexOf("["),s=l[d].split("["));if(a)if(l[2])o[s[0]][l[0].charAt(a+1)][l[1]][l[2]]=t[e.dataMapSettings[c].field];else{var h=t[e.dataMapSettings[c].field];o[s[0]][l[0].charAt(a+1)][l[1]]=h}else l[2]?o[l[0]][l[1]][l[2]]=t[e.dataMapSettings[c].field]:o[l[0]][l[1]]=t[e.dataMapSettings[c].field]}else{var p=e.dataMapSettings[c].property;o[p=p.charAt(0).toLowerCase()+p.slice(1)]=t[e.dataMapSettings[c].field]}a=0,s=[],l=[]}return this.collectionContains(o,n,e.id,e.parentId)?this.dataTable[t[e.id]]:o},e.prototype.splitString=function(e){var t=[];t=e.split(".");for(var n=0;n<t.length;n++)t[n]=t[n].charAt(0).toLowerCase()+t[n].slice(1);return t},e.prototype.renderChildNodes=function(e,t,n,i,r){for(var o,a,s,l=0;l<t.items.length;l++){o=t.items[l],s=this.applyNodeTemplate(e,o,r);var c=!1;this.collectionContains(s,r,e.id,e.parentId)?c=!0:(this.dataTable[o[e.id]]=s,r.nodes.push(s)),this.containsConnector(r,n,s.id)||r.connectors.push(this.applyConnectorTemplate(n,s.id,r)),c||void 0!==(a=i[s.data[e.id]])&&this.renderChildNodes(e,a,s.id,i,r)}},e.prototype.containsConnector=function(e,t,n){if(""!==t&&""!==n)for(var i=0;i<e.connectors.length;i++){var r=e.connectors[i];if(void 0!==r&&r.sourceID===t&&r.targetID===n)return!0}return!1},e.prototype.collectionContains=function(e,t,n,i){var r=this.dataTable[e.data[n]];return void 0!==r&&r.data[n]===e.data[n]&&r.data[i]===e.data[i]},e.prototype.applyConnectorTemplate=function(e,t,n){var i={id:mh(),sourceID:e,targetID:t},r=new $a(n,"connectors",i,!0);return Kl(r,i,n.connectorDefaults),r}}(),{li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"});function Ou(e,t){var n={};if(f(e)||"string"===typeof e||"number"===typeof e||!f(e.isHeader))return e;for(var i=0,r=Object.keys(t);i<r.length;i++){var o=t[r[i]],a=f(o)||"string"!==typeof o?void 0:c(o,e);f(a)||(n[o]=a)}return n}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},n={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function i(e,t,n,i){return S(e,r(e,t,n,i),null,i)}function r(e,t,i,r){var o=[],a=u({},n,r);Cu=b(a.moduleName);for(var s=m(),l=0;l<t.length;l++)if(!f(t[l])){var c=void 0;if(a.itemCreating&&"function"===typeof a.itemCreating){var d={dataSource:t,curData:t[l],text:t[l],options:a};a.itemCreating(d)}if(c=i?y(e,t[l],void 0,null,null,[],null,s,l,r):x(e,t[l],void 0,null,null,r),a.itemCreated&&"function"===typeof a.itemCreated){d={dataSource:t,curData:t[l],text:t[l],item:c,options:a};a.itemCreated(d)}o.push(c)}return o}function o(i,r,o,a,s){var l=u({},n,o);Cu=b(l.moduleName);var c,g=u({},e.defaultMappedFields,l.fields),w=u({},t,l.ariaAttributes),S=[];a&&(w.level=a);var C,O,P=[];r&&r.length&&!f(d(r).item)&&!d(r).item.hasOwnProperty(g.id)&&(c=m());for(var E=0;E<r.length;E++){var T=Ou(r[E],g);if(!f(r[E])){if(l.itemCreating&&"function"===typeof l.itemCreating){var k={dataSource:r,curData:r[E],text:T[g.text],options:l,fields:g};l.itemCreating(k)}var I=r[E];l.itemCreating&&"function"===typeof l.itemCreating&&(T=Ou(r[E],g)),T.hasOwnProperty(g.id)&&!f(T[g.id])&&(c=T[g.id]);var A=[];if(l.showCheckBox&&(l.itemNavigable&&(T[g.url]||T[g.urlAttributes])?S.push(i("input",{className:Cu.check,attrs:{type:"checkbox"}})):A.push(i("input",{className:Cu.check,attrs:{type:"checkbox"}}))),!0===s)l.showIcon&&T.hasOwnProperty(g.iconCss)&&!f(T[g.iconCss])&&A.push(i("span",{className:Cu.icon+" "+T[g.iconCss]})),O=(C=y(i,I,T,g,l.itemClass,A,!(!I.hasOwnProperty("isHeader")||!I.isHeader),c,E,o)).querySelector("."+Cu.anchorWrap),l.itemNavigable&&S.length&&ct(S,C.firstElementChild);else{if((C=x(i,I,T,g,l.itemClass,o)).classList.add(Cu.level+"-"+w.level),C.setAttribute("aria-level",w.level.toString()),O=C.querySelector("."+Cu.anchorWrap),T.hasOwnProperty(g.tooltip)&&C.setAttribute("title",T[g.tooltip]),T.hasOwnProperty(g.htmlAttributes)&&T[g.htmlAttributes]&&h(C,T[g.htmlAttributes]),T.hasOwnProperty(g.enabled)&&!1===T[g.enabled]&&C.classList.add(Cu.disabled),T.hasOwnProperty(g.isVisible)&&!1===T[g.isVisible]&&(C.style.display="none"),T.hasOwnProperty(g.imageUrl)&&!f(T[g.imageUrl])&&!l.template){var M={src:T[g.imageUrl]};p(M,T[g.imageAttributes]);var j=i("img",{className:Cu.image,attrs:M});O?O.insertAdjacentElement("afterbegin",j):ct([j],C.firstElementChild)}if(l.showIcon&&T.hasOwnProperty(g.iconCss)&&!f(T[g.iconCss])&&!l.template){var D;D=i("div",{className:Cu.icon+" "+T[g.iconCss]}),O?O.insertAdjacentElement("afterbegin",D):ct([D],C.firstElementChild)}A.length&&ct(A,C.firstElementChild),l.itemNavigable&&S.length&&ct(S,C.firstElementChild),v(i,T,g,r,l,C,w.level)}if(O&&ot([C],[Cu.navigable]),l.itemCreated&&"function"===typeof l.itemCreated){k={dataSource:r,curData:r[E],text:T[g.text],item:C,options:l,fields:g};l.itemCreated(k)}S=[],P.push(C)}}return P}function a(e,t,i,r,a){var s=u({},n,i);return S(e,o(e,t,i,r,a),s.listClass,i)}function s(e,t){if(t&&e){return Array.prototype.slice.call(t).indexOf(e)}}function l(e,t,n){if(void 0===n&&(n=new du),"Ascending"===e)n.sortBy(t,"ascending",!0);else if("Descending"===e)n.sortBy(t,"descending",!0);else for(var i=0;i<n.queries.length;i++)"onSortBy"===n.queries[i].fn&&n.queries.splice(i,1);return n}function c(e,t){return new xu(e).executeLocal(t)}function d(e){for(var t={typeof:null,item:null},n=0;n<e.length;n++)if(!f(e[n]))return{typeof:typeof e[n],item:e[n]};return t}function h(e,t){var n={};p(n,t),n.class&&(ot([e],n.class.split(" ")),delete n.class),ft(e,n)}function g(e){for(var t={},n=e.attributes,i=0;i<n.length;i++)t[n[i].nodeName]=n[i].nodeValue;return t}function m(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function v(e,t,n,i,r,o,s){var l=t[n.child]||[],c=t[n.hasChildren];if(l.length&&(c=!0,o.classList.add(Cu.hasChild),r.processSubChild)){var d=a(e,l,r,++s);o.appendChild(d)}r.expandCollapse&&c&&!r.template&&(o.firstElementChild.classList.add(Cu.iconWrapper),("Left"===r.expandIconPosition?ct:dt)([e("div",{className:"e-icons "+r.expandIconClass})],o.querySelector("."+Cu.textContent)))}function y(e,i,r,o,a,s,l,c,d,p){var g,m,v=u({},n,p),y=u({},t,v.ariaAttributes),b=i,x=i;"string"!==typeof i&&"number"!==typeof i&&"boolean"!==typeof i&&(g=i,b="boolean"===typeof r[o.text]||"number"===typeof r[o.text]?r[o.text]:r[o.text]||"",x=r[o.value]),m=f(g)||f(r[o.id])||""===r[o.id]?c+"-"+d:c;var S=e("li",{className:(!0===l?Cu.group:Cu.li)+" "+(f(a)?"":a),id:m,attrs:""!==y.groupItemRole&&""!==y.itemRole?{role:!0===l?y.groupItemRole:y.itemRole}:{}});return g&&r.hasOwnProperty(o.enabled)&&"false"===r[o.enabled].toString()&&S.classList.add(Cu.disabled),l?S.innerText=b:(S.setAttribute("data-value",f(x)?"null":x),S.setAttribute("role","option"),g&&r.hasOwnProperty(o.htmlAttributes)&&r[o.htmlAttributes]&&h(S,r[o.htmlAttributes]),s.length&&!v.itemNavigable&&dt(s,S),g&&(r[o.url]||r[o.urlAttributes]&&r[o.urlAttributes].href)?S.appendChild(w(e,g,o,b,s,v.itemNavigable)):(s.length&&v.itemNavigable&&dt(s,S),S.appendChild(document.createTextNode(b)))),S}function b(e){return{li:"e-"+e+"-item",ul:"e-"+e+"-parent e-ul",group:"e-"+e+"-group-item",icon:"e-"+e+"-icon",text:"e-"+e+"-text",check:"e-"+e+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+e+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+e+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function w(e,t,n,i,r,o){var a,s=Ou(t,n),l={href:s[n.url]};if(s.hasOwnProperty(n.urlAttributes)&&s[n.urlAttributes]&&(p(l,s[n.urlAttributes]),l.href=s[n.url]?s[n.url]:s[n.urlAttributes].href),o){a=e("a",{className:Cu.text+" "+Cu.url});var c=e("div",{className:Cu.anchorWrap});r&&r.length&&dt(r,c),c.appendChild(document.createTextNode(i)),dt([c],a)}else a=e("a",{className:Cu.text+" "+Cu.url,innerHTML:i});return h(a,l),a}function x(e,i,r,o,a,s){var l,c,d,h=u({},n,s),p=u({},t,h.ariaAttributes),g=i;"string"!==typeof i&&"number"!==typeof i&&(d=i,g=r[o.text]||"",l=f(r._id)?r[o.id]:r._id,c=!(!i.hasOwnProperty("isHeader")||!i.isHeader)),s&&s.enableHtmlSanitizer&&(g=Mn.sanitize(g));var v=e("li",{className:(!0===c?Cu.group:Cu.li)+" "+(f(a)?"":a),attrs:""!==p.groupItemRole&&""!==p.itemRole?{role:!0===c?p.groupItemRole:p.itemRole}:{}});f(l)?v.setAttribute("data-uid",m()):v.setAttribute("data-uid",l);if(s&&s.removeBlazorID&&"object"===typeof i&&i.hasOwnProperty("BlazId")&&delete i.BlazId,c&&s&&s.groupTemplate)dt(ze(s.groupTemplate)(i,null,null,h.groupTemplateID,!!h.isStringTemplate),v);else if(!c&&s&&s.template){dt(ze(s.template)(i,null,null,h.templateID,!!h.isStringTemplate),v)}else{var y=e("div",{className:Cu.textContent,attrs:""!==p.wrapperRole?{role:p.wrapperRole}:{}});if(d&&(r[o.url]||r[o.urlAttributes]&&r[o.urlAttributes].href))y.appendChild(w(e,d,o,g,null,h.itemNavigable));else{var b=e("span",{className:Cu.text,attrs:""!==p.itemText?{role:p.itemText}:{}});s&&s.enableHtmlSanitizer?b.innerText=Mn.sanitize(g):b.innerHTML=g,y.appendChild(b)}v.appendChild(y)}return v}function S(e,i,r,o){var a=u({},n,o),s=u({},t,a.ariaAttributes),l=e("ul",{className:(Cu=b(a.moduleName)).ul+" "+(f(r)?"":r),attrs:""!==s.listRole?{role:s.listRole}:{}});return dt(i,l),l}e.createList=function(e,r,o,s){var l=u({},n,o),c=u({},t,l.ariaAttributes),h=d(r).typeof;return"string"===h||"number"===h?i(e,r,s,o):a(e,r,o,c.level,s)},e.createListFromArray=i,e.createListItemFromArray=r,e.createListItemFromJson=o,e.createListFromJson=a,e.getSiblingLI=function(e,t,i){if(Cu=b(n.moduleName),e&&e.length){var r,o,a=Array.prototype.slice.call(e);for(r=a[(o=t?s(t,a):!0===i?a.length:-1)+(!0===i?-1:1)];r&&(!lt(r)||r.classList.contains(Cu.disabled));)r=a[o+=!0===i?-1:1];return r}},e.indexOf=s,e.groupDataSource=function(t,n,i){void 0===i&&(i="None");var r=u({},e.defaultMappedFields,n),o=(new du).group(r.groupBy),a=c(t,o=l(i,"key",o));t=[];for(var s=0;s<a.length;s++){var d=a[s].items,h={};h[r.text]=a[s].key,h.isHeader=!0;var p=r.text;"id"===p&&(h[p="text"]=a[s].key),h._id="group-list-item-"+(a[s].key?a[s].key.toString().trim():"undefined"),h.items=d,t.push(h);for(var f=0;f<d.length;f++)t.push(d[f])}return t},e.addSorting=l,e.getDataSource=c,e.createJsonFromElement=function t(i,r){var o=u({},n,r),a=u({},e.defaultMappedFields,o.fields),s=i.cloneNode(!0),l=[];s.classList.add("json-parent");var c=s.querySelectorAll(".json-parent>li");s.classList.remove("json-parent");for(var d=0;d<c.length;d++){for(var h=c[d],p=h.querySelector("a"),f=h.querySelector("ul"),v={},y=p?p.childNodes:h.childNodes,b=Object.keys(y),w=0;w<y.length;w++)y[Number(b[w])].hasChildNodes()||(v[a.text]=y[Number(b[w])].textContent);var x=g(h);x.id?(v[a.id]=x.id,delete x.id):v[a.id]=m(),Object.keys(x).length&&(v[a.htmlAttributes]=x),p&&(x=g(p),Object.keys(x).length&&(v[a.urlAttributes]=x)),f&&(v[a.child]=t(f,r)),l.push(v)}return l},e.renderContentTemplate=function(t,i,r,o,a){for(var s=t("ul",{className:(Cu=b(n.moduleName)).ul,attrs:{role:"presentation"}}),l=u({},n,a),c=u({},e.defaultMappedFields,o),d=ze(i),h=[],p=m(),g=0;g<r.length;g++){var v=Ou(r[g],c),y=r[g],w=y.isHeader,x=v[c.value];if(l.itemCreating&&"function"===typeof l.itemCreating){var S={dataSource:r,curData:y,text:x,options:l,fields:c};l.itemCreating(S)}l.itemCreating&&"function"===typeof l.itemCreating&&(x=(v=Ou(r[g],c))[c.value]);var C=t("li",{id:p+"-"+g,className:w?Cu.group:Cu.li,attrs:{role:"presentation"}});if(w)C.innerText=v[c.text];else dt(d(y,null,null,w?l.groupTemplateID:l.templateID,!!l.isStringTemplate),C),C.setAttribute("data-value",f(x)?"null":x),C.setAttribute("role","option");if(l.itemCreated&&"function"===typeof l.itemCreated){S={dataSource:r,curData:y,text:x,item:C,options:l,fields:c};l.itemCreated(S)}h.push(C)}return dt(h,s),s},e.renderGroupTemplate=function(t,i,r,o,a){for(var s=ze(t),l=u({},e.defaultMappedFields,r),c=u({},n,a),d=l.groupBy,h=0,p=o;h<p.length;h++){var f=p[h],g={};g[d]=f.textContent,f.innerHTML="",dt(s(g,null,null,c.groupTemplateID,!!c.isStringTemplate),f)}return o},e.generateId=m,e.generateUL=S,e.generateIcon=function(e,t,i,r){var o=u({},n,r);return Cu=b(o.moduleName),("Left"===o.expandIconPosition?ct:dt)([e("div",{className:"e-icons "+o.expandIconClass+" "+(f(i)?"":i)})],t.querySelector("."+Cu.textContent)),t}}(fp||(fp={}));var Pu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eu=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tu=function(e){function t(t,n){return e.call(this,t,n)||this}return Pu(t,e),t.prototype.preRender=function(){this.browser=le.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=le.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=m("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new Tn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),ce.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,i=0,r=[].slice.call(n.children);i<r.length;i++){var o=r[i];e.appendChild(o)}t.appendChild(e),n.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove("e-scroll-device");var n=mt(".e-"+t.id+"_nav.e-scroll-nav",t),i=mt(".e-scroll-overlay",t);[].slice.call(i).forEach((function(e){pt(e)}));for(var r=0,o=[].slice.call(this.scrollItems.children);r<o.length;r++){var a=o[r];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),pt(this.scrollEle),n.length>0&&(pt(n[0]),f(n[1])||pt(n[1])),ce.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=mt(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),n=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),r=this.createElement("div",{id:t.concat("_right"),className:i}),o=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});r.appendChild(o);var a=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(r),e.insertBefore(a,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i=this.createElement("div",{id:t.concat("_right"),className:n});i.setAttribute("aria-disabled","false");var r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),a=this.createElement("div",{id:t.concat("_left"),className:o+" e-overlay"});a.setAttribute("aria-disabled","true");var s=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});a.appendChild(s),i.appendChild(r),e.appendChild(i),e.insertBefore(a,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([i,a])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new Tn(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),ce.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,"e-scroll-nav")?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){var i=this.scrollEle,r=this.element,o=t.classList;o.contains("e-scroll-nav")&&(o=t.querySelector(".e-nav-arrow").classList),this.contains(r,"e-rtl")&&this.browserCheck&&(e=-e);i.scrollLeft;!this.contains(r,"e-rtl")||this.browserCheck||this.ieCheck?o.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):o.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var i=.5;!function r(){var o=Math.sin(i);o<=0?window.cancelAnimationFrame(o):("Left"===e.swipeDirection?n.scrollLeft+=t*o:"Right"===e.swipeDirection&&(n.scrollLeft-=t*o),i-=.5,window.requestAnimationFrame(r))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e},t.prototype.frameScrollRequest=function(e,t,n){var i=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(mt(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetWidth}));!function n(){var r,o;i.contains(i.element,"e-rtl")&&i.browserCheck?(r=-e,o=-10):(r=e,o=10),r<10?window.cancelAnimationFrame(o):(i.scrollUpdating(o,t),e-=o,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t,n=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?n.scrollLeft=n.scrollLeft+t:"Right"===e.scrollDirection&&(n.scrollLeft=n.scrollLeft-t)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(f(e)?t:e).querySelector(".e-nav-arrow");f(e)?bt(n,["e-nav-right-arrow"],["e-nav-left-arrow"]):bt(n,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,n=t.offsetWidth,i=this.element,r=this.element.querySelector(".e-scroll-left-nav"),o=this.element.querySelector(".e-scroll-right-nav"),a=this.element.querySelector(".e-scroll-left-overlay"),s=this.element.querySelector(".e-scroll-right-overlay"),l=t.scrollLeft;if(l<=0&&(l=-l),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(a=this.element.querySelector(".e-scroll-right-overlay"),s=this.element.querySelector(".e-scroll-left-overlay")),a.style.width=l<40?l+"px":"40px",t.scrollWidth-Math.ceil(n+l)<40?s.style.width=t.scrollWidth-Math.ceil(n+l)+"px":s.style.width="40px"),0===l)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(r,o):this.arrowDisabling(o,r);else if(Math.ceil(n+l+.1)>=t.scrollWidth)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(o,r):this.arrowDisabling(r,o);else{var c=this.element.querySelector(".e-scroll-nav.e-overlay");c&&(c.classList.remove("e-overlay"),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},Eu([zt(null)],t.prototype,"scrollStep",void 0),t=Eu([Vt],t)}(ln),ku=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Iu=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Au=function(e){function t(t,n){return e.call(this,t,n)||this}return ku(t,e),t.prototype.preRender=function(){this.browser=le.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=le.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=m("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new Tn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),ce.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),ce.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=rt("div",{className:"e-vscroll-content"}),t=rt("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,i=0,r=[].slice.call(n.children);i<r.length;i++){var o=r[i];e.appendChild(o)}t.appendChild(e),n.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",at([this.element],["e-vscroll","e-scroll-device"]);var n=mt(".e-"+t.id+"_nav.e-scroll-nav",t),i=mt(".e-scroll-overlay",t);[].slice.call(i).forEach((function(e){pt(e)}));for(var r=0,o=[].slice.call(this.scrollItems.children);r<o.length;r++){var a=o[r];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),pt(this.scrollEle),n.length>0&&(pt(n[0]),f(n[1])||pt(n[1])),ce.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=mt(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),n=rt("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),r=rt("div",{id:t.concat("down"),className:i}),o=rt("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});r.appendChild(o);var a=rt("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(r),e.insertBefore(a,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=rt("div",{id:t.concat("_down"),className:n});i.setAttribute("aria-disabled","false");var r=rt("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),a=rt("div",{id:t.concat("_up"),className:o+" e-overlay"});a.setAttribute("aria-disabled","true");var s=rt("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});a.appendChild(s),i.appendChild(r),i.setAttribute("tabindex","0"),e.appendChild(i),e.insertBefore(a,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([i,a])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new Tn(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),ce.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,"e-scroll-nav")?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){this.element;var i=t.classList;i.contains("e-scroll-nav")&&(i=t.querySelector(".e-nav-arrow").classList),i.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",n):i.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var i=.5;!function r(){var o=Math.sin(i);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?n.scrollTop+=t*o:"Down"===e.swipeDirection&&(n.scrollTop-=t*o),i-=.02,window.requestAnimationFrame(r))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,n){var i=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(mt(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetHeight}));!function n(){e<10?window.cancelAnimationFrame(10):(i.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t,n=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?n.scrollTop=n.scrollTop+t:"Down"===e.scrollDirection&&(n.scrollTop=n.scrollTop-t)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(f(e)?t:e).querySelector(".e-nav-arrow");f(e)?bt(n,["e-nav-down-arrow"],["e-nav-up-arrow"]):bt(n,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,n=t.offsetHeight,i=(this.element,this.element.querySelector(".e-scroll-up-nav")),r=this.element.querySelector(".e-scroll-down-nav"),o=this.element.querySelector(".e-scroll-up-overlay"),a=this.element.querySelector(".e-scroll-down-overlay"),s=t.scrollTop;if(s<=0&&(s=-s),this.isDevice&&(o.style.height=s<40?s+"px":"40px",t.scrollHeight-Math.ceil(n+s)<40?a.style.height=t.scrollHeight-Math.ceil(n+s)+"px":a.style.height="40px"),0===s)this.arrowDisabling(i,r);else if(Math.ceil(n+s+.1)>=t.scrollHeight)this.arrowDisabling(r,i);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove("e-overlay"),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},Iu([zt(null)],t.prototype,"scrollStep",void 0),t=Iu([Vt],t)}(ln),Mu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ju=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Du="e-focused",Lu="e-menu-header",Ru="e-selected",Nu="e-menu-item",zu="e-menu-hide",Bu="e-menu-popup",Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mu(t,e),ju([zt("id")],t.prototype,"itemId",void 0),ju([zt("parentId")],t.prototype,"parentId",void 0),ju([zt("text")],t.prototype,"text",void 0),ju([zt("iconCss")],t.prototype,"iconCss",void 0),ju([zt("url")],t.prototype,"url",void 0),ju([zt("separator")],t.prototype,"separator",void 0),ju([zt("items")],t.prototype,"children",void 0),t}(nn),_u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mu(t,e),ju([zt(null)],t.prototype,"iconCss",void 0),ju([zt("")],t.prototype,"id",void 0),ju([zt(!1)],t.prototype,"separator",void 0),ju([_t([],t)],t.prototype,"items",void 0),ju([zt("")],t.prototype,"text",void 0),ju([zt("")],t.prototype,"url",void 0),t}(nn),Wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mu(t,e),ju([zt("SlideDown")],t.prototype,"effect",void 0),ju([zt(400)],t.prototype,"duration",void 0),ju([zt("ease")],t.prototype,"easing",void 0),t}(nn),Fu=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.navIdx=[],i.animation=new Gt({}),i.isTapHold=!1,i.tempItem=[],i}return Mu(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:m(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=c("ej2_instances",this.element);at([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,d("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:m(this.getModuleName())}),dt([].slice.call(this.element.cloneNode(!0).children),e);var n=this.element.nextElementSibling;n?this.element.parentElement.insertBefore(e,n):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var i=this.element,r=c("ej2_instances",i),o=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),a=0,s=i.attributes.length;a<s;a++)e.setAttribute(i.attributes[a].nodeName,i.attributes[a].nodeValue);i.parentNode.insertBefore(o,i),pt(i),i=e,o.appendChild(i),d("ej2_instances",r,i),this.clonedElement=o,this.element=i,this.element.id||(this.element.id=m(this.getModuleName()))}},t.prototype.render=function(){if(this.initialize(),this.renderItems(),this.isMenu&&this.template&&w()){var e=this.element.id+"Template";He(e),Object.keys(Re).length&&u(this.tempItem,Re[e],[],!0),Be(e,"Template",this)}this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&ot([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e))},t.prototype.renderItems=function(){if(!this.items.length){var e=fp.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),w()?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if(dt(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){var n=this.getWrapper();this.element.classList.contains("e-vertical")?this.addScrolling(n,this.element,"vscroll",n.offsetHeight,this.element.offsetHeight):this.addScrolling(n,this.element,"hscroll",n.offsetWidth,this.element.offsetWidth)}},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,n=mt(this.target),i=0,r=n.length;i<r;i++)t=n[i],this.isMenu?ce.add(t,"click",this.menuHeaderClickHandler,this):le.isIos?new Tn(t,{tapHold:this.touchHandler.bind(this)}):ce.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){ce.add(this.targetElement,"scroll",this.scrollHandler,this);for(var o=0,a=oa(this.targetElement);o<a.length;o++){var s=a[o];ce.add(s,"scroll",this.scrollHandler,this)}}}le.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),ce.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),ce.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),ce.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=qt(e,{selector:"."+Nu})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(t.home="home",t.end="end"),new xn(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){vt(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||vt(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyBoardHandler=function(e){var t="",n=e.target,i=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([Du,Ru],[vt(n,".e-"+this.getModuleName()+"-wrapper")]),i)switch(e.action){case"rightarrow":t="rightarrow",e.action="downarrow";break;case"leftarrow":t="leftarrow",e.action="uparrow";break;case"downarrow":t="downarrow",e.action="rightarrow";break;case"uparrow":t="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":i=!0,t="leftarrow",e.action="rightarrow";break;case"rightarrow":i=!0,t="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}i&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),n="downarrow"===e.action||"home"===e.action?0:t.childElementCount-1,i=n,r=this.getLIByClass(t,Du);r&&("end"!==e.action&&"home"!==e.action&&(i=this.getIdx(t,r)),r.classList.remove(Du),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?i++:i--,i===("downarrow"===e.action?t.childElementCount:-1)&&(i=n)));var o=t.children[i];i=this.isValidLI(o,i,e.action),t.children[i].classList.add(Du),t.children[i].focus()},t.prototype.isValidLI=function(e,t,n){this.getWrapper();var i=this.getUlByNavIdx();return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(zu))&&("downarrow"===n||"rightarrow"===n?t++:t--),((e=i.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(zu))&&(t=this.isValidLI(e,t,n)),t},t.prototype.getUlByNavIdx=function(e){if(void 0===e&&(e=this.navIdx.length),this.isMenu){var t=[this.getWrapper()].concat([].slice.call(mt("."+Bu)))[e];return f(t)?null:gt(".e-menu-parent",t)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,n=this.getUlByNavIdx(),i=this.getLIByClass(n,Du);if(i){var r=this.getIdx(n,i),o=this.navIdx.concat(r),a=this.getItem(o);a.items.length?(this.navIdx.push(r),this.keyType="right",this.action=e.action,this.openMenu(i,a,-1,-1,e)):"enter"===e.action&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([Ru],[this.getWrapper()]):i.classList.remove(Du),i.classList.add(Ru),t={element:i,item:a,event:e},this.trigger("select",t),this.closeMenu(null,e))}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):"escape"===e.action&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t){var n=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var i,r,o,a=void 0,s=void 0,l=this.getWrapper(),c=this.getPopups(),d=!1,h=this.isMenu?c.length+1:l.childElementCount;if(i=this.isMenu&&1!==h?gt(".e-ul",c[h-2]):mt(".e-menu-parent",l)[h-1],this.isMenu&&i.classList.contains("e-menu")&&((a=this.getLIByClass(i,Ru))&&a.classList.remove(Ru),d=!0),!d){var p=t&&t.target&&this.getLI(t.target);r=this.navIdx.length?this.getItem(this.navIdx):null,o=r?r.items:this.items,s={element:i,parentItem:this.isMenu&&w()?this.getMenuItemModel(r,e):r,items:o,event:t,cancel:!1},this.trigger("beforeClose",s,(function(a){var s,l,c,d,h,u,g="",m=!a.cancel;(m||n.isCMenu)&&(n.isMenu?(s=vt(i,"."+Bu),n.hamburgerMode&&(s.parentElement.style.minHeight="",vt(i,".e-menu-item").setAttribute("aria-expanded","false")),n.unWireKeyboardEvent(s),n.destroyScrollObj(x(s.children[0],Au),s.children[0]),(c=x(s,ra)).hide(),g=s.id,c.destroy(),pt(s)):n.toggleAnimation(i,!1),l={element:i,parentItem:r,items:o},n.trigger("onClose",l),n.navIdx.pop());var v=n.getWrapper()&&n.getUlByNavIdx();n.isCMenu&&(n.canOpen(t.target)&&n.openMenu(null,null,n.pageY,n.pageX,t),n.isCMenu=!1),n.isMenu&&v&&g.length&&(d=new RegExp("(.*)-ej2menu-"+n.element.id+"-popup").exec(g)[1],h=v.querySelector('[id="'+d+'"]'),u=p&&v.querySelector('[id="'+p.id+'"]'));var y=p&&p.querySelectorAll(".e-menu-item");if(m&&n.hamburgerMode&&e&&!y.length)n.afterCloseMenu(t);else if(m&&!n.hamburgerMode&&n.navIdx.length&&h&&!u)n.closeMenu(n.navIdx[n.navIdx.length-1],t);else if(m&&!e&&(n.hamburgerMode&&n.navIdx.length||1===n.navIdx.length))n.closeMenu(null,t);else if(m&&f(e)&&n.navIdx.length)n.closeMenu(null,t);else if(!m||n.isMenu||e||0!==n.navIdx.length||n.isMenusClosed)if(m&&n.isMenu&&t&&t.target&&0!==n.navIdx.length&&vt(t.target,".e-menu-parent.e-control"))n.closeMenu(0,t);else if(!m||"right"!==n.keyType&&"click"!==n.keyType){var b=n.getUlByNavIdx(),w=n.getLIByClass(b,Ru);if(w&&(w.setAttribute("aria-expanded","false"),w.classList.remove(Ru),p&&(w.classList.add(Du),w.focus())),!m&&n.hamburgerMode&&p&&"false"===p.getAttribute("aria-expanded")&&"true"===p.getAttribute("aria-haspopup")){vt(p,".e-menu-parent.e-control")?n.navIdx=[]:n.navIdx.pop(),n.navIdx.push(n.cliIdx);var S=n.getItem(n.navIdx);p.setAttribute("aria-expanded","true"),n.openMenu(p,S,-1,-1,t)}}else n.afterCloseMenu(t);else n.isMenusClosed=!0,n.closeMenu(0,t);n.removeStateWrapper()}))}}},t.prototype.getMenuItemModel=function(e,t){if(f(e))return null;f(t)&&(t=0);var n=this.getFields(t);return{text:e[n.text],id:e[n.id],items:e[n.child],separator:e[n.separator],iconCss:e[n.iconCss],url:e[n.url]}},t.prototype.destroyScrollObj=function(e,t){e&&(e.destroy(),t.parentElement.appendChild(gt(".e-menu-parent",t)),pt(t))},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+Bu)).forEach((function(n){e.getIndex(n.querySelector("."+Nu).id,!0).length&&t.push(n)})),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&lt(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var n=this.filter.split(" "),i=0,r=n.length;i<r;i++)if(vt(e,"."+n[i])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,n,i,r,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=this.targetElement);var a=this.getWrapper();this.lItem=e;var s=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,f(n)&&(n=-1),f(i)&&(i=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&le.isDevice){a.lastChild.style.display="none";var l={text:t[this.getField("text")].toString(),iconCss:"e-icons e-previous"},c=new _u(this.items[0],"items",l,!0),d=this.createItems([c]).children[0];d.classList.add(Lu),this.uList.insertBefore(d,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+Bu,id:e.id+"-ej2menu-"+s+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&ot([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.triggerBeforeOpen(e,this.uList,t,r,0,0,"menu")):(this.uList.style.zIndex=this.element.style.zIndex,a.appendChild(this.uList),this.triggerBeforeOpen(e,this.uList,t,r,n,i,"none"))}else this.uList=this.element,this.uList.style.zIndex=aa(o||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,r,n,i,"none");if(this.isMenu&&this.template&&w()){var h=this.element.id+"Template";if(Object.keys(Re).length){var p=Re[h];this.tempItem=this.tempItem.concat(p),Re[h]=this.tempItem}Be(h,"Template",this)}},t.prototype.calculateIndentSize=function(e,t){var n=getComputedStyle(t),i=parseInt(n.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?i*=2:i+=i/4,e.style.textIndent=i+"px";var r=e.querySelectorAll(".e-blankicon");if(r&&r.length)for(var o=e.querySelector(".e-menu-icon"),a=getComputedStyle(o),s=parseInt(a.marginRight,10)+o.offsetWidth+i,l=0;l<r.length;l++)r[l].style.textIndent=s+"px"},t.prototype.generatePopup=function(e,t,n,i){var r=this,o=new ra(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:i||this.enableRtl?"none":"flip",Y:"fit"},position:i&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=gt(".e-menu-vscroll",o.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=gt(".e-ul",o.element);o.element.style.maxHeight="",t.focus(),r.triggerOpen(t)}});return o},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),n=this.enableHtmlSanitizer?Mn.sanitize(this.title):this.title,i=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:n}),r=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(i),t.appendChild(r),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){if(this.hamburgerMode){this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}},t.prototype.closeHamburgerMenu=function(e){var t=this;if(this.hamburgerMode){var n;n={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},this.trigger("beforeClose",n,(function(n){n.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))}))}},t.prototype.callFit=function(e,t,n,i,r){return Do(e,null,{X:t,Y:n},{top:i,left:r})},t.prototype.triggerBeforeOpen=function(e,t,n,i,r,o,a){var s,l=this,c=(this.getIndex(e?e.id:null,!0),e?n[this.getField("children",this.navIdx.length-1)]:this.items),d={element:t,items:c,parentItem:this.isMenu&&w()?this.getMenuItemModel(n,this.navIdx.length-1):n,event:i,cancel:!1,top:r,left:o},h=a;this.trigger("beforeOpen",d,(function(r){switch(h){case"menu":if(l.hamburgerMode||(l.top=r.top,l.left=r.left),l.popupWrapper.style.display="block",l.hamburgerMode||(l.popupWrapper.style.maxHeight=l.popupWrapper.getBoundingClientRect().height+"px",l.addScrolling(l.popupWrapper,l.uList,"vscroll",l.popupWrapper.offsetHeight,l.uList.offsetHeight),l.checkScrollOffset(i)),l.hamburgerMode||l.left||l.top)l.popupObj.collision={X:"none",Y:"none"};else{if(l.popupObj.refreshPosition(l.lItem,!0),l.left=parseInt(l.popupWrapper.style.left,10),l.top=parseInt(l.popupWrapper.style.top,10),l.enableRtl&&(l.left=l.isNestedOrVertical?l.left-l.popupWrapper.offsetWidth-l.lItem.parentElement.offsetWidth+2:l.left-l.popupWrapper.offsetWidth+l.lItem.offsetWidth),s=Lo(l.popupWrapper,null,l.left,l.top),(l.isNestedOrVertical||l.enableRtl)&&(s.indexOf("right")>-1||s.indexOf("left")>-1)){l.popupObj.collision.X="none";var o=vt(l.lItem,".e-"+l.getModuleName()+"-wrapper").offsetWidth;l.left=l.enableRtl?So(l.lItem,l.isNestedOrVertical?"right":"left","top").left:l.left-l.popupWrapper.offsetWidth-o+2}((s=Lo(l.popupWrapper,null,l.left,l.top)).indexOf("left")>-1||s.indexOf("right")>-1)&&(l.left=l.callFit(l.popupWrapper,!0,!1,l.top,l.left).left),l.popupWrapper.style.left=l.left+"px"}l.popupWrapper.style.display="";break;case"none":l.top=r.top,l.left=r.left;break;case"hamburger":r.cancel||(l.element.classList.remove("e-hide-menu"),l.triggerOpen(l.element))}if("hamburger"!==h)if(r.cancel)l.isMenu?(l.popupObj.destroy(),pt(l.popupWrapper)):t.className.indexOf("e-ul")>-1&&pt(t),l.navIdx.pop();else if(l.isMenu)if(l.hamburgerMode)l.popupWrapper.style.top=l.top+"px",l.popupWrapper.style.left="0px",l.toggleAnimation(l.popupWrapper);else{l.wireKeyboardEvent(l.popupWrapper),qt(l.popupWrapper,{selector:"."+Nu}),l.popupWrapper.style.left=l.left+"px",l.popupWrapper.style.top=l.top+"px";var a="None"!==l.animationSettings.effect?{name:l.animationSettings.effect,duration:l.animationSettings.duration,timingFunction:l.animationSettings.easing}:null;l.popupObj.show(a,l.lItem)}else l.setPosition(l.lItem,l.uList,l.top,l.left),l.toggleAnimation(l.uList);if("right"===l.keyType){var c=l.getUlByNavIdx();e.classList.remove(Du);var d;if(l.isMenu&&1===l.navIdx.length&&l.removeLIStateByClass([Ru],[l.getWrapper()]),e.classList.add(Ru),"enter"===l.action){var p={element:e,item:n,event:i};l.trigger("select",p)}e.focus(),c=l.getUlByNavIdx(),d=l.isValidLI(c.children[0],0,l.action),c.children[d].classList.add(Du),c.children[d].focus()}}))},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var n,i,r=f(e)?this.element:vt(e.target,"."+Nu),o=gt(".e-hscroll-bar",t);o.scrollLeft>r.offsetLeft&&(o.scrollLeft-=o.scrollLeft-r.offsetLeft),(n=o.scrollLeft+o.offsetWidth)<(i=r.offsetLeft+r.offsetWidth)&&(o.scrollLeft+=i-n)}},t.prototype.addScrolling=function(e,t,n,i,r){if(this.enableScrolling&&i<r){var o=this.createElement("div",{className:"e-menu-"+n});e.appendChild(o),o.appendChild(t),o.style.maxHeight=e.style.maxHeight;e.style.overflow="hidden","vscroll"===n?new Au({enableRtl:this.enableRtl},o).scrollStep=gt(".e-"+n+"-bar",e).offsetHeight/2:new Tu({enableRtl:this.enableRtl},o).scrollStep=gt(".e-"+n+"-bar",e).offsetWidth}},t.prototype.setPosition=function(e,t,n,i){if(this.toggleVisiblity(t),t===this.element||i>-1&&n>-1){if((o=Lo(t,null,i,n)).indexOf("right")>-1&&(i-=t.offsetWidth),o.indexOf("bottom")>-1)n=(r=this.callFit(t,!1,!0,n,i)).top-20;if((o=Lo(t,null,i,n)).indexOf("left")>-1)i=(r=this.callFit(t,!0,!1,n,i)).left}else if(le.isDevice)n=Number(this.element.style.top.replace("px","")),i=Number(this.element.style.left.replace("px",""));else{var r;n=(r=So(e,this.enableRtl?"left":"right","top")).top,i=r.left;var o,a=(o=Lo(t,null,this.enableRtl?i-t.offsetWidth:i,n)).indexOf("left")>-1||o.indexOf("right")>-1;a&&(i=(r=So(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||a)&&(i=this.enableRtl&&a?i:i-t.offsetWidth),o.indexOf("bottom")>-1&&(n=(r=this.callFit(t,!1,!0,n,i)).top)}this.toggleVisiblity(t,!1),t.style.top=n+"px",t.style.left=i+"px"},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,n=this.navIdx?this.navIdx.length:0,i=this.getFields(n);if(w()&&this.template&&e.length&&e[0].properties){var r=[];e.forEach((function(e,t){r.push({}),r[t][i.text]=e[i.text],e[i.id]||(e[i.id]=m("menuitem")),r[t][i.id]=e[i.id],r[t][i.iconCss]=e[i.iconCss],r[t][i.url]=e[i.url],r[t][i.child]=e[i.child],r[t][i.separator]=e[i.separator]})),e=r}var o=this.hasField(e,this.getField("iconCss",n)),a={showIcon:o,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[i.id]]||(e.curData[e.fields[i.id]]=m("menuitem")),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},t.isMenu&&!e.curData[t.getField("separator",n)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]),""===e.curData[e.fields[i.iconCss]]&&(e.curData[e.fields[i.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",n)]&&(e.item.classList.add("e-separator"),e.item.removeAttribute("role")),!o||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",n)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var i=t.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(i),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),t.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"));var r={item:e.curData,element:e.item};t.trigger("beforeItemRender",r)}};this.setProperties({items:this.items},!0),this.isMenu&&(a.templateID=this.element.id+"Template");var s=fp.createList(this.createElement,e,a,!this.template);return s.setAttribute("tabindex","0"),this.isMenu&&s.setAttribute("role","menu"),s},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var n=this.getLI(t),i=n?vt(n,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),r=this.getWrapper(),o=new RegExp("-ej2menu-(.*)-popup"),a=!1;if(i){if((""!==i.id?o.exec(i.id)[1]:i.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([Du,Ru],[this.getWrapper()]),!this.navIdx.length)return;a=!0}n&&vt(n,".e-"+this.getModuleName()+"-wrapper")&&!a?(this.removeLIStateByClass([Du],this.isMenu?[i].concat(this.getPopups()):[i]),this.removeLIStateByClass([Du],this.isMenu?[r].concat(this.getPopups()):[r]),n.classList.add(Du),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!a&&this.removeLIStateByClass([Du],[i].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===i||vt(t,".e-"+this.getModuleName()+"-popup")||n&&(!n||this.getIndex(n.id,!0).length)?a&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([Du],[i]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=vt(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([Du,Ru],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var n,i=function(i){e.forEach((function(e){(n=gt("."+e,t[i]))&&n.classList.remove(e)}))},r=0;r<t.length;r++)i(r)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var n=this.fields[e];return"string"===typeof n?n:n[t]?n[t].toString():n[n.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){vt(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),n=e.target,i=this.cli=this.getLI(n),r=new RegExp("-ej2menu-(.*)-popup"),o=i?vt(i,".e-"+this.getModuleName()+"-wrapper"):null,a=i&&o&&(this.isMenu?this.getIndex(i.id,!0).length>0:t.firstElementChild.id===o.firstElementChild.id);if(le.isDevice&&this.isMenu&&(this.removeLIStateByClass([Du],[t].concat(this.getPopups())),this.mouseDownHandler(e)),i&&o&&this.isMenu){var s=o.id?r.exec(o.id)[1]:o.querySelector(".e-menu-parent").id;if(this.element.id!==s)return}if(a&&"click"===e.type&&!i.classList.contains(Lu)){this.setLISelected(i);var l=this.getIndex(i.id,!0),c={element:i,item:this.getItem(l),event:e};this.trigger("select",c)}if(a&&("mouseover"===e.type||le.isDevice||this.showItemOnClick)){var d=void 0;if(i.classList.contains(Lu))d=t.children[this.navIdx.length-1],this.toggleAnimation(d),(p=this.getLIByClass(d,Ru))&&p.classList.remove(Ru),pt(i.parentNode),this.navIdx.pop();else if(!i.classList.contains("e-separator")){this.showSubMenu=!0;var h=i.parentNode;if(this.cliIdx=this.getIdx(h,i),this.isMenu||!le.isDevice){var p,u=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),vt(h,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,h);if(this.navIdx[u]===this.cliIdx&&(this.showSubMenu=!1),u!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu))(p=this.getLIByClass(h,Ru))&&p.classList.remove(Ru),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(i),this.closeMenu(u+1,e),this.showItemOnClick&&this.setLISelected(i)}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===n.tagName&&this.navIdx.length&&vt(n,".e-menu-vscroll")){var f=vt(n,"."+Bu),g=Array.prototype.indexOf.call(this.getPopups(),f)+1;g<this.navIdx.length&&(this.closeMenu(g+1,e),this.removeLIStateByClass([Du,Ru],[f]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===n.tagName&&(this.isMenu?!n.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(n.querySelector("."+Nu).id,!0).length:n.parentElement===t)||(i||this.removeLIStateByClass([Ru],[t]),i&&i.querySelector(".e-caret")||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){var t;if(this.showSubMenu){t=this.showItemOnClick&&0===this.navIdx.length?vt(e.target,".e-menu-parent.e-control"):vt(this.element,".e-menu-parent.e-control");var n=this.navIdx.concat(this.cliIdx),i=this.getItem(n);if(i&&i[this.getField("children",n.length-1)]&&i[this.getField("children",n.length-1)].length?(("mouseover"===e.type||le.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,i,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){var r=this.getUlByNavIdx(),o=this.getLIByClass(r,Ru);o&&(o.setAttribute("aria-expanded","false"),o.classList.remove(Ru))}}this.keyType=""},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,Ru);t&&t.classList.remove(Ru),this.isMenu||e.classList.remove(Du),e.classList.add(Ru)},t.prototype.getLIByClass=function(e,t){for(var n=0,i=e.children.length;n<i;n++)if(e.children[n].classList.contains(t))return e.children[n];return null},t.prototype.getItemIndex=function(e,t){var n;n="string"===typeof e?e:e.id;var i=!1!==t;return this.getIndex(n,i)},t.prototype.setItem=function(e,t,n){var i=t||e.id,r=!1!==n,o=this.getIndex(i,r),a=this.getItem(o);a.iconCss=e.iconCss,a.id=e.id,a.text=e.text,a.url=e.url,a.separator=e.separator,a.items=e.items},t.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,n=0;n<e.length;n++)t=t[e[n]][this.getField("children",n)];return t},t.prototype.setItems=function(e,t){var n=this.getItems(t);n.splice(0,n.length);for(var i=0;i<e.length;i++)n.splice(i,0,e[i])},t.prototype.getIdx=function(e,t,n){void 0===n&&(n=!0);var i=Array.prototype.indexOf.call(e.querySelectorAll("li"),t);return i=this.isMenu&&this.template&&w()?Array.prototype.indexOf.call(e.querySelectorAll(t.tagName),t):Array.prototype.indexOf.call(e.children,t),n&&e.children[0].classList.contains(Lu)&&i--,i},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:vt(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,t=0,n=0;n<this.navIdx.length&&(e=e[n].items);n++){t++;var i=this.getUlByNavIdx(t);if(!i)break;this.updateItem(i,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var n=this,i=this.getWrapper(),r=function(r){switch(r){case"cssClass":t.cssClass&&at([i],t.cssClass.split(" ")),e.cssClass&&ot([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":o.unWireEvents(),o.showItemOnClick=e.showItemOnClick,o.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var a;o.element.classList.contains("e-vertical")?o.addScrolling(i,o.element,"vscroll",i.offsetHeight,o.element.offsetHeight):o.addScrolling(i,o.element,"hscroll",i.offsetWidth,o.element.offsetWidth),o.getPopups().forEach((function(e){a=gt(".e-ul",e),n.addScrolling(e,a,"vscroll",e.offsetHeight,a.offsetHeight)}))}else{var s=i.children[0];o.element.classList.contains("e-vertical")?o.destroyScrollObj(x(s,Au),s):o.destroyScrollObj(x(s,Tu),s),i.style.overflow="",i.appendChild(o.element),o.getPopups().forEach((function(e){s=e.children[0],n.destroyScrollObj(x(s,Au),s),e.style.overflow=""}))}break;case"items":var l=void 0,c=void 0,d=void 0;if(Object.keys(t.items).length){var h=Object.keys(e.items);for(p=0;p<h.length;p++)(c=o.getChangedItemIndex(e,[],Number(h[p]))).length<=o.getWrapper().children.length&&(l=c.pop(),d=o.getItems(c),o.insertAfter([d[l]],d[l].text),o.removeItem(d,c,l),o.setItems(d,c)),c.length=0}else{o.updateItem(o.element,o.items);for(var p=1,u=i.childElementCount;p<u;p++)pt(i.lastElementChild);o.isMenu&&w()?o.updateItemsByNavIdx():o.navIdx=[]}}},o=this,a=0,s=Object.keys(e);a<s.length;a++){r(s[a])}},t.prototype.updateItem=function(e,t){w()?e=this.removeChildElement(e):e.innerHTML="",[].slice.call(this.createItems(t).children).forEach((function(t){e.appendChild(t)}))},t.prototype.getChangedItemIndex=function(e,t,n){t.push(n);var i=Object.keys(e.items[n]).pop();if("items"===i){var r=e.items[n],o=Object.keys(r.items).pop();o&&this.getChangedItemIndex(r,t,Number(o))}else"isParentArray"===i&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,n){e.splice(n,1);var i=this.getWrapper().children;t.length<i.length&&pt(i[t.length].children[n])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var n=void 0,i=void 0,r=mt(e),o=0,a=r.length;o<a;o++)n=r[o],this.isMenu?ce.remove(n,"click",this.menuHeaderClickHandler):le.isIos?(i=x(n,Tn))&&i.destroy():ce.remove(n,"contextmenu",this.cmenuHandler);if(!this.isMenu){ce.remove(this.targetElement,"scroll",this.scrollHandler);for(var s=0,l=oa(this.targetElement);s<l.length;s++){var c=l[s];ce.remove(c,"scroll",this.scrollHandler)}}}le.isDevice||(ce.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),ce.remove(document,"mousedown",this.delegateMouseDownHandler)),ce.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=x(e,xn);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var n,i,r=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){r.hamburgerMode?(i=e.element.parentElement,e.element.style.position="absolute",n=i.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",i.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){r.hamburgerMode&&(i.style.minHeight=n+e.element.offsetHeight+"px")},end:function(e){r.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",i.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),r.triggerOpen(e.element.children[0])):r.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,n={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",n)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+Du))e.querySelector("."+Du).focus();else{var n=void 0;(n=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1])?n.querySelector("."+Ru).focus():this.element.focus()}else if(e===this.element){var i=this.getLIByClass(this.element,Du);i&&i.classList.remove(Du);var r=this.getLIByClass(this.element,Ru);r&&r.classList.remove(Ru),e.style.display="none"}else pt(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return vt(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,n,i,r,o){var a;void 0===n&&(n=this.items),void 0===i&&(i=[]),void 0===r&&(r=!1),void 0===o&&(o=0),o=r?o+1:0;for(var s=0,l=n.length;s<l;s++){if(a=n[s],(t?a[this.getField("itemId",o)]:a[this.getField("text",o)])===e){i.push(s);break}if(a[this.getField("children",o)]&&a[this.getField("children",o)].length){if(-1!==(i=this.getIndex(e,t,a[this.getField("children",o)],i,!0,o))[i.length-1]){i.unshift(s);break}s!==l-1&&i.pop()}else s===l-1&&i.push(-1)}return r||-1!==i[0]?i:[]},t.prototype.enableItems=function(e,t,n){var i,r,o;void 0===t&&(t=!0);for(var a,s="e-disabled",l=0;l<e.length;l++){if(o=this.getIndex(e[l],n),this.navIdx.length){if(1!==o.length){a=!1;for(var c=0,d=o.length-1;c<d;c++)if(o[c]!==this.navIdx[c]){a=!0;break}if(a)continue}}else if(1!==o.length)continue;r=o.pop(),(i=this.getUlByNavIdx(o.length))&&(t?this.isMenu?(i.children[r].classList.remove(s),i.children[r].removeAttribute("aria-disabled")):le.isDevice&&!i.classList.contains("e-contextmenu")?i.children[r+1].classList.remove(s):i.children[r].classList.remove(s):this.isMenu?(i.children[r].classList.add(s),i.children[r].setAttribute("aria-disabled","true")):le.isDevice&&!i.classList.contains("e-contextmenu")?i.children[r+1].classList.add(s):i.children[r].classList.add(s))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,n){for(var i,r,o,a=0;a<e.length;a++)r=(o=this.getIndex(e[a],n)).pop(),(i=this.getUlByNavIdx(o.length))&&(t?le.isDevice&&!i.classList.contains("e-contextmenu")?i.children[r+1].classList.add(zu):i.children[r].classList.add(zu):le.isDevice&&!i.classList.contains("e-contextmenu")?i.children[r+1].classList.remove(zu):i.children[r].classList.remove(zu))},t.prototype.removeItems=function(e,t){for(var n,i,r,o=0;o<e.length;o++)n=(i=this.getIndex(e[o],t)).pop(),r=this.getItems(i),this.removeItem(r,i,n)},t.prototype.insertAfter=function(e,t,n){this.insertItems(e,t,n)},t.prototype.insertBefore=function(e,t,n){this.insertItems(e,t,n,!1)},t.prototype.insertItems=function(e,t,n,i){var r,o,a,s,l;void 0===i&&(i=!0);for(var c=0;c<e.length;c++){o=(a=this.getIndex(t,n)).pop(),s=this.getItems(a),l=new _u(s[0],"items",e[c],!0),s.splice(i?o+1:o,0,l);var d=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(a.length<d.length){o=i?o+1:o,this.hasField(s,this.getField("iconCss",a.length-1)),r=this.createItems(s).children[o];var h=this.isMenu?gt(".e-menu-parent",d[a.length]):d[a.length];h.insertBefore(r,h.children[o])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),w()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t);else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)ot([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var n=this.clonedElement.nextElementSibling;n&&n!==t?this.clonedElement.parentElement.insertBefore(this.element,n):this.clonedElement.parentElement.appendChild(this.element),w()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",dt([].slice.call(this.clonedElement.children),this.element),pt(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(pt(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):pt(t),e.prototype.destroy.call(this)}},ju([Ft()],t.prototype,"beforeItemRender",void 0),ju([Ft()],t.prototype,"beforeOpen",void 0),ju([Ft()],t.prototype,"onOpen",void 0),ju([Ft()],t.prototype,"beforeClose",void 0),ju([Ft()],t.prototype,"onClose",void 0),ju([Ft()],t.prototype,"select",void 0),ju([Ft()],t.prototype,"created",void 0),ju([zt("")],t.prototype,"cssClass",void 0),ju([zt(!1)],t.prototype,"showItemOnClick",void 0),ju([zt("")],t.prototype,"target",void 0),ju([zt("")],t.prototype,"filter",void 0),ju([zt(null)],t.prototype,"template",void 0),ju([zt(!1)],t.prototype,"enableScrolling",void 0),ju([zt(!1)],t.prototype,"enableHtmlSanitizer",void 0),ju([Bt({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},Hu)],t.prototype,"fields",void 0),ju([_t([],_u)],t.prototype,"items",void 0),ju([Bt({duration:400,easing:"ease",effect:"SlideDown"},Wu)],t.prototype,"animationSettings",void 0),t=ju([Vt],t)}(ln),Vu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uu=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Yu=function(e){function t(t,n){return e.call(this,t,n)||this}return Vu(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||m("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),ft(this.element,{role:"context menu",tabindex:"0"}),this.element.style.zIndex=aa(this.element).toString()},t.prototype.open=function(t,n,i){e.prototype.openMenu.call(this,null,null,t,n,null,i)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,n){e.prototype.onPropertyChanged.call(this,t,n);for(var i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(n.target),this.wireEvents()}}},t.prototype.getModuleName=function(){return"contextmenu"},Uu([zt("")],t.prototype,"target",void 0),Uu([zt("")],t.prototype,"filter",void 0),Uu([_t([],_u)],t.prototype,"items",void 0),t=Uu([Vt],t)}(Fu),Xu=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Gu=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},qu=".e-diagramcontent",Zu="e-copy",Ku="e-paste",$u="e-undo",Qu="e-redo",Ju="e-cut",ef="e-group",tf="e-ungroup",nf="e-bringfront",rf="e-sendback",of="e-bringforward",af="e-sendbackward",sf="e-order";(function(){function e(e,t){this.defaultItems={},this.disableItems=[],this.hiddenItems=[],this.localeText=this.setLocaleKey(),this.parent=e,this.serviceLocator=t,this.addEventListener()}e.prototype.addEventListener=function(){this.parent.isDestroyed||this.parent.on("initial-load",this.render,this)},e.prototype.removeEventListener=function(){this.parent.isDestroyed||this.parent.off("initial-load",this.render)},e.prototype.render=function(){this.l10n=this.serviceLocator.getService("localization"),this.element=ih("ul",{id:this.parent.element.id+"_contextMenu"}),this.parent.element.appendChild(this.element);var e="#"+this.parent.element.id;this.contextMenu=new Yu({items:this.getMenuItems(),enableRtl:this.parent.enableRtl,enablePersistence:this.parent.enablePersistence,locale:this.parent.locale,target:e,select:this.contextMenuItemClick.bind(this),beforeOpen:this.contextMenuBeforeOpen.bind(this),onOpen:this.contextMenuOpen.bind(this),beforeItemRender:this.BeforeItemRender.bind(this),onClose:this.contextMenuOnClose.bind(this),cssClass:"e-diagram-menu",animationSettings:{effect:"None"}}),this.contextMenu.appendTo(this.element)},e.prototype.getMenuItems=function(){var e=[],t=[],n=[];if(!this.parent.contextMenuSettings.showCustomMenuOnly){for(var i=0,r=this.getDefaultItems();i<r.length;i++){var o=r[i];-1!==o.toLocaleLowerCase().indexOf("group")?"grouping"!==o.toLocaleLowerCase()&&n.push(this.buildDefaultItems(o)):-1!==o.toLocaleLowerCase().indexOf("order")?"order"!==o.toLocaleLowerCase()&&t.push(this.buildDefaultItems(o)):e.push(this.buildDefaultItems(o))}var a;if(n.length>0)(a=this.buildDefaultItems("grouping")).items=n,e.push(a);if(t.length>0)(a=this.buildDefaultItems("order")).items=t,e.push(a)}if(this.parent.contextMenuSettings.items)for(var s=0,l=this.parent.contextMenuSettings.items;s<l.length;s++){var c=l[s];e.push(c)}return e},e.prototype.contextMenuOpen=function(){this.isOpen=!0},e.prototype.BeforeItemRender=function(e){this.parent.trigger("contextMenuBeforeItemRender",e)},e.prototype.contextMenuItemClick=function(e){document.getElementById(this.parent.element.id+"content").focus(),this.parent.trigger("contextMenuClick",e);var t=this.getKeyFromId(e.item.id);if(!e.cancel)switch(t){case"cut":this.parent.cut();break;case"copy":this.parent.copy();break;case"undo":this.parent.undo();break;case"redo":this.parent.redo();break;case"paste":this.parent.paste();break;case"selectAll":this.parent.selectAll();break;case"group":this.parent.group();break;case"unGroup":this.parent.unGroup();break;case"bringToFrontOrder":this.parent.bringToFront();break;case"moveForwardOrder":this.parent.moveForward();break;case"sendToBackOrder":this.parent.sendToBack();break;case"sendBackwardOrder":this.parent.sendBackward()}},e.prototype.contextMenuOnClose=function(e){e.items.length>0&&e.items[0].parentObj instanceof Yu&&this.updateItemStatus()},e.prototype.getLocaleText=function(e){return this.l10n.getConstant(this.localeText[e])},e.prototype.updateItemStatus=function(){this.contextMenu.showItems(this.hiddenItems,!0),this.contextMenu.enableItems(this.disableItems,!1,!0),this.hiddenItems=[],this.disableItems=[],this.isOpen=!1},e.prototype.ensureItems=function(e,t){var n=this.getKeyFromId(e.id);this.defaultItems[n];-1!==this.getDefaultItems().indexOf(n)&&e.target&&(t||this.parent.checkMenu)&&!this.ensureTarget(e)&&this.hiddenItems.push(e.id)},e.prototype.contextMenuBeforeOpen=function(e){return Xu(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,l,c,d;return Gu(this,(function(h){switch(h.label){case 0:for(this.parent.checkMenu||-1===window.navigator.userAgent.indexOf("Linux")&&-1===window.navigator.userAgent.indexOf("X11")||(this.parent.checkMenu=e.cancel=!0),this.parent.checkMenu&&(this.hiddenItems=[]),(t=e).hiddenItems=[],n=0,i=e.items;n<i.length;n++)if(d=i[n],this.ensureItems(d,e.event),d.items.length)for(r=0,o=d.items;r<o.length;r++)a=o[r],this.ensureItems(a,e.event);return this.eventArgs=e.event,w()?[4,this.parent.trigger("contextMenuOpen",t)]:[3,2];case 1:return"string"===typeof(t=h.sent()||t)&&(t=JSON.parse(t)),[3,3];case 2:this.parent.trigger("contextMenuOpen",t),h.label=3;case 3:for(s=!0,this.hiddenItems=this.hiddenItems.concat(t.hiddenItems),this.contextMenu.enableItems(this.disableItems,!1,!0),l=this,c=0;c<e.items.length;c++)d=e.items[c],l.hiddenItems.indexOf(d.id)>-1&&l.contextMenu.hideItems([d.id],!0);for(c=0;c<l.contextMenu.items.length;c++)d=l.contextMenu.items[c],-1===l.hiddenItems.indexOf(d.id)&&(s=!1,l.contextMenu.showItems([d.id],!0));return s&&(t.cancel=s,this.hiddenItems=[]),this.parent.selectedItems.nodes.length&&this.parent.selectedItems.nodes[0].isPhase&&(e.cancel=!0),[2]}}))}))},e.prototype.ensureTarget=function(e){var t=this.parent.selectedItems.nodes.length+this.parent.selectedItems.connectors.length,n=!1;switch(this.getKeyFromId(e.id)){case"undo":n=!(!this.parent.historyManager||!this.parent.historyManager.canUndo);break;case"redo":n=!(!this.parent.historyManager||!this.parent.historyManager.canRedo);break;case"paste":n=!!this.parent.commandHandler.clipboardData.clipObject;break;case"selectAll":n=!!(this.parent.nodes.length+this.parent.connectors.length);break;case"grouping":n=!!(t>1||this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"group":n=t>1;break;case"unGroup":n=!!(this.parent.selectedItems.nodes[0]&&this.parent.selectedItems.nodes[0].children&&this.parent.selectedItems.nodes[0].children.length>1);break;case"cut":case"copy":case"order":case"bringToFrontOrder":case"moveForwardOrder":case"sendToBackOrder":case"sendBackwardOrder":n=!!t}return n},e.prototype.destroy=function(){this.contextMenu.destroy(),ut(this.element),this.removeEventListener()},e.prototype.getModuleName=function(){return"contextMenu"},e.prototype.generateID=function(e){return this.parent.element.id+"_contextMenu_"+e},e.prototype.getKeyFromId=function(e){return e.replace(this.parent.element.id+"_contextMenu_","")},e.prototype.buildDefaultItems=function(e){var t;switch(e){case"copy":t={target:qu,iconCss:Zu};break;case"cut":t={target:qu,iconCss:Ju};break;case"paste":t={target:qu,iconCss:Ku};break;case"undo":t={target:qu,iconCss:$u};break;case"redo":t={target:qu,iconCss:Qu};break;case"grouping":t={target:qu};break;case"group":t={target:qu,iconCss:ef};break;case"unGroup":t={target:qu,iconCss:tf};break;case"order":t={target:qu,iconCss:sf};break;case"bringToFrontOrder":t={target:qu,iconCss:nf};break;case"moveForwardOrder":t={target:qu,iconCss:of};break;case"sendToBackOrder":t={target:qu,iconCss:rf};break;case"sendBackwardOrder":t={target:qu,iconCss:af};break;case"selectAll":t={target:qu}}return this.defaultItems[e]={text:this.getLocaleText(e),id:this.generateID(e),target:t.target,iconCss:t.iconCss?"e-icons "+t.iconCss:""},this.defaultItems[e]},e.prototype.getDefaultItems=function(){return["copy","cut","paste","undo","redo","selectAll","grouping","group","unGroup","order","bringToFrontOrder","moveForwardOrder","sendToBackOrder","sendBackwardOrder"]},e.prototype.setLocaleKey=function(){return{copy:"Copy",cut:"Cut",paste:"Paste",undo:"Undo",redo:"Redo",selectAll:"SelectAll",grouping:"Grouping",group:"Group",unGroup:"UnGroup",order:"Order",bringToFrontOrder:"BringToFront",moveForwardOrder:"MoveForward",sendToBackOrder:"SendToBack",sendBackwardOrder:"SendBackward"}}})(),function(){function e(){this.annotationObjects={}}Object.defineProperty(e.prototype,"textAnnotationConnectors",{get:function(){for(var e=[],t=0,n=Object.keys(this.annotationObjects);t<n.length;t++)for(var i=n[t],r=this.annotationObjects[i],o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];e.push(r[s].connector)}return e},enumerable:!0,configurable:!0}),e.prototype.getTextAnnotationConn=function(e){var t=[];if("Bpmn"===e.shape.type&&0!==e.shape.annotations.length)for(var n=this.annotationObjects[e.id],i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];t.push(n[o].connector)}return t},e.prototype.getSize=function(e,t){var n=new Kn(e.width,e.height);if(void 0===n.width||void 0===n.height){if(t instanceof hr||(n.width=n.width||50,n.height=n.height||50),t.actualSize.width&&t.actualSize.height)return t.actualSize;t.measure(new Kn),n.width=n.width||t.desiredSize.width,n.height=n.height||t.desiredSize.height,void 0!==e.maxWidth&&(n.width=Math.min(n.width,e.maxWidth)),void 0!==e.maxHeight&&(n.height=Math.min(n.height,e.maxHeight)),void 0!==e.minWidth&&(n.width=Math.max(n.width,e.minWidth)),void 0!==e.minHeight&&(n.height=Math.max(n.height,e.minHeight))}return n},e.prototype.initBPMNContent=function(e,t,n){var i=(w(),t.shape),r=w()?t.shape.bpmnShape:t.shape.shape;if("Event"===r&&(e=this.getBPMNEventShape(t,i.event)),"Gateway"===r&&(e=this.getBPMNGatewayShape(t)),"DataObject"===r&&(e=this.getBPMNDataObjectShape(t)),"Message"!==r&&"DataSource"!==r||(e=this.getBPMNShapes(t)),"Activity"===r&&(e=this.getBPMNActivityShape(t)),"TextAnnotation"===r&&(e=this.renderBPMNTextAnnotation(n,t,e)),i.annotations.length>0){for(var o=0;o<i.annotations.length&&i.annotations[o].text;o++)e.children.push(this.getBPMNTextAnnotation(t,n,i.annotations[o],e));e.style.strokeDashArray="2 2 6 2"}return e},e.prototype.getBPMNShapes=function(e){var t=new hr;this.setStyle(t,e),0!==(e.constraints&Ei.Shadow)&&(t.shadow=e.shadow);var n=lf(w()?e.shape.bpmnShape:e.shape.shape);return t.data=n,t.id=e.id+"_"+(w()?e.shape.bpmnShape:e.shape.shape),void 0!==e.width&&void 0!==e.height&&(t.width=e.width,t.height=e.height),t},e.prototype.getBPMNGatewayShape=function(e){var t=new sr,n=new hr;n.id=e.id+"_0_gateway",n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.data="M 40 20 L 20 40 L 0 20 L 20 0 L 40 20 Z",this.setStyle(n,e);var i=new hr;i.id=e.id+"_1_gatewayType",i.style.opacity=e.style.opacity,i.style.strokeColor=e.style.strokeColor,i.horizontalAlignment="Center",i.verticalAlignment="Center",i.relativeMode="Object";var r,o=e.shape.gateway;r=df(o.type),"EventBased"===o.type||"ExclusiveEventBased"===o.type||"ParallelEventBased"===o.type?i.style.fill="white":i.style.fill="black",i.data=r,t.style.fill="transparent",t.style.strokeColor="transparent",t.style.strokeWidth=0,t.children=[n,i];var a=this.getSize(e,n);return this.setSizeForBPMNGateway(e.shape.gateway,t,a.width,a.height),t},e.prototype.getBPMNDataObjectShape=function(e){var t=new sr,n=e.shape.dataObject,i=new hr;i.id=e.id+"_0_dataobj",i.data="M29.904,5 L7.853,5 L7.853,45 L42.147,45 L42.147,17.242,L29.932,5,L29.932,17.242,L42.147,17.242";var r=this.getSize(e,i);i.width=r.width,i.height=r.height,this.setStyle(i,e);var o=new hr;o.id=e.id+"_1_type",o.width=25,o.height=20,o.margin.left=5,o.margin.top=5,o.data="M 3 9.4 l 6 0 v 2.4 l 3.6 -4 L 9 4 v 2.5 H 3 V 9.4 Z",o.style.opacity=e.style.opacity;var a=new hr;switch(a.id=e.id+"_2_collection",a.width=7.5,a.height=15,a.style.fill="black",a.visible=!0,a.horizontalAlignment="Center",a.verticalAlignment="Bottom",a.relativeMode="Object",a.style.opacity=e.style.opacity,a.data="M 0 0 L 0.1 0 L 0.1 2 L 0 2 Z M 0.4 0 L 0.6 0 L 0.6 2 L0.4 2 Z M 0.9 0 L 1 0 L 1 2 L 0.9 2 Z",n.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}return!1===n.collection&&(a.visible=!1),t.style.fill="transparent",t.style.strokeColor="transparent",t.style.strokeWidth=0,t.children=[i,o,a],t},e.prototype.getBPMNTaskShape=function(e){var t=e.shape.activity.task,n=new sr,i=new tr;i.cornerRadius=10;var r=this.getSize(e,i);i.id=e.id+"_0_task",i.width=r.width,i.height=r.height,this.setStyle(i,e),void 0!==t.call&&!0===t.call&&(i.style.strokeWidth=4),n.width=r.width,n.height=r.height;var o,a=this.getTaskChildCount(e),s=12*a,l=r.width/2-s;o=1===a?l+8:l+8*(a-1);var c,d=new hr;if("Receive"===t.type||"Send"===t.type?(d.width=18,d.height=16):(d.width=20,d.height=20),d.id=e.id+"_1_tasktType",d.margin.left=5,d.margin.top=5,c=hf(t.type),d.data=c,d.style.fill="transparent",d.style.opacity=e.style.opacity,n.style.fill="transparent",n.style.strokeColor="transparent",n.style.strokeWidth=0,n.children=[i,d],"Service"===t.type){var h=new hr;h.id=e.id+"_1_taskTypeService",h.data=c,h.margin.left=d.margin.left+9,h.margin.top=d.margin.top+9,h.style.fill="white",h.style.opacity=e.style.opacity,n.children.push(h)}var p,u=t.loop,f=new hr;p=pf(u),f.data=p,f.style.fill="black",f.visible="None"!==u,1===a&&(o=l+9),f.margin.left=o,!0===f.visible&&(o+=20),f.width=12,f.height=12,f.margin.bottom=5,f.id=e.id+"_2_loop",f.horizontalAlignment="Left",f.verticalAlignment="Bottom",f.setOffsetWithRespectToBounds(0,1,"Fraction"),f.relativeMode="Point",f.style.fill="transparent",d.style.opacity=e.style.opacity,n.children.push(f);var g=new hr;return g=this.getBPMNCompensationShape(e,g),!0===t.compensation?g.visible=!0:g.visible=!1,1===a&&(o=l+9),g.margin.left=o-3,o+=18,n.children.push(g),n},e.prototype.getBPMNEventShape=function(e,t,n,i){var r,o,a,s,l=new sr;i=i||e.id;var c="M164.1884,84.6909000000001C156.2414,84.6909000000001,149.7764,78.2259000000001,149.7764,70.2769000000001C149.7764,62.3279000000001,156.2414,55.8629000000001,164.1884,55.8629000000001C172.1354,55.8629000000001,178.6024,62.3279000000001,178.6024,70.2769000000001C178.6024,78.2259000000001,172.1354,84.6909000000001,164.1884,84.6909000000001",d=e.shape.event;if((!w()&&"Event"===e.shape.shape||w()&&"Event"===e.shape.bpmnShape)&&(r=d.event,o=d.trigger),a=t.width,s=t.height,n)a=a||20,s=s||20;else if(void 0===t.width||void 0===t.height){var h=new hr;h.data=c;var p=this.getSize(e,h);a=p.width,s=p.height}var u=e.shape.activity;if(!w()&&"Activity"===e.shape.shape||w()&&"Activity"===e.shape.bpmnShape){u.subProcess;r=t.event,o=t.trigger}var f=new hr;f.data=c,f.id=i+"_0_event",f.width=a,f.height=s,f.horizontalAlignment="Center",f.verticalAlignment="Center",f.relativeMode="Object",this.setStyle(f,e);var g=new hr;g.data=c,g.id=i+"_1_event",g.style.gradient=e.style.gradient,g.horizontalAlignment="Center",g.verticalAlignment="Center",g.relativeMode="Object",g.style.strokeColor=e.style.strokeColor,g.style.opacity=e.style.opacity;var m=new hr,v=cf(o);switch(m.data=v,m.id=i+"_2_trigger",m.horizontalAlignment="Center",m.verticalAlignment="Center",m.relativeMode="Object",m.style.strokeColor=e.style.strokeColor,m.style.opacity=e.style.opacity,r){case"Start":g.visible=!1;break;case"NonInterruptingStart":f.style.strokeDashArray="2 3",g.visible=!1;break;case"Intermediate":f.style.fill="white",f.style.gradient=null;break;case"NonInterruptingIntermediate":f.style.fill="white",f.style.gradient=null,f.style.strokeDashArray="2 3",g.style.strokeDashArray="2 3";break;case"ThrowingIntermediate":case"End":f.style.fill="End"!==r?"white":"black",f.style.gradient=null,m.style.fill="black",m.style.strokeColor="white"}return l.style.fill="transparent",l.style.strokeColor="transparent",l.style.strokeWidth=0,l.children=[f,g,m],this.setSizeForBPMNEvents(d,l,a,s),l},e.prototype.setEventVisibility=function(e,t){var n=e.shape.event.event,i=t[0],r=t[1];t[2];switch(n){case"Start":r.visible=!1;break;case"NonInterruptingStart":i.style.strokeDashArray="2 3",r.visible=!1}},e.prototype.setSubProcessVisibility=function(e){var t=e.shape.activity.subProcess,n=t.events.length,i="Transaction"===e.shape.activity.subProcess.type?2:0,r=e.wrapper.children[0].children[0];if(!1===t.adhoc&&(r.children[3+i+n].visible=!1),!1===t.compensation&&(r.children[4+i+n].visible=!1),n>0)for(var o=0;o<n;o++)this.setEventVisibility(e,r.children[2+o].children)},e.prototype.getBPMNSubProcessShape=function(e){var t,n,i,r=new sr,o=new hr,a=(new sr,new hr),s=e.shape.activity,l=s.subProcess,c=this.getSubprocessChildCount(e),d=new tr;d.id=e.id+"_0_Subprocess",d.style.fill="transparent",d.cornerRadius=10;var h=this.getSize(e,d);d.width=h.width,d.height=h.height,r.children=[d],"Transaction"===s.subProcess.type&&this.getBPMNSubProcessTransaction(e,e.shape,r);var p=12*c,u=h.width/2;i=1===c?u-6:u-p/2-4*(c-1)/2,this.setStyle(d,e),0!==(e.constraints&Ei.Shadow)&&(r.shadow=e.shadow);var f=new hr;if(f.id=e.id+"_0_collapsed",f.width=12,f.height=12,f.style.fill="black",f.style.strokeColor=e.style.strokeColor,f.margin.bottom=5,f.horizontalAlignment="Left",f.verticalAlignment="Bottom",f.setOffsetWithRespectToBounds(0,1,"Fraction"),f.relativeMode="Point",f.data=lf("collapsedShape"),f.margin.left=i,!0!==l.collapsed||l.processes?f.visible=!1:f.visible=!0,!0===f.visible&&(i+=18),r.children.push(f),"Event"===l.type){d.style.strokeWidth=1,d.style.strokeDashArray="2 2",t=l.events;for(var g=0;g<t.length;g++)n=t[g],this.getBPMNSubEvent(n,e,r)}1===c&&(i=u+8),(a=this.getBPMNSubProcessLoopShape(e)).margin.left=i,!0===a.visible&&(i+=16),r.children.push(a),d.id=e.id+"_boundary","Default"===l.boundary&&(d.style.strokeWidth=1,d.style.strokeDashArray="1 0"),"Call"===l.boundary&&(d.style.strokeWidth=4,d.style.strokeDashArray="1 0"),"Event"===l.boundary&&(d.style.strokeWidth=1,d.style.strokeDashArray="2 2"),1===c&&(i=u+8),(o=this.getBPMNAdhocShape(e,o,l)).margin.left=i,!0===o.visible&&(i+=16),r.children.push(o);var m=new hr;return!0===l.compensation?m.visible=!0:m.visible=!1,1===c&&(i=u+8),(m=this.getBPMNCompensationShape(e,m)).margin.left=i,!0===m.visible&&(i+=16),r.children.push(m),r.style.strokeColor="transparent",r.style.strokeWidth=0,r.style.fill="transparent",r},e.prototype.getBPMNSubEvent=function(e,t,n,i){var r;n.children=n.children||[],r=this.getBPMNEventShape(t,e,!0,i),this.getBPMNSubprocessEvent(t,r,e),r.id=i||t.id+"_subprocessEvents",r.width=e.width||20,r.height=e.height||20,r.setOffsetWithRespectToBounds(e.offset.x,e.offset.y,"Fraction"),r.relativeMode="Point",r.margin=e.margin,r.horizontalAlignment=e.horizontalAlignment,r.verticalAlignment=e.verticalAlignment,r.style.fill="transparent",r.style.strokeColor="transparent",r.style.strokeWidth=0,n.children.push(r)},e.prototype.getBPMNSubProcessTransaction=function(e,t,n){var i=n.children[0].width,r=n.children[0].height,o=new tr;o.margin={left:3,right:0,top:3,bottom:0},o.id=e.id+"_0_Subprocess_innnerRect",o.cornerRadius=10,o.width=i-6,o.height=r-6,n.children.push(o);var a=new sr;a.id=e.id+"_transaction_events",a.style.gradient=e.style.gradient;var s=t.activity.subProcess.transaction;this.getBPMNSubEvent(s.success,e,a,e.id+"_success"),this.getBPMNSubEvent(s.cancel,e,a,e.id+"_cancel"),this.getBPMNSubEvent(s.failure,e,a,e.id+"_failure"),this.updateDiagramContainerVisibility(a.children[0],s.success.visible),this.updateDiagramContainerVisibility(a.children[1],s.cancel.visible),this.updateDiagramContainerVisibility(a.children[2],s.failure.visible),a.float=!0,a.width=i,a.height=r,a.style.fill=a.style.strokeColor="transparent",n.children.push(a)},e.prototype.getBPMNSubProcessLoopShape=function(e){var t,n,i=e.shape.activity,r=new hr;return n=pf(t=i.subProcess.loop),r.visible="None"!==t,r.id=e.id+"_loop",r.data=n,r.style.fill="black",r.width=12,r.height=12,r.horizontalAlignment="Left",r.verticalAlignment="Bottom",r.setOffsetWithRespectToBounds(0,1,"Fraction"),r.relativeMode="Point",r.margin.bottom=5,r.style.fill="transparent",r.style.strokeColor=e.style.strokeColor,r},e.prototype.drag=function(e,t,n,i){var r=i.nameTable[e.processId];e.margin.top+n>=0&&i.nodePropertyChange(e,{},{margin:{top:e.margin.top+n}}),e.margin.left+t>=0&&i.nodePropertyChange(e,{},{margin:{left:e.margin.left+t}});var o=this.getChildrenBound(r,e.id,i);this.updateSubProcessess(o,e,i),r.wrapper.measure(new Kn(void 0,void 0)),r.wrapper.arrange(r.wrapper.desiredSize),i.refreshCanvasLayers(),i.updateSelector(),this.updateDocks(e,i)},e.prototype.dropBPMNchild=function(e,t,n){if(t&&"Bpmn"===t.shape.type&&"Bpmn"===e.shape.type&&(!w()&&"TextAnnotation"!==t.shape.shape||w()&&"TextAnnotation"!==t.shape.bpmnShape)){var i=n.nameTable[e.id].shape.activity.subProcess;if(n.currentSymbol&&"Bpmn"===e.shape.type&&!i.collapsed)return void(t.processId=e.id);if(i.processes=i.processes||[],i.processes&&-1===i.processes.indexOf(t.id)&&!i.collapsed){i.processes.push(t.id);var r=xh(t),o=n.nameTable[t.id].wrapper,a=n.nameTable[e.id].wrapper;o.margin.top=o.offsetY-o.actualSize.height/2-(e.offsetY-e.actualSize.height/2),o.margin.left=o.offsetX-o.actualSize.width/2-(e.offsetX-e.actualSize.width/2),o.margin.top=o.margin.top<0?0:o.margin.top,o.margin.left=o.margin.left<0?0:o.margin.left,n.nameTable[t.id].processId=e.id,a.children.push(n.nameTable[t.id].wrapper);var s=this.getChildrenBound(e,t.id,n);this.updateSubProcessess(s,t,n),a.measure(new Kn(void 0,void 0)),a.arrange(a.desiredSize),n.refreshCanvasLayers(),n.updateSelector();for(var l=[],c=(l=l.concat(t.outEdges,t.inEdges)).length-1;c>=0;c--)-1===n.bpmnModule.textAnnotationConnectors.indexOf(n.nameTable[l[c]])&&n.remove(n.nameTable[l[c]]);var d={type:"PositionChanged",undoObject:{nodes:[r]},redoObject:{nodes:[xh(t)]},category:"Internal"};n.addHistoryEntry(d),"SVG"===n.mode&&t.zIndex<e.zIndex&&n.updateProcesses(t),this.updateDocks(t,n)}}},e.prototype.updateDocks=function(e,t){if("Bpmn"===e.shape.type&&e.shape.activity.subProcess.processes&&!e.shape.activity.subProcess.collapsed)for(var n=0,i=e.shape.activity.subProcess.processes;n<i.length;n++){var r=i[n],o=t.nameTable[r];o&&(t.updateConnectorEdges(o),o.wrapper.measure(new Kn(o.wrapper.width,o.wrapper.height)),o.wrapper.arrange(o.wrapper.desiredSize),o.shape.activity.subProcess.processes&&o.shape.activity.subProcess.processes.length&&this.updateDocks(o,t))}},e.prototype.removeBpmnProcesses=function(e,t){var n=t.nameTable[e.processId];if("Bpmn"===e.shape.type&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)for(var i=(r=e.shape.activity.subProcess.processes).length-1;i>=0;i--)t.remove(t.nameTable[r[i]]);if(n){t.removeDependentConnector(e);var r=n.shape.activity.subProcess.processes;this.removeChildFromBPMN(n.wrapper,e.id);var o=r.indexOf(e.id);r.splice(o,1)}},e.prototype.removeChildFromBPMN=function(e,t){for(var n=0,i=e.children;n<i.length;n++){var r=i[n];r.id===t?e.children.splice(e.children.indexOf(r),1):r.children&&this.removeChildFromBPMN(r,t)}},e.prototype.removeProcess=function(e,t){var n=t.nameTable[e];if(n){var i=t.nameTable[n.processId];if(i&&"Bpmn"===i.shape.type){var r=i.shape.activity.subProcess.processes;t.removeDependentConnector(n),this.removeChildFromBPMN(i.wrapper,e);var o=r.indexOf(e);r.splice(o,1),n.processId="",t.refreshDiagramLayer(),t.updateSelector()}}},e.prototype.addProcess=function(e,t,n){var i;e.id=e.id||mh(),i=e.id;var r=n.nameTable[i];r||n.add(e),e.processId=t;var o=n.nameTable[t],a=o.shape.activity.subProcess;if(r&&o&&"Bpmn"===o.shape.type&&"Bpmn"===r.shape.type&&a.processes){r.processId=t;var s=o.shape.activity.subProcess.processes;if(s.indexOf(i)<0&&s.push(i),o.wrapper.children.push(r.wrapper),o.wrapper.measure(new Kn),o.wrapper.arrange(o.wrapper.desiredSize),n.bpmnModule.updateDocks(o,n),n.refreshDiagramLayer(),"SVG"===n.mode&&r.shape&&r.shape.activity&&!r.shape.activity.subProcess.processes)Yd(t+"_groupElement").appendChild(Yd(e.id+"_groupElement"))}},e.prototype.getChildrenBound=function(e,t,n){var i,r=e.shape.activity.subProcess.processes;if(r&&r.length)for(var o=0,a=r;o<a.length;o++){var s=a[o];t!==s&&(i=i?n.nameTable[s].wrapper.bounds.uniteRect(i):n.nameTable[s].wrapper.bounds)}return i||n.nameTable[t].wrapper.bounds},e.prototype.updateSubProcessess=function(e,t,n){var i,r,o,a,s=n.nameTable[t.processId],l={x:.5,y:.5};s.wrapper.bounds.left+t.margin.left+t.width>s.wrapper.bounds.right&&(o=!0),s.wrapper.bounds.top+t.margin.top+t.height>s.wrapper.bounds.bottom&&(a=!0),o&&(l.x=0),a&&(l.y=0);var c=s.wrapper.actualSize;o&&(i=(t.wrapper.margin.left+t.wrapper.bounds.width)/c.width),a&&(r=(t.wrapper.margin.top+t.wrapper.bounds.height)/c.height),(i>0||r>0)&&n.commandHandler.scale(n.nameTable[t.processId],i||1,r||1,l)},e.prototype.getBPMNCompensationShape=function(e,t){return t.id=e.id+"_0_compensation",t.width=12,t.height=12,t.margin.bottom=5,t.style.fill="transparent",t.style.strokeColor=e.style.strokeColor,t.horizontalAlignment="Left",t.verticalAlignment="Bottom",t.relativeMode="Object",t.data="M 22.462 18.754 l -6.79 3.92 l 6.79 3.92 V 22.89 l 6.415 3.705 v -7.841 l -6.415 3.705 V 18.754 Z M 28.331 19.701 v 5.947 l -5.149 -2.973 L 28.331 19.701 Z M 21.916 25.647 l -5.15 -2.973 l 5.15 -2.973 V 25.647 Z M 22.275 12.674 c -5.513 0 -9.999 4.486 -9.999 9.999 c 0 5.514 4.486 10.001 9.999 10.001 c 5.514 0 9.999 -4.486 9.999 -10.001 C 32.274 17.16 27.789 12.674 22.275 12.674 Z M 22.275 32.127  c -5.212 0 -9.453 -4.241 -9.453 -9.454 c 0 -5.212 4.241 -9.453 9.453 -9.453 c 5.212 0 9.453 4.241 9.453 9.453 C 31.728 27.887 27.487 32.127 22.275 32.127 Z",t},e.prototype.getBPMNActivityShape=function(e){var t,n=new sr,i=e.shape.activity,r=i.activity,o=i.subProcess;i.activity;return"Task"===r&&(t=this.getBPMNTaskShape(e)),"SubProcess"===r&&o&&(t=this.getBPMNSubProcessShape(e)),t.id=r+e.id,n.children=[t],n.style.fill="transparent",n.style.strokeColor="transparent",n.style.strokeWidth=0,n},e.prototype.getBPMNSubprocessEvent=function(e,t,n){var i,r;if(0!==n.annotations.length)for(var o=0;o<n.annotations.length;o++){var a=n.annotations[o];(i=e.initAnnotationWrapper(a)).width=n.width,i.height=n.height,t.children.push(i)}if(0!==n.ports.length)for(o=0;o<n.ports.length;o++){var s=n.ports[o];r=e.initPortWrapper(s),t.children.push(r)}},e.prototype.getBPMNAdhocShape=function(e,t,n){return t.id=e.id+"_0_adhoc",t.width=12,t.height=8,t.style.fill="black",t.style.strokeColor=e.style.strokeColor,t.margin.bottom=5,t.horizontalAlignment="Left",t.verticalAlignment="Bottom",t.relativeMode="Object",t.data="M 49.832 76.811 v -2.906 c 0 0 0.466 -1.469 1.931 -1.5 c 1.465 -0.031 2.331 1.219 2.897 1.688 s 1.06 0.75 1.526 0.75 c 0.466 0 1.548 -0.521 1.682 -1.208 s 0.083 3.083 0.083 3.083 s -0.76 0.969 -1.859 0.969 c -1.066 0 -1.865 -0.625 -2.464 -1.438 s -1.359 -0.998 -2.064 -0.906 C 50.598 75.467 49.832 76.811 49.832 76.811 Z",n&&!0===n.adhoc?t.visible=!0:t.visible=!1,t},e.prototype.getBPMNTextAnnotation=function(e,t,n,i){n.id=n.id||mh(),n.nodeId=e.id;var r=new sr,o=new hr,a=new or;o.id=e.id+"_"+n.id+"_path",o.width=n.width,o.height=n.height,o.relativeMode="Object",a.id=e.id+"_"+n.id+"_text",a.content=n.text;var s=e.style;a.style={fontSize:s.fontSize,italic:s.italic,gradient:null,opacity:s.opacity,bold:s.bold,textWrapping:s.textWrapping,color:s.color,fill:"white",fontFamily:s.fontFamily,whiteSpace:s.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:s.strokeDashArray,textAlign:s.textAlign,textDecoration:s.textDecoration},a.horizontalAlignment="Center",a.verticalAlignment="Center",a.relativeMode="Object",a.margin={left:5,right:5,top:5,bottom:5},r.offsetX=e.offsetX+n.length*Math.cos(n.angle*(Math.PI/180)),r.offsetY=e.offsetY+n.length*Math.sin(n.angle*(Math.PI/180)),r.float=!0,r.transform=Mi.Self,r.id=e.id+"_textannotation_"+n.id,r.style.strokeColor="transparent",r.margin={left:10,right:10,top:10,bottom:10},r.relativeMode="Object",r.rotateAngle=0,r.children=[o,a];var l=new Dd(e.shape,"annotations",{id:r.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);l.ports=[{id:o.id+"_port",shape:"Square",offset:{x:0,y:.5}}],l.offsetX=r.offsetX,l.offsetY=r.offsetY,l.text=n.text,l.angle=n.angle,l.length=n.length,l.width=n.width,l.height=n.height,l.wrapper=r,r.children.push(l.initPortWrapper(l.ports[0]));var c=new di(0,0,0,0),d=e.width||e.minWidth||0,h=e.height||e.minHeight||0;void 0!==d&&void 0!==h&&(c=new di(e.offsetX-d/2,e.offsetY-h/2,d,h)),this.setAnnotationPath(c,r,{x:l.offsetX,y:l.offsetY},l,n.length,n.angle);var p={id:e.id+"_"+n.id+"_connector",constraints:Oi.Default&~(Oi.DragTargetEnd|Oi.Drag),sourceID:e.id,targetID:r.id,targetDecorator:{shape:"None"}},u=new $a(e.shape,"annotations",p,!0);u.targetPortID=l.ports[0].id,u.init(t),u.wrapper.float=!1,u.wrapper.transform=Mi.Self,i.children.push(u.wrapper),u.zIndex=1e4;var f=this.annotationObjects[e.id];f||(f={}),f[n.id]||(f[n.id]={});return f[n.id].node=l,f[n.id].connector=u,this.annotationObjects[e.id]=f,t.initObject(l,void 0,!1),l.zIndex=1e4,r},e.prototype.renderBPMNTextAnnotation=function(e,t,n){t.id=t.id||mh();var i=new sr,r=new hr,o=new or;r.id="_"+t.id+"_path",r.width=t.width,r.height=t.height,r.relativeMode="Object",o.id=t.id+"_text",o.content=t.shape.annotation.text;var a=t.style;o.style={fontSize:a.fontSize,italic:a.italic,gradient:null,opacity:a.opacity,bold:a.bold,textWrapping:a.textWrapping,color:a.color,fill:"white",fontFamily:a.fontFamily,whiteSpace:a.whiteSpace,textOverflow:"Wrap",strokeColor:"none",strokeWidth:0,strokeDashArray:a.strokeDashArray,textAlign:a.textAlign,textDecoration:a.textDecoration},o.horizontalAlignment="Left",o.verticalAlignment="Center",o.relativeMode="Object",o.margin={left:5,right:5,top:5,bottom:5},i.offsetX=t.offsetX+t.shape.annotation.length*Math.cos(t.shape.annotation.angle*(Math.PI/180)),i.offsetY=t.offsetY+t.shape.annotation.length*Math.sin(t.shape.annotation.angle*(Math.PI/180)),i.float=!0,i.id=t.id+"_textannotation_"+t.id,i.style.strokeColor="transparent",i.margin={left:10,right:10,top:10,bottom:10},i.relativeMode="Object",i.rotateAngle=0,i.children=[r,o];var s=new Dd(t.shape,"annotations",{id:i.id,shape:{type:"Bpmn",shape:"TextAnnotation"}},!0);s.ports=[{id:r.id+"_port",shape:"Square",offset:{x:0,y:.5}}],s.offsetX=i.offsetX,s.offsetY=i.offsetY,s.shape&&s.shape.annotation&&(s.text=t.shape.annotation.text,s.angle=t.shape.annotation.angle,s.length=t.shape.annotation.length),s.width=t.width,s.height=t.height,s.wrapper=i,i.children.push(s.initPortWrapper(s.ports[0]));var l=new di(0,0,0,0),c=t.width||0,d=t.height||0;return void 0!==c&&void 0!==d&&(l=new di(t.offsetX-c/2,t.offsetY-d/2,c,d)),this.setAnnotationPath(l,i,{x:s.offsetX,y:s.offsetY},s,t.length,t.angle),i},e.prototype.getTextAnnotationWrapper=function(e,t){if(e&&"Bpmn"===e.shape.type){if("TextAnnotation"===(w()?e.shape.bpmnShape:e.shape.shape))return e.wrapper.children[1];if(this.annotationObjects[e.id]&&this.annotationObjects[e.id][t]){var n=this.annotationObjects[e.id][t].node;return this.getTextAnnotationWrapper(n,t)}}return null},e.prototype.addAnnotation=function(e,t,n){var i=e.wrapper.children[0],r=e.shape;t.nodeId=e.id;var o=new xd(r,"annotations",t,!0);return r.annotations.push(o),i.children.push(this.getBPMNTextAnnotation(e,n,t,i)),e.wrapper.measure(new Kn),e.wrapper.arrange(e.wrapper.desiredSize),this.annotationObjects[e.id][t.id].connector},e.prototype.clearAnnotations=function(e,t){var n=e.shape;if(n.annotations.length)for(var i=n.annotations.length-1;i>=0;i--){var r=n.annotations[i];this.removeAnnotationObjects(e,r,t)}delete this.annotationObjects[e.id]},e.prototype.checkAndRemoveAnnotations=function(e,t){if("Bpmn"===e.shape.type)if(!w()&&"TextAnnotation"===e.shape.shape||w()&&"TextAnnotation"===e.shape.bpmnShape)for(var n=e.id.split("_"),i=n[n.length-1],r=n[n.length-3]||n[0],o=t.nameTable[r],a=o.shape,s=0,l=a.annotations;s<l.length;s++){var c=l[s];if(c.id===i)if(-1!==a.annotations.indexOf(c))return t.removeDependentConnector(e),this.removeAnnotationObjects(o,c,t),!0}else e.shape.annotations&&e.shape.annotations.length&&this.clearAnnotations(e,t);return!1},e.prototype.removeAnnotationObjects=function(e,t,n){var i=e.shape,r=i.annotations.indexOf(t);if(-1!==r){if(!(n.diagramActions&Ri.UndoRedo)&&!(n.diagramActions&Ri.Group)){var o={type:"CollectionChanged",changeType:"Remove",undoObject:xh(t),redoObject:xh(t),category:"Internal"};n.addHistoryEntry(o)}i.annotations.splice(r,1);var a=this.annotationObjects[e.id];if(a&&a[t.id]){var s=a[t.id].node,l=a[t.id].connector;n.removeElements(s),n.removeElements(l);var c=e.wrapper.children[0];r=c.children.indexOf(s.wrapper),c.children.splice(r,1),r=c.children.indexOf(l.wrapper),c.children.splice(r,1),n.removeFromAQuad(s),n.removeFromAQuad(l),delete n.nameTable[s.id],delete n.nameTable[l.id],delete a[t.id]}}},e.prototype.setAnnotationPath=function(e,t,n,i,r,o){var a,s,l=this.getAnnotationPathAngle(n,e),c="",d=t.children[0],h=t.children[2],p=t.children[1];d.horizontalAlignment="Stretch",d.verticalAlignment="Stretch",p.margin.left=p.margin.right=5,p.margin.top=p.margin.bottom=5,0===l?(c="M10,20 L0,20 L0,0 L10,0",d.width=10,d.horizontalAlignment="Left",h.setOffsetWithRespectToBounds(0,.5,"Fraction"),p.margin.top=p.margin.bottom=10,a=e.middleRight,s={x1:e.right,y1:e.top,x2:e.right,y2:e.bottom}):180===l?(c="M0,0 L10,0 L10,20 L0,20",d.width=10,d.horizontalAlignment="Right",h.setOffsetWithRespectToBounds(1,.5,"Fraction"),p.margin.top=p.margin.bottom=10,a=e.middleLeft,s={x1:e.left,y1:e.top,x2:e.left,y2:e.bottom}):90===l?(c="M20,10 L20,0 L0,0 L0,10",d.height=10,d.verticalAlignment="Top",h.setOffsetWithRespectToBounds(.5,0,"Fraction"),p.margin.left=p.margin.right=10,a=e.bottomCenter,s={x1:e.right,y1:e.bottom,x2:e.left,y2:e.bottom}):(c="M0,0 L0,10 L20,10 L20,0",d.height=10,d.verticalAlignment="Bottom",h.setOffsetWithRespectToBounds(.5,1,"Fraction"),p.margin.left=p.margin.right=10,a=e.topCenter,s={x1:e.right,y1:e.top,x2:e.left,y2:e.top});var u=e.center;a=ao(s,[u,Jn.transform(n,o,Math.max(e.width,e.height))],0,u),d.data=c,void 0!==r&&void 0!==o&&(a=Jn.transform(a,o,r),t.offsetX=i.offsetX=a.x,t.offsetY=i.offsetY=a.y)},e.prototype.isBpmnTextAnnotation=function(e,t){if(this.annotationObjects){var n=e.parentId,i=e.id,r=t.nameTable[n];return r&&"Bpmn"===r.shape.type&&this.annotationObjects[n]&&this.annotationObjects[n][i]?r:null}return null},e.prototype.updateTextAnnotationContent=function(e,t,n,i){var r=t.parentId,o=t.id;if(this.annotationObjects[r]&&this.annotationObjects[r][o])for(var a=0,s=e.shape.annotations;a<s.length;a++){var l=s[a];if(l.id===o){l.text=n;var c=this.annotationObjects[r][o].node.wrapper.children[1];c.content=n,c.visible=!0,e.wrapper.measure(new Kn),e.wrapper.arrange(e.wrapper.desiredSize)}}},e.prototype.updateQuad=function(e,t){var n,i=e.shape.annotations;if(i&&i.length>0)for(var r=0;r<i.length;r++)n=this.annotationObjects[e.id][i[r].id].node,t.updateQuad(n)},e.prototype.updateTextAnnotationProp=function(e,t,n){if("Bpmn"===e.shape.type){var i=e.shape.annotations;if(i&&i.length>0)for(var r=0;r<e.wrapper.children[0].children.length;r++)for(var o=0;o<i.length;o++){var a=e.wrapper.children[0].children[r].id.split("_");if(a[a.length-1]===i[o].id){var s=this.annotationObjects[e.id][i[o].id].node,l=this.annotationObjects[e.id][i[o].id].connector,c=(mo(l.targetPoint,e.wrapper.bounds,e.wrapper.bounds),l.sourcePoint);c={x:l.sourcePoint.x+e.offsetX-t.offsetX,y:l.sourcePoint.y+e.offsetY-t.offsetY},c=Jn.transform(c,i[o].angle,i[o].length),e.wrapper.children[0].children[r].offsetX=s.offsetX=c.x,e.wrapper.children[0].children[r].offsetY=s.offsetY=c.y,n.updateQuad(s)}}}},e.prototype.getSubprocessChildCount=function(e){var t,n=0,i=e.shape.activity.subProcess;return void 0!==(t=i.loop)&&"None"!==t&&n++,void 0!==i.compensation&&!0===i.compensation&&n++,void 0!==i.collapsed&&!0===i.collapsed&&n++,void 0!==i.adhoc&&!0===i.adhoc&&n++,n},e.prototype.getTaskChildCount=function(e){var t=0,n=e.shape.activity.task;return void 0!==n.compensation&&!0===n.compensation&&t++,void 0!==n.loop&&"None"!==n.loop&&t++,t},e.prototype.setStyle=function(e,t){e.style.fill=t.style.fill,e.style.strokeColor=t.style.strokeColor,e.style.strokeWidth=t.style.strokeWidth,e.style.strokeDashArray=t.style.strokeDashArray,e.style.opacity=t.style.opacity,e.style.gradient=t.style.gradient,0!==(t.constraints&Ei.Shadow)&&(e.shadow=t.shadow)},e.prototype.updateBPMN=function(e,t,n,i){var r=e.shape||{},o=n.wrapper.children[0],a=n.shape.shape||n.shape.bpmnShape,s=void 0!==e.width||void 0!==e.height;if((w()&&"Gateway"===r.bpmnShape||"Gateway"===r.shape)&&r.gateway)n.wrapper.children[0]=this.getBPMNGatewayShape(n);else if((w()&&"DataObject"===r.bpmnShape||"DataObject"===r.shape)&&r.dataObject)n.wrapper.children[0]=this.getBPMNDataObjectShape(n);else if((w()&&"Activity"===r.bpmnShape||"Activity"===r.shape)&&r.activity)n.wrapper.children[0]=this.getBPMNActivityShape(n);else if((w()&&"Event"===r.bpmnShape||"Event"===r.shape)&&r.event){var l=r.event;n.wrapper.children[0]=this.getBPMNEventShape(n,l)}else w()&&"Message"===r.bpmnShape||"Message"===r.shape||w()&&"DataSource"===r.bpmnShape||"DataSource"===r.shape?n.wrapper.children[0]=this.getBPMNShapes(n):void 0!==r.gateway||"Gateway"===a&&s?this.updateBPMNGateway(n,e):void 0!==r.dataObject||"DataObject"===a&&s?this.updateBPMNDataObject(n,e,t):void 0!==r.activity||"Activity"===a&&s?this.updateBPMNActivity(n,e,t,i):(void 0!==r.event||"Event"===a&&s)&&this.updateBPMNEvent(n,e,t);if(e.style&&(pc(e.style,o instanceof ir?!w()&&"Activity"===n.shape.shape||w()&&"Activity"===n.shape.bpmnShape?o.children[0].children[0]:o.children[0]:o),e.style&&e.style.strokeColor&&o.children.length>0))if((!w()&&"Activity"===n.shape.shape||w()&&"Activity"===n.shape.bpmnShape)&&"SubProcess"===n.shape.activity.activity){var c=o.children[0];this.updateBPMNStyle(c,e.style.strokeColor)}else(!w()&&"Gateway"===n.shape.shape||w()&&"Gateway"===n.shape.bpmnShape||!w()&&"Event"===n.shape.shape||w()&&"Event"===n.shape.bpmnShape)&&this.updateBPMNStyle(o,e.style.strokeColor)},e.prototype.updateBPMNStyle=function(e,t){for(var n=0;n<e.children.length;n++){pc({strokeColor:t},e.children[n])}},e.prototype.updateBPMNGateway=function(e,t){var n=e.shape,i=e.wrapper.children[0];if(n){pc(e.style,i.children[0]);var r=df(n.gateway.type);i.children[1].data=r}void 0===t.width&&void 0===t.height||this.setSizeForBPMNGateway(e.shape.gateway,i,t.width||e.width,t.height||e.height)},e.prototype.updateBPMNDataObject=function(e,t,n){var i=t.shape,r=e.wrapper.children[0];if(i){var o=r.children[1],a=r.children[2];if(void 0!==t.style&&(pc(t.style,r.children[0]),o.style.opacity=e.style.opacity,a.style.opacity=e.style.opacity),i.dataObject){switch(i.dataObject.type){case"None":o.visible=!1;break;case"Input":o.style.fill="white";break;case"Output":o.style.fill="black"}"None"===n.shape.dataObject.type&&(o.visible=!0),void 0!==t.shape.dataObject.collection&&(a.visible=i.dataObject.collection)}}void 0===t.width&&void 0===t.height||this.setSizeForBPMNDataObjects(e.shape.dataObject,r,t.width||e.width,t.height||e.height)},e.prototype.getEvent=function(e,t,n,i,r,o){switch(n){case"Start":r.visible=!1,i.style.strokeDashArray="",o.style.fill="white",o.style.strokeColor="black",i.style.fill="white";break;case"NonInterruptingStart":i.style.strokeDashArray="2 3",o.style.fill="white",i.style.fill="white",o.style.strokeColor="black",r.visible=!1;break;case"Intermediate":i.style.strokeDashArray="",i.style.fill="white",r.style.strokeDashArray="",i.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",this.updateEventVisibility(t,r);break;case"NonInterruptingIntermediate":i.style.fill="white",i.style.gradient=null,o.style.fill="white",o.style.strokeColor="black",i.style.strokeDashArray="2 3",r.style.strokeDashArray="2 3",this.updateEventVisibility(t,r);break;case"ThrowingIntermediate":case"End":i.style.fill="End"!==n?"white":"black",i.style.strokeDashArray="",r.style.strokeDashArray="",i.style.gradient=null,o.style.fill="black",this.updateEventVisibility(t,r),o.style.strokeColor=e.style.fill}},e.prototype.updateEventVisibility=function(e,t){e.shape.activity&&e.shape.activity.subProcess&&e.shape.activity.subProcess.events&&void 0!==e.shape.activity.subProcess.events[0]&&void 0!==e.shape.activity.subProcess.events[0].event?"NonInterruptingStart"!==e.shape.activity.subProcess.events[0].event&&"Start"!==e.shape.activity.subProcess.events[0].event||(t.visible=!0):void 0!==e.shape.event&&("NonInterruptingStart"!==e.shape.event.event&&"Start"!==e.shape.event.event||(t.visible=!0))},e.prototype.updateBPMNEvent=function(e,t,n){var i,r=t.shape,o=e.wrapper.children[0];if(r){var a,s=o.children[0],l=o.children[1],c=o.children[2];void 0!==t.style&&(pc(e.style,o.children[0]),void 0===t.style.opacity&&void 0===t.style.strokeColor||(l.style.opacity=e.style.opacity,l.style.strokeColor=e.style.strokeColor)),a=r.event.event,i=r.event.trigger,void 0!==a&&this.getEvent(e,n,a,s,l,c),void 0!==i&&this.updateBPMNEventTrigger(e,t)}void 0===t.width&&void 0===t.height&&void 0===i||this.setSizeForBPMNEvents(e.shape.event,o,t.width||e.width,t.height||e.height)},e.prototype.updateBPMNEventTrigger=function(e,t){var n=e.shape,i=e.wrapper.children[0].children[2];i.canMeasurePath=!0,!t.style||void 0===t.style.strokeColor&&void 0===t.style.opacity||pc(e.style,i);var r=cf(n.event.trigger);i.data=r},e.prototype.updateBPMNActivity=function(e,t,n,i){var r=t.shape,o=e.wrapper.children[0],a=this.getSize(e,o.children[0].children[0]);if(r){var s=n.shape.activity.activity,l=e.shape.activity.activity;if("SubProcess"!==s&&"Task"!==s||"SubProcess"!==l&&"Task"!==l){if("Task"===l&&void 0!==r.activity.task){this.updateBPMNActivityTask(e,t);var c=this.getTaskChildCount(e),d=void 0,h=12*c,p=a.width/2-h;d=1===c?p+8:p+8*(c-1),void 0!==r.activity.task.loop&&this.updateBPMNActivityTaskLoop(e,t,d,c,p,2)}"SubProcess"===l&&void 0!==r.activity.subProcess&&this.updateBPMNActivitySubProcess(e,t,n,i)}else i.removeElements(e),e.wrapper.children[0]=this.getBPMNActivityShape(e);this.setSizeForBPMNActivity(e.shape.activity,o,t.width||a.width,t.height||a.height,e)}void 0===t.width&&void 0===t.height||this.setSizeForBPMNActivity(e.shape.activity,o,t.width||a.width,t.height||a.height,e)},e.prototype.updateBPMNActivityTask=function(e,t){for(var n=t.shape,i=e.wrapper.children[0].children[0],r=n.activity.task,o=0;o<i.children.length;o++){if(i.children[o].id===e.id+"_1_taskTypeService")i.children.splice(o,1),(s=document.getElementById(e.id+"_1_taskTypeService")).parentNode.removeChild(s)}if("Receive"===r.type||"Send"===r.type?i.children[1].height=14:i.children[1].height=20,void 0!==r.type){var a=hf(r.type);if(i.children[1].data=a,"Service"===r.type){for(o=0;o<i.children.length;o++){var s;if(i.children[o].id===e.id+"_1_tasktType")i.children.splice(o,1),(s=document.getElementById(e.id+"_1_tasktType")).parentNode.removeChild(s)}var l=new hr;l.id=e.id+"_1_tasktType",l.margin.left=5,l.margin.top=5,l.data=a,l.style.fill="transparent",l.style.opacity=e.style.opacity,l.width=20,l.height=20,i.children.splice(1,0,l);var c=new hr;c.id=e.id+"_1_taskTypeService",c.data=a,c.margin.left=i.children[1].margin.left+9,c.margin.top=i.children[1].margin.top+9,c.style.fill="white",c.style.opacity=e.style.opacity,i.children.splice(2,0,c)}}void 0!==n.activity.task.call&&(!1!==n.activity.task.call?i.children[0].style.strokeWidth=4:i.children[0].style.strokeWidth=1),void 0!==n.activity.task.compensation&&(!0===n.activity.task.compensation?i.children[3].visible=!0:i.children[3].visible=!1)},e.prototype.updateBPMNActivityTaskLoop=function(e,t,n,i,r,o){var a,s,l=t.shape,c=e.wrapper.children[0].children[0],d=l.activity,h=0;if(void 0!==d.subProcess){var p=d.subProcess;h="Transaction"===d.subProcess.type?2:0,s=pf(a=p.loop),c.children[2+h].data=s,c.children[2+h].visible="None"!==a}else void 0!==d.task&&void 0!==d.task.loop&&(s=pf(d.task.loop),c.children[2].data=s,c.children[2].visible="None"!==d.task.loop);this.updateChildMargin(c,i,r,n,o+h)},e.prototype.updateChildMargin=function(e,t,n,i,r){if(1===t)for(var o=r;o<e.children.length;o++)2!==o&&!0===e.children[o].visible&&(e.children[o].margin.left=i,i=n+8);else{i=n+8*(t-1);for(o=r;o<e.children.length;o++)2!==o&&!0===e.children[o].visible&&(e.children[o].margin.left=i,i+=20)}},e.prototype.updateBPMNActivitySubProcess=function(e,t,n,i){var r,o=t.shape,a=e.wrapper.children[0],s=this.getSize(e,a.children[0].children[0]),l=o.activity.subProcess,c=this.getSubprocessChildCount(e),d=12*c,h=s.width/2-d;r=1===c?h+8:h+8*(c-1),pc(e.style,a.children[0].children[0]),void 0!==l.events&&this.updateBPMNSubProcessEvent(e,t,n,i),void 0!==l.adhoc&&this.updateBPMNSubProcessAdhoc(e,n,l,r,c,h),void 0!==l.boundary&&this.updateBPMNSubProcessBoundary(e,l),void 0!==l.collapsed&&this.updateBPMNSubProcessCollapsed(e,n,l,r,c,h,i),void 0!==l.compensation&&this.updateBPMNSubProcessCompensation(e,n,l,r,c,h),void 0!==l.loop&&this.updateBPMNSubProcessLoop(e,n,l,r,c,h),void 0!==l.transaction&&this.updateBPMNSubProcessTransaction(e,t,n,i)},e.prototype.updateBPMNSubProcessEvent=function(e,t,n,i){for(var r=t.shape,o=e.wrapper.children[0],a=o.children[0],s=(o.children[0].children.length,r.activity.subProcess),l=0,c=Object.keys(s.events);l<c.length;l++){var d=c[l],h=Number(d),p=a.children[h+2],u=e.shape.activity.subProcess.events[h];this.updateBPMNSubEvent(e,s.events[h],u,p,t,n,i)}},e.prototype.updateBPMNSubEvent=function(e,t,n,i,r,o,a){var s,l,c=e.wrapper.children[0],d=r.shape,h=i.children[0],p=i.children[1],u=i.children[2];if(r.style&&(void 0===r.style.strokeColor&&void 0===r.style.opacity||(c.children[0].children[1].style.strokeColor=r.style.strokeColor,c.children[0].children[1].style.opacity=r.style.opacity)),void 0!==d.activity.subProcess&&(s=t.event,l=t.trigger),void 0!==s&&this.getEvent(r,o,s,h,p,u),void 0!==l){r.style&&pc(r.style,c.children[0]);var f=cf(l);i.children[2].data=f}if(void 0===t.height&&void 0===t.width||this.getEventSize(t,i),void 0!==t.id&&(i.id=t.id),void 0!==t.margin&&(i.margin=t.margin),void 0!==t.horizontalAlignment&&(i.horizontalAlignment=t.horizontalAlignment),void 0!==t.verticalAlignment&&(i.verticalAlignment=t.verticalAlignment),void 0!==t.offset&&(i.setOffsetWithRespectToBounds(n.offset.x,n.offset.y,"Fraction"),i.relativeMode="Point"),void 0!==t.annotations){var g=void 0,m=c.children[0].children[2];i.children[3]&&i.children.length>3&&(g=i.children[3],a.updateAnnotation(t.annotations[0],g,m))}if(void 0!==t.ports){var v=void 0,y=c.children[0].children[2];i.children[4]&&i.children.length>4&&(v=i.children[4],a.updatePort(t.ports[0],v,y))}void 0!==t.visible&&this.updateDiagramContainerVisibility(i,t.visible)},e.prototype.updateBPMNSubProcessTransaction=function(e,t,n,i){var r,o=t.shape.activity.subProcess.transaction,a=e.wrapper.children[0].children[0].children[2];void 0!==o.success&&(r=e.shape.activity.subProcess.transaction.success,this.updateBPMNSubEvent(e,o.success,r,a.children[0],t,n,i)),void 0!==o.cancel&&(r=e.shape.activity.subProcess.transaction.cancel,this.updateBPMNSubEvent(e,o.cancel,r,a.children[1],t,n,i)),void 0!==o.failure&&(r=e.shape.activity.subProcess.transaction.failure,this.updateBPMNSubEvent(e,o.failure,r,a.children[2],t,n,i));for(var s=0,l=e.outEdges;s<l.length;s++){var c=l[s],d=i.nameTable[c];switch(d.sourcePortID){case"success":o.success&&void 0!==o.success.visible&&i.connectorPropertyChange(d,{},{sourcePortID:"success"});break;case"cancel":o.cancel&&void 0!==o.cancel.visible&&i.connectorPropertyChange(d,{},{sourcePortID:"cancel"});break;case"failure":o.failure&&void 0!==o.failure.visible&&i.connectorPropertyChange(d,{},{sourcePortID:"failure"})}}},e.prototype.getEventSize=function(e,t){void 0!==e.height&&(t.height=e.height,t.children[0].height=e.height,t.children[1].height=.85*e.height,t.children[2].height=.54*e.height),void 0!==e.width&&(t.width=e.width,t.children[0].width=e.width,t.children[1].width=.85*e.width,t.children[2].width=.54*e.width)},e.prototype.updateBPMNSubProcessAdhoc=function(e,t,n,i,r,o){e.shape;var a=e.wrapper.children[0].children[0],s="Transaction"===e.shape.activity.subProcess.type?2:0;!1===n.adhoc?a.children[3+s].visible=!1:a.children[3+s].visible=!0,this.updateChildMargin(a,r,o,i,3+s)},e.prototype.updateBPMNSubProcessBoundary=function(e,t){e.shape;var n=e.wrapper.children[0].children[0].children[0];"Default"===t.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="1 0"),"Call"===t.boundary&&(n.style.strokeWidth=4,n.style.strokeDashArray="1 0"),"Event"===t.boundary&&(n.style.strokeWidth=1,n.style.strokeDashArray="2 2")},e.prototype.updateElementVisibility=function(e,t,n){if(e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)for(var i=e.shape.activity.subProcess.processes,r=i.length-1;r>=0;r--){var o=n.nameTable[i[r]];o.visible=t,n.updateElementVisibility(o.wrapper,o,t),t&&((!w()&&"Event"===o.shape.shape||w()&&"Event"===o.shape.bpmnShape)&&this.setEventVisibility(o,o.wrapper.children[0].children),"SubProcess"===o.shape.activity.activity&&this.setSubProcessVisibility(o));for(var a=o.inEdges.concat(o.outEdges),s=a.length-1;s>=0;s--){var l=n.nameTable[a[s]];l.visible=t,n.updateElementVisibility(l.wrapper,l,t)}}t&&((!w()&&"Event"===e.shape.shape||w()&&"Event"===e.shape.bpmnShape)&&this.setEventVisibility(e,e.wrapper.children[0].children),"SubProcess"===e.shape.activity.activity&&this.setSubProcessVisibility(e),"Task"===e.shape.activity.activity&&(!w()&&"Activity"===e.shape.shape||w()&&"Activity"===e.shape.bpmnShape)&&"None"===e.shape.activity.subProcess.loop&&(e.wrapper.children[0].children[0].children[3].visible=!1))},e.prototype.updateBPMNSubProcessCollapsed=function(e,t,n,i,r,o,a){var s=e.shape.activity.subProcess.events.length,l=e.wrapper.children[0].children[0],c="Transaction"===e.shape.activity.subProcess.type?3:1;!1===n.collapsed?(this.updateElementVisibility(e,!0,a),l.children[c+s].visible=!1):(this.updateElementVisibility(e,!1,a),l.children[c+s].visible=!0),this.updateChildMargin(l,r,o,i,3+s)},e.prototype.updateBPMNSubProcessCompensation=function(e,t,n,i,r,o){var a=e.wrapper.children[0].children[0],s="Transaction"===e.shape.activity.subProcess.type?2:0;!1===n.compensation?a.children[4+s].visible=!1:a.children[4+s].visible=!0,this.updateChildMargin(a,r,o,i,4+s)},e.prototype.updateBPMNSubProcessLoop=function(e,t,n,i,r,o){this.updateBPMNActivityTaskLoop(e,e,i,r,o,1)},e.prototype.updateBPMNConnector=function(e,t,n,i){var r=n.shape;return void 0!==r.sequence&&(e=this.getSequence(e,t,n,i)),void 0!==r.association&&(e=this.getAssociation(e,t,n,i)),void 0!==r.message&&(e=this.getMessage(e,t,n,i)),e},e.prototype.getSequence=function(e,t,n,i){if("Normal"===n.shape.sequence&&(i.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}}}),e.wrapper.children[3].visible=!1),"Default"===n.shape.sequence){i.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}});var r=new hr,o=(new hr,void 0);r=e.getSegmentElement(e,r);for(var a=e.intermediatePoints,s=0;s<a.length-1;s++)length+=e.distance(a[s],a[s+1]),o=e.findPath(a[s],a[s+1]);e.wrapper.children[3].data=o[0],e.wrapper.children[3].id=e.id+"_"+n.shape.sequence,e.wrapper.children[3].offsetX=o[1].x,e.wrapper.children[3].offsetY=o[1].y,e.wrapper.children[3].rotateAngle=45,e.wrapper.children[3].transform=Mi.Self}return"Conditional"===n.shape.sequence&&(i.connectorPropertyChange(e,t,{type:"Straight",targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"Diamond",width:20,height:10,style:{fill:"white"}}}),e.wrapper.children[3].visible=!1),e},e.prototype.getAssociation=function(e,t,n,i){return"Default"===n.shape.association&&i.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"None"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}}),"Directional"===n.shape.association&&i.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"2 2"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"None"}}),"BiDirectional"===n.shape.association&&i.connectorPropertyChange(e,t,{type:"Straight",style:{strokeDashArray:"2 2"},targetDecorator:{shape:"Arrow",style:{fill:"black"}},sourceDecorator:{shape:"Arrow",width:5,height:10,style:{fill:"white"}}}),e},e.prototype.getMessage=function(e,t,n,i){var r,o;if("Default"===t.shape.message){if(void 0!==n.shape.message){if("InitiatingMessage"===n.shape.message||"NonInitiatingMessage"===n.shape.message){var a=new hr;a=e.getSegmentElement(e,a);for(var s=e.intermediatePoints,l=0;l<s.length-1;l++){length+=e.distance(s[l],s[l+1]);var c=.5*length;length>=c&&(r=to(s[l],s[l+1]),o=Jn.transform(s[l],r,c))}}e.wrapper.children[3].id=e.id+"_"+n.shape.message,e.wrapper.children[3].width=25,e.wrapper.children[3].height=15,e.wrapper.children[3].data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.wrapper.children[3].horizontalAlignment="Center",e.wrapper.children[3].verticalAlignment="Center",e.wrapper.children[3].transform=Mi.Self,e.wrapper.children[3].style.fill="NonInitiatingMessage"===n.shape.message?"lightgrey":"white",e.wrapper.children[3].offsetX=o.x,e.wrapper.children[3].offsetY=o.y}}else"NonInitiatingMessage"===t.shape.message&&"InitiatingMessage"===t.shape.message||("Default"!==n.shape.message?e.wrapper.children[3].style.fill="NonInitiatingMessage"===n.shape.message?"lightgrey":"white":e.wrapper.children[3].visible=!1);return e},e.prototype.setSizeForBPMNEvents=function(e,t,n,i){t.children[0].width=n,t.children[0].height=i;var r=t.children[1];r.width=.85*n,r.height=.85*i;var o=t.children[2];"Message"===e.trigger?(o.width=.54*n,o.height=.4*i):(o.width=.5*n,o.height=.5*i)},e.prototype.updateAnnotationDrag=function(e,t,n,i){var r=e.id.split("_");if("textannotation"===r[1])for(var o=void 0,a=0;a<e.inEdges.length;a++){var s=t.nameTable[e.inEdges[a]];s&&(o=t.nameTable[s.sourceID]);var l={x:e.offsetX+n,y:e.offsetY+i},c=s.sourcePoint,d=Jn.findLength(l,c),h=Jn.findAngle(c,l);if(o.shape.annotations)for(var p=0;p<o.shape.annotations.length;p++)if(o.shape.annotations[p].id===r[r.length-1])return o.shape.annotations[p].length=d,o.shape.annotations[p].angle=h,this.setAnnotationPath(o.wrapper.bounds,e.wrapper,l,e),!1}return!!e.processId&&(this.drag(e,n,i,t),!0)},e.prototype.getAnnotationPathAngle=function(e,t){var n=0;switch(mo(e,t,t)){case"Right":n=0;break;case"Left":n=180;break;case"Bottom":n=90;break;case"Top":n=270}return n},e.prototype.setSizeForBPMNGateway=function(e,t,n,i){t.children[0].width=n,t.children[0].height=i,t.children[1].width=.45*n,t.children[1].height=.45*i},e.prototype.setSizeForBPMNDataObjects=function(e,t,n,i){t.children[0].width=n,t.children[0].height=i},e.prototype.setSizeForBPMNActivity=function(e,t,n,i,r){t.children[0].width=n,t.children[0].height=i,t.children[0].children[0].width=n,t.children[0].children[0].height=i,"Transaction"===e.subProcess.type&&(t.children[0].children[1].width=Math.max(n-6,1),t.children[0].children[1].height=Math.max(i-6,1),t.children[0].children[2].width=n,t.children[0].children[2].height=i);var o,a,s=new tr,l=this.getSize(r,s),c=12*(a="Task"===e.activity?this.getTaskChildCount(r):this.getSubprocessChildCount(r)),d=(n||l.width)/2;o=1===a?d-6:d-c/2-4*(a-1)/2;for(var h=0;h<t.children[0].children.length;h++)t.children[0].children[h].visible&&(t.children[0].children[h].id.indexOf("_loop")>-1||t.children[0].children[h].id.indexOf("_0_compensation")>-1||t.children[0].children[h].id.indexOf("_0_adhoc")>-1||t.children[0].children[h].id.indexOf("_0_collapsed")>-1)&&(t.children[0].children[h].margin.left=o,o+=t.children[0].children[h].actualSize.width+4)},e.prototype.updateDiagramContainerVisibility=function(e,t){if(e instanceof ir)for(var n=0;n<e.children.length;n++)this.updateDiagramContainerVisibility(e.children[n],t);e.visible=t},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Bpmn"}}();function lf(e){return uf[e.toString()]}function cf(e){return ff[e.toString()]}function df(e){return gf[e.toString()]}function hf(e){return mf[e.toString()]}function pf(e){return vf[e.toString()]}var uf={Event:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Message:"M0,0L19.8,12.8L40,0L0,0L0,25.5L40,25.5L40,0z",DataSource:"M 0 10.6 c 0 5.9 16.8 10.6 37.5 10.6 S 75 16.4 75 10.6 v 0 v 68.9 v -0.1 C 75 85.3 58.2 90 37.5 90 S 0 85.3 0 79.4 l 0 0.1 V 56 V 40.6 L 0 10.6 C 0 4.7 16.8 0 37.5 0 S 75 4.7 75 10.6 S 58.2 21.2 37.5 21.2S 0 16.5 0 10.6 l 0 6.7 v -0.2 c 0 5.9 16.8 10.6 37.5 10.6 S 75 22.9 75 17.1 v 6.8 v -0.1 c 0 5.9 -16.8 10.6 -37.5 10.6 S 0 29.6 0 23.8",SubProcess:"M100,100 h200 a20,20 0 0 1 20,20 v200 a20,20 0 0 1 -20,20 h-200 a20,20 0 0 1 -20,-20 v-200 a20,20 0 0 1 20,-20 z",collapsedShape:"M 8.13789 15 H 0 V 0 H 8.13789 V 15 Z M 0.625991 13.75 H 7.51189 V 1.25 H 0.625991 V 13.75 Z M 2.18095 7.03125 L 5.95631 7.03125 L 5.95631 7.46875 L 2.18095 7.46875 Z M 3.8342 3.73 L 4.30369 3.73 L 4.30369 11.2687 L 3.8342 11.2687 Z"},ff={Message:"M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",Timer:"M40,20c0,8.654-5.496,16.024-13.189,18.81C24.685,39.58,22.392,40,20,40C8.954,40,0,31.046,0,20S8.954,0,20,0S40,8.954,40,20z M20,0 L20,2.583 L20,5.283 M10.027,2.681L11.659,5.507 L12.669,7.257 M2.731,9.989 L6.014,11.885 L7.307,12.631 M0.067,19.967 L2.667,19.967 L5.35,19.967M2.748,29.939 L5.731,28.217 L7.323,27.298 M10.056,37.236 L11.292,35.095 L12.698,32.66 M20.033,39.9 L20.033,36.417 L20.033,34.617M30.006,37.219 L28.893,35.292 L27.364,32.643 M37.302,29.911 L34.608,28.355 L32.727,27.269M39.967,19.933 L37.417,19.933 L34.683,19.933 M37.286,9.961 L34.583,11.521 L32.71,12.602 M29.977,2.664 L28.653,4.957 L27.336,7.24 M22.104,8.5 L19.688,20 L24.75,20 L31.604,20 L24.75,20 L19.688,20z",Error:"M 23.77 18.527 l -7.107 27.396 l 8.507 -17.247 L 36.94 40.073 l 6.394 -25.997 l -8.497 15.754 L 23.77 18.527 Z",Escalation:"M 30.001 8.098 L 11.842 43.543 l 18.159 -18.882 l 18.162 18.882 L 30.001 8.098 Z ",Cancel:"M 3.5 16 L 0 12.6 L 4.6 8 L 0 3.5 L 3.4 0 L 8 4.6 l 4.5 -4.5 L 16 3.5 L 11.5 8 l 4.5 4.5 l -3.4 3.5 L 8 11.4 L 3.5 16 Z",Compensation:"M 25.7086 0 L 0 25 L 25.7086 50 V 26.3752 L 50 50 V 0 L 25.7086 23.6248 V 0 Z ",Conditional:"M 0 0 H 16 V 16 H 0 z M 1.14 3.2 H 14.85 M 1.14 6.4 H 14.85 M 1.14 9.6 H 14.85 M 1.14 12.8 H 14.85",Link:"M 32.014 19.258 v 5.992 H 9.373 v 9.504 h 22.641 v 5.988 L 50.622 30 L 32.014 19.258 Z",Signal:"M 50 50 H 0 L 25.0025 0 L 50 50 Z",Terminate:"M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",Multiple:"M 17.784 48.889 H 42.21 l 7.548 -23.23 L 29.997 11.303 L 10.236 25.658 L 17.784 48.889 Z",Parallel:"M 27.276 49.986 h 5.58 v -17.15 h 17.146 V 27.17 h -17.15 l 0.004 -17.15 h -5.58 l -0.004 17.15 H 9.994 v 5.666 h 17.278 L 27.276 49.986 Z"},gf={None:"",Exclusive:"M 11.196 29.009 l 6.36 -9.712 l -5.764 -8.899 h 4.393 l 3.732 5.979 l 3.656 -5.979 h 4.354 l -5.789 9.039l 6.36 9.572 h -4.532 l -4.126 -6.437 l -4.139 6.437 H 11.196 Z",Inclusive:"M 20.323 31.333 c -6.625 0 -12.015 -5.39 -12.015 -12.015 s 5.39 -12.015 12.015 -12.015 s 12.016 5.39 12.016 12.015 S 26.948 31.333 20.323 31.333 Z M 20.323 9.303 c -5.522 0 -10.015 4.493 -10.015 10.015 s 4.492 10.015 10.015 10.015 s 10.016 -4.493 10.016 -10.015 S 25.846 9.303 20.323 9.303 Z",Parallel:"M 18.394 29.542 v -8.833 H 9.626 v -3.691 h 8.768 V 8.251 h 3.734 v 8.767 h 8.768 v 3.691 h -8.768 v 8.833 H 18.394 Z",Complex:"M29.198,19.063L23.089,19.063L27.794,14.358L26.38,12.944L21.223,18.101L21.223,10.443L19.223,10.443L19.223,17.976L14.022,12.776L12.608,14.19L17.48,19.063L10.365,19.063L10.365,21.063L18.261,21.063L12.392,26.932L13.806,28.346L19.223,22.929L19.223,30.225L21.223,30.225L21.223,22.805L25.925,27.507L27.339,26.093L22.309,21.063L29.198,21.063z",EventBased:"M 20.322 29.874 c -5.444 0 -9.873 -4.43 -9.873 -9.874 s 4.429 -9.874 9.873 -9.874 s 9.874 4.429 9.874 9.874 S 25.767 29.874 20.322 29.874 Z M 20.322 32.891 c -7.107 0 -12.89 -5.783 -12.89 -12.891 c 0 -7.107 5.782 -12.89 12.89 -12.89 c 7.108 0 12.891 5.783 12.891 12.89 C 33.213 27.108 27.431 32.891 20.322 32.891 Z M 24.191 25.386 h -7.984 l -2.469 -7.595 l 6.461 -4.693 l 6.461 4.693 L 24.191 25.386 Z",ExclusiveEventBased:"M 30 15 C 30 23.28 23.28 30 15 30 S 0 23.28 0 15 S 6.72 0 15 0 S 30 6.72 30 15 z M 15 5 L 5 12.5 L 8 22.5 H 22 L 25 12.5 z",ParallelEventBased:"M 35 17.5 C 35 27.16 27.16 35 17.5 35 S 0 27.16 0 17.5 S 7.84 0 17.5 0 S 35 7.84 35 17.5 z M 14.58 5.83 V 14.58 H 5.83 V 20.42 H 14.58 V 29.17 H 20.42 V 20.42 H 29.17 V 14.58 H 20.42 V 5.83 z"},mf={None:"",Service:"M 32.699 20.187 v -4.005 h -3.32 c -0.125 -0.43 -0.292 -0.83 -0.488 -1.21 l 2.373 -2.375 l -2.833 -2.83 l -2.333 2.333 c -0.44 -0.253 -0.9 -0.448 -1.387 -0.595 v -3.32 h -4.003 v 3.32 c -0.46 0.137 -0.890.322 -1.3 0.537 l -2.285 -2.275 l -2.833 2.83 l 2.285 2.278 c -0.235 0.42 -0.41 0.847 -0.547 1.307 h -3.33 v 4.005 h 3.33 c 0.148 0.488 0.343 0.955 0.588 1.395 l -2.325 2.325 l 2.822 2.832 l 2.373 -2.382 c 0.392 0.205 0.792 0.37 1.212 0.497 v 3.33 h 4.003 v -3.33 c 0.46 -0.138 0.89 -0.323 1.3 -0.547 l 2.43 2.432 l 2.822 -2.832 l -2.42 -2.422 c 0.222 -0.41 0.4 -0.85 0.535-1.297 H 32.699 Z M 22.699 21.987 c -2.1 0 -3.803 -1.703 -3.803 -3.803 c 0 -2.1 1.703 -3.803 3.803 -3.803 c 2.1 0 3.803 1.703 3.803 3.803 C 26.502 20.285 24.8 21.987 22.699 21.987 Z",Receive:"M 12.217 12.134 v 13.334 h 20 V 12.134 H 12.217 Z M 30.44 13.007 l -8.223 5.35 l -8.223 -5.35 H 30.44 Z M 13.09 24.594 V 13.459 l 9.127 5.94 l 9.127 -5.94 v 11.135 H 13.09 Z",Send:"M 45.7256 3.16055 L 25 23.4017 L 4.27442 3.16055 H 45.7256 Z M 47.8963 46.8413 H 2.10375 V 4.80813 L 25 27.1709 L 47.8963 4.80813 V 46.8413 Z",InstantiatingReceive:"M 16.306 17.39 v 8.79 h 13.198 v -8.79 H 16.306 Z M 28.375 17.946 l -5.47 3.558 l -5.47 -3.558 H 28.375 Z M 28.948 25.625 H 16.861 v -7.389 l 6.043 3.931 l 6.043 -3.931 V 25.625 Z M 22.905 11.785c -5.514 0 -9.999 4.486 -9.999 10 c 0 5.514 4.485 10 9.999 10 s 9.999 -4.486 9.999 -10 C 32.904 16.272 28.419 11.785 22.905 11.785 Z M 22.905 31.239 c -5.212 0 -9.453 -4.241 -9.453 -9.454c 0 -5.212 4.241 -9.453 9.453 -9.453 s 9.452 4.241 9.452 9.453 C 32.357 26.998 28.117 31.239 22.905 31.239 Z",Manual:"M 13.183 15.325 h 2.911 c 0.105 0 0.207 -0.043 0.281 -0.117 c 0.078 -0.074 0.117 -0.176 0.117 -0.281c 0 -0.753 0.718 -1.362 1.596 -1.362 h 2.579 c -0.117 0.227 -0.191 0.48 -0.195 0.757 c 0 0.433 0.168 0.851 0.46 1.144 c 0.008 0.004 0.015 0.011 0.019 0.015 c -0.289 0.285 -0.475 0.691 -0.479 1.148 c 0 0.433 0.168 0.846 0.46 1.139 c 0.011 0.012 0.023 0.02 0.035 0.032 c -0.301 0.281 -0.491 0.694 -0.495 1.155 c 0 0.432 0.168 0.847 0.46 1.143c 0.265 0.266 0.612 0.414 0.975 0.414 h 0.839 c 0.027 0.004 0.051 0.012 0.074 0.012 h 8.443 c 0.352 0 0.636 0.344 0.636 0.761 c 0 0.414 -0.285 0.753 -0.636 0.753 h -6.687 c -0.019 0 -0.035 -0.008 -0.051 -0.008h -2.27 c -0.121 -0.835 -0.667 -1.187 -1.795 -1.187 h -2.158 c -0.223 0 -0.402 0.18 -0.402 0.403c 0 0.219 0.179 0.398 0.402 0.398 h 2.158 c 0.972 0 1.019 0.203 1.019 0.784 c 0 0.219 0.179 0.399 0.402 0.399 c 0.008 0 0.016 -0.004 0.027 -0.004 c 0.028 0.004 0.055 0.016 0.082 0.016 h 2.56 c 0.34 0.015 0.616 0.343 0.616 0.752c 0 0.418 -0.285 0.757 -0.636 0.761 h -0.004 h -6.442 c -0.878 0 -1.595 -0.639 -1.595 -1.427 v -0.683 c 0 -0.109 -0.043 -0.211 -0.114 -0.285 c -0.078 -0.074 -0.179 -0.117 -0.285 -0.117 h -0.004 l -2.989 0.027 c -0.223 0 -0.398 0.184 -0.398 0.402 c 0 0.219 0.179 0.395 0.398 0.395 h 0.004 l 2.591 -0.02 v 0.282 c 0 1.229 1.073 2.223 2.391 2.223 h 3.895 c 0.004 0 0.007 0.004 0.011 0.004 h 2.536 c 0.792 0 1.436 -0.698 1.436 -1.561 c 0 -0.273 -0.07 -0.53 -0.188 -0.752 h 5.49 c 0.792 0 1.436 -0.695 1.436 -1.553 c 0 -0.858 -0.644 -1.557 -1.436 -1.557h -3.566 c 0.121 -0.226 0.199 -0.487 0.199 -0.768 c 0 -0.468 -0.195 -0.882 -0.495 -1.167c 0.301 -0.285 0.495 -0.698 0.495 -1.163 c 0 -0.456 -0.191 -0.866 -0.483 -1.152 c 0.293 -0.285 0.483 -0.694 0.483 -1.151c 0 -0.858 -0.647 -1.557 -1.439 -1.557 h -8.373 c -1.167 0 -2.142 0.757 -2.352 1.76 l -2.548 -0.004 c -0.219 0 -0.399 0.18 -0.399 0.403 C 12.784 15.145 12.964 15.325 13.183 15.325 L 13.183 15.325 Z M 21.907 19.707 c -0.191 0 -0.328 -0.094 -0.41 -0.176 c -0.144 -0.145 -0.226 -0.355 -0.226 -0.577 c 0.003 -0.418 0.289 -0.753 0.643 -0.753 h 4.468 c 0.008 0 0.015 -0.004 0.027 -0.008 h 0.051 c 0.351 0 0.636 0.344 0.636 0.761 c 0 0.414 -0.286 0.753 -0.636 0.753 H 21.907 Z M 27.097 16.629 c 0 0.414 -0.286 0.753 -0.64 0.753 h -4.464 c -0.004 0 -0.004 0 -0.004 0 h -0.082c -0.191 0 -0.328 -0.098 -0.414 -0.18 c -0.14 -0.145 -0.222 -0.352 -0.222 -0.573 c 0 -0.413 0.285 -0.749 0.631 -0.753h 3.434 c 0 0 0 0 0.004 0 h 1.116 c 0.008 0 0.012 -0.004 0.02 -0.004 C 26.819 15.887 27.097 16.215 27.097 16.629L 27.097 16.629 Z M 27.097 14.322 c 0 0.41 -0.278 0.737 -0.62 0.749 c -0.008 0 -0.012 0 -0.016 0 h -3.637 c -0.008 0 -0.015 0.004 -0.023 0.004 h -0.886 c -0.004 0 -0.008 0 -0.012 0 c -0.187 0 -0.324 -0.094 -0.406 -0.176c -0.144 -0.144 -0.226 -0.355 -0.226 -0.577 c 0.003 -0.414 0.293 -0.753 0.643 -0.753 h 4.468 c 0.008 0 0.015 -0.004 0.027 -0.004 h 0.051 C 26.811 13.565 27.097 13.905 27.097 14.322 L 27.097 14.322 Z M 27.097 14.322",BusinessRule:"M 32.844 13.245 h -0.089 v 0 H 13.764 v -0.015 h -1.009 v 16.989 h 0.095 v 0.011 h 19.716 v -0.011 h 0.278 V 13.245 Z M 31.844 14.229 v 4.185 h -18.08 v -4.185 H 31.844 Z M 18.168 25.306 v 3.938 h -4.404 v -3.938 H 18.168 Z M 13.764 24.322 v -4.923 h 4.404 v 4.923 H 13.764 Z M 19.177 25.306 h 12.667 v 3.938 H 19.177 V 25.306 Z M 19.177 24.322v -4.923 h 12.667 v 4.923 H 19.177 Z",User:"M 21.762 21.935 c 2.584 0 4.687 -2.561 4.687 -5.703 c 0 -3.147 -2.103 -5.703 -4.687 -5.703 c -1.279 0 -2.475 0.61-3.363 1.721 c -0.855 1.071 -1.327 2.484 -1.324 3.983 C 17.075 19.374 19.178 21.935 21.762 21.935 L 21.762 21.935 ZM 21.762 11.779 c 1.894 0 3.436 1.995 3.436 4.452 c 0 2.453 -1.541 4.452 -3.436 4.452 c -1.895 0 -3.44 -1.999 -3.44 -4.452C 18.323 13.774 19.864 11.779 21.762 11.779 L 21.762 11.779 Z M 25.699 21.309 c -0.348 0 -0.626 0.277 -0.626 0.626 c 0 0.344 0.277 0.622 0.626 0.622 c 2.136 0 3.875 1.74 3.875 3.879 c 0 0.272 -0.227 0.498 -0.501 0.498 H 14.447 c -0.274 0 -0.497 -0.223 -0.497 -0.498 c 0 -2.139 1.736 -3.879 3.872 -3.879 c 0.344 0 0.625 -0.277 0.625 -0.622 c 0 -0.348 -0.28 -0.626-0.625 -0.626 c -2.826 0 -5.124 2.297 -5.124 5.126 c 0 0.965 0.784 1.749 1.748 1.749 h 14.626 c 0.964 0 1.748 -0.7841.748 -1.749 C 30.822 23.606 28.524 21.309 25.699 21.309 L 25.699 21.309 Z M 22.217 9.832 c 0.448 -0.263 0.924 -0.396 1.419 -0.396 c 1.895 0 3.436 1.995 3.436 4.452 c 0 0.439 -0.048 0.873 -0.143 1.284 c -0.08 0.336 0.128 0.672 0.464 0.751 c 0.048 0.012 0.098 0.019 0.143 0.019 c 0.284 0 0.541 -0.195 0.608 -0.483 c 0.119 -0.506 0.18 -1.034 0.18 -1.571c 0 -3.147 -2.102 -5.703 -4.687 -5.703 c -0.711 0 -1.419 0.198 -2.054 0.573 c -0.296 0.174 -0.397 0.559 -0.219 0.855C 21.536 9.911 21.921 10.009 22.217 9.832 L 22.217 9.832 Z M 27.697 18.81 c -0.345 0 -0.626 0.277 -0.626 0.622 c 0 0.348 0.281 0.626 0.626 0.626 c 2.137 0 3.75 1.782 3.75 3.918 c 0 0.07 -0.013 0.141 -0.043 0.205 c -0.14 0.314 0.0030.684 0.318 0.823 c 0.082 0.037 0.167 0.055 0.253 0.055 c 0.241 0 0.466 -0.141 0.57 -0.373 c 0.101 -0.226 0.153 -0.464 0.153-0.714 C 32.699 21.15 30.523 18.81 27.697 18.81 L 27.697 18.81 Z M 27.697 18.81",Script:"M 22.453 15.04 c 0 0 -1.194 -3.741 2.548 -3.774 c 0 0 2.497 0.126 1.766 4.321 c -0.008 0.043 -0.015 0.086 -0.024 0.13c -0.806 4.323 -2.516 8.42 -3.193 10.581 h 3.904 c 0 0 0.983 4.581 -2.549 4.968 H 13.292 c 0 0 -3.097 -1.42 -1.517 -5.323 l 3 -10.839 H 11.84 c 0 0 -1.129 -2.902 1.709 -3.806 l 11.425 -0.032 l -0.73 0.355 l -1.193 1.726 L 22.453 15.04 Z M 22.409 12.597 c 0 0 -0.242 0.483 -0.278 0.98 h -9.098 c 0 0 -0.06 -0.871 0.714 -1.041 L 22.409 12.597 Z M 26.341 27.734c 0 0 -0.13 2.678 -2.226 1.871 c 0 0 -0.823 -0.565 -0.758 -1.855 L 26.341 27.734 Z M 22.905 15.008 c 0 0 0.653 -0.258 0.709-1.501 c 0 0 0.145 -1.144 1.483 -0.693 c 0 0 0.808 0.355 0.259 2.404 c 0 0 -2.226 8.5 -3.032 10.339 c 0 0 -1.064 2.646 0.096 4.226 h -8.581 c 0 0 -1.806 -0.452 -0.741 -3.613 c 0 0 2.935 -9.549 3.193 -11.162 L 22.905 15.008 Z"},vf={None:"",Standard:"M 52.002 73.379 c -2.494 -2.536 -6.55 -2.534 -9.043 0 c -1.208 1.228 -1.874 2.861 -1.874 4.598 c 0 1.225 0.337 2.395 0.957 3.411 l -1.167 1.186 l 2.071 0.458 l 2.071 0.458 l -0.45 -2.106 l -0.45 -2.106 l -1.292 1.314c -1.119 -2.065 -0.842 -4.709 0.877 -6.458 c 2.084 -2.119 5.475 -2.117 7.557 0 c 2.083 2.119 2.083 5.565 0 7.685c -0.976 0.992 -2.272 1.557 -3.65 1.59 l 0.025 1.068 c 1.65 -0.041 3.2 -0.716 4.368 -1.903 c 1.208 -1.228 1.874 -2.861 1.874 -4.597 C 53.875 76.24 53.209 74.607 52.002 73.379 Z",ParallelMultiInstance:"M 51.5,69.5 L52.5,69.5 L52.5,84.5 L51.5 84.5 Z M 46.5,69.5 L47.5,69.5 L47.5,84.5 L46.5 84.5 Z M 41.5,69.5 L42.5,69.5 L42.5,84.5 L41.5 84.5 Z  ",SequenceMultiInstance:"M 40.375,71.5 L 55.375,71.5 L 55.375,72.5 L 40.375,72.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,76.5 L 55.375,76.5 L 55.375,77.5 L 40.375,77.5 Z M 40.375,81.5 L 55.375,81.5L 55.375,82.5 L 40.375,82.5 Z"},yf=(function(){function e(){}e.prototype.updateBridging=function(e,t){var n,i=[];if(e.bridges=[],function(e,t){return e.constraints&Oi.Bridging?e.constraints&Oi.Bridging:e.constraints&Oi.InheritBridging?t.constraints&Ii.Bridging:0}(e,t)){var r=this.getPoints(e);n=di.toBounds(r);for(var o=e.bridgeSpace,a=t.bridgeDirection,s=-1,l=t.connectors,c=0;c<l.length;c++){var d=l[c];if(e&&d&&e.id!==d.id){var h=this.getPoints(d),p=di.toBounds(h);if(this.intersectsRect(n,p)){var u=this.intersect(r,h,!1,a,!0);if(u.length>0)for(var f=0;f<u.length;f++){var g=0,m=0,v=0,y=0,b=this.getLengthAtFractionPoint(e,u[f]);if(-1!==b.pointIndex){m=b.lengthFractionIndex,g=b.fullLength,v=b.segmentIndex,y=b.pointIndex;var w=this.getPointAtLength(m-o/2,r),x=this.getPointAtLength(m+o/2,r);(m+o/2)/g,this.isEmptyPoint(x)&&(x=w);var S,C=void 0;S=e.sourcePoint,C="Straight"===e.type?e.targetPoint:e.intermediatePoints[y];var O=this.angleCalculation(S,C);if(i.length){var P;P=e.sourcePoint;var E=Math.abs(this.lengthCalculation(P,x)),T=-1;s=-1;for(var k=0;k<i[v].bridges.length;k++){s++;var I=i[v].bridges[k];if(E<Math.abs(this.lengthCalculation(P,I.endPoint))){T=s;break}}if(T>=0){var A=void 0;(A=this.createSegment(w,x,O,a,y,e,t)).target=d.id,i[v].bridges.splice(T,0,A),i[v].bridges.join(),i[v].bridgeStartPoint.splice(T,0,w),i[v].bridgeStartPoint.join(),i[v].segmentIndex=v}else{A=void 0;(A=this.createSegment(w,x,O,a,y,e,t)).target=d.id,i[v].bridges.push(A),i[v].bridgeStartPoint.push(w),i[v].segmentIndex=v}}else if(!isNaN(w.x)&&!isNaN(w.y)&&!this.isEmptyPoint(x)){var M=void 0,j={bridges:[],bridgeStartPoint:[],segmentIndex:v};(M=this.createSegment(w,x,O,a,y,e,t)).target=d.id;var D=[];D.push(w),[].push(x),i[v]=j,i[v].bridges.push(M),i[v].bridgeStartPoint=D,i[v].segmentIndex=v}}}}}}0!==i.length&&this.firstBridge(i,e,o)}},e.prototype.firstBridge=function(e,t,n){for(var i=0;i<e.length;i++){for(var r=e[i],o=1;o<r.bridges.length;o++)if(Jn.findLength(r.bridges[o].endPoint,r.bridges[o-1].endPoint)<n){r.bridges[o-1].endPoint=r.bridges[o].endPoint;var a=r.bridges[o-1],s=this.createBridgeSegment(a.startPoint,a.endPoint,a.angle,n,a.sweep);r.bridges[o-1].path=s,r.bridges.splice(o,1),r.bridgeStartPoint.splice(o,1),o--}t.sourcePoint;for(var l=0;l<r.bridges.length;l++){(a=r.bridges[l]).endPoint,t.bridges.push(a)}}},e.prototype.createSegment=function(e,t,n,i,r,o,a){var s,l,c={angle:0,endPoint:{x:0,y:0},target:"",path:"",segmentPointIndex:-1,startPoint:{x:0,y:0},sweep:1,rendered:!1};return l=this.sweepDirection(n,i,o,a),s=this.createBridgeSegment(e,t,n,o.bridgeSpace,l),c.path=s,c.startPoint=e,c.endPoint=t,c.angle=n,c.segmentPointIndex=r,c.sweep=l,c},e.prototype.createBridgeSegment=function(e,t,n,i,r){return"A "+i/2+" "+i/2+" "+n+" , 1 "+r+" "+t.x+","+t.y},e.prototype.sweepDirection=function(e,t,n,i){var r,o=Math.abs(e);switch(t){case"Top":case"Bottom":r=1,o>=0&&o<=90&&(r=0);break;case"Left":case"Right":r=1,e<0&&e>=-180&&(r=0)}return"Right"!==t&&"Bottom"!==t||(r=0===r?1:0),r},e.prototype.getPointAtLength=function(e,t){for(var n,i=0,r={x:0,y:0},o=0;o<t.length;o++){var a=t[o];if(n){var s=this.lengthCalculation(n,a);if(i+s>e){var l=e-i,c=Jn.findAngle(n,a),d=l*Math.cos(c*Math.PI/180),h=l*Math.sin(c*Math.PI/180);r={x:n.x+d,y:n.y+h};break}i+=s,n=a}else n=a}return r},e.prototype.getPoints=function(e){var t=[];if(e.intermediatePoints&&("Straight"===e.type||"Orthogonal"===e.type))for(var n=0;n<e.intermediatePoints.length;n++)t.push(e.intermediatePoints[n]);return t},e.prototype.intersectsRect=function(e,t){return t.x<e.x+e.width&&e.x<t.x+t.width&&t.y<e.y+e.height&&e.y<t.y+t.height},e.prototype.intersect=function(e,t,n,i,r){n&&t.length>=2&&(t.splice(0,1),t.splice(0,1));for(var o=[],a=0;a<e.length-1;a++){var s=this.inter1(e[a],e[a+1],t,r,i);if(s.length>0)for(var l=0;l<s.length;l++)o.push(s[l]);n&&t.length>=1&&t.splice(0,1)}return o},e.prototype.inter1=function(e,t,n,i,r){for(var o=[],a=0;a<n.length-1;a++){var s=Jl(e,t,n[a],n[a+1]);if(!this.isEmptyPoint(s)){var l=this.angleCalculation(e,t),c=this.angleCalculation(n[a],n[a+1]);switch(l=this.checkForHorizontalLine(l),c=this.checkForHorizontalLine(c),r){case"Left":case"Right":l>c&&o.push(s);break;case"Top":case"Bottom":l<c&&o.push(s)}l===c&&i&&o.push(s)}}return o},e.prototype.checkForHorizontalLine=function(e){var t=Math.abs(e);return t>90?180-t:t},e.prototype.isEmptyPoint=function(e){return 0===e.x&&0===e.y},e.prototype.getLengthAtFractionPoint=function(e,t){for(var n=100,i=-1,r=0,o=-1,a=0,s=0,l=e.sourcePoint,c=l,d=[],h=0;h<e.intermediatePoints.length;h++){var p=e.intermediatePoints[h];d.push(p)}for(var u=0;u<d.length;u++){var f=d[u],g=this.getSlope(f,l,t,e);g<n&&(n=g,s=r+this.lengthCalculation(t,c),o=a,i=u),r+=Jn.findLength(f,l),l=f,c=f}return a++,{lengthFractionIndex:s,fullLength:r,segmentIndex:o,pointIndex:i}},e.prototype.getSlope=function(e,t,n,i){var r=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),a=(n.y-e.y)/(t.y-e.y),s=(n.x-e.x)/(t.x-e.x);if(!isFinite(a)||!isFinite(s)||isNaN(a)||isNaN(s)){if(e.x===t.x){if(e.y===t.y)return 1e4;if(e.y>n.y&&n.y>t.y||e.y<n.y&&n.y<t.y)return Math.abs(e.x-n.x)}else if(e.y===t.y&&(e.x>n.x&&n.x>t.x||e.x<n.x&&n.x<t.x))return Math.abs(e.y-n.y)}else if((e.x>=n.x&&n.x>=t.x||e.x<=n.x&&n.x<=t.x||r<3)&&(e.y>=n.y&&n.y>=t.y||e.y<=n.y&&n.y<=t.y||o<3))return Math.abs(a-s);return 1e4},e.prototype.angleCalculation=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.atan2(i,n)*(180/Math.PI)},e.prototype.lengthCalculation=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Bridging"}}(),function(){function e(e){this.line=[],this.diagram=e}e.prototype.canSnap=function(){return 0!==(this.diagram.snapSettings.constraints&(Si.SnapToObject|Si.SnapToLines))},e.prototype.snapPoint=function(e,t,n,i,r,o,a){var s=this.diagram.snapSettings,l=this.diagram.scroller.currentZoom,c={x:0,y:0},d=wh(t.wrapper),h={snapped:!1,offset:0},p={snapped:!1,offset:0};if(this.diagram.snapSettings.constraints&Si.SnapToObject){var u=void 0;(u=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id","_SnappingLines"),u.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(u),this.snapObject(e,t,u,h,p,r,o===a)}var f=d.x+r.x,g=d.y+r.y,m=d.x+d.width+r.x,v=d.y+d.height+r.y,y=s.verticalGridlines.scaledIntervals,b=this.round(m,y,l),w=this.round(f,y,l);y=s.horizontalGridlines.scaledIntervals;var x=this.round(g,y,l),S=this.round(v,y,l),C=d.x+d.width,O=d.y+d.height;return h.snapped?this.diagram.snapSettings.constraints&Si.SnapToObject?c.x=h.offset:c.x=a.x-o.x:this.diagram.snapSettings.constraints&Si.SnapToVerticalLines?Math.abs(r.x)>=1&&(n?Math.abs(b-C)>Math.abs(w-d.x)?c.x+=w-d.x:c.x+=b-C:Math.abs(b-C)<Math.abs(w-d.x)?c.x+=b-C:c.x+=w-d.x):c.x=a.x-o.x,p.snapped?c.y=p.offset:this.diagram.snapSettings.constraints&Si.SnapToHorizontalLines?Math.abs(r.y)>=1&&(i?Math.abs(S-O)>Math.abs(x-d.y)?c.y+=x-d.y:c.y+=S-O:Math.abs(S-O)<Math.abs(x-d.y)?c.y+=S-O:c.y+=x-d.y):c.y=a.y-o.y,c},e.prototype.round=function(e,t,n){n=1===n?Math.pow(2,Math.floor(Math.log(n)/Math.log(2))):n;var i=0,r=0;for(r=0;r<t.length;r++)i+=t[r];var o=e%(i/=n),a=Math.floor(Math.abs(e)/i)*i;if(a!==e)if(e>=0)for(r=0;r<t.length;r++){if(o<=t[r]/n)return a+(o<t[r]/(2*n)?0:t[r]/n);a+=t[r]/n,o-=t[r]/n}else for(a*=-1,r=t.length-1;r>=0;r--){if(Math.abs(o)<=t[r]/n)return a-(Math.abs(o)<t[r]/(2*n)?0:t[r]/n);a-=t[r]/n,o+=t[r]/n}return e},e.prototype.snapObject=function(e,t,n,i,r,o,a){var s,l,c,d=null,h=this.diagram.scroller,p=this.diagram.snapSettings,u=[],f=[],g=[],m=[],v=wh(t.wrapper),y=e.scroller.currentZoom,b=-h.horizontalOffset,w=-h.verticalOffset,x=p.snapObjectDistance/y,S=new di(0,0,h.viewPortWidth,h.viewPortHeight),C=new di(b/y,v.y-x-5,S.width/y,v.height+2*x+10),O=new di(v.x-x-5,w/y,v.width+2*x+10,S.height/y);S=new di(b/y,w/y,S.width/y,S.height/y);var P,E,T,k=this.findNodes(e.spatialSearch,t,O,S),I=e.nameTable;for(P=0;P<k.length;P++)E=k[P],this.canBeTarget(e,E)&&(this.diagram.nameTable[E.id]instanceof $a||!this.canConsider(I,t,E)||((T=E.bounds).height+T.y<o.y+v.y?g.push({obj:E,distance:Math.abs(v.y+o.y-T.y-T.height)}):T.y>v.y+o.y+v.height&&m.push({obj:E,distance:Math.abs(v.y+o.y+v.height-T.y)}),(null==d||d>Math.abs(T.y-v.y-o.y))&&(Math.abs(T.x+T.width/2-(v.x+v.width/2+o.x))<=x?(l=this.createSnapObject(T,v,"centerX"),d=Math.abs(T.y-v.y)):Math.abs(T.x+T.width-(v.x+v.width+o.x))<=x?(l=this.createSnapObject(T,v,"right"),d=Math.abs(T.y-v.y)):Math.abs(T.x-(v.x+o.x))<=x?(l=this.createSnapObject(T,v,"left"),d=Math.abs(T.y-v.y)):Math.abs(T.x-(v.x+v.width+o.x))<=x?(l=this.createSnapObject(T,v,"rightLeft"),d=Math.abs(T.y-v.y)):Math.abs(T.x+T.width-(v.x+o.x))<=x&&(l=this.createSnapObject(T,v,"leftRight"),d=Math.abs(T.y-v.y)))));k=this.findNodes(e.spatialSearch,t,C,S);for(var A=0;A<k.length;A++)E=k[A],this.canBeTarget(e,E)&&(this.diagram.nameTable[E.id]instanceof $a||!this.canConsider(I,t,E)||((T=E.bounds).x+T.width<v.x+o.x&&(u[u.length]={obj:E,distance:Math.abs(v.x+o.x-T.x-T.width)}),T.x>v.x+o.x+v.width&&(f[f.length]={obj:E,distance:Math.abs(v.x+o.x+v.width-T.x)}),(null==s||s>Math.abs(T.x-v.x-o.x))&&(Math.abs(T.y+T.height/2-(v.y+v.height/2+o.y))<=x?(c=this.createSnapObject(T,v,"centerY"),s=Math.abs(T.x-v.x)):Math.abs(T.y-v.y-o.y)<=x?(c=this.createSnapObject(T,v,"top"),s=Math.abs(T.x-v.x)):Math.abs(T.y+T.height-(v.y+v.height+o.y))<=x?(c=this.createSnapObject(T,v,"bottom"),s=Math.abs(T.x-v.x)):Math.abs(T.y+T.height-v.y-o.y)<=x?(c=this.createSnapObject(T,v,"topBottom"),s=Math.abs(T.x-v.x)):Math.abs(T.y-(v.y+v.height+o.y))<=x&&(c=this.createSnapObject(T,v,"bottomTop"),s=Math.abs(T.x-v.x)))));this.createGuidelines(e,l,c,n,i,r,a),i.snapped||this.createHSpacingLines(e,n,t,u,f,i,r,a,o,x),r.snapped||this.createVSpacingLines(e,n,t,g,m,i,r,a,o,x)},e.prototype.snapConnectorEnd=function(e){var t=this.diagram.snapSettings,n=this.diagram.scroller.currentZoom;return t.constraints&Si.SnapToLines&&(e.x=this.round(e.x,t.verticalGridlines.scaledIntervals,n),e.y=this.round(e.y,t.horizontalGridlines.scaledIntervals,n)),e},e.prototype.canBeTarget=function(e,t){return t=this.diagram.nameTable[t.id],!up(this.diagram,t,!1)},e.prototype.snapSize=function(e,t,n,i,r,o,a,s){var l,c,d,h,p=this.diagram.snapSettings,u=this.diagram.scroller,f=wh(a.wrapper),g=e.nameTable,m=[],v=[],y=e.scroller.currentZoom,b=-u.horizontalOffset,w=-u.verticalOffset,x=p.snapObjectDistance/y,S=new di(0,0,u.viewPortWidth,u.viewPortHeight),C=new di(b/y,(f.y-5)/y,S.width/y,(f.height+10)/y),O=new di((f.x-5)/y,w/y,(f.width+10)/y,S.height/y);S=new di(b/y,w/y,S.width/y,S.height/y);var P,E,T,k=[],I=this.findNodes(e.spatialSearch,a,O,S,k);for(P=0;P<I.length;P++)E=I[P],!this.canConsider(g,a,E)||this.diagram.nameTable[E.id]instanceof $a||(T=E.bounds,(null==l||l>Math.abs(T.y-f.y))&&(t.left?Math.abs(f.x+r-T.x)<=x?(d=this.createSnapObject(T,f,"left"),l=Math.abs(T.y-f.y)):Math.abs(f.x+r-T.x-T.width)<=x&&(d=this.createSnapObject(T,f,"leftRight"),l=Math.abs(T.y-f.y)):t.right&&(Math.abs(f.x+r+f.width-T.x-T.width)<=x?(d=this.createSnapObject(T,f,"right"),l=Math.abs(T.y-f.y)):Math.abs(f.x+r+f.width-T.x)<=x&&(d=this.createSnapObject(T,f,"rightLeft"),l=Math.abs(T.y-f.y)))));I=this.findNodes(e.spatialSearch,a,C,S);for(var A=0;A<I.length;A++){var M=I[A];if(this.canConsider(g,a,M)&&!(this.diagram.nameTable[M.id]instanceof $a)){var j=M.bounds;(null==c||c>Math.abs(j.x-f.x))&&(n.top?Math.abs(f.y+o-j.y)<=x?(h=this.createSnapObject(j,f,"top"),c=Math.abs(j.x-f.x)):Math.abs(f.y+o-j.y-j.height)<=x&&(h=this.createSnapObject(j,f,"topBottom"),c=Math.abs(j.x-f.x)):n.bottom&&(Math.abs(f.y+f.height+o-j.y-j.height)<=x?(h=this.createSnapObject(j,f,"bottom"),c=Math.abs(j.x-f.x)):Math.abs(f.y+f.height+o-j.y)<=x&&(h=this.createSnapObject(j,f,"bottomTop"),c=Math.abs(j.x-f.x))))}}for(P=0;P<k.length;P++)if(E=k[P],this.canConsider(g,a,E)){var D=E.bounds,L=t.left?-r:r,R=Math.abs(f.width+L-D.width),N=void 0;R<=x&&(N=t.left?-D.width+f.width:D.width-f.width,m[m.length]={source:E,difference:R,offset:N}),L=n.top?-o:o;var z=Math.abs(f.height+L-D.height);z<=x&&(N=n.top?-D.height+f.height:D.height-f.height,v[v.length]={source:E,difference:z,offset:N})}if(!e.getTool)this.createGuidelines(e,d,h,i,t,n,s);!t.snapped&&m.length>0&&(t.left||t.right)&&this.addSameWidthLines(e,i,m,t,s,a),!n.snapped&&v.length>0&&(n.top||n.bottom)&&this.addSameHeightLines(e,i,v,n,s,a)},e.prototype.snapTop=function(e,t,n,i,r,o,a,s){var l,c=r;t.top=!0,e.left=e.right=!1;var d=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Si.SnapToObject&&!o.rotateAngle&&(l=s.y-s.height*o.pivot.y+r-(o.offsetY-o.height*o.pivot.y),this.snapSize(this.diagram,e,t,n,i,l,this.diagram.selectedItems,a)),t.snapped)c=r-l+t.offset;else if(this.diagram.snapSettings.constraints&Si.SnapToHorizontalLines){var h=s.y-s.height*o.pivot.y,p=h+r;c=this.round(p,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,d)-h}return c},e.prototype.snapRight=function(e,t,n,i,r,o,a,s){var l,c=i;e.right=!0,t.top=t.bottom=!1;var d=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Si.SnapToObject&&!o.rotateAngle&&(l=s.x+s.width*(1-o.pivot.x)+i-(o.offsetX+o.width*(1-o.pivot.x)),this.snapSize(this.diagram,e,t,n,l,r,this.diagram.selectedItems,a)),e.snapped)c=i-l+e.offset;else if(this.diagram.snapSettings.constraints&Si.SnapToVerticalLines){var h=s.x+s.width*(1-o.pivot.x),p=h+i;c=this.round(p,this.diagram.snapSettings.verticalGridlines.scaledIntervals,d)-h}return c},e.prototype.snapLeft=function(e,t,n,i,r,o,a,s){var l=i,c=0;e.left=!0,t.top=t.bottom=!1;var d=this.diagram.scroller.currentZoom;if(this.diagram.snapSettings.constraints&Si.SnapToObject&&!o.rotateAngle&&(c=s.x-s.width*o.pivot.x+i-(o.offsetX-o.width*o.pivot.x),this.snapSize(this.diagram,e,t,n,c,r,this.diagram.selectedItems,a)),e.snapped)l=i-c+e.offset;else if(this.diagram.snapSettings.constraints&Si.SnapToVerticalLines){var h=s.x-s.width*o.pivot.x,p=h+i;l=this.round(p,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,d)-h}return l},e.prototype.snapBottom=function(e,t,n,i,r,o,a,s){var l=r;t.bottom=!0,e.left=e.right=!1;var c=this.diagram.scroller.currentZoom,d=0;if(this.diagram.snapSettings.constraints&Si.SnapToObject&&!o.rotateAngle&&(d=s.y+s.height*(1-o.pivot.y)+r-(o.offsetY+o.height*(1-o.pivot.y)),this.snapSize(this.diagram,e,t,n,i,d,this.diagram.selectedItems,a)),wh(o instanceof or||o instanceof Ta?o:o.wrapper),t.snapped)l=r-d+t.offset;else if(this.diagram.snapSettings.constraints&Si.SnapToHorizontalLines){var h=s.y+s.height*(1-o.pivot.y),p=h+r;l=this.round(p,this.diagram.snapSettings.horizontalGridlines.scaledIntervals,c)-h}return l},e.prototype.createGuidelines=function(e,t,n,i,r,o,a){return t&&(r.offset=t.offsetX,r.snapped=!0,a||(t.type,this.renderAlignmentLines(t.start,t.end,i,e.scroller.transform))),n&&(o.offset=n.offsetY,o.snapped=!0,a||(n.type,this.renderAlignmentLines(n.start,n.end,i,e.scroller.transform))),i},e.prototype.renderAlignmentLines=function(e,t,n,i){e={x:(e.x+i.tx)*i.scale,y:(e.y+i.ty)*i.scale},t={x:(t.x+i.tx)*i.scale,y:(t.y+i.ty)*i.scale};var r={stroke:"#07EDE1",strokeWidth:1,startPoint:{x:e.x,y:e.y},endPoint:{x:t.x,y:t.y},fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:mh()},o=0;for(this.line.push(r),o=0;o<this.line.length;o++)this.diagram.diagramRenderer.drawLine(n,this.line.pop())},e.prototype.createHSpacingLines=function(e,t,n,i,r,o,a,s,l,c){var d=0;this.sortByDistance(i,"distance",!0),this.sortByDistance(r,"distance",!0);var h,p,u,f,g=[],m=wh(n.wrapper);if(i.length>0&&(g[g.length]=i[0],d=(h=i[0].obj.bounds).y,i.length>1?(u=i[1].obj.bounds,f=h.x-u.x-u.width,Math.abs(f-i[0].distance)<=c?d=this.findEquallySpacedNodesAtLeft(i,f,d,g):f=i[0].distance):f=i[0].distance),this.sortByDistance(g,"distance"),g[g.length]={obj:n,distance:0},d=m.y<d||!d?m.y:d,r.length>0){var v=void 0;if(d=(p=r[0].obj.bounds).y<d?p.y:d,r.length>1&&(v=(u=r[1].obj.bounds).x-p.x-p.width),i.length>0)if(Math.abs(r[0].distance-i[0].distance)<=c){var y=Math.abs(r[0].distance-i[0].distance)/2;r[0].distance<i[0].distance?f-=y:f+=y,g[g.length]=r[0]}else 1===i.length&&(h=void 0,g.splice(0,1),g[g.length]=r[0],f=v);else f=v,g[g.length]=r[0];r.length>1&&p.x+p.width<u.x&&(d=this.findEquallySpacedNodesAtRight(r,v,d,g,c))}if(g.length>2){this.addHSpacingLines(e,t,g,s,d);var b=0;s&&(b=l.x),h?o.offset=f-Math.abs(m.x+b-h.x-h.width)+b:p&&(o.offset=Math.abs(m.x+m.width+b-p.x)-f+b),o.snapped=!0}},e.prototype.createVSpacingLines=function(e,t,n,i,r,o,a,s,l,c){var d=0;this.sortByDistance(i,"distance",!0),this.sortByDistance(r,"distance",!0);var h,p,u,f,g,m=[],v=wh(n.wrapper);if(i.length>0&&(m[m.length]=i[0],d=(h=i[0].obj.bounds).x+h.width,i.length>1?(u=i[1].obj.bounds,f=h.y-u.y-u.height,Math.abs(f-i[0].distance)<=c?d=this.findEquallySpacedNodesAtTop(i,f,d,m):f=i[0].distance):f=i[0].distance),this.sortByDistance(m,"distance"),m[m.length]={obj:n,distance:0},d=v.x+v.width>d||!d?v.x+v.width:d,r.length>0){if(d=(p=r[0].obj.bounds).x+p.width>d?p.x+p.width:d,r.length>1&&(g=(u=r[1].obj.bounds).y-p.y-p.height),i.length>0)if(Math.abs(r[0].distance-i[0].distance)<=c){var y=Math.abs(r[0].distance-i[0].distance)/2;r[0].distance<i[0].distance?f-=y:f+=y,m[m.length]=r[0]}else 1===i.length&&(h=void 0,m.splice(0,1),m[m.length]=r[0],f=g);else f=g,m[m.length]=r[0];r.length>1&&u.y>p.y+p.height&&(d=this.findEquallySpacedNodesAtBottom(r,g,d,m,c))}if(m.length>2){this.addVSpacingLines(e,t,m,s,d);var b=0;s&&(b=l.y),h?a.offset=f-Math.abs(v.y+b-h.y-h.height)+b:p&&(a.offset=Math.abs(v.y+v.height+b-p.y)-f+b),a.snapped=!0}},e.prototype.addHSpacingLines=function(e,t,n,i,r){var o,a,s;if(!i)for(o=0;o<n.length-1;o++){var l=n[o].obj instanceof Hd?wh(n[o].obj.wrapper):n[o].obj.bounds,c=n[o+1].obj instanceof Hd?wh(n[o+1].obj.wrapper):n[o+1].obj.bounds;a={x:l.x+l.width,y:r-15},s={x:c.x,y:r-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform)}},e.prototype.addVSpacingLines=function(e,t,n,i,r){var o,a;if(!i)for(var s=0;s<n.length-1;s++){var l=n[s].obj instanceof Hd?wh(n[s].obj.wrapper):n[s].obj.bounds,c=n[s+1].obj instanceof Hd?wh(n[s+1].obj.wrapper):n[s+1].obj.bounds;o={x:r+15,y:l.y+l.height},a={x:r+15,y:c.y},this.renderSpacingLines(o,a,t,this.getAdornerLayerSvg(),e.scroller.transform)}},e.prototype.addSameWidthLines=function(e,t,n,i,r,o){this.sortByDistance(n,"offset");var a,s,l,c=wh(o.wrapper),d=n[0],h=d.source.bounds,p=[];for(p.push(n[0]),l=1;l<n.length;l++)n[l].source.bounds.width===h.width&&p.push(n[l]);if(!r)for(a={x:c.x+d.offset,y:c.y-15},s={x:c.x+c.width+d.offset,y:c.y-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform),l=0;l<p.length;l++)a={x:(c=p[l].source.bounds).x,y:c.y-15},s={x:c.x+c.width,y:c.y-15},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform);i.offset=d.offset,i.snapped=!0},e.prototype.addSameHeightLines=function(e,t,n,i,r,o){this.sortByDistance(n,"offset");var a,s,l,c=wh(o.wrapper),d=n[0],h=d.source.bounds,p=[];for(p.push(n[0]),l=0;l<n.length;l++)n[l].source.bounds.height===h.height&&p.push(n[l]);if(!r)for(a={x:c.x+c.width+15,y:c.y+d.offset},s={x:c.x+c.width+15,y:c.y+d.offset+c.height},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform),l=0;l<p.length;l++)a={x:(c=p[l].source.bounds).x+c.width+15,y:c.y},s={x:c.x+c.width+15,y:c.y+c.height},this.renderSpacingLines(a,s,t,this.getAdornerLayerSvg(),e.scroller.transform);i.offset=d.offset,i.snapped=!0},e.prototype.renderSpacingLines=function(e,t,n,i,r){var o,a,s=new hr,l={};e={x:(e.x+r.tx)*r.scale,y:(e.y+r.ty)*r.scale},t={x:(t.x+r.tx)*r.scale,y:(t.y+r.ty)*r.scale},e.x===t.x?(o="M"+(e.x-5)+" "+(e.y+5)+"L"+e.x+" "+e.y+"L"+(e.x+5)+" "+(e.y+5)+"zM"+(t.x-5)+" "+(t.y-5)+" L"+t.x+" "+t.y+" L"+(t.x+5)+" "+(t.y-5)+"z",a={startPoint:{x:e.x-8,y:e.y-1},endPoint:{x:e.x+8,y:e.y-1},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:mh()},s.data=o,l.data=s.data,l.angle=0,l.pivotX=0,l.pivotY=0,l.x=0,l.y=0,l.height=0,l.width=1,l.id=mh(),this.diagram.diagramRenderer.drawPath(n,l),this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop()),a={startPoint:{x:t.x-8,y:t.y+1},endPoint:{x:t.x+8,y:t.y+1},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:this.getAdornerLayerSvg().id+"spacing"},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())):(o="M"+(e.x+5)+" "+(e.y+5)+" L"+e.x+" "+e.y+" L"+(e.x+5)+" "+(e.y-5)+"zM"+(t.x-5)+" "+(t.y-5)+" L"+t.x+" "+t.y+" L"+(t.x-5)+" "+(t.y+5)+"z",s.data=o,l.data=o,l.angle=0,l.pivotX=0,l.pivotY=0,l.x=0,l.y=0,l.height=0,l.width=1,l.id=mh(),this.diagram.diagramRenderer.drawPath(n,l),a={visible:!0,opacity:1,id:mh(),startPoint:{x:e.x-1,y:e.y-8},endPoint:{x:e.x-1,y:e.y+8},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop()),a={width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:mh(),startPoint:{x:t.x+1,y:t.y-8},endPoint:{x:t.x+1,y:t.y+8},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0"},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())),a={startPoint:{x:e.x,y:e.y},endPoint:{x:t.x,y:t.y},stroke:"#07EDE1",strokeWidth:1,fill:"#07EDE1",dashArray:"0",width:1,x:0,y:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,opacity:1,id:mh()},this.line.push(a),this.diagram.diagramRenderer.drawLine(n,this.line.pop())},e.prototype.createSnapObject=function(e,t,n){var i;switch(n){case"left":i={start:{x:e.x,y:Math.min(e.y,t.y)},end:{x:e.x,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x-t.x,offsetY:0,type:"sideAlign"};break;case"right":i={type:"sideAlign",start:{x:e.x+e.width,y:Math.min(e.y,t.y)},offsetX:e.x+e.width-t.x-t.width,offsetY:0,end:{x:e.x+e.width,y:Math.max(e.y+e.height,t.y+t.height)}};break;case"top":i={offsetY:e.y-t.y,offsetX:0,type:"sideAlign",start:{x:Math.min(e.x,t.x),y:e.y},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y}};break;case"bottom":i={type:"sideAlign",offsetY:e.y+e.height-t.y-t.height,offsetX:0,end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height},start:{x:Math.min(e.x,t.x),y:e.y+e.height}};break;case"topBottom":i={start:{x:Math.min(e.x,t.x),y:e.y+e.height},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height},offsetY:e.y+e.height-t.y,offsetX:0,type:"sideAlign"};break;case"bottomTop":i={start:{x:Math.min(e.x,t.x),y:e.y},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y},offsetY:e.y-t.y-t.height,offsetX:0,type:"sideAlign"};break;case"leftRight":i={start:{x:e.x+e.width,y:Math.min(e.y,t.y)},end:{x:e.x+e.width,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x+e.width-t.x,offsetY:0,type:"sideAlign"};break;case"rightLeft":i={start:{x:e.x,y:Math.min(e.y,t.y)},end:{x:e.x,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x-t.x-t.width,offsetY:0,type:"sideAlign"};break;case"centerX":i={start:{x:e.x+e.width/2,y:Math.min(e.y,t.y)},end:{x:e.x+e.width/2,y:Math.max(e.y+e.height,t.y+t.height)},offsetX:e.x+e.width/2-(t.x+t.width/2),offsetY:0,type:"centerAlign"};break;case"centerY":i={start:{x:Math.min(e.x,t.x),y:e.y+e.height/2},end:{x:Math.max(e.x+e.width,t.x+t.width),y:e.y+e.height/2},offsetY:e.y+e.height/2-(t.y+t.height/2),offsetX:0,type:"centerAlign"}}return i},e.prototype.snapAngle=function(e,t){var n=this.diagram.snapSettings.snapAngle,i=t%(n||0);return i>=n/2?t+n-i:t-i},e.prototype.canConsider=function(e,t,n){return!this.diagram.selectedItems.nodes.length||this.diagram.selectedItems.nodes[0].id!==n.id},e.prototype.findNodes=function(e,t,n,i,r){for(var o,a,s=[],l=e.findQuads(r?i:n),c=0;c<l.length;c++){var d=l[c];if(d.objects.length>0)for(var h=0;h<d.objects.length;h++)o=d.objects[h],this.diagram.nameTable[o.id]instanceof $a||!o.visible||"SwimLane"===this.diagram.nameTable[o.id].shape.type||this.diagram.nameTable[o.id].isLane||this.diagram.nameTable[o.id].isPhase||this.diagram.nameTable[o.id].isHeader||(a=wh(o),-1===s.indexOf(o)&&this.intersectsRect(n,a)&&s.push(o),r&&r.indexOf(o)&&this.intersectsRect(i,a)&&r.push(o))}return s},e.prototype.intersectsRect=function(e,t){return t.x<e.x+e.width&&e.x<t.x+t.width&&t.y<e.y+e.height&&e.y<t.y+t.height},e.prototype.getAdornerLayerSvg=function(){return this.diagram.diagramRenderer.adornerSvgLayer},e.prototype.removeGuidelines=function(e){var t=this.getAdornerLayerSvg().getElementById("_SnappingLines"),n=this.getAdornerLayerSvg().getElementById("pivotLine");t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n)},e.prototype.sortByDistance=function(e,t,n){var i,r,o;if(n)for(i=0;i<e.length;i++)for(r=i+1;r<e.length;r++)e[i][t]>e[r][t]&&(o=e[i],e[i]=e[r],e[r]=o);else for(i=0;i<e.length;i++)for(r=i+1;r<e.length;r++)e[i][t]<e[r][t]&&(o=e[i],e[i]=e[r],e[r]=o)},e.prototype.findEquallySpacedNodesAtLeft=function(e,t,n,i){var r,o,a,s;for(s=1;s<e.length&&(r=e[s-1].obj.bounds,o=e[s].obj.bounds,a=r.x-o.x-o.width,Math.abs(a-t)<=1);s++)i[i.length]=e[s],o.y<n&&(n=o.y);return n},e.prototype.findEquallySpacedNodesAtRight=function(e,t,n,i,r){var o,a,s,l,c=e[0].distance;if(Math.abs(t-c)<=r)for(var d=0;d<e.length-1&&(o=e[d].obj,a=e[d+1].obj.bounds,s=o.bounds,l=a.x-s.x-s.width,Math.abs(l-t)<=1);d++)i[i.length]=e[d+1],s.y<n&&(n=s.y);return n},e.prototype.findEquallySpacedNodesAtTop=function(e,t,n,i){for(var r,o,a,s=1;s<e.length&&(r=e[s-1].obj.bounds,o=e[s].obj.bounds,a=r.y-o.y-o.height,Math.abs(a-t)<=1);s++)i[i.length]=e[s],o.x+o.width>n&&(n=o.x+o.width);return n},e.prototype.findEquallySpacedNodesAtBottom=function(e,t,n,i,r){var o,a,s,l,c=e[0].distance;if(Math.abs(t-c)<=r)for(var d=0;d<e.length-1&&(o=e[d].obj,a=e[d+1].obj.bounds,s=o.bounds,l=a.y-s.y-s.height,Math.abs(l-t)<=1);d++)i[i.length]=e[d+1],s.x+s.width>n&&(n=s.x+s.width);return n},e.prototype.getLayer=function(){var e;return this.diagram.snapSettings.constraints&Si.SnapToObject&&((e=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id","_SnappingLines"),e.setAttribute("shapeRendering","crispEdges"),this.getAdornerLayerSvg().appendChild(e)),e},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"Snapping"}}(),function(){function e(){this.groupUndo=!1,this.childTable=[],this.historyCount=0,this.hasGroup=!1,this.groupCount=0}e.prototype.initHistory=function(e){e.historyManager={canRedo:!1,canUndo:!1,currentEntry:null,push:e.addHistoryEntry.bind(e),undo:Function,redo:Function,startGroupAction:e.startGroupAction.bind(e),endGroupAction:e.endGroupAction.bind(e),canLog:null,undoStack:[],redoStack:[],stackLimit:e.historyManager?e.historyManager.stackLimit:void 0}},e.prototype.addHistoryEntry=function(e,t){var n=null;if(t.historyManager.canLog&&!0===t.historyManager.canLog(e).cancel)return;if(t.historyManager&&t.historyManager.canUndo&&t.historyManager.currentEntry&&((n=t.historyManager.currentEntry).next?n.previous&&(n.next.previous=null,n.next=e,e.previous=n):(n.next=e,e.previous=n)),t.historyManager.currentEntry=e,t.historyManager.stackLimit){if("StartGroup"===e.type||"EndGroup"===e.type){var i="EndGroup"===e.type;this.setEntryLimit(i)}this.hasGroup||0!==this.groupCount||(this.historyCount<t.historyManager.stackLimit?this.historyCount++:this.applyLimit(t.historyManager.currentEntry,t.historyManager.stackLimit,t))}this.getHistoryList(t),t.historyManager.canUndo=!0,t.historyManager.canRedo=!1},e.prototype.applyLimit=function(e,t,n,i){if(e&&e.previous){if("StartGroup"===e.type||"EndGroup"===e.type){var r="StartGroup"===e.type;this.setEntryLimit(r)}this.hasGroup||0!==this.groupCount||t--,0===t?(i&&this.limitHistoryStack(e.previous,n),n.historyManager.stackLimit<this.historyCount&&(this.historyCount=n.historyManager.stackLimit),delete e.previous):e.previous&&this.applyLimit(e.previous,t,n,i)}this.groupCount=0},e.prototype.clearHistory=function(e){var t=e.historyManager;t.currentEntry=void 0,t.canUndo=!1,t.canRedo=!1,this.historyCount=0,this.groupCount=0,e.historyManager.undoStack=[],e.historyManager.redoStack=[]},e.prototype.setEntryLimit=function(e){e?this.groupCount--:this.groupCount++,this.hasGroup=e?!e:e},e.prototype.limitHistoryStack=function(e,t){"StartGroup"!==e.type&&"EndGroup"!==e.type&&(this.removeFromStack(t.historyManager.undoStack,e),this.removeFromStack(t.historyManager.redoStack,e)),e.previous&&this.limitHistoryStack(e.previous,t)},e.prototype.removeFromStack=function(e,t){if(e.length)for(var n=0;n<=e.length;n++)if(e[n].undoObject===t.undoObject&&e[n].redoObject===t.redoObject){e.splice(n,1);break}},e.prototype.undo=function(e){var t=this.getUndoEntry(e),n=0;if(t)if("Internal"===t.category)"EndGroup"===t.type?(n++,this.groupUndo=!0):this.undoEntry(t,e),this.groupUndo&&(this.undoGroupAction(t,e,n),this.groupUndo=!1);else{w()||e.historyManager.undo(t);var i={entryType:"undo",oldValue:t.undoObject,newValue:t.redoObject};w()&&(i={entryType:"undo",oldValue:this.getHistoryChangeEvent(t.undoObject,t.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(t.redoObject,t.blazorHistoryEntryType)}),e.triggerEvent(Hi.historyStateChange,i)}},e.prototype.getHistoryChangeEvent=function(e,t){var n={};switch(t){case"Node":n.node=e;break;case"Connector":n.connector=e;break;case"Selector":n.selector=e;break;case"Diagram":n.diagram=e;break;case"ShapeAnnotation":n.shapeAnnotation=e;break;case"PathAnnotation":n.pathAnnotation=e;break;case"PortObject":n.pointPortModel=e;break;case"Object":n.object=e}return n},e.prototype.getHistoryList=function(e){var t,n,i=[],r=[],o=e.historyManager.currentEntry;for(o=e.historyManager.currentEntry,e.historyManager.canUndo||0===e.historyManager.undoStack.length?this.getHistroyObject(i,o):this.getHistroyObject(r,o);o&&o.previous;)t=o.previous,this.getHistroyObject(i,t),o=o.previous;for(o=e.historyManager.currentEntry;o&&o.next;)n=o.next,this.getHistroyObject(r,n),o=o.next;e.historyManager.undoStack=i,e.historyManager.redoStack=r},e.prototype.getHistroyObject=function(e,t){t&&"StartGroup"!==t.type&&"EndGroup"!==t.type&&e.push({redoObject:t.redoObject?t.redoObject:null,undoObject:t.undoObject?t.undoObject:null,type:t.type?t.type:null,category:t.category?t.category:null})},e.prototype.undoGroupAction=function(e,t,n){for(;0!==n;)this.undoEntry(e,t),"StartGroup"===(e=this.getUndoEntry(t)).type?n--:"EndGroup"===e.type&&n++;n=0},e.prototype.undoEntry=function(e,t){var n,i;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&"LabelCollectionChanged"!==e.type&&(n=e.undoObject,i=e.undoObject),"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.undoStack.length>0){var r=t.historyManager.undoStack.splice(0,1);t.historyManager.redoStack.splice(0,0,r[0]),i=e.undoObject}switch(t.protectPropertyChange(!0),t.diagramActions|=Ri.UndoRedo,e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(n,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(n,t,e);break;case"RotationChanged":this.recordRotationChanged(n,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(n,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!1);break;case"CollectionChanged":e.isUndo=!0,this.recordCollectionChanged(e,t),e.isUndo=!1;break;case"LabelCollectionChanged":e.isUndo=!0,this.recordLabelCollectionChanged(e,t),e.isUndo=!1;break;case"PortCollectionChanged":e.isUndo=!0,this.recordPortCollectionChanged(e,t),e.isUndo=!1;break;case"Group":this.unGroup(e,t);break;case"UnGroup":this.group(e,t);break;case"SegmentChanged":this.recordSegmentChanged(n,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!1);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!1);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!1);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!1);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!1,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!1,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!1);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":e.isUndo=!0,this.recordLaneOrPhaseCollectionChanged(e,t,!1),e.isUndo=!1;break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(e,t,!1)}if(t.diagramActions&=~Ri.UndoRedo,t.protectPropertyChange(!1),t.historyChangeTrigger(e,"Undo"),i){var o=this.checkNodeObject(i,t);if(o){var a=Dh(t.updateSelection);a&&a(o,t)}}},e.prototype.checkNodeObject=function(e,t){var n;if(e.id)n=t.nameTable[e.id];else if(e.nodes&&e.nodes.length>0||e.connectors&&e.connectors.length>0)for(var i=0,r=e.nodes.length>0?e.nodes:e.connectors;i<r.length;i++)n=r[i],n=t.nameTable[n.id];else{var o=e.nodes?e.nodes:e.connectors;if(o)for(var a=0,s=Object.keys(o);a<s.length;a++){var l=s[a],c=Number(l);n=e.nodes?t.nodes[c]:t.connectors[c]}}return n},e.prototype.group=function(e,t){t.add(e.undoObject)},e.prototype.unGroup=function(e,t){e.redoObject=xh(e.undoObject);var n=e.undoObject;t.commandHandler.unGroup(n)},e.prototype.ignoreProperty=function(e){return"zIndex"===e||"wrapper"===e},e.prototype.getProperty=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];this.ignoreProperty(r)||(t[r]instanceof Object?this.getProperty(e[r],t[r]):e[r]=t[r])}},e.prototype.recordLaneOrPhaseCollectionChanged=function(e,t,n){var i=e.redoObject,r=e.undoObject;if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))t.remove(i);else if(i.isPhase){var o=t.nameTable[i.parentId];t.addPhases(o,[r])}else{var a=Cl(o=t.nameTable[i.parentId],i);t.addLanes(o,[r],a)}t.clearSelection()},e.prototype.recordAnnotationChanged=function(e,t,n){var i=n?e.redoObject:e.undoObject;if(t.canEnableBlazorObject){var r=xh(t.nameTable[i.id]);t.insertValue(r,r instanceof Dd)}var o=Oc(i,e.objectId),a=t.commandHandler.getAnnotationChanges(t.nameTable[i.id],o),s=t.nameTable[i.id],l=Oc(s,e.objectId);l.offset=o.offset,l.margin=o.margin,l.width=o.width,l.height=o.height,l.rotateAngle=o.rotateAngle,l.margin=o.margin,s instanceof Dd?t.nodePropertyChange(s,{},a):t.connectorPropertyChange(s,{},a)},e.prototype.recordChildCollectionChanged=function(e,t,n){var i=n?e.redoObject:e.undoObject,r=t.nameTable[i.parentId],o=t.nameTable[i.id];r?il(t,r,o,!n,"AddNodeToLane"===e.historyAction):(o.parentId&&((r=t.nameTable[o.parentId]).children.splice(r.children.indexOf(o.id),1),r.wrapper.children.splice(r.wrapper.children.indexOf(o.wrapper),1)),""!==i.parentId&&((r=t.nameTable[i.parentId]).children.push(i.id),r.wrapper.children.push(o.wrapper)),o.parentId=i.parentId,t.removeElements(o),t.updateDiagramObject(o))},e.prototype.recordStackPositionChanged=function(e,t,n){var i=n?e.redoObject:e.undoObject;if(i.source){var r=t.nameTable[i.source.parentId];r&&(i.target?(r.wrapper.children.splice(i.targetIndex,1),r.wrapper.children.splice(i.sourceIndex,0,i.source.wrapper)):void 0!==i.sourceIndex?(t.nameTable[i.source.id]||t.add(i.source),r.wrapper.children.splice(i.sourceIndex,0,t.nameTable[i.source.id].wrapper),t.nameTable[i.source.id].parentId=r.id):(r.wrapper.children.splice(r.wrapper.children.indexOf(t.nameTable[i.source.id].wrapper),1),t.nameTable[i.source.id].parentId=""),n&&"UmlClassifier"===r.shape.type&&t.remove(i.source),r.wrapper.measure(new Kn),r.wrapper.arrange(r.wrapper.desiredSize),t.updateDiagramObject(r),t.updateSelector())}},e.prototype.recordGridSizeChanged=function(e,t,n,i){var r=n?e.redoObject:e.undoObject,o=n?e.undoObject:e.redoObject;if(r.parentId){var a=t.nameTable[r.parentId],s=t.nameTable[r.id],l=a.wrapper.bounds.x,c=a.wrapper.bounds.y;if("SwimLane"===a.shape.type){var d=a.wrapper.children[0],h=a.shape.padding;Sl(t,o,a,r),i?(d.updateRowHeight(r.rowIndex,r.wrapper.actualSize.height,!0,h),a.height=a.wrapper.height=d.height):(d.updateColumnWidth(r.columnIndex,r.wrapper.actualSize.width,!0,h),a.width=a.wrapper.width=d.width,r.isPhase&&(s.maxWidth=s.wrapper.maxWidth=r.wrapper.actualSize.width)),fl(a);var p=l-a.wrapper.bounds.x,u=c-a.wrapper.bounds.y;t.drag(a,p,u),t.clearSelection(),t.updateDiagramObject(a)}}},e.prototype.recordLanePositionChanged=function(e,t,n){var i=n?e.redoObject:e.undoObject;if(i.source){var r=t.nameTable[i.source.parentId];r&&"SwimLane"===r.shape.type&&(xl(t,i.target,i.source),t.clearSelection())}},e.prototype.recordPortChanged=function(e,t,n){var i=n?e.redoObject.nodes[0]:e.undoObject.nodes[0];if(t.canEnableBlazorObject){var r=xh(t.nameTable[i.id]);t.insertValue(r,!0)}var o=Pc(i,e.objectId),a=t.commandHandler.getPortChanges(t.nameTable[i.id],o),s=t.nameTable[i.id];Pc(s,e.objectId).offset=o.offset,t.nodePropertyChange(s,{},a),s.parentId&&t.updateConnectorEdges(t.nameTable[s.parentId])},e.prototype.recordPropertyChanged=function(e,t,n){var i=e.redoObject,r=e.undoObject;this.getProperty(t,n?i:r),n?t.onPropertyChanged(i,r):t.onPropertyChanged(r,i),t.diagramActions=t.diagramActions|Ri.UndoRedo},e.prototype.recordOrderCommandChanged=function(e,t,n){var i=e.redoObject,r=e.undoObject;t.commandHandler.orderCommands(n,n?i:r,e.type),t.diagramActions=t.diagramActions|Ri.UndoRedo},e.prototype.recordSegmentChanged=function(e,t){var n,i=0;if(e.connectors&&e.connectors.length>0)for(i=0;i<e.connectors.length;i++)n=e.connectors[i],this.segmentChanged(n,t)},e.prototype.segmentChanged=function(e,t){var n=t.nameTable[e.id];n.segments=e.segments,t.commandHandler.updateEndPoint(n)},e.prototype.recordPositionChanged=function(e,t){var n,i,r=0;if(e.nodes&&e.nodes.length>0)for(r=0;r<e.nodes.length;r++)n=e.nodes[r],this.positionChanged(n,t);if(e.connectors&&e.connectors.length>0)for(r=0;r<e.connectors.length;r++)i=e.connectors[r],this.connectionChanged(i,t)},e.prototype.positionChanged=function(e,t){var n=t.nameTable[e.id];if(e.processId&&!n.processId&&t.addProcess(e,e.processId),!e.processId&&n.processId&&t.removeProcess(e.id),n.processId){var i=e.margin.left-n.margin.left,r=e.margin.top-n.margin.top;t.drag(n,i,r)}else{if(n.parentId){var o=t.nameTable[n.parentId];o.isLane&&(e.wrapper.offsetX=e.width/2+(o.wrapper.bounds.x+e.margin.left),e.wrapper.offsetY=e.height/2+(o.wrapper.bounds.y+e.margin.top))}i=e.wrapper.offsetX-n.offsetX,r=e.wrapper.offsetY-n.offsetY;t.drag(n,i,r)}t.bpmnModule&&t.bpmnModule.updateDocks(n,t)},e.prototype.recordSizeChanged=function(e,t,n){var i,r,o=0;if(e&&e.nodes&&e.nodes.length>0)for(o=0;o<e.nodes.length;o++)if((r=e.nodes[o]).children&&!r.container)for(var a=t.commandHandler.getAllDescendants(r,[]),s=0;s<a.length;s++){var l=n.childTable[a[s].id];Lc(l)===Dd?(this.sizeChanged(l,t,n),this.positionChanged(l,t)):this.connectionChanged(l,t,n)}else this.sizeChanged(r,t),this.positionChanged(r,t);if(e&&e.connectors&&e.connectors.length>0){var c=e.connectors;for(o=0;o<c.length;o++)i=c[o],this.connectionChanged(i,t)}},e.prototype.sizeChanged=function(e,t,n){var i=t.nameTable[e.id],r=e.wrapper.actualSize.width/i.wrapper.actualSize.width,o=e.wrapper.actualSize.height/i.wrapper.actualSize.height;n&&n.childTable&&(n.childTable[e.id]=xh(i)),t.scale(i,r,o,{x:e.wrapper.offsetX/i.wrapper.offsetX,y:e.wrapper.offsetY/i.wrapper.offsetY})},e.prototype.recordRotationChanged=function(e,t,n){var i,r,o=0,a=t.selectedItems;if(a.rotateAngle=e.rotateAngle,a&&a.wrapper&&(a.wrapper.rotateAngle=e.rotateAngle),e&&e.nodes&&e.nodes.length>0)for(o=0;o<e.nodes.length;o++)i=e.nodes[o],this.rotationChanged(i,t),this.positionChanged(i,t);if(e&&e.connectors&&e.connectors.length>0)for(o=0;o<e.connectors.length;o++)r=e.connectors[o],this.connectionChanged(r,t)},e.prototype.rotationChanged=function(e,t){var n=t.nameTable[e.id];t.rotate(n,e.rotateAngle-n.rotateAngle)},e.prototype.recordConnectionChanged=function(e,t){var n=e.connectors[0];this.connectionChanged(n,t)},e.prototype.connectionChanged=function(e,t,n){var i,r=t.nameTable[e.id];e.sourcePortID!==r.sourcePortID&&(t.removePortEdges(t.nameTable[r.sourceID],r.sourcePortID,r.id,!1),r.sourcePortID=e.sourcePortID,t.connectorPropertyChange(r,{},{sourcePortID:e.sourcePortID})),e.targetPortID!==r.targetPortID&&(t.removePortEdges(t.nameTable[r.targetID],r.targetPortID,r.id,!0),r.targetPortID=e.targetPortID,t.connectorPropertyChange(r,{},{targetPortID:e.targetPortID})),e.sourceID!==r.sourceID&&(""===e.sourceID?yc((i=t.nameTable[r.sourceID]).outEdges,e.id):((i=t.nameTable[e.sourceID]).outEdges.push(e.id),t.updatePortEdges(i,e,!1)),r.sourceID=e.sourceID,t.connectorPropertyChange(r,{},{sourceID:e.sourceID})),e.targetID!==r.targetID&&(""===e.targetID?yc((i=t.nameTable[r.targetID]).inEdges,e.id):((i=t.nameTable[e.targetID]).inEdges.push(e.id),t.updatePortEdges(i,e,!0)),r.targetID=e.targetID,t.connectorPropertyChange(r,{},{targetID:e.targetID})),n&&n.childTable&&(n.childTable[e.id]=xh(r));var o=e.sourcePoint.x-r.sourcePoint.x,a=e.sourcePoint.y-r.sourcePoint.y;0===o&&0===a||t.dragSourceEnd(r,o,a);var s=e.targetPoint.x-r.targetPoint.x,l=e.targetPoint.y-r.targetPoint.y;0===s&&0===l||t.dragTargetEnd(r,s,l),t.updateSelector(),"SVG"!==t.mode&&t.refreshDiagramLayer()},e.prototype.recordCollectionChanged=function(e,t){var n=e.undoObject;if(e&&e.changeType){if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))n.nodeId?t.remove(t.nameTable[n.nodeId+"_textannotation_"+n.id]):(t.remove(n),t.clearSelectorLayer());else{if(t.clearSelectorLayer(),n.parentId){var i=t.nameTable[n.parentId];i?t.addChild(i,n):t.add(n)}else n.nodeId?t.addTextAnnotation(n,t.nameTable[n.nodeId]):t.nameTable[n.id]||(n&&n.shape&&"SwimLane"===n.shape.type&&e.isUndo&&jl(n,void 0,void 0,void 0,void 0,!0),t.add(n));n.processId&&t.nameTable[n.processId]&&t.addProcess(n,n.processId)}"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordLabelCollectionChanged=function(e,t){var n=e.undoObject,i=e.redoObject,r=t.nameTable[i.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removeLabels(r,[n]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addLabels(r,[n])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordPortCollectionChanged=function(e,t){var n=e.undoObject,i=e.redoObject,r=t.nameTable[i.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removePorts(r,[n]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addPorts(r,[n])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.redo=function(e){var t=this.getRedoEntry(e),n=0;if(t)if("Internal"===t.category)"StartGroup"===t.type?(n++,this.groupUndo=!0):this.redoEntry(t,e),this.groupUndo&&(this.redoGroupAction(t,e,n),this.groupUndo=!1);else{w()||e.historyManager.redo(t);var i={entryType:"redo",oldValue:t.redoObject,newValue:t.undoObject};w()&&(i={entryType:"undo",oldValue:this.getHistoryChangeEvent(t.redoObject,t.blazorHistoryEntryType),newValue:this.getHistoryChangeEvent(t.undoObject,t.blazorHistoryEntryType)}),e.triggerEvent(Hi.historyStateChange,i)}},e.prototype.redoGroupAction=function(e,t,n){for(;0!==n;)this.redoEntry(e,t),"EndGroup"===(e=this.getRedoEntry(t)).type?n--:"StartGroup"===e.type&&n++;n=0},e.prototype.redoEntry=function(e,t){var n,i;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&(n=e.redoObject,i=e.redoObject),t.diagramActions|=Ri.UndoRedo,"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.redoStack.length>0){var r=t.historyManager.redoStack.splice(0,1);t.historyManager.undoStack.splice(0,0,r[0]),i=e.redoObject}switch(t.protectPropertyChange(!0),e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(n,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(n,t,e);break;case"RotationChanged":this.recordRotationChanged(n,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(n,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!0);break;case"CollectionChanged":this.recordCollectionChanged(e,t);break;case"LabelCollectionChanged":this.recordLabelCollectionChanged(e,t);break;case"PortCollectionChanged":this.recordPortCollectionChanged(e,t);break;case"Group":this.group(e,t);break;case"UnGroup":this.unGroup(e,t);break;case"SegmentChanged":this.recordSegmentChanged(n,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!0);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!0);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!0);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!0);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!0,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!0,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!0);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":this.recordLaneOrPhaseCollectionChanged(e,t,!0);break;case"SendToBack":case"SendForward":case"SendBackward":case"BringToFront":this.recordOrderCommandChanged(e,t,!0)}if(t.protectPropertyChange(!1),t.diagramActions&=~Ri.UndoRedo,t.historyChangeTrigger(e,"Redo"),i){var o=this.checkNodeObject(i,t);if(o){var a=Dh(t.updateSelection);a&&a(o,t)}}},e.prototype.getUndoEntry=function(e){var t,n=null,i=e.historyManager;return i.canUndo&&(n=i.currentEntry,(t=i.currentEntry.previous)?(i.currentEntry=t,i.canRedo||(i.canRedo=!0)):(i.canRedo=!0,i.canUndo=!1)),n},e.prototype.getRedoEntry=function(e){var t,n=null,i=e.historyManager;return i.canRedo&&((t=i.currentEntry.previous||i.canUndo?i.currentEntry.next:i.currentEntry)&&(i.currentEntry=t,i.canUndo||(i.canUndo=!0),t.next||(i.canRedo=!1,i.canUndo=!0)),n=i.currentEntry),n},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"UndoRedo"}}(),function(){function e(){this.protectChange=!1}e.prototype.expand=function(e,t,n,i){var r=this,o={},a=0;if(i.realActions=i.realActions|zi.AnimationClick,o[0]=setInterval((function(){return a++,r.layoutAnimation(t,o,6===a,i,n)}),20),n.isExpanded){var s=.2;this.protectChange=i.isProtectedOnChange,i.protectPropertyChange(!1);var l={};if(e){this.updateOpacity(n,s,i);l[0]=setInterval((function(){i.allowServerDataBinding=!1,s<=1?r.updateOpacity(n,s,i):clearInterval(l[0]),s+=.2,i.allowServerDataBinding=!0}),20)}}},e.prototype.layoutAnimation=function(e,t,n,i,r){if(!n)for(var o=0;o<e.objects.length;o++){var a=i.nameTable[e.objects[o].id];a.offsetX+=e.objects[o].differenceX/5,a.offsetY+=e.objects[o].differenceY/5}if(n){clearInterval(t[0]),i.realActions=i.realActions&~zi.AnimationClick,i.refreshCanvasLayers(),i.protectPropertyChange(!0),i.triggerEvent(Hi.animationComplete,void 0),i.organizationalChartModule.isAnimation=!1,i.layout.fixedNode="",i.protectPropertyChange(this.protectChange);var s={element:Vc(xh(r)),state:!!r.isExpanded};i.triggerEvent(Hi.expandStateChange,s),i.lineRoutingModule&&i.constraints&Ii.LineRouting&&i.resetSegments()}},e.prototype.updateOpacity=function(e,t,n){for(var i=0;i<e.outEdges.length;i++){var r=n.nameTable[e.outEdges[i]],o=n.nameTable[r.targetID];r.style.opacity=t;for(var a=0;a<r.wrapper.children.length;a++)r.wrapper.children[a].style.opacity=t,o.style.opacity=t,o.wrapper instanceof ir&&n.updateNodeProperty(o.wrapper,void 0,t);this.updateOpacity(o,t,n)}},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"LayoutAnimate"}}(),function(){function e(){this.size=20,this.intermediatePoints=[],this.gridCollection=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.considerWalkable=[]}e.prototype.lineRouting=function(e){var t=e.connectors.length;if(this.renderVirtualRegion(e),t>0)for(var n=0;n<t;n++){var i=e.connectors[n];"Orthogonal"===i.type&&i.visible&&this.refreshConnectorSegments(e,i,!0)}},e.prototype.renderVirtualRegion=function(e,t){var n=this.size;(e.spatialSearch.pageTop<0||e.spatialSearch.pageLeft<0)&&(n=this.size+this.size/2);var i=e.spatialSearch.pageRight+n,r=e.spatialSearch.pageBottom+n,o=e.spatialSearch.pageLeft-n,a=e.spatialSearch.pageTop-n;if(o=o<0?o-20:0,a=a<0?a-20:0,t&&(this.width!==i-o||this.height!==r-a||this.diagramStartX!==o||this.diagramStartY!==a)||void 0===t){this.width=i-o,this.height=r-a,this.diagramStartX=o,this.diagramStartY=a,this.gridCollection=[],this.noOfRows=this.width/this.size,this.noOfCols=this.height/this.size;for(var s=this.size,l=this.diagramStartX<0?this.diagramStartX:0,c=this.diagramStartY<0?this.diagramStartY:0,d=0;d<this.noOfCols;d++){for(var h=0;h<this.noOfRows;h++){0===d&&this.gridCollection.push([0]);var p={x:l,y:c,width:s,height:s,gridX:h,gridY:d,walkable:!0,tested:void 0,nodeId:[]};this.gridCollection[h][d]=p,l+=s}l=this.diagramStartX<0?this.diagramStartX:0,c+=s}}var u=this.findNodes(e.nodes);this.updateNodesInVirtualRegion(u)},e.prototype.findNodes=function(e){for(var t,n=[],i=0;i<e.length;i++)"SwimLane"===(t=e[i]).shape.type||t.isLane||t.isPhase||t.isHeader||!t.visible||n.push(t);return n},e.prototype.updateNodesInVirtualRegion=function(e){for(var t=this.size,n=this.diagramStartX<0?this.diagramStartX:0,i=this.diagramStartY<0?this.diagramStartY:0,r=0;r<this.noOfCols;r++){for(var o=0;o<this.noOfRows;o++){var a=this.gridCollection[o][r],s=new di(n,i,this.size,this.size),l=void 0,c=void 0;for(a.walkable=!0,a.tested=void 0,a.nodeId=[],c=0;c<e.length;c++)e[c].wrapper.bounds&&(l=this.intersectRect(s,e[c].wrapper.bounds)),l&&(a.nodeId.push(e[c].id),a.walkable=!1,""!==e[c].parentId&&(a.parentNodeId=e[c].parentId));n+=t}n=this.diagramStartX<0?this.diagramStartX:0,i+=t}},e.prototype.intersectRect=function(e,t){return!(t.left>=e.right||t.right<=e.left||t.top>=e.bottom||t.bottom<=e.top)},e.prototype.findEndPoint=function(e,t,n){var i,r;if(t&&""!==e.sourcePortID||!t&&""!==e.targetPortID){r=mo(i=t?{x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY}:{x:e.targetPortWrapper.offsetX,y:e.targetPortWrapper.offsetY},void 0,t?e.sourceWrapper.bounds:e.targetWrapper.bounds);var o=t?e.sourcePortWrapper.bounds:e.targetPortWrapper.bounds;i=n?"Top"===r?{x:o.topCenter.x,y:o.topCenter.y}:"Left"===r?{x:o.middleLeft.x,y:o.middleLeft.y}:"Right"===r?{x:o.middleRight.x,y:o.middleRight.y}:{x:o.bottomCenter.x,y:o.bottomCenter.y}:{x:o.center.x,y:o.center.y}}else i=t&&this.startNode||!t&&this.targetNode?t?{x:this.startNode.wrapper.offsetX,y:this.startNode.wrapper.offsetY}:{x:this.targetNode.wrapper.offsetX,y:this.targetNode.wrapper.offsetY}:t?{x:e.sourcePoint.x,y:e.sourcePoint.y}:{x:e.targetPoint.x,y:e.targetPoint.y};return i},e.prototype.refreshConnectorSegments=function(e,t,n){var i,r,o,a,s,l,c,d,h,p,u,f=t.sourceID,g=t.targetID,m=t.sourcePortID,v=t.targetPortID;if(function(e,t){var n=0;return e.constraints&Oi.LineRouting?n=e.constraints&Oi.LineRouting:e.constraints&Oi.InheritLineRouting&&(n=t.constraints&Ii.LineRouting),n}(t,e)){this.startNode=e.nameTable[f],this.targetNode=e.nameTable[g],this.intermediatePoints=[],this.startArray=[],this.targetGridCollection=[],this.sourceGridCollection=[],this.startGrid=void 0,this.targetGrid=void 0;for(var y=0;y<this.noOfCols;y++)for(var b=0;b<this.noOfRows;b++)this.gridCollection[b][y].tested=this.gridCollection[b][y].parent=void 0,this.gridCollection[b][y].previousDistance=this.gridCollection[b][y].afterDistance=void 0,this.gridCollection[b][y].totalDistance=void 0;i=this.findEndPoint(t,!0),r=this.findEndPoint(t,!1);for(y=0;y<this.noOfRows;y++)for(b=0;b<this.noOfCols;b++){o=this.gridCollection[y][b];var w=new di(o.x,o.y,o.width,o.height);if(!w.containsPoint(i)||this.startGrid||-1===o.nodeId.indexOf(f)&&""!==f||(this.startGrid=(m&&this.startGrid,o)),!w.containsPoint(r)||this.targetGrid||-1===o.nodeId.indexOf(g)&&""!==g||(this.targetGrid=(v&&this.targetGrid,o)),!m&&this.startNode){var x=this.startNode.wrapper.bounds;w.containsPoint(x.topCenter)&&!a&&(a=o),w.containsPoint(x.middleLeft)&&!l&&(l=o),w.containsPoint(x.middleRight)&&!c&&(c=o),w.containsPoint(x.bottomCenter)&&!s&&(s=o)}if(!v&&this.targetNode){x=this.targetNode.wrapper.bounds;w.containsPoint(x.topCenter)&&!h&&(h=o),w.containsPoint(x.middleLeft)&&!u&&(u=o),w.containsPoint(x.middleRight)&&!d&&(d=o),w.containsPoint({x:x.bottomCenter.x,y:x.bottomCenter.y})&&!p&&(p=o)}}this.findEdgeBoundary(m,l,c,a,s,!0),this.findEdgeBoundary(v,u,d,h,p,!1),this.startGrid.totalDistance=0,this.startGrid.previousDistance=0,this.intermediatePoints.push({x:this.startGrid.gridX,y:this.startGrid.gridY}),this.startArray.push(this.startGrid),this.checkObstacles(t);e:for(;this.startArray.length>0;){var S=this.startArray.pop();for(y=0;y<this.targetGridCollection.length;y++){var C=this.targetGridCollection[y];if(S.gridX===C.gridX&&S.gridY===C.gridY){if(this.getIntermediatePoints(S),this.updateConnectorSegments(e,this.intermediatePoints,this.gridCollection,t,n)){this.considerWalkable=[];break e}this.targetGridCollection.splice(this.targetGridCollection.indexOf(C),1),S=this.startArray.pop()}}this.findPath(S)}}},e.prototype.findEdgeBoundary=function(e,t,n,i,r,o){var a,s=o?this.sourceGridCollection:this.targetGridCollection;if(!e&&(o?this.startNode:this.targetNode)){for(var l=t.gridX;l<=n.gridX;l++)(1===(a=this.gridCollection[l][t.gridY]).nodeId.length&&(l===t.gridX||l===n.gridX)||l!==t.gridX&&l!==n.gridX)&&s.push(a);for(l=i.gridY;l<=r.gridY;l++)(1===(a=this.gridCollection[i.gridX][l]).nodeId.length&&(l===i.gridY||l===r.gridY)||l!==i.gridY&&l!==r.gridY)&&-1===s.indexOf(a)&&s.push(a)}else s.push(o?this.startGrid:this.targetGrid)},e.prototype.checkObstacles=function(e){var t,n=this.findNearestNeigbours(this.startGrid,this.gridCollection,!0);0===n.length&&(""!==e.sourcePortID?"Top"===(t=mo({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},void 0,e.sourceWrapper.bounds))?this.resetGridColl(this.startGrid,"top",!0):"Right"===t?this.resetGridColl(this.startGrid,"right",!0):"Bottom"===t?this.resetGridColl(this.startGrid,"bottom",!0):this.resetGridColl(this.startGrid,"left",!0):(this.resetGridColl(this.startGrid,"top",!0),this.resetGridColl(this.startGrid,"right",!0),this.resetGridColl(this.startGrid,"bottom",!0),this.resetGridColl(this.startGrid,"left",!0)));0===(n=this.findNearestNeigbours(this.targetGrid,this.gridCollection,!1)).length&&(""!==e.targetPortID?"Top"===(t=mo({x:e.targetPortWrapper.offsetX,y:e.targetPortWrapper.offsetY},void 0,e.targetWrapper.bounds))?this.resetGridColl(this.targetGrid,"top",!0):"Right"===t?this.resetGridColl(this.targetGrid,"right",!0):"Bottom"===t?this.resetGridColl(this.targetGrid,"bottom",!0):this.resetGridColl(this.targetGrid,"left",!0):(this.resetGridColl(this.targetGrid,"top",!1),this.resetGridColl(this.targetGrid,"right",!1),this.resetGridColl(this.targetGrid,"bottom",!1),this.resetGridColl(this.targetGrid,"left",!1)))},e.prototype.getIntermediatePoints=function(e){var t;for(this.intermediatePoints=[];e;)this.intermediatePoints.push({x:e.gridX,y:e.gridY}),e=e.parent;this.intermediatePoints.reverse(),this.intermediatePoints[0].x===this.intermediatePoints[1].x?this.intermediatePoints[0].y<this.intermediatePoints[1].y?(t=this.neigbour(this.startGrid,"bottom",void 0,!0),this.intermediatePoints[0].y+=t-1):(t=this.neigbour(this.startGrid,"top",void 0,!0),this.intermediatePoints[0].y-=t-1):this.intermediatePoints[0].x<this.intermediatePoints[1].x?(t=this.neigbour(this.startGrid,"right",void 0,!0),this.intermediatePoints[0].x+=t-1):(t=this.neigbour(this.startGrid,"left",void 0,!0),this.intermediatePoints[0].x-=t-1)},e.prototype.updateConnectorSegments=function(e,t,n,i,r){var o,a,s,l,c,d,h,p,u,f=[],g=[],m=i.targetWrapper,v=i.sourceWrapper,y=this.findEndPoint(i,!0);""===i.targetPortID&&i.targetWrapper||(a=this.findEndPoint(i,!1,!0));for(var b=0;b<t.length;b++)s=(c=n[t[b].x][t[b].y]).x+c.width/2,l=c.y+c.height/2,g.push({x:s,y:l}),b>=1&&(p=g[g.length-2].x!==g[g.length-1].x?g[g.length-2].x>g[g.length-1].x?"Left":"Right":g[g.length-2].y>g[g.length-1].y?"Top":"Bottom"),b>=2&&u===p&&g.splice(g.length-2,1),u=p;for(var w=0;w<g.length-1;w++)g[w].x!==g[w+1].x?(0===w&&""===i.sourcePortID&&v&&(y=g[w].x>g[w+1].x?v.bounds.middleLeft:v.bounds.middleRight),w===g.length-2&&""===i.targetPortID&&m&&(a=g[w].x>g[w+1].x?m.bounds.middleRight:m.bounds.middleLeft),0===w&&y&&(g[w].x=y.x,g[w].y=g[w+1].y=y.y),w===g.length-2&&a&&(a.x-g[w+1].x<0&&Math.abs(a.x-g[w].x)<i.targetDecorator.width+1&&(g[w].x=g[w-1].x-=this.size/2),a.x-g[w+1].x>0&&Math.abs(a.x-g[w].x)<i.targetDecorator.width+1&&(g[w].x=g[w-1].x+=this.size/2),g[w+1].x=a.x,g[w].y=g[w+1].y=a.y)):(0===w&&v&&(y=g[w].y>g[w+1].y?v.bounds.topCenter:v.bounds.bottomCenter),w===g.length-2&&""===i.targetPortID&&m&&(a=g[w].y>g[w+1].y?m.bounds.bottomCenter:m.bounds.topCenter),0===w&&y&&(g[w].y=y.y,g[w].x=g[w+1].x=y.x),w===g.length-2&&a&&(a.y-g[w+1].y<0&&Math.abs(a.y-g[w].y)<i.targetDecorator.height+1&&(g[w].y=g[w-1].y-=this.size/2),a.y-g[w+1].y>0&&Math.abs(a.y-g[w].y)<i.targetDecorator.width+1&&(g[w].y=g[w-1].y+=this.size/2),g[w+1].y=a.y,g[w].x=g[w+1].x=a.x));for(w=0;w<g.length-1;w++)g[w].x!==g[w+1].x?g[w].x>g[w+1].x?(d="Left",h=g[w].x-g[w+1].x):(d="Right",h=g[w+1].x-g[w].x):g[w].y>g[w+1].y?(d="Top",h=g[w].y-g[w+1].y):(d="Bottom",h=g[w+1].y-g[w].y),o={type:"Orthogonal",length:h,direction:d},f.push(o);var x=f[f.length-1];return 1===f.length&&(x.length-=20),x.length<10&&2===f.length&&(f.pop(),f[0].length-=20,x=f[0]),(("Top"===x.direction||"Bottom"===x.direction)&&x.length>i.targetDecorator.height+1||("Right"===x.direction||"Left"===x.direction)&&x.length>i.targetDecorator.width+1)&&(i.segments=f,r&&e.connectorPropertyChange(i,{},{type:"Orthogonal",segments:f}),!0)},e.prototype.findPath=function(e){for(var t,n=[],i=this.findNearestNeigbours(e,this.gridCollection,!0),r=0;r<i.length;r++)if(null!==(t=this.findIntermediatePoints(i[r].gridX,i[r].gridY,e.gridX,e.gridY,this.targetGrid.gridX,this.targetGrid.gridY))){var o=this.gridCollection[t.x][t.y],a=this.octile(Math.abs(t.x-e.gridX),Math.abs(t.y-e.gridY)),s=e.previousDistance+a;o.previousDistance&&!(o.previousDistance>s)||t.x===e.gridX&&t.y===e.gridY||(n.push(t),o.previousDistance=s,o.afterDistance=o.afterDistance||this.manhattan(Math.abs(t.x-this.targetGrid.gridX),Math.abs(t.y-this.targetGrid.gridY)),o.totalDistance=o.previousDistance+o.afterDistance,o.parent=e)}if(n.length>0)for(r=0;r<n.length;r++){o=this.gridCollection[n[r].x][n[r].y];-1===this.startArray.indexOf(o)&&this.startArray.push(o)}this.sorting(this.startArray)},e.prototype.sorting=function(e){for(var t=!1;!t;){t=!0;for(var n=1;n<e.length;n+=1)if(e[n-1].totalDistance<e[n].totalDistance){t=!1;var i=e[n-1];e[n-1]=e[n],e[n]=i}}return e},e.prototype.octile=function(e,t){var n=Math.SQRT2-1;return t>e?n*e+t:n*t+e},e.prototype.manhattan=function(e,t){return e+t},e.prototype.findNearestNeigbours=function(e,t,n){var i=[],r=e.parent;if(r){var o=(e.gridX-r.gridX)/Math.max(Math.abs(e.gridX-r.gridX),1),a=(e.gridY-r.gridY)/Math.max(Math.abs(e.gridY-r.gridY),1);0!==o?(this.isWalkable(e.gridX,e.gridY-1,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX][e.gridY-1])&&i.push(t[e.gridX][e.gridY-1]),this.isWalkable(e.gridX,e.gridY+1,!0)&&this.sourceGridCollection.indexOf(t[e.gridX][e.gridY+1])&&i.push(t[e.gridX][e.gridY+1]),this.isWalkable(e.gridX+o,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX+o][e.gridY])&&i.push(t[e.gridX+o][e.gridY])):0!==a&&(this.isWalkable(e.gridX-1,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX-1][e.gridY])&&i.push(t[e.gridX-1][e.gridY]),this.isWalkable(e.gridX+1,e.gridY,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX+1][e.gridY])&&i.push(t[e.gridX+1][e.gridY]),this.isWalkable(e.gridX,e.gridY+a,!0)&&-1===this.sourceGridCollection.indexOf(t[e.gridX][e.gridY+a])&&i.push(t[e.gridX][e.gridY+a]))}else this.neigbour(e,"top",i,n),this.neigbour(e,"right",i,n),this.neigbour(e,"bottom",i,n),this.neigbour(e,"left",i,n);return i},e.prototype.neigbour=function(e,t,n,i){for(var r,o=1;o>0;){var a="top"===t||"bottom"===t?e.gridX:"left"===t?e.gridX-o:e.gridX+o,s="right"===t||"left"===t?e.gridY:"top"===t?e.gridY-o:e.gridY+o;if((r=this.gridCollection[a][s])&&(i&&-1===this.sourceGridCollection.indexOf(r)||!i&&-1===this.targetGridCollection.indexOf(r)))return n&&this.isWalkable(a,s)&&n.push(r),o;if(!(a>0&&s>0))break;o++}return null},e.prototype.resetGridColl=function(e,t,n){for(var i,r=1;r>0;){var o="top"===t||"bottom"===t?e.gridX:"left"===t?e.gridX-r:e.gridX+r,a="right"===t||"left"===t?e.gridY:"top"===t?e.gridY-r:e.gridY+r;if((i=this.gridCollection[o][a])&&(n&&-1===this.sourceGridCollection.indexOf(i)||!n&&-1===this.targetGridCollection.indexOf(i))){if(this.isWalkable(o,a))break;var s=this.gridCollection[o][a];this.considerWalkable.push(s)}if(!(o>0&&a>0))break;"top"===t||"left"===t?r--:r++}return null},e.prototype.isWalkable=function(e,t,n){if(e>=0&&e<this.noOfRows&&t>=0&&t<this.noOfCols){var i=this.gridCollection[e][t];if(i&&(i.walkable||(1===i.nodeId.length||2===i.nodeId.length&&i.parentNodeId)&&(-1!==this.sourceGridCollection.indexOf(i)||-1!==this.targetGridCollection.indexOf(i)||-1!==this.considerWalkable.indexOf(i)))&&(n&&!i.parent||!n))return!0}return!1},e.prototype.findIntermediatePoints=function(e,t,n,i,r,o){for(var a=e-n,s=t-i,l=e,c=t,d=0;d<this.targetGridCollection.length;d++)if(e===this.targetGridCollection[d].gridX&&t===this.targetGridCollection[d].gridY)return{x:e,y:t};if(!this.isWalkable(e,t))return null;var h=this.gridCollection[e][t];if(h.tested)return{x:e,y:t};if(h.tested=!0,0!==a&&(a=a>0?1:-1,this.isWalkable(l,c-1)&&!this.isWalkable(l-a,c-1)||this.isWalkable(l,c+1)&&!this.isWalkable(l-a,c+1)))return{x:e,y:t};if(0!==s){if(s=s>0?1:-1,this.isWalkable(l-1,c)&&!this.isWalkable(l-1,c-s)||this.isWalkable(l+1,c)&&!this.isWalkable(l+1,c-s))return{x:e,y:t};if(this.findIntermediatePoints(l+1,c,l,c,r,o)||this.findIntermediatePoints(l-1,c,l,c,r,o))return{x:e,y:t}}return this.findIntermediatePoints(l+a,c+s,l,c,r,o)},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"LineRouting"}}(),function(){function e(){this.isAnimation=!1}return e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"OrganizationalChart"},e.prototype.updateLayout=function(e,t,n,i,r,o){var a={type:n.type,nameTable:t,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},orientation:n.orientation,horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,verticalAlignment:n.verticalAlignment,horizontalAlignment:n.horizontalAlignment,fixedNode:n.fixedNode,getLayoutInfo:Dh(n.getLayoutInfo),layoutInfo:n.layoutInfo,margin:n.margin,bounds:n.bounds,objects:[],root:n.root};return this.doLayout(a,e,i,r,o),a},e.prototype.doLayout=function(e,t,n,i,r){var o,a,s=[];for(e.nameTable[e.root]&&e.firstLevelNodes.push(e.nameTable[e.root]),a=0;a<t.length;a++)if(!(o=t[a]).excludeFromLayout&&((e.graphNodes[o.id]=this.setUpLayoutInfo(e,o)).tree.hasSubTree=!1,!e.nameTable[e.root]&&(!o.inEdges||!o.inEdges.length))){o.parentId||o.processId||s.push(o),o.data&&String(o.data[i])===e.root&&e.firstLevelNodes.push(o)}for(0===e.firstLevelNodes.length&&(e.firstLevelNodes=s),a=0;a<e.firstLevelNodes.length;a++){o=e.firstLevelNodes[a];this.updateEdges(e,o,1,r,t)}if(e.firstLevelNodes.length>0){e.rootNode=e.firstLevelNodes[0];var l=0,c=0,d=void 0,h=void 0,p=void 0,u=void 0,f=void 0;for(a=0;a<e.firstLevelNodes.length;a++){f=this.updateTree(e,l,c,e.firstLevelNodes[a],0,e.firstLevelNodes[a-1]);var g=e.graphNodes[e.firstLevelNodes[a].id];f.y=Math.min(f.y,g.y),f.x=Math.min(f.x,g.x),-1!==e.orientation.indexOf("Left")?c=f.right+e.horizontalSpacing:l=f.right+e.horizontalSpacing,0===a?(d=f.x,u=f.y,p=f.right,h=f.bottom):(d=Math.min(d,f.x),u=Math.min(u,f.y),p=Math.max(p,f.right),h=Math.max(h,f.bottom))}for(this.updateAnchor(e,{x:d,y:u,right:p,bottom:h},n),a=0;a<e.firstLevelNodes.length;a++)this.updateNodes(e,e.firstLevelNodes[a],0);for(a=0;a<e.firstLevelNodes.length;a++)this.updateConnectors(e,e.firstLevelNodes[a],1)}},e.prototype.getBounds=function(e){var t=e.offsetX-e.actualSize.width*e.pivot.x,n=e.offsetY-e.actualSize.height*e.pivot.y;return new di(t,n,e.actualSize.width,e.actualSize.height)},e.prototype.updateTree=function(e,t,n,i,r,o,a){var s,l,c,d,h={};if(s=this.getDimensions(e,i,t,n,r),h=e.graphNodes[i.id],e.maxLevel=Math.max(e.maxLevel,r),l=r,(d=this.hasChild(e,i))||h.tree.assistants.length){var p=void 0,u=void 0,f=void 0,g=void 0,m=void 0,v=void 0;v=s.y+s.height+e.verticalSpacing,h.tree.assistants.length&&(l=(c=this.setDepthSpaceForAssitants(e,i,v,s.height,r,e.verticalSpacing)).level,v=c.bottom),h.tree.assistants.length||"Horizontal"===h.tree.orientation||(v=s.y+s.height+e.verticalSpacing/2),h.tree.children.length&&(p="Horizontal"!==h.tree.orientation||"Balanced"===h.tree.type&&1!==h.tree.children.length?"Balanced"===h.tree.type?this.updateHorizontalTreeWithMultipleRows(e,i,o,s.x,v,l):this.updateVerticalTree(e,i,s.x,v,l,a):this.updateHorizontalTree(e,i,o,s.x,v,l)),h.y&&h.y>s.y||(h.y=s.y),h.mid&&(t=h.mid),h.tree.assistants.length&&(m=void 0!==t?t:s.x,g=this.setBreadthSpaceForAssistants(e,i,s,m,v,r),d||(t=((u=p=g).x+u.right)/2-s.width/2,p=u),f=g?g.canMoveBy:void 0),h.x=t,h.translate||(h.treeWidth=p.right-p.x);var y={layout:e,shape:i,shapeBounds:{x:t,y:s.y,right:t+s.width,bottom:s.y+s.height},treeBounds:p,dim:s,level:r};return this.translateSubTree(y,f,void 0!==o,a),h.firstChild&&"string"!==typeof h.firstChild&&(h.firstChild.x+=h.subTreeTranslation),i.treeBounds=p,p}return i.treeBounds=this.updateLeafNode(e,i,o,s,r,a),i.treeBounds},e.prototype.updateLeafNode=function(e,t,n,i,r,o){var a,s=e.graphNodes[t.id];s.x=i.x,s.y&&s.y>i.y||(s.y=i.y,s.maxLevel=Math.max(r,s.maxLevel||0)),a={x:i.x,y:i.y,right:i.x+i.width,bottom:i.y+i.height},s.maxLevel=Math.max(s.maxLevel||0,r);var l={layout:e,shape:t,shapeBounds:a,treeBounds:a,dim:i,level:r};return this.translateSubTree(l,void 0,void 0!==n,o),{x:s.x,y:s.y,right:s.x+i.width,bottom:s.y+i.height}},e.prototype.setUpLayoutInfo=function(e,t){var n={subTreeTranslation:0};return"OrganizationalChart"===e.type?n.tree={orientation:"Vertical",type:"Alternate",offset:20,enableRouting:!0}:n.tree={orientation:"Horizontal",type:"Center",enableRouting:!0},n.tree.children=[],n.tree.assistants=[],n.tree.level=0,n.translate=!0,n},e.prototype.translateSubTree=function(e,t,n,i){var r=e.layout,o=e.shape,a=e.shapeBounds,s=e.treeBounds,l=e.level,c=e.dim,d=r.graphNodes[o.id],h=r.nameTable[d.firstChild?d.firstChild.child:d.tree.children[0]],p=h?r.graphNodes[h.id]:null,u=this.hasChild(r,o),f=this.findIntersectingLevels(r,a,l,d.actualLevel),g=this.findIntersectingLevels(r,s,l,d.actualLevel),m=[];f.length&&d.translate?(d.intersect=f,this.spaceLeftFromPrevSubTree(r,o,a),d.canMoveBy=d.diff,void 0!==t&&(d.canMoveBy=Math.min(t,d.canMoveBy)),h&&void 0!==p.canMoveBy&&(p.canMoveBy>=d.canMoveBy&&(d.translated=!0),d.canMoveBy=Math.min(d.canMoveBy,p.canMoveBy)),n&&(d.x-=d.canMoveBy,d.subTreeTranslation-=d.canMoveBy,u&&(this.shiftSubordinates(r,g,d.canMoveBy),s.x=Math.min(s.x,d.x),s.right=Math.max(s.right,d.x+c.width),s.bottom=Math.max(s.bottom,d.y+c.height),s.x-=d.canMoveBy,s.right-=d.canMoveBy),h&&p.canMoveBy>d.canMoveBy?d.canMoveBy=p.canMoveBy-d.canMoveBy:h&&void 0!==d.canMoveBy&&(d.canMoveBy=0))):(u&&(s.x=Math.min(s.x,a.x),s.right=Math.max(s.right,a.x+c.width),s.bottom=Math.max(s.bottom,d.y+c.height)),d.translate||(d.canMoveBy=0,d.subTreeTranslation=0)),i||(a={x:d.x,y:c.y,right:d.x+c.width,bottom:c.y+c.height},m.push({rBounds:a}),this.updateRearBounds(r,o,m,l))},e.prototype.updateRearBounds=function(e,t,n,i,r){var o,a,s,l,c,d,h=!0,p={};if(t&&(r=(p=e.graphNodes[t.id]).intersect,h=!p.tree.children.length&&!p.tree.assistants.length),l=n[0].rBounds,c=n[n.length-1].rBounds,r&&r.length){for(d=(o=e.levels[r[0]].rBounds).bottom,o.y<l.y&&(o.bottom=l.y,n.splice(0,0,{rBounds:o})),d>c.bottom?n.push({rBounds:{x:o.x,right:o.right,y:l.bottom,bottom:d}}):(o=e.levels[r[r.length-1]].rBounds,h&&o.bottom>c.bottom&&(o.y=c.bottom,n.push({rBounds:o}))),a=r[0],s=n.length-1;s>=0;s--)e.levels.splice(a,0,n[s]);a+=n.length,e.levels.splice(a,r.length)}else for(a=this.findLevel(e,n[n.length-1].rBounds,i),s=n.length-1;s>=0;s--)e.levels.splice(a,0,n[s])},e.prototype.shiftSubordinates=function(e,t,n){var i;if(0!==n)for(i=0;i<t.length;i++)e.levels[t[i]].rBounds&&(e.levels[t[i]].rBounds.x-=n,e.levels[t[i]].rBounds.right-=n)},e.prototype.setDepthSpaceForAssitants=function(e,t,n,i,r,o){var a,s,l,c,d=e.graphNodes[t.id],h={};for(c=n,s=0;s<d.tree.assistants.length;s++)(h=e.graphNodes[d.tree.assistants[s]])&&(h.tree.children=h.tree.assistants=[],h.y=n,a=(l=e.nameTable[d.tree.assistants[s]]).actualSize.height,-1!==e.orientation.indexOf("Left")&&(a=l.actualSize.width),c=n+a+o/2,e.maxLevel=r+1,s%2===1&&s!==d.tree.assistants.length-1&&(n=c,r++));return{level:e.maxLevel,bottom:n+a+o}},e.prototype.setBreadthSpaceForAssistants=function(e,t,n,i,r,o){var a,s,l,c,d,h,p,u={},f=e.graphNodes[t.id],g=o,m={x:0,y:0,right:0,bottom:0};for(c=0;c<f.tree.assistants.length;c++)(u=e.graphNodes[f.tree.assistants[c]])&&(a=(l=e.nameTable[f.tree.assistants[c]]).actualSize.width,-1!==e.orientation.indexOf("Left")&&(a=l.actualSize.height),d=c%2===0?i+n.width/2-20-a:i+n.width/2+20,s=this.updateTree(e,d,u.y,e.nameTable[f.tree.assistants[c]],g+1),this.hasChild(e,t)||(0===c?m=s:this.uniteRects(m,s)),c%2===0&&u.prevBounds&&(h=void 0===h?u.canMoveBy:Math.min(h,u.canMoveBy)),c%2!==1&&c!==f.tree.assistants.length-1||(p=this.findIntersectingLevels(e,s,g+1),this.updateRearBounds(e,null,[{rBounds:s}],g+1,p),g++));return m&&(m.canMoveBy=h),m},e.prototype.getDimensions=function(e,t,n,i,r){var o,a;if(o=t.actualSize.width,a=t.actualSize.height,-1!==e.orientation.indexOf("Left")){if(!r){var s;s=n,n=i,i=s}a=t.actualSize.width,o=t.actualSize.height}return{x:n,y:i,width:o,height:a}},e.prototype.hasChild=function(e,t){var n=e.graphNodes[t.id];return n?n.tree.children&&n.tree.children.length:0},e.prototype.updateHorizontalTree=function(e,t,n,i,r,o){var a;a=this.getDimensions(e,t,i,r,o);var s,l={},c=(l=e.graphNodes[t.id]).tree.type;s=o;var d,h,p,u,f,g,m,v,y,b,w,x,S,C,O,P=0;if(P=i,d=r,e.levels.slice(0,e.levels.length),this.hasChild(e,t)){var E;for(E=-1!==e.orientation.indexOf("Left"),S=0;S<l.tree.children.length;S++){if(h=(u=e.nameTable[l.tree.children[S]]).actualSize.width,p=u.actualSize.height,g=E?p:h,m=E?h:p,e.levels[s+1]?e.levels[s+1].rBounds:null,f=this.updateTree(e,P,d,u,s+1,e.nameTable[l.tree.children[S-1]]),C=e.graphNodes[u.id],l.maxLevel=Math.max(l.maxLevel||0,C.maxLevel||0),y={x:C.x,y:C.y,right:C.x+g,bottom:C.y+m},0===S&&(v={x:Math.min(C.x,f.x),y:Math.min(C.y,f.y),right:f.right,bottom:f.bottom},O=C),x?(x.x=y.x,x.y=y.y,y.right>x.right&&(x.right=y.right),x.bottom=y.bottom):x=y,0===S&&(l.firstChild={x:C.x,canMoveBy:C.canMoveBy,child:u.id}),this.hasChild(e,u))if(!l.firstChild||l.firstChild.x>=C.firstChild.x){C.firstChild&&l.firstChild.canMoveBy<C.canMoveBy&&(l.firstChild.canMoveBy=w,C.canMoveBy=w,w=l.firstChild.canMoveBy,e.graphNodes[l.firstChild.child].canMoveBy=w);var T=void 0!==w?w:C.canMoveBy;l.firstChild={x:C.firstChild.x,canMoveBy:T,child:u.id}}else C.firstChild&&C.translated&&l.firstChild.canMoveBy>C.canMoveBy&&(l.firstChild.canMoveBy=e.graphNodes[l.firstChild.child].canMoveBy=C.canMoveBy);b=b?Math.max(C.maxLevel,b):C.maxLevel,this.uniteRects(v,f),P=0!==S&&!this.hasChild(e,u)&&C.subTreeTranslation<0?f.right-C.subTreeTranslation+e.horizontalSpacing:f.right+e.horizontalSpacing}isNaN(void 0)||(O.canMoveBy=void 0),l.mid=(O.x+x.right)/2-a.width/2,"Left"===c?l.mid=y.right-a.width:"Right"===c&&(l.mid=i)}return v},e.prototype.updateHorizontalTreeWithMultipleRows=function(e,t,n,i,r,o){var a,s,l,c,d,h,p,u,f,g,m,v=this.getDimensions(e,t,i,r,o),y=e.graphNodes[t.id],b=(y.tree.type,o),w=i,x=r,S=(e.levels.slice(0,e.levels.length),0);if(this.hasChild(e,t)){var C=-1!==e.orientation.indexOf("Left"),O=void 0,P=this.splitChildrenInRows(e,t),E=5===y.tree.children.length&&3===P[0].length,T=[],k=[];E?k=P:this.splitRows(P,T,k);var I={leftTree:T,rows:P,rightTree:k,dimensions:v},A=this.updateLeftTree(e,I,t,i,x,b);d=I.bounds;var M=void 0,j=(A||0)+(void 0!==A?e.horizontalSpacing/2:0);void 0!==A&&(y.mid=j-v.width/2,M=A+e.horizontalSpacing),x=r;var D=void 0;for(D=[],f=0;f<k.length;f++)for(w=P[f].length%2===1&&f===k.length-1||E?i:M||i,0!==f&&(x=D[f-1].bottom+e.verticalSpacing),u=0;u<k[f].length;u++)h=(a=e.nameTable[k[f][u]]).actualSize.width,p=a.actualSize.height,c=C?p:h,C?h:p,(s=e.graphNodes[a.id]).actualLevel=b+1+f,0===u&&T[f]&&T[f].length&&(s.translate=!1),E&&1===f&&(0===u&&g+c+e.horizontalSpacing<=m&&(O=!0,w=g-c/2),O&&1===u&&(w=m-c/2)),l=this.updateTree(e,w,x,a,b+1,e.nameTable[k[f][u-1]]),E&&u<=2&&0===f&&1===u&&(g=l.x-e.horizontalSpacing/2,m=l.x+c+e.horizontalSpacing/2),0===u?D[f]={x:l.x,y:l.y,right:l.right,bottom:l.bottom}:this.uniteRects(D[f],l),d||(d={x:D[f].x,y:D[f].y,right:D[f].right,bottom:D[f].bottom}),this.uniteRects(d,D[f]),w=l.right+e.horizontalSpacing,(!y.firstChild||(f===k.length-1&&P[f].length%2===1||E)&&0===u&&void 0!==s.canMoveBy&&S>s.canMoveBy)&&(S=Math.min(S,s.canMoveBy||0),y.firstChild={x:s.x,child:a.id,canMoveBy:s.canMoveBy}),I.leftCenter=g,I.rightCenter=m,I.align=O,I.level=b,I.rightBounds=D,this.alignRowsToCenter(e,f,t,I,M)}return d},e.prototype.updateLeftTree=function(e,t,n,i,r,o){for(var a,s,l,c,d,h=t.leftTree,p=e.graphNodes[n.id],u=[],f=-1!==e.orientation.indexOf("Left"),g=0;g<h.length&&h[g].length;g++){a=i,u[g-1]&&(r=u[g-1].bottom+e.verticalSpacing);for(var m=0;m<h[g].length;m++){var v=e.nameTable[h[g][m]],y=(f?v.actualSize.height:v.actualSize.width,f?v.actualSize.width:v.actualSize.height,e.graphNodes[v.id]);y.actualLevel=o+1+g,c=this.updateTree(e,a,r,v,o+1,e.nameTable[h[g][m-1]]),0===m?u[g]={x:c.x,y:c.y,right:c.right,bottom:c.bottom}:this.uniteRects(u[g],c),0===g&&0===m?(s=y.canMoveBy,p.firstChild={x:y.x,child:v.id,canMoveBy:y.canMoveBy}):0===m&&void 0!==y.canMoveBy&&s>y.canMoveBy&&(s=Math.min(s,y.canMoveBy||0),p.firstChild={x:y.x,child:v.id,canMoveBy:y.canMoveBy}),a=c.right+e.horizontalSpacing}l=0===g?u[g].right:Math.max(l,u[g].right)}for(g=0;g<h.length&&h[g].length;g++){if(l!==u[g].right){var b=l-u[g].right;for(m=0;m<h[g].length;m++){e.nameTable[h[g][m]];e.graphNodes[h[g][m]].x+=b}}0===g?d={x:u[0].x,y:u[0].y,right:u[0].right,bottom:u[0].bottom}:this.uniteRects(d,u[g])}return t.bounds=d,l},e.prototype.alignRowsToCenter=function(e,t,n,i,r){var o,a,s,l=e.graphNodes[n.id],c=i.rows,d=i.rightTree,h=i.leftCenter,p=i.rightCenter,u=i.align,f=i.rightBounds,g=i.dimensions,m=i.level,v=5===l.tree.children.length&&3===c[0].length;if(v&&1===t&&(o=f[0].right-f[0].x>=f[1].right-f[1].x?0:1),t===c.length-1&&(c[t].length%2===1||v&&1===t)){a=d[t][Math.floor(d[t].length/2)];var y;y=e.nameTable[a];var b,w=e.graphNodes[a].x,x=e.graphNodes[a].y;b=this.getDimensions(e,y,w,x,m+1),s=void 0,!u&&v?(1===o&&(t=0),s=(f[o].x+f[o].right)/2-(f[t].x+f[t].right)/2,0===t&&(l.mid+=s)):v||void 0===r||(s=r-e.horizontalSpacing/2-(w+b.width/2)),void 0!==s&&this.updateRearBoundsOfTree(e,d[t],s,g),v&&(l.mid=(p+h)/2+(0===t?s:0)-g.width/2),void 0===l.mid&&e.graphNodes[a]&&(l.mid=w),u=!1,t++}},e.prototype.updateRearBoundsOfTree=function(e,t,n,i){for(var r=0;r<t.length;r++){var o=e.graphNodes[t[r]];e.nameTable[t[r]];if(o.x+=n,o.canMoveBy+=n,r===t.length-1){var a={x:o.x,y:o.y,right:o.x+i.width,bottom:o.y+i.height},s=this.findIntersectingLevels(e,a,o.actualLevel);this.updateRearBounds(e,null,[{rBounds:a}],o.actualLevel,s)}}},e.prototype.splitRows=function(e,t,n){for(var i=0;i<e.length;i++){t[i]=[],n[i]=[];var r=void 0;if(r=e[i].length,e[i].length%2!==1){r=Math.ceil(e[i].length/2);for(var o=0;o<r;o++)t[i].push(e[i][o])}for(var a=t[i].length;a<e[i].length;a++)n[i].push(e[i][a])}},e.prototype.updateVerticalTree=function(e,t,n,i,r,o){this.getDimensions(e,t,n,i,r);var a,s,l,c,d,h,p,u,f,g,m,v,y,b,w=e.graphNodes[t.id],x=e.nameTable[w.tree.children[0]],S=-1!==e.orientation.indexOf("Left"),C="Left"===w.tree.type?-1:0,O=n,P=i;m=r;var E,T=[],k=[];for(v=0;v<w.tree.children.length;v++){if("Alternate"===w.tree.type&&(b=v%2===0&&w.tree.children.length>2?"Left":"Right",C=v%2===0&&w.tree.children.length>2?-1:0),O=n+this.findOffset(e,t,w,b),a=e.nameTable[w.tree.children[v]],c=S?a.actualSize.height:a.actualSize.width,d=S?a.actualSize.width:a.actualSize.height,l=this.updateTree(e,O+C*c,P,a,r+1,void 0,!0),u={x:(s=e.graphNodes[a.id]).x,y:s.y,right:s.x+c,bottom:s.y+d},0===v?(this.uniteRects(l,u),p=l):this.uniteRects(p,l),!s.prevBounds||"Alternate"===w.tree.type&&v%2===1&&w.tree.children.length>2||(E=void 0!==E?Math.min(s.canMoveBy,E):s.canMoveBy),w.maxLevel=Math.max(w.maxLevel||0,s.maxLevel||0),"Alternate"===w.tree.type&&w.tree.children.length>2&&v%2===0?(0!==v&&(P=h.bottom+e.verticalSpacing/2),k.push({rBounds:u}),s.levelBounds&&(k=k.concat(s.levelBounds))):(P="Alternate"===w.tree.type&&w.tree.children.length>2?Math.max(l.bottom,h.bottom)+e.verticalSpacing/2:l.bottom+e.verticalSpacing/2,r=w.maxLevel,T.push({rBounds:u}),g?this.uniteRects(g,u):g={x:s.x,y:s.y,right:s.x+c,bottom:s.y+d},s.levelBounds&&(T=T.concat(s.levelBounds))),0===v&&(w.firstChild={x:s.x,canMoveBy:s.canMoveBy,child:a.id}),this.hasChild(e,a))if(!w.firstChild||w.firstChild.x>=s.firstChild.x){if(s.firstChild&&w.firstChild.canMoveBy<s.canMoveBy){var I=w.firstChild.canMoveBy;s.canMoveBy=I,e.graphNodes[w.firstChild.child].canMoveBy=I,w.firstChild.canMoveBy=I}w.firstChild={x:s.firstChild.x,canMoveBy:void 0!==E?E:s.canMoveBy,child:a.id}}else s.firstChild&&s.translated&&w.firstChild.canMoveBy>s.canMoveBy&&(w.firstChild.canMoveBy=e.graphNodes[w.firstChild.child].canMoveBy=s.canMoveBy);h=u}return o?w.levelBounds=T:("Alternate"===w.tree.type&&w.tree.children.length>2&&(f={x:k[0].rBounds.x,y:k[0].rBounds.y,right:k[k.length-1].rBounds.right,bottom:k[k.length-1].rBounds.bottom},y=this.findIntersectingLevels(e,f,m+1),this.updateRearBounds(e,null,k,m+1,y)),y=this.findIntersectingLevels(e,g||p,m+1),this.updateRearBounds(e,null,g?T:[{rBounds:p}],m+1,y)),isNaN(E)||(e.graphNodes[x.id].canMoveBy=E),w.childBounds=p,w.mid=n,p},e.prototype.splitChildrenInRows=function(e,t){var n,i;i=4;var r,o=[];r=(n=e.graphNodes[t.id]).tree.children.length;var a=this.extend(n.tree.children);if(n.tree.rows){var s;s=n.tree.children.length;var l;i=(l=Math.ceil(s/n.tree.rows))%2===0?l:l+1}else 3===n.tree.children.length||4===n.tree.children.length?i=2:5===n.tree.children.length&&(i=3);for(;r>0;)o[o.length]=a.splice(0,i),(r-=i)<i&&(i=r);return o},e.prototype.extend=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},e.prototype.findOffset=function(e,t,n,i){var r=0,o=-1!==e.orientation.indexOf("Left")?t.actualSize.height:t.actualSize.width,a=i||n.tree.type;switch(r=n.tree.offset||20,"Alternate"===n.tree.type&&r>=e.horizontalSpacing&&(r=e.horizontalSpacing/2),a){case"Left":r=o/2-r;break;case"Right":r+=o/2}return r},e.prototype.uniteRects=function(e,t){e.x=Math.min(e.x,t.x),e.right=Math.max(e.right,t.right),e.bottom=Math.max(e.bottom,t.bottom)},e.prototype.spaceLeftFromPrevSubTree=function(e,t,n){var i,r,o,a,s;for(i=e.graphNodes[t.id],s=e.horizontalSpacing,a=0;a<i.intersect.length;a++)o=e.levels[i.intersect[a]].rBounds,r=n.x-(o.right+s),(void 0===i.diff||r<i.diff)&&(i.diff=r,i.prevBounds=e.levels[i.intersect[a]].rBounds)},e.prototype.findIntersectingLevels=function(e,t,n,i){var r,o,a,s;(r={x:t.x,y:t.y,right:t.right,bottom:t.bottom}).y-=e.verticalSpacing/2,r.bottom+=e.verticalSpacing/2,o=[],s=void 0!==i?i:n,a=e.levels[s]?e.levels[s].rBounds:null;do{if(a&&(r.y<a.y&&r.bottom>a.y||r.y<a.bottom&&a.bottom<r.bottom||r.y>=a.y&&r.bottom<=a.bottom||r.y<a.y&&r.bottom>a.bottom)){o.splice(0,0,s)}else if(a&&a.bottom<r.y)break;s--,a=e.levels[s]?e.levels[s].rBounds:null}while(s>=0);s=(void 0!==i?i:n)+1,a=e.levels[s]?e.levels[s].rBounds:null;do{if(a&&(r.y<a.y&&r.bottom>a.y||r.y<a.bottom&&a.bottom<r.bottom||r.y>=a.y&&r.bottom<=a.bottom||r.y<a.y&&r.bottom>a.bottom))o.push(s);else if(a&&a.y>r.bottom)break;s++,a=e.levels[s]?e.levels[s].rBounds:null}while(s<=e.levels.length);return o},e.prototype.findLevel=function(e,t,n){var i,r,o;for(i=t,r=0,o=e.levels[r]?e.levels[r].rBounds:null;r<e.levels.length;){if(o&&i.bottom<o.y)return r;r++,o=e.levels[r]?e.levels[r].rBounds:null}return r},e.prototype.getParentNode=function(e,t){return e.nameTable[e.nameTable[t.inEdges[0]].sourceID]},e.prototype.updateEdges=function(e,t,n,i,r){var o,a;if(o=e.graphNodes[t.id],t.outEdges&&t.outEdges.length&&(t.isExpanded||i===Ri.Render))for(a=0;a<t.outEdges.length;a++){var s;(s=e.nameTable[e.nameTable[t.outEdges[a]].targetID])&&!s.excludeFromLayout&&(-1===o.tree.children.indexOf(s.id)&&o.tree.children.push(s.id),s.outEdges&&s.outEdges.length&&s.isExpanded&&(o.tree.hasSubTree=!0),this.updateEdges(e,s,n+1,i,r))}o.tree.level=n,o.tree.hasSubTree&&(o.tree.orientation="Horizontal",o.tree.type="Center"),(e.getLayoutInfo||e.layoutInfo)&&"OrganizationalChart"===e.type&&(e.getLayoutInfo?e.getLayoutInfo(t,o.tree):function(e,t,n,i){var r;if(t)for(var o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];if(r=t[s],"getAssistantDetails"===s){if(i.data.Role===t[s].root)for(var l=t[s].assistants,c=0;c<l.length;c++)for(var d=0;d<n.length;d++)n[d].data.Role===l[c]&&(e.assistants.push(n[d].id),e.children.splice(0,1))}else r&&(e[s]=t[s])}!e.hasSubTree&&t.canEnableSubTree&&(e.orientation=i.layoutInfo.orientation,e.type=i.layoutInfo.type,i.layoutInfo.offset!==e.offset&&void 0!==i.layoutInfo.offset&&(e.offset=i.layoutInfo.offset)),i.layoutInfo.hasSubTree=e.hasSubTree}(o.tree,e.layoutInfo,r,t),"Balanced"===o.tree.type&&o.tree.hasSubTree&&(o.tree.type="Center",o.tree.orientation="Horizontal")),e.level&&"Alternate"!==o.tree.type&&n>=e.level&&(o.tree.hasSubTree=!1)},e.prototype.updateAnchor=function(e,t,n){var i,r,o,a=0,s=0,l=0,c=0,d=new di(0,0,n.x,n.y);o=e.bounds?e.bounds:d;var h=e.orientation;if(e.fixedNode){a=(r=e.nameTable[e.fixedNode]).actualSize.width,s=r.actualSize.height,e.anchorX=r.offsetX,e.anchorY=r.offsetY;var p=r.pivot;for(e.anchorX+="RightToLeft"===e.orientation?a*p.x:-a*p.x,e.anchorY+="BottomToTop"===e.orientation?s*p.y:-s*p.y,i=r,l=0;i.inEdges.length;)i=this.getParentNode(e,i),l+=e.graphNodes[i.id].subTreeTranslation||0;-1!==e.orientation.indexOf("Left")?(c=e.graphNodes[r.id].y,"LeftToRight"===h?e.anchorX-=c:e.anchorX+=c,e.anchorY-=e.graphNodes[r.id].x+l):(c=e.graphNodes[r.id].y,e.anchorX-=e.graphNodes[r.id].x+l,"TopToBottom"===h?e.anchorY-=c:e.anchorY+=c)}else if("TopToBottom"===h||"BottomToTop"===h){switch(e.horizontalAlignment){case"Left":e.anchorX=o.x-t.x+e.margin.left;break;case"Right":e.anchorX=o.x+o.width-e.margin.right-t.right;break;case"Auto":case"Center":e.anchorX=o.x+o.width/2-(t.x+t.right)/2}switch(e.verticalAlignment){case"Auto":case"Top":var u;u=o.y+e.margin.top,e.anchorY="TopToBottom"===h?u:t.bottom+u;break;case"Bottom":var f;f=o.y+o.height-e.margin.bottom,e.anchorY="TopToBottom"===h?f-t.bottom:f;break;case"Center":var g=void 0;g=o.y+o.height/2,e.anchorY="TopToBottom"===e.orientation?g-(t.y+t.bottom)/2:g+(t.y+t.bottom)/2}}else{switch(e.horizontalAlignment){case"Auto":case"Left":var m;m=o.x+e.margin.left,e.anchorX="LeftToRight"===h?m:t.bottom+m;break;case"Right":var v;v=o.x+o.width-e.margin.right,e.anchorX="LeftToRight"===h?v-t.bottom:v;break;case"Center":g=void 0;g=o.width/2+o.x,e.anchorX="LeftToRight"===e.orientation?g-(t.y+t.bottom)/2:g+(t.y+t.bottom)/2}switch(e.verticalAlignment){case"Top":e.anchorY=o.y+e.margin.top-t.x;break;case"Auto":case"Center":e.anchorY=o.y+o.height/2-(t.right+t.x)/2;break;case"Bottom":e.anchorY=o.y+o.height-e.margin.bottom-t.right}}},e.prototype.updateConnectors=function(e,t,n){var i,r,o,a;if(r=e.graphNodes[t.id],t.outEdges.length)for(i=0;i<t.outEdges.length;i++)(a=e.nameTable[t.outEdges[i]]).points=[],o=e.nameTable[a.targetID],a.visible&&(a.visited=!0,e.getConnectorSegments?e.getConnectorSegments(a):r&&-1!==r.tree.children.indexOf(a.targetID)&&(a.segments=[],"OrganizationalChart"===e.type&&"Orthogonal"===a.type&&this.updateSegments(e,a,t,o,i)),o&&(o.isExpanded||this.hasChild(e,o))&&this.updateConnectors(e,o,n+1));if(r&&r.tree.assistants.length)for(i=0;i<r.tree.assistants.length;i++)o=e.nameTable[r.tree.assistants[i]],a=e.nameTable[o.inEdges[0]],this.get3Points(e,t,o,a),(o.isExpanded||this.hasChild(e,o))&&this.updateConnectors(e,o,n+1)},e.prototype.updateSegments=function(e,t,n,i,r){var o=e.graphNodes[n.id];o.tree.assistants.length?this.updateSegmentsForHorizontalOrientation(e,n,i,t):"Horizontal"===o.tree.orientation&&"Balanced"===o.tree.type?this.updateSegmentsForBalancedTree(e,t,n,i,r):"Horizontal"===o.tree.orientation?this.updateSegmentsForHorizontalOrientation(e,n,i,t):o.tree.offset<5?this.get5Points(e,n,i,t):this.get3Points(e,n,i,t)},e.prototype.updateSegmentsForBalancedTree=function(e,t,n,i,r){var o,a=e.graphNodes[n.id];if(5===a.tree.children.length&&r>2){o=a.tree.children[1],isNaN(e.graphNodes[o].treeWidth)&&(e.graphNodes[o].treeWidth=e.nameTable[o].actualSize.width);var s=3!==r?1:-1;-1!==e.orientation.indexOf("Left")?e.nameTable[o].offsetY-e.graphNodes[o].treeWidth/2-e.verticalSpacing*s/2:e.nameTable[o].offsetX+e.graphNodes[o].treeWidth/2+e.horizontalSpacing*s/2,this.getSegmentsForMultipleRows(e,n,i,t)}else a.tree.children.length>5?r<4?this.getSegmentsForMultipleRows(e,n,i,t):this.updateSegmentsForHorizontalOrientation(e,n,i,t):4===a.tree.children.length?r<2?this.getSegmentsForMultipleRows(e,n,i,t):this.updateSegmentsForHorizontalOrientation(e,n,i,t):this.getSegmentsForMultipleRows(e,n,i,t)},e.prototype.get3Points=function(e,t,n,i){var r=[],o=this.getBounds(t),a=this.getBounds(n);if(-1!==e.orientation.indexOf("Top")){var s=0===e.orientation.indexOf("Top")?o.bottomCenter:o.topCenter,l=t.offsetX>n.offsetX?a.middleRight:a.middleLeft;r.push(s,{x:o.bottomCenter.x,y:l.y},l)}else{s=0===e.orientation.indexOf("Left")?o.middleRight:o.middleLeft,l=t.offsetY>n.offsetY?a.bottomCenter:a.topCenter;r.push(s,{x:a.bottomCenter.x,y:o.middleRight.y},l)}this.getSegmentsFromPoints(r,i)},e.prototype.get5Points=function(e,t,n,i){var r,o,a,s,l=[],c=this.getBounds(t),d=this.getBounds(n);e.graphNodes[t.id];-1!==e.orientation.indexOf("Top")?(r=t.offsetY<n.offsetY?c.bottomCenter:c.topCenter,s=e.verticalSpacing/4*(t.offsetY<n.offsetY?1:-1),a=e.horizontalSpacing/2*(t.offsetX>n.offsetX?1:-1),o=t.offsetX>n.offsetX?d.middleRight:d.middleLeft,l.push(r,{x:r.x,y:r.y+s},{x:o.x+a,y:r.y+s},{x:o.x+a,y:o.y},o)):(r=t.offsetX>n.offsetX?c.middleLeft:c.middleRight,o=t.offsetY>n.offsetY?d.bottomCenter:d.topCenter,a=e.horizontalSpacing/4*(t.offsetX<n.offsetX?1:-1),s=e.verticalSpacing/2*(t.offsetY>n.offsetY?1:-1),l.push(r,{x:r.x+a,y:r.y},{x:r.x+a,y:r.y+s},{x:o.x,y:r.y+s},o)),this.getSegmentsFromPoints(l,i)},e.prototype.getSegmentsFromPoints=function(e,t){for(var n,i=[],r=0;r<e.length-2;r++)(n=new _a(t,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(e[r],e[r+1]),n.length=Jn.distancePoints(e[r],e[r+1]),i.push(n);t.segments=i},e.prototype.getSegmentsForMultipleRows=function(e,t,n,i){var r,o,a=[],s=this.getBounds(n),l=this.getBounds(t);switch(e.orientation){case"TopToBottom":r={x:l.bottomCenter.x,y:l.bottomCenter.y+e.verticalSpacing/4},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(l.bottomCenter,r),o.length=Jn.distancePoints(l.bottomCenter,r),a.push(o);break;case"BottomToTop":r={x:l.bottomCenter.x,y:l.topCenter.y-e.verticalSpacing/4},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(l.topCenter,r),o.length=Jn.distancePoints(l.topCenter,r),a.push(o);break;case"LeftToRight":if(r={x:l.middleRight.x+e.verticalSpacing/4,y:l.middleRight.y},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(l.middleRight,r),o.length=Jn.distancePoints(l.middleRight,r),a.push(o),s.center.y!==l.center.y){var c={x:l.middleRight.x+e.verticalSpacing/4,y:s.middleLeft.y};(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(r,c),o.length=Jn.distancePoints(r,c),a.push(o)}break;case"RightToLeft":if(r={x:l.middleLeft.x-e.verticalSpacing/4,y:l.middleRight.y},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(l.middleLeft,r),o.length=Jn.distancePoints(l.middleLeft,r),a.push(o),s.center.y!==l.center.y){var d={x:l.middleLeft.x-e.verticalSpacing/4,y:s.middleLeft.y};(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(d,d),o.length=Jn.distancePoints(d,d),a.push(o)}}i.segments=a},e.prototype.updateSegmentsForHorizontalOrientation=function(e,t,n,i){var r,o,a=[],s=this.getBounds(t),l=this.getBounds(n);switch(e.orientation){case"TopToBottom":r={x:s.bottomCenter.x,y:l.topCenter.y-e.verticalSpacing/2},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(s.bottomCenter,r),o.length=Jn.distancePoints(s.bottomCenter,r),a.push(o);break;case"BottomToTop":r={x:s.topCenter.x,y:l.bottomCenter.y+e.verticalSpacing/2},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(s.topCenter,r),o.length=Jn.distancePoints(s.topCenter,r),a.push(o);break;case"LeftToRight":if(r={x:l.middleLeft.x-e.verticalSpacing/2,y:s.middleRight.y},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(s.middleRight,r),o.length=Jn.distancePoints(s.middleRight,r),a.push(o),l.center.y!==s.center.y){var c={x:l.middleLeft.x-e.verticalSpacing/2,y:l.middleLeft.y};(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(r,c),o.length=Jn.distancePoints(r,c),a.push(o)}break;case"RightToLeft":if(r={x:l.middleRight.x+e.verticalSpacing/2,y:s.middleRight.y},(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(s.middleLeft,r),o.length=Jn.distancePoints(s.middleLeft,r),a.push(o),l.center.y!==s.center.y){var d={x:l.middleRight.x+e.verticalSpacing/2,y:l.middleLeft.y};(o=new _a(i,"segments",{type:"Orthogonal"},!0)).direction=Jn.direction(r,d),o.length=Jn.distancePoints(r,d),a.push(o)}}return i.segments=a,[]},e.prototype.updateNodes=function(e,t,n,i,r,o){var a,s,l,c,d,h;if(t&&!t.excludeFromLayout){l=t.actualSize.width,c=t.actualSize.height,d=e.anchorX,h=e.anchorY,"LeftToRight"===e.orientation?(d+=e.graphNodes[t.id].y+l/2,h+=e.graphNodes[t.id].x+n+c/2):"RightToLeft"===e.orientation?(d-=e.graphNodes[t.id].y+l/2,h+=e.graphNodes[t.id].x+n+c/2):"TopToBottom"===e.orientation?(d+=e.graphNodes[t.id].x+n+l/2,h+=e.graphNodes[t.id].y+c/2):(d+=e.graphNodes[t.id].x+n+l/2,h-=e.graphNodes[t.id].y+c/2),e.graphNodes&&(d+=r=r||0,h+=o=o||0,this.isAnimation||(t.offsetX=d,t.offsetY=h));var p={id:t.id,differenceX:d-t.offsetX,differenceY:h-t.offsetY};e.objects.push(p);var u=void 0;if(u=[],this.hasChild(e,t))for(a=0;a<e.graphNodes[t.id].tree.children.length;a++)s=e.nameTable[e.graphNodes[t.id].tree.children[a]],this.updateNodes(e,s,n+(e.graphNodes[t.id].subTreeTranslation||0),i,r,o),u.push(s);if(e.graphNodes[t.id].tree.assistants.length)for(a=0;a<e.graphNodes[t.id].tree.assistants.length;a++)s=e.nameTable[e.graphNodes[t.id].tree.assistants[a]],this.updateNodes(e,s,n+(e.graphNodes[t.id].subTreeTranslation||0),null,r,o)}},e}()),bf=(function(){function e(){this.isAnimation=!1}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"MindMapChart"},e.prototype.updateLayout=function(e,t,n,i,r,o){var a;if(a=this.checkRoot(e,n,r,o,t))n.fixedNode=a;else for(var s=0,l=e;s<l.length;s++){if(!(m=l[s]).excludeFromLayout&&(!m.inEdges||!m.inEdges.length)){n.fixedNode=m.id;break}}var c=t[n.fixedNode],d=this.findFirstLevelNodes(c,n,t),h=[],p=[],u=Dh(n.getBranch);u=u||Dh(this.getBranch);for(var f=0,g=d;f<g.length;f++){var m,v=u(m=g[f],d);"Left"===(v=m&&m.branch?m.branch:v)?h.push(m):p.push(m)}var y=new di(0,0,i.x,i.y);t[n.fixedNode].offsetX=y.x+y.width/2,t[n.fixedNode].offsetY=y.y+y.height/2,h.length&&this.updateMindMapBranch(e,p,t,n,i,r,"Left"),p.length&&this.updateMindMapBranch(e,h,t,n,i,r,"Right")},e.prototype.checkRoot=function(e,t,n,i,r){for(var o=0,a=e;o<a.length;o++){var s=a[o];if(!s.excludeFromLayout){if(s.data&&(s.data[n].toString()===i||s.data[n].toString()===t.root))return s.id;if(!s.data&&s.id===t.root)return s.id}}return""},e.prototype.updateMindMapBranch=function(e,t,n,i,r,o,a){var s;(s={type:"HierarchicalTree",horizontalSpacing:i.verticalSpacing,verticalSpacing:i.horizontalSpacing,verticalAlignment:i.verticalAlignment,horizontalAlignment:i.horizontalAlignment,fixedNode:i.fixedNode,getLayoutInfo:Dh(i.getLayoutInfo),layoutInfo:i.layoutInfo,margin:i.margin,root:i.fixedNode}).orientation="Left"===a?"LeftToRight":"RightToLeft",this.excludeFromLayout(t,n,!0),(new yf).updateLayout(e,n,s,r,o),this.excludeFromLayout(t,n,!1)},e.prototype.getBranch=function(e,t){return t.indexOf(e)%2===0?"Left":"Right"},e.prototype.excludeFromLayout=function(e,t,n){for(var i=0,r=e;i<r.length;i++){t[r[i].id].excludeFromLayout=n}},e.prototype.findFirstLevelNodes=function(e,t,n){var i=[];if(e&&e.outEdges.length)for(var r=0,o=e.outEdges;r<o.length;r++){var a=o[r];i.push(n[n[a].targetID])}return i}}(),function(){function e(){}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"RadialTree"},e.prototype.updateLayout=function(e,t,n,i){var r={type:n.type,nameTable:t,anchorX:0,anchorY:0,firstLevelNodes:[],centerNode:null,levels:[],maxLevel:0,graphNodes:{},layoutNodes:[],orientation:n.orientation,horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,verticalAlignment:n.verticalAlignment,horizontalAlignment:n.horizontalAlignment,fixedNode:n.fixedNode,margin:n.margin,bounds:n.bounds,objects:[],root:n.root};this.doLayout(r,e,t,i)},e.prototype.doLayout=function(e,t,n,i){for(var r,o=0;o<t.length;o++)(r=t[o]).excludeFromLayout||(e.graphNodes[r.id]=this.setUpLayoutInfo(e,r),r.inEdges&&r.inEdges.length||e.firstLevelNodes.push(r));e.root&&n[e.root]?e.centerNode=n[e.root]:e.firstLevelNodes.length&&(e.centerNode=e.firstLevelNodes[0],e.root=e.centerNode.id),e.centerNode&&(this.updateEdges(e,e.centerNode,0,n),this.depthFirstAllignment(e,e.centerNode,0,0),this.populateLevels(e),this.transformToCircleLayout(e),this.updateAnchor(e,i),this.updateNodes(e,e.centerNode,n))},e.prototype.updateEdges=function(e,t,n,i){var r=e.graphNodes[t.id];e.layoutNodes.push(r),r.level=n,r.visited=!0,e.maxLevel=Math.max(e.maxLevel,n);for(var o=0;o<t.outEdges.length;o++){var a=i[i[t.outEdges[o]].targetID];a.excludeFromLayout||a.visited||(r.children.push(a),this.updateEdges(e,a,n+1,i))}},e.prototype.depthFirstAllignment=function(e,t,n,i){var r,o=e.graphNodes[t.id];if(o.children.length){i+=300;for(var a=0;a<o.children.length;a++)n=(r=this.depthFirstAllignment(e,o.children[a],n,i)).x,i=r.y;o.children=o.children.sort((function(t,n){return e.graphNodes[t.id].x-e.graphNodes[n.id].x}));var s=e.graphNodes[o.children[0].id].min,l=e.graphNodes[o.children[o.children.length-1].id].max;if(o.x=s+(l-s)/2,n=l+e.horizontalSpacing,o.segmentOffset=l+e.horizontalSpacing,o.x-=o.width/2,o.y-=o.height/2,o.min=s,o.max=l,o.x<s&&o.visited){o.x=s,n=o.x+o.width/2-(l-s)/2,o.visited=!1;for(a=0;a<o.children.length;a++)r=this.depthFirstAllignment(e,o.children[a],n,i);o.visited=!0,n=o.x+o.width+e.horizontalSpacing}n=n<(l=e.graphNodes[o.children[o.children.length-1].id].segmentOffset)?l:n,i-=300,o.y=i}else o.x=n,o.y=i,o.min=n,o.max=n+o.width,n+=o.width+e.horizontalSpacing;return{x:n,y:i}},e.prototype.populateLevels=function(e){var t=[],n=Math.min.apply(Math,e.layoutNodes.map((function(e){return e.x}))),i=Math.max.apply(Math,e.layoutNodes.map((function(t){return t.x+t.width+e.horizontalSpacing})))-n;e.levels=[];for(var r=function(r){var o={};t=(t=e.layoutNodes.filter((function(e){return e.level===r?e:null}))).sort((function(e,t){return e.x-t.x})),o.min=t[0].x,o.max=t[t.length-1].x+t[t.length-1].width+e.horizontalSpacing,o.actualCircumference=0,o.height=0;for(var a=0;a<t.length;a++)t[a].height>o.height&&(o.height=t[a].height),o.actualCircumference+=Math.max(t[a].width,t[a].height),a!==t.length-1&&(o.actualCircumference+=e.horizontalSpacing);o.circumference=o.max-o.min,o.actualCircumference<o.circumference&&(o.circumference=(o.circumference+o.actualCircumference)/2),o.radius=o.circumference/(2*Math.PI)+o.height,o.nodes=[],r>1&&e.levels[r-1].radius+e.levels[r-1].height>=o.radius&&(o.radius=e.levels[r-1].radius+e.levels[r-1].height);for(var s=0;s<t.length;s++)t[s].ratio=Math.abs(t[s].x+t[s].width/2-n)/i,o.nodes.push(t[s]);e.levels.push(o)},o=0;o<=e.maxLevel;o++)r(o)},e.prototype.transformToCircleLayout=function(e){var t=e.graphNodes[e.centerNode.id];t.x=0,t.y=0;for(var n=1;n<e.levels.length;n++)for(var i=0;i<e.levels[n].nodes.length;i++){var r=e.levels[n].nodes[i];r.x=Math.cos(360*r.ratio*Math.PI/180)*(e.levels[n].radius+e.verticalSpacing*n),r.y=Math.sin(360*r.ratio*Math.PI/180)*(e.levels[n].radius+e.verticalSpacing*n),e.anchorX=Math.min(e.anchorX,r.x),e.anchorY=Math.min(e.anchorY,r.y)}},e.prototype.updateAnchor=function(e,t){e.anchorX=e.centerNode.offsetX||t.x/2,e.anchorY=e.centerNode.offsetY||t.y/2},e.prototype.updateNodes=function(e,t,n){var i=e.graphNodes[t.id],r=i.x+e.anchorX,o=i.y+e.anchorY;t.offsetX+=r,t.offsetY+=o;for(var a=0;a<i.children.length;a++){var s=i.children[a];this.updateNodes(e,n[s.id],n)}},e.prototype.setUpLayoutInfo=function(e,t){var n={};return n.name=t.id,n.x=0,n.y=0,n.min=0,n.max=0,n.width=t.actualSize.width,n.height=t.actualSize.height,n.children=[],n.level=0,n.ratio=0,n.visited=!1,n}}(),function(){function e(e){this.velocityX=0,this.velocityY=0,this.nodes=[],this.graphNode=e;var t=xf(this.graphNode);this.location=t.center,this.nodes=[],e.treeInfo.parents||(e.treeInfo.parents=[]),e.treeInfo.children||(e.treeInfo.children=[]),this.nodes=e.treeInfo.parents.concat(e.treeInfo.children)}return e.prototype.applyChanges=function(){this.graphNode.treeInfo.center=this.location},e}()),wf=(function(){function e(){this.cdCOEF=.442,this.cfMAXVELOCITY=50,this.cnMAXITERACTION=1e3,this.cnSPRINGLENGTH=100,this.mszMaxForceVelocity={width:this.cfMAXVELOCITY,height:this.cfMAXVELOCITY},this.springLength=0,this.springFactor=this.cdCOEF,this.maxIteration=this.cnMAXITERACTION,this.springLength=this.cnSPRINGLENGTH}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"SymmetricalLayout"},e.prototype.doGraphLayout=function(e){var t=this.selectedNode;t.treeInfo.Bounds=e.getModelBounds(e.nodes);var n=t.treeInfo.GraphNodes,i=this.convertGraphNodes(n),r=i.length;r=Math.min(this.maxIteration,r*r*r),this.preLayoutNodes(i,t.treeInfo.Bounds);for(var o=0,a=r;o<a;o++)this.makeSymmetricLayout(i),this.appendForces(i);this.resetGraphPosition(i,t)},e.prototype.preLayoutNodes=function(e,t){for(var n=Math.max(t?t.width:25,t?t.height:25),i=n/2,r=n/2,o=2*Math.PI/e.length,a=o,s=0;s<e.length;s++){var l=e[s];this.getForceNode(l).location={x:i+n*Number(Math.cos(a).toFixed(2)),y:r+n*Number(Math.sin(a).toFixed(2))},a-=o}},e.prototype.doLayout=function(e){this.selectedNode=e.selectedNode,this.doGraphLayout(e)},e.prototype.makeSymmetricLayout=function(e){for(var t,n,i=0;i<e.length;i++){for(var r=e[i],o=(t=this.getForceNode(r)).nodes,a=0;a<o.length;a++){Sf((f=o[a]).id,e)&&this.calcNodesForce(t,this.getForceNode(f))}for(var s=0,l=o.length;s<l&&!(l<2);s++){var c=this.getForceNode(o[s]),d=s+1>=l?this.getForceNode(o[0]):this.getForceNode(o[s+1]),h=360/o.length/2*Math.PI/180,p=2*this.springLength*Math.sin(h);this.calcRelatesForce(c,d,p)}for(var u=0;u<e.length;u++){var f;Sf((f=e[u]).id,o)||f.id===r.id||(n=this.getForceNode(f),this.updateNeigbour(t,n))}}},e.prototype.appendForces=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=(t=this.getForceNode(i)).location;r.x+=Math.min(t.velocityX,this.mszMaxForceVelocity.width),r.y+=Math.min(t.velocityY,this.mszMaxForceVelocity.height),t.velocityX=0,t.velocityY=0,t.location=r}},e.prototype.resetGraphPosition=function(e,t){for(var n,i={width:Number.MAX_VALUE,height:Number.MAX_VALUE},r=null,o=0;o<e.length;o++){n=e[o];var a={x:(r=this.getForceNode(n)).location.x-n.actualSize.width/2,y:r.location.y-n.actualSize.height/2};i.width=Math.min(i.width,a.x),i.height=Math.min(i.height,a.y)}for(o=0;o<e.length;o++){n=e[o],(a=(r=this.getForceNode(n)).location).x-=i.width-(t.treeInfo.location?t.treeInfo.location.x:0),a.y-=i.height-(t.treeInfo.location?t.treeInfo.location.y:0),r.location=a,r.applyChanges()}},e.prototype.convertGraphNodes=function(e){for(var t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(e[r]){var o=e[r],a=new bf(o);o.treeInfo.tag=a,t.push(o)}}return t},e.prototype.getForceNode=function(e){return e.treeInfo.tag},e.prototype.updateNeigbour=function(e,t){if(null!=t&&null!=e){var n=this.pointDistance(e.location,t.location),i=this.lineAngle(e.location,t.location),r=.9*this.springLength;n<r&&this.calcForce(n,r,i,t)}},e.prototype.lineAngle=function(e,t){var n=0,i=t.x-e.x,r=t.y-e.y;return 0===i?n=r<=0?3*Math.PI/2:Math.PI/2:0===r?n=i<0?Math.PI:0:(n=Math.atan(r/i),i<0&&r>0||i<0&&r<0?n=Math.PI+n:i>0&&r<0&&(n=2*Math.PI+n)),n},e.prototype.pointDistance=function(e,t){var n=0,i=t.x-e.x,r=t.y-e.y,o=i*i+r*r;return o>0&&(n=Math.sqrt(o)),n},e.prototype.calcRelatesForce=function(e,t,n){var i=this.pointDistance(e.location,t.location),r=this.lineAngle(e.location,t.location);i<n&&this.calcForce(i,n,r,t)},e.prototype.updateLayout=function(e,t,n,i,r,o){(new wf).updateLayout(e,t,n,i,r,o)},e.prototype.calcNodesForce=function(e,t){var n=this.pointDistance(e.location,t.location),i=this.lineAngle(e.location,t.location);(n>this.springLength||n<this.springLength)&&this.calcForce(n,this.springLength,i,t)},e.prototype.calcForce=function(e,t,n,i){var r=i.nodes.length,o=e-t,a=this.springFactor/(r*r)*Math.sqrt(r);if(0!==o){var s=o*a,l=Math.cos(n)*s,c=Math.sin(n)*s;i.velocityX-=l,i.velocityY-=c}}}(),function(){function e(){this.visitedStack=[],this.cycleEdgesCollection=[],this.graphObjects=[],this.passedNodes=[]}return e.prototype.updateLayout=function(e,t,n,i,r,o){this.nameTable=i,this.nodes=e,this.connectors=t;var a=e;a.length>0&&(this.mhelperSelectedNode=xh(a[0]));for(var s=0,l=e;s<l.length;s++){var c=void 0;(c=g=l[s]).treeInfo={},c.treeInfo.graphType="Node",this.graphObjects.push(c)}for(var d=0,h=t;d<h.length;d++){var p=void 0;(p=h[d]).treeInfo={},p.treeInfo.graphType="Connector",this.graphObjects.push(p)}this.updateLayout1(this.graphObjects,n);for(var u=this.getModelBounds(a),f=0;f<a.length;f++){var g=a[f],m=(o.x-u.width)/2,v=r.margin||{};v.left=v.left||0,v.right=v.right||0,v.top=v.top||0,v.bottom=v.bottom||0,r.margin.left&&(v.left=r.margin.left),r.margin.top&&(v.top=r.margin.top);var y=g.treeInfo.tag.location.x-(g.offsetX-g.actualSize.width/2)-u.x+m+v.left,b=g.treeInfo.tag.location.y-(g.offsetY-g.actualSize.height/2)-u.y+v.top;g.offsetX+=y,g.offsetY+=b,delete g.treeInfo}return!0},e.prototype.getModelBounds=function(e){e=e.slice();for(var t,n=null,i=null,r=0;r<e.length;r++){var o=xf(t=e[r]);n=new di(t.treeInfo.tag?t.treeInfo.tag.location.x:o.x,t.treeInfo.tag?t.treeInfo.tag.location.y:o.y,t.actualSize.width,t.actualSize.height),i=i?i.uniteRect(n):n}return i},e.prototype.updateLayout1=function(e,t){this.detectCyclesInGraph(e);var n=e.length;if(n>0){for(var i=[],r=[],o=[],a=0;a<e.length;a++){var s=e[a];void 0===s.treeInfo.isCycleEdge&&(s.treeInfo.isCycleEdge=!1),"Connector"!==s.treeInfo.graphType||s.treeInfo.isCycleEdge?"Connector"===s.treeInfo.graphType?i.push(s):o.push(s):r.push(s)}for(r=r.concat(o),r=i.concat(r);n>this.dictionaryLength(this.passedNodes);)if(this.getNodesToPosition(r),null!=this.selectedNode){t.doLayout(this),this.selectedNode=null,this.visitedStack=[];for(var l=0,c=this.cycleEdgesCollection;l<c.length;l++){c[l].treeInfo.isCycleEdge=!1}}this.passedNodes=null,this.selectedNode=null}return!1},e.prototype.getNodesToPosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!Sf(n.id,this.passedNodes)){n&&this.selectNodes(n);break}}},e.prototype.selectNodes=function(e){var t=e;"Connector"===e.treeInfo.graphType?this.exploreGraphEdge(e):null!=t&&this.addNode(e,"passed")&&(this.addNode(e,"selected"),this.isConnectedToAnotherNode(t)?(this.selectedNode={treeInfo:{}},this.selectedNode.treeInfo.LeftMargin=10,this.selectedNode.treeInfo.TopMargin=10,this.selectConnectedNodes(t)):this.selectedNode=e)},e.prototype.selectConnectedNodes=function(e){var t=this.selectedNode;t.treeInfo.GraphNodes||(t.treeInfo.GraphNodes={});var n=e;if(null!=n&&this.addNode(n,"passed")){var i=n.id;if(this.dictionaryContains(t.treeInfo.GraphNodes,n)){var r=t.treeInfo.GraphNodes[i];r.treeInfo.Added&&(r.treeInfo.Added=!1,this.getConnectedRelatives(r),this.exploreRelatives(e))}else{var o=this.addGraphNode(n);this.getConnectedRelatives(o),this.exploreRelatives(e)}}},e.prototype.exploreRelatives=function(e){this.exploreRelatives1(e,"Parents"),this.exploreRelatives1(e,"Children")},e.prototype.exploreRelatives1=function(e,t){var n=[];"Parents"===t?n=e.inEdges:"Children"===t&&(n=e.outEdges);for(var i=0;i<n.length;i++){var r=this.nameTable[n[i]];if(this.addNode(r,"passed")){var o=this.nameTable[r.sourceID],a=this.nameTable[r.targetID];"Parents"===t&&null!=o&&Sf(o.id,this.nodes)?this.selectConnectedNodes(this.nameTable[r.sourceID]):"Children"===t&&null!=a&&Sf(a.id,this.nodes)&&this.selectConnectedNodes(this.nameTable[r.targetID])}}},e.prototype.getConnectedRelatives=function(e){this.getConnectedParents(e),this.getConnectedChildren(e)},e.prototype.dictionaryContains=function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++)if(n[i]===t.id)return!0;return!1},e.prototype.dictionaryLength=function(e){return Object.keys(e).length},e.prototype.getConnectedChildren=function(e){for(var t=this.selectedNode,n=e,i=0;i<n.outEdges.length;i++){var r=this.nameTable[n.outEdges[i]];if(!r.treeInfo.isCycleEdge){var o=this.nameTable[r.targetID];if(Sf(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(t.treeInfo.GraphNodes,o)?a=t.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,e.treeInfo.children||(e.treeInfo.children=[]),a.treeInfo.parents||(a.treeInfo.parents=[]),this.setNode(a.treeInfo.parents,e),this.findNode(e.treeInfo.children,a.id)<0&&e.treeInfo.children.push(a)}}}},e.prototype.getConnectedParents=function(e){for(var t=this.selectedNode,n=e,i=0;i<n.inEdges.length;i++){var r=this.nameTable[n.inEdges[i]];if(!r.treeInfo.isCycleEdge){var o=this.nameTable[r.sourceID];if(Sf(o.id,this.nodes)&&null!=o&&o.visible){var a=void 0;this.dictionaryContains(t.treeInfo.GraphNodes,o)?a=t.treeInfo.GraphNodes[o.id]:(a=this.addGraphNode(o)).treeInfo.Added=!0,e.treeInfo.parents||(e.treeInfo.parents=[]),a.treeInfo.children||(a.treeInfo.children=[]),this.setNode(a.treeInfo.children,e),this.findNode(e.treeInfo.parents,a.id)<0&&e.treeInfo.parents.push(a)}}}},e.prototype.setNode=function(e,t){var n=this.findNode(e,t.id);n>=0&&n<e.length?e[n]=t:e.push(t)},e.prototype.findNode=function(e,t){var n=-1;if(null!=e&&""!==t)for(var i=0,r=e.length;i<r;i++){var o=e[i];if("string"===typeof o&&o===t){n=i;break}if(null!=o&&o.id===t){n=i;break}}return n},e.prototype.addGraphNode=function(e){var t=this.selectedNode;t.treeInfo.GraphNodes||(t.treeInfo.GraphNodes={});var n=e;if(null!=t){t.treeInfo.GraphNodes[n.id]=n;var i=this.mhelperSelectedNode;null!=i&&e.id===i.id&&(this.mhelperSelectedNode=n)}return n},e.prototype.isConnectedToAnotherNode=function(e){var t=!1;return e.inEdges.concat(e.outEdges).length>0&&(null!=e.inEdges&&e.inEdges.length>0&&(t=this.searchEdgeCollection(e.inEdges,"FromNode")),!t&&null!=e.outEdges&&e.outEdges.length>0&&(t=this.searchEdgeCollection(e.outEdges,"ToNode"))),t},e.prototype.searchEdgeCollection=function(e,t){for(var n=!1,i=0;i<e.length-1;i++){var r=this.nameTable[e[i]];if(this.addNode(r,"passed")&&(!r.treeInfo.isCycleEdge&&("FromNode"===t&&null!=this.nameTable[r.sourceID]||"ToNode"===t&&null!=this.nameTable[r.targetID]))){n=!0;break}}return n},e.prototype.exploreGraphEdge=function(e){var t=e;if(null!=t&&!t.treeInfo.isCycleEdge&&this.addNode(e,"passed")){this.addNode(e,"selected");var n=this.nameTable[t.sourceID],i=this.nameTable[t.targetID];null!=n?this.selectNodes(n):null!=i?this.selectNodes(i):this.selectedNode=e}},e.prototype.addNode=function(e,t){var n=e;return"passed"!==t&&n.visible||this.dictionaryContains(this.passedNodes,n)||(this.passedNodes[n.id]=n),!!n.visible},e.prototype.detectCyclesInGraph=function(e){for(var t=[],n=[],i=0;i<e.length;i++)"Connector"!==e[i].treeInfo.graphType&&t.push(e[i]);if(t.length>0)for(n.push(t[0]),this.visitedStack.push(t[0]);n.length>0;){var r=n[n.length-1],o=this.getUnVisitedChildNodes(r);if(o.length>0){var a=o[0],s=o[o.length-1];Sf(a.id,this.visitedStack)?(s.treeInfo.isCycleEdge=!0,this.cycleEdgesCollection.push(s)):(n.push(a),this.visitedStack.splice(0,0,a))}else n.pop()}},e.prototype.getUnVisitedChildNodes=function(e){var t=[];if(e.outEdges.length>0){for(var n=0;n<e.outEdges.length;n++){var i=this.nameTable[e.outEdges[n]];if(!Sf(i.id,this.visitedStack)){var r=this.nameTable[i.targetID];return null!=r&&t.push(r),t.push(i),this.visitedStack.splice(0,0,i),t}}return t}return t},e}());function xf(e){var t=e.offsetX-e.actualSize.width*e.pivot.x,n=e.offsetY-e.actualSize.height*e.pivot.y;return new di(t,n,e.actualSize.width,e.actualSize.height)}function Sf(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1}!function(){function e(){}e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"ComplexHierarchicalTree"},e.prototype.doLayout=function(e,t,n,i){(new Cf).doLayout(e,t,n,i)},e.prototype.getLayoutNodesCollection=function(e){for(var t,n=[],i=0;i<e.length;i++)(t=e[i]).inEdges.length+t.outEdges.length>0&&!t.parentId&&!t.processId&&n.push(t);return n}}();var Cf=function(){function e(){this.nameTable={},this.crossReduction=new Pf}return e.prototype.createVertex=function(e,t,n,i,r,o){return{value:t,geometry:{x:n,y:i,width:r,height:o},name:t,vertex:!0,inEdges:e.inEdges.slice(),outEdges:e.outEdges.slice()}},e.prototype.getEdges=function(e){var t=[];if(e){for(var n=0;e.inEdges.length>0&&n<e.inEdges.length;n++)t.push(this.nameTable[e.inEdges[n]]);for(n=0;e.outEdges.length>0&&n<e.outEdges.length;n++)t.push(this.nameTable[e.outEdges[n]])}return t},e.prototype.findRoots=function(e){for(var t=[],n=null,i=-1e5,r=0,o=Object.keys(e);r<o.length;r++){for(var a=e[o[r]],s=this.getEdges(a),l=0,c=0,d=0;d<s.length;d++){this.getVisibleTerminal(s[d],!0).name===a.name?l++:c++}0===c&&l>0&&t.push(a);var h=l-c;h>i&&(i=h,n=a)}return 0===t.length&&null!=n&&t.push(n),t},e.prototype.getVisibleTerminal=function(e,t){var n=this.nameTable[e.targetID];t&&(n=this.nameTable[e.sourceID]);for(var i=0;i<this.vertices.length;i++)if(this.vertices[i].name===n.id)return this.vertices[i];return null},e.prototype.traverse=function(e,t,n,i,r,o){if(null!=e){var a=e.name;if(null==o||null!=o[a]){null==i[a]&&(i[a]=e),null!=o&&delete o[a];for(var s=this.getEdges(e),l=[],c=0;c<s.length;c++)l[c]=this.getVisibleTerminal(s[c],!0)===e;for(c=0;c<s.length;c++)if(!t||l[c]){for(var d=this.getVisibleTerminal(s[c],!l[c]),h=1,p=0;p<s.length;p++)if(p!==c){var u=l[p];this.getVisibleTerminal(s[p],!u)===d&&(u?h++:h--)}h>=0&&(i=this.traverse(d,t,s[c],i,r,o))}}else if(null==i[a])for(c=0;c<r.length;c++){var f=r[c];if(null!=f[a]){for(var g=0,m=Object.keys(f);g<m.length;g++){var v=m[g];i[v]=f[v]}return r.splice(c,1),i}}}return i},e.prototype.getModelBounds=function(e){e=e.slice();for(var t=null,n=null,i=0;i<e.length;i++)if(t=e[i].geometry,n){var r=Math.max(n.x+n.width,t.x+t.width),o=Math.max(n.y+n.height,t.y+t.height);n.x=Math.min(n.x,t.x),n.y=Math.min(n.y,t.y),n.width=r-n.x,n.height=o-n.y}else n={x:t.x,y:t.y,width:t.width,height:t.height};return n},e.prototype.doLayout=function(e,t,n,i){this.nameTable=t;var r={horizontalSpacing:n.horizontalSpacing,verticalSpacing:n.verticalSpacing,orientation:n.orientation,marginX:n.margin.left,marginY:n.margin.top};this.vertices=[];for(var o={},a=0;a<e.length;a++){var s=this.createVertex(e[a],e[a].id,0,0,e[a].actualSize.width,e[a].actualSize.height);this.vertices.push(s),o[s.name]=s}var l,c=[];l=this.findRoots(o);for(a=0;a<l.length;a++){var d={};c.push(d),this.traverse(l[a],!0,null,d,c,o)}var h={marginX:0,marginY:0};for(a=0;a<c.length;a++){d=c[a];for(var p=[],u=0,f=Object.keys(d);u<f.length;u++){var g=f[u];p.push(d[g])}var m=new Of(this,p,l,r);this.cycleStage(m),this.layeringStage(m),this.crossingStage(m),h=this.placementStage(m,h.marginX,h.marginY)}var v=this.getModelBounds(this.vertices);this.updateMargin(n,r,v,i);for(a=0;a<this.vertices.length;a++){var y=this.vertices[a];if(y){var b=this.nameTable[y.name];b.offsetX=0,b.offsetY=0;var w=y.geometry.x-(b.offsetX-b.actualSize.width/2)+r.marginX,x=y.geometry.y-(b.offsetY-b.actualSize.height/2)+r.marginY,S=w,C=x;"BottomToTop"===r.orientation?C=v.height-x:"RightToLeft"===r.orientation&&(S=v.width-w),b.offsetX+=S-b.offsetX,b.offsetY+=C-b.offsetY}}for(a=0;a<this.vertices.length;a++)this.isNodeOverLap(this.nameTable[this.vertices[a].name],n)},e.prototype.calculateRectValue=function(e){var t={x:0,y:0,right:0,bottom:0,height:0,width:0};return t.x=e.offsetX-e.actualSize.width/2,t.right=e.offsetX+e.actualSize.width/2,t.y=e.offsetY-e.actualSize.height/2,t.bottom=e.offsetY+e.actualSize.height/2,t},e.prototype.isNodeOverLap=function(e,t){for(var n={x:0,y:0,right:0,bottom:0,height:0,width:0},i=0;i<this.vertices.length;i++){var r,o={x:0,y:0,width:0,height:0};r=this.nameTable[this.vertices[i].value],e.id!==r.id&&0!==r.offsetX&&0!==r.offsetY&&(n=this.calculateRectValue(e),o=this.calculateRectValue(r),this.isIntersect(o,n,t)&&("TopToBottom"===t.orientation||"BottomToTop"===t.orientation?e.offsetX+=t.horizontalSpacing:e.offsetY+=t.verticalSpacing,this.isNodeOverLap(e,t)))}},e.prototype.isIntersect=function(e,t,n){return!(Math.floor(e.right+n.horizontalSpacing)<=Math.floor(t.x)||Math.floor(e.x-n.horizontalSpacing)>=Math.floor(t.right)||Math.floor(e.y-n.verticalSpacing)>=Math.floor(t.bottom)||Math.floor(e.bottom+n.verticalSpacing)<=Math.floor(t.y))},e.prototype.updateMargin=function(e,t,n,i){var r,o={x:0,y:0,width:i.x,height:i.y},a=n.x,s=n.y,l=n.x+n.width,c=n.y+n.height;if(r=e.bounds?e.bounds:o,"TopToBottom"===t.orientation||"BottomToTop"===t.orientation){switch(e.horizontalAlignment){case"Auto":case"Left":t.marginX=r.x-a+e.margin.left;break;case"Right":t.marginX=r.x+r.width-e.margin.right-l;break;case"Center":t.marginX=r.x+r.width/2-(a+l)/2}switch(e.verticalAlignment){case"Top":var d;d=r.y+e.margin.top,t.marginY="TopToBottom"===t.orientation?d:-d;break;case"Bottom":var h;h=r.y+r.height-e.margin.bottom,t.marginY="TopToBottom"===t.orientation?h-c:-(h-c);break;case"Auto":case"Center":var p=void 0;p=r.y+r.height/2,t.marginY="TopToBottom"===t.orientation?p-(s+c)/2:(s+c)/2-p}}else{switch(e.horizontalAlignment){case"Auto":case"Left":var u;u=r.x+e.margin.left,t.marginX="LeftToRight"===t.orientation?u:-u;break;case"Right":var f;f=r.x+r.width-e.margin.right,t.marginX="LeftToRight"===t.orientation?f-l:l-f;break;case"Center":p=void 0;p=r.width/2+r.x,t.marginX="LeftToRight"===t.orientation?p-(s+c)/2:(a+l)/2-p}switch(e.verticalAlignment){case"Top":t.marginY=r.y+e.margin.top-a;break;case"Auto":case"Center":t.marginY=r.y+r.height/2-(s+c)/2;break;case"Bottom":t.marginY=r.y+r.height-e.margin.bottom-c}}},e.prototype.placementStage=function(e,t,n){var i=this.coordinateAssignment(t,n,parent,e);return i.model=e,i.widestRankValue=null,this.placementStageExecute(i),{marginX:i.marginX+e.layout.horizontalSpacing,marginY:i.marginY+e.layout.verticalSpacing}},e.prototype.coordinateAssignment=function(e,t,n,i){var r={};return"TopToBottom"===i.layout.orientation||"BottomToTop"===i.layout.orientation?(r.horizontalSpacing=i.layout.horizontalSpacing,r.verticalSpacing=i.layout.verticalSpacing):(r.horizontalSpacing=i.layout.verticalSpacing,r.verticalSpacing=i.layout.horizontalSpacing),r.orientation="north",r.marginX=r.marginX=e,r.marginY=r.marginY=t,r},e.prototype.calculateWidestRank=function(e,t,n){var i=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(i=!0);var r=-e.verticalSpacing,o=0;e.rankSizes=[],e.rankOffset=[];for(var a=n.maxRank;a>=0;a--){for(var s=0,l=n.ranks[a],c=i?e.marginY:e.marginX,d=0;d<l.length;d++){var h=l[d];if(this.crossReduction.isVertex(h)){var p=h;if(p.cell&&(p.cell.inEdges||p.cell.outEdges)){var u=this.nameTable[p.cell.name];p.width=u.actualSize.width,p.height=u.actualSize.height,s=Math.max(s,i?p.width:p.height)}}else if(h){var f=h,g=1;null!=f.edges&&(g=f.edges.length),h.width=10*(g-1)}i&&(h.height||(h.height=0)),c+=(i?h.height:h.width)/2,this.setXY(h,a,c,!!i),this.setTempVariable(h,a,c),(c+=(i?h.height:h.width)/2+e.horizontalSpacing)>e.widestRankValue&&(e.widestRankValue=c,e.widestRank=a),e.rankSizes[a]=c}e.rankOffset[a]=r;var m=s/2+o/2+e.verticalSpacing;o=s,"north"===e.orientation||"west"===e.orientation?r+=m:r-=m;for(d=0;d<l.length;d++){var v=l[d];this.setXY(v,a,r,!i)}}},e.prototype.setTempVariable=function(e,t,n){this.crossReduction.isVertex(e)?e.temp[0]=n:e.temp[t-e.minRank-1]=n},e.prototype.setXY=function(e,t,n,i){e&&e.cell&&(e.cell.inEdges||e.cell.outEdges?i?e.y[0]=n:e.x[0]=n:i?e.y[t-e.minRank-1]=n:e.x[t-e.minRank-1]=n)},e.prototype.rankCoordinates=function(e,t,n,i){var r=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(r=!0);for(var o=i.ranks[t],a=0,s=(r?e.marginY:e.marginX)+(e.widestRankValue-e.rankSizes[t])/2,l=0;l<o.length;l++){var c=o[l];if(this.crossReduction.isVertex(c)){var d=this.nameTable[c.cell.name];c.width=d.actualSize.width,c.height=d.actualSize.height,a=Math.max(a,c.height)}else{var h=c,p=1;null!=h.edges&&(p=h.edges.length),r?c.height=10*(p-1):c.width=10*(p-1)}var u=(r?c.height:c.width)/2;s+=u,this.setXY(c,t,s,!!r),this.setTempVariable(c,t,s),s+=u+e.horizontalSpacing}},e.prototype.initialCoords=function(e,t,n){this.calculateWidestRank(e,t,n);for(var i=e.widestRank;i>=0;i--)i<n.maxRank&&this.rankCoordinates(e,i,t,n);for(i=e.widestRank+1;i<=n.maxRank;i++)i>0&&this.rankCoordinates(e,i,t,n)},e.prototype.isAncestor=function(e,t){if(null!=t&&null!=e.hashCode&&null!=t.hashCode&&e.hashCode.length<t.hashCode.length){if(e.hashCode===t.hashCode)return!0;if(null==e.hashCode||null==e.hashCode)return!1;for(var n=0;n<e.hashCode.length;n++)if(e.hashCode[n]!==t.hashCode[n])return!1;return!0}return!1},e.prototype.weightedCellSorter=function(e,t){var n={};return n.cell=e||null,n.weightedValue=t||0,n.visited=!1,n.rankIndex=null,n},e.prototype.minNode=function(e,t){for(var n=[],i={map:{}},r=[],o=0;o<=t.maxRank;o++){r[o]=t.ranks[o];for(var a=0;a<r[o].length;a++){var s=r[o][a],l=this.weightedCellSorter(s,o);l.rankIndex=a,l.visited=!0,n.push(l),t.setDictionaryForSorter(i,s,l,!0)}}for(var c=10*n.length,d=0;n.length>0&&d<=c;){var h=n.shift(),p=h.cell,u=h.weightedValue,f=h.rankIndex,g=this.crossReduction.getConnectedCellsOnLayer(p,u),m=this.crossReduction.getConnectedCellsOnLayer(p,u,!0),v=g.length,y=m.length,b=this.medianXValue(e,g,u+1),w=this.medianXValue(e,m,u-1),x=v+y,S=this.crossReduction.getTempVariable(p,u),C=S;x>0&&(C=(b*v+w*y)/x),1===v&&1===y?C=w*y/y:1===v&&(C=b*v/v);var O=!1,P=void 0;if(C<S-1)if(0===f)P=C,O=!0;else{var E=r[u][f-1],T=this.crossReduction.getTempVariable(E,u);(T=T+E.width/2+e.intraCellSpacing+p.width/2)<C?(P=C,O=!0):T<this.crossReduction.getTempVariable(p,u)-1&&(P=T,O=!0)}else if(C>S+1){if(f===r[u].length-1)P=C,O=!0;else{var k=r[u][f+1],I=this.crossReduction.getTempVariable(k,u);(I=I-k.width/2-e.intraCellSpacing-p.width/2)>C?(P=C,O=!0):I>this.crossReduction.getTempVariable(p,u)+1&&(P=I,O=!0)}}O&&(this.setTempVariable(p,u,P),this.updateNodeList(n,i,g,t),this.updateNodeList(n,i,m,t)),this.crossReduction.isVertex(h.cell)&&(h.visited=!1),d++}},e.prototype.updateNodeList=function(e,t,n,i){for(var r=0;r<n.length;r++){var o=n[r],a=i.getDictionaryForSorter(t,o);null!=a&&!1===a.visited&&(a.visited=!0,e.push(a))}},e.prototype.medianXValue=function(e,t,n){if(0===t.length)return 0;for(var i=[],r=0;r<t.length;r++)i[r]=this.crossReduction.getTempVariable(t[r],n);if(i.sort((function(e,t){return e-t})),t.length%2===1)return i[Math.floor(t.length/2)];var o=t.length/2;return(i[o-1]+i[o])/2},e.prototype.placementStageExecute=function(e){var t=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(t=!0),e.jettyPositions={};var n=e.model;t?e.currentYDelta=0:e.currentXDelta=0,this.initialCoords(e,{model:n},n),this.minNode(e,n);var i=1e8;e.maxIterations||(e.maxIterations=8);for(var r=0;r<e.maxIterations;r++){if((t?e.currentYDelta:e.currentXDelta)<i){for(var o=0;o<n.ranks.length;o++)for(var a=n.ranks[o],s=0;s<a.length;s++){var l=a[s];this.setXY(l,o,this.crossReduction.getTempVariable(l,o),!!t)}i=t?e.currentYDelta:e.currentXDelta}t?e.currentYDelta=0:e.currentXDelta=0}this.setCellLocations(e,n)},e.prototype.setCellLocations=function(e,t){for(var n=this.getValues(t.vertexMapper),i=0;i<n.length;i++)this.setVertexLocation(e,n[i])},e.prototype.garphModelsetVertexLocation=function(e,t,n,i){e.model;var r=t.geometry,o=null;return null!=r&&(o={x:n,y:i,width:r.width,height:r.height},r.x===n&&r.y===i||(t.geometry=o)),o},e.prototype.setVertexLocation=function(e,t){var n=!1;"LeftToRight"!==e.model.layout.orientation&&"RightToLeft"!==e.model.layout.orientation||(n=!0);var i=t.cell,r=t.x[0]-t.width/2,o=t.y[0]-t.height/2;this.garphModelsetVertexLocation(e,i,r,o),n?(e.marginY||(e.marginY=0),e.marginY=Math.max(e.marginY,o+t.height)):(e.marginX||(e.marginX=0),e.marginX=Math.max(e.marginX,r+t.width))},e.prototype.getValues=function(e){var t=[];if(e.map)for(var n=0,i=Object.keys(e.map);n<i.length;n++){var r=i[n];t.push(e.map[r])}return t},e.prototype.crossingStage=function(e){this.crossReduction.execute(e)},e.prototype.layeringStage=function(e){this.initialRank(e),this.fixRanks(e)},e.prototype.initialRank=function(e){for(var t=e.startNodes,n=e.getDictionaryValues(e.vertexMapper),i=t.slice();t.length>0;){for(var r=(h=t[0]).connectsAsTarget,o=h.connectsAsSource,a=!0,s=1e8,l=0;l<r.length;l++){if(5270620!==(f=r[l]).temp[0]){a=!1;break}var c=f.source;s=Math.min(s,c.temp[0]-1)}if(a){if(h.temp[0]=s,e.maxRank||(e.maxRank=1e8),e.maxRank=Math.min(e.maxRank,s),null!=o)for(l=0;l<o.length;l++){(f=o[l]).temp[0]=5270620,-1===(c=f.target).temp[0]&&(t.push(c),c.temp[0]=-2)}t.shift()}else{var d=t.shift();if(t.push(h),d===h&&1===t.length)break}}for(l=0;l<n.length;l++)n[l].temp[0]-=e.maxRank;for(l=0;l<i.length;l++)for(var h,p=0,u=(r=(h=i[l]).connectsAsSource,0);u<r.length;u++){var f;c=(f=r[u]).target;h.temp[0]=Math.max(p,c.temp[0]+1),p=h.temp[0]}e.maxRank=1e8-e.maxRank},e.prototype.fixRanks=function(e){e.fixRanks()},e.prototype.cycleStage=function(e){var t={};e.startNodes=[];for(var n=e.getDictionaryValues(e.vertexMapper),i=[],r=0;r<n.length;r++)n[r].temp[0]=-1,i[n[r].id]=n[r];var o=null;if(null!=e.roots){var a=e.roots;o=[];for(r=0;r<a.length;r++)o[r]=e.getDictionary(e.vertexMapper,a[r]),null!=o[r]&&e.startNodes.push(o[r])}e.visit("removeParentConnection",o,!0,null,{seenNodes:t,unseenNodes:i});var s=e.clone(t,null,!0);e.visit("removeNodeConnection",i,!0,s,{seenNodes:t,unseenNodes:i})},e.prototype.remove=function(e,t){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),e},e.prototype.invert=function(e,t){var n=e.source;e.source=e.target,e.target=n,e.isReversed=!e.isReversed},e.prototype.getEdgesBetween=function(e,t,n){n=null!=n&&n;for(var i=this.getEdges(e),r=[],o=0;o<i.length;o++){var a=this.getVisibleTerminal(i[o],!0),s=this.getVisibleTerminal(i[o],!1);(a===e&&s===t||!n&&a===t&&s===e)&&r.push(i[o])}return r},e}(),Of=function(){function e(e,t,n,i){this.multiObjectIdentityCounter=0,this.dfsCount=0,this.hierarchicalUtil=new Cf,this.roots=n,this.vertexMapper={map:{}};var r=[];this.layout=i,this.maxRank=1e8,this.hierarchicalLayout=e,this.createInternalCells(e,t,r);for(var o=0;o<t.length;o++){for(var a=r[o].connectsAsSource,s=0;s<a.length;s++){var l=a[s],c=l.edges;if(null!=c&&c.length>0){var d=c[0],h=e.getVisibleTerminal(d,!1),p=this.getDictionary(this.vertexMapper,h);r[o]===p&&(h=e.getVisibleTerminal(d,!0),p=this.getDictionary(this.vertexMapper,h)),null!=p&&r[o]!==p&&(l.target=p,0===p.connectsAsTarget.length&&(p.connectsAsTarget=[]),p.connectsAsTarget.indexOf(l)<0&&p.connectsAsTarget.push(l))}}r[o].temp[0]=1}}return e.prototype.createInternalCells=function(e,t,n){for(var i=0;i<t.length;i++){n[i]={x:[],y:[],temp:[],cell:t[i],id:t[i].name,connectsAsTarget:[],connectsAsSource:[]},this.setDictionary(this.vertexMapper,t[i],n[i]);var r=e.getEdges(t[i]);n[i].connectsAsSource=[];for(var o=0;o<r.length;o++){var a=e.getVisibleTerminal(r[o],!1);if(a!==t[i]){var s=e.getEdgesBetween(t[i],a,!1),l=e.getEdgesBetween(t[i],a,!0);if(null!=s&&s.length>0&&2*l.length>=s.length){for(var c={x:[],y:[],temp:[],edges:s,ids:[]},d=0;d<s.length;d++)c.ids.push(s[d].id);c.source=n[i],n[i].connectsAsSource||(n[i].connectsAsSource=[]),n[i].connectsAsSource.indexOf(c)<0&&n[i].connectsAsSource.push(c)}}}n[i].temp[0]=0}},e.prototype.fixRanks=function(){var e=[];this.ranks=[];for(var t=0;t<this.maxRank+1;t++)e[t]=[],this.ranks[t]=e[t];var n=null;if(null!=this.roots){var i=this.roots;n=[];for(t=0;t<i.length;t++){var r=i[t],o=this.getDictionary(this.vertexMapper,r);n[t]=o}}this.visit("updateMinMaxRank",n,!1,null,{seenNodes:null,unseenNodes:null,rankList:e})},e.prototype.updateMinMaxRank=function(e,t,n){n.seenNodes,n.unseenNodes;var i=n.parent,r=n.root,o=n.edge,a=n.rankList;if((r.maxRank||0===r.maxRank||(r.maxRank=-1),r.minRank||0===r.minRank||(r.minRank=-1),0===t&&r.maxRank<0&&r.minRank<0&&(a[r.temp[0]].push(r),r.maxRank=r.temp[0],r.minRank=r.temp[0],r.temp[0]=a[r.maxRank].length-1),null!=i&&null!=o)&&i.maxRank-r.maxRank>1){o.maxRank=i.maxRank,o.minRank=r.maxRank,o.temp=[],o.x=[],o.y=[];for(var s=o.minRank+1;s<o.maxRank;s++)a[s].push(o),this.hierarchicalUtil.setTempVariable(o,s,a[s].length-1)}},e.prototype.setDictionary=function(e,t,n){var i=t.name,r=e.map[i];return e.map[i]=n,r},e.prototype.setDictionaryForSorter=function(e,t,n,i){var r=t.id,o=e.map[r];return e.map[r]=n,o},e.prototype.getDictionary=function(e,t){this.multiObjectIdentityCounter||0===this.multiObjectIdentityCounter||(this.multiObjectIdentityCounter=0);var n=t.name;return n?e.map[n]:t.layoutObjectId?e.map[t.layoutObjectId]:(t.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,t.layoutObjectId)},e.prototype.getDictionaryForSorter=function(e,t){this.multiObjectIdentityCounter||0===this.multiObjectIdentityCounter||(this.multiObjectIdentityCounter=0);var n=t.id;return n?e.map[n]:t.layoutObjectId?e.map[t.layoutObjectId]:(t.layoutObjectId="graphHierarchyNode#"+this.multiObjectIdentityCounter++,t.layoutObjectId)},e.prototype.getDictionaryValues=function(e){for(var t=[],n=0,i=Object.keys(e.map);n<i.length;n++){var r=i[n];t.push(e.map[r])}return t},e.prototype.visit=function(e,t,n,i,r){r.seenNodes,r.unseenNodes,r.rankList;if(null!=t){for(var o=0;o<t.length;o++){var a=t[o];null!=a&&(null==i&&(i=new Object),r.parent=null,r.root=a,r.edge=null,n?(a.hashCode=[],a.hashCode[0]=this.dfsCount,a.hashCode[1]=o,this.extendedDfs(e,i,o,0,r)):this.depthFirstSearch(e,i,0,r))}this.dfsCount++}},e.prototype.depthFirstSearch=function(e,t,n,i){i.seenNodes,i.unseenNodes,i.rankList,i.parent;var r=i.root;i.edge;if(null!=r){var o=r.id;if(null==t[o]){t[o]=r,this.updateConnectionRank(e,n,0,i);for(var a=r.connectsAsSource.slice(),s=0;s<a.length;s++){var l=a[s],c=l.target;i.parent=r,i.root=c,i.edge=l,this.depthFirstSearch(e,t,n+1,i)}}else this.updateConnectionRank(e,n,1,i)}},e.prototype.updateConnectionRank=function(e,t,n,i){var r=i.parent,o=i.root,a=i.edge;if("removeParentConnection"===e||"removeNodeConnection"===e){var s="removeNodeConnection"===e;this.removeConnectionEdge(r,o,a,t,i,s)}"updateMinMaxRank"===e&&this.updateMinMaxRank(t,n,i)},e.prototype.removeConnectionEdge=function(e,t,n,i,r,o){var a=r.seenNodes,s=r.unseenNodes;r.rankList;this.hierarchicalUtil.isAncestor(t,e)&&(this.hierarchicalUtil.invert(n,0),this.hierarchicalUtil.remove(n,e.connectsAsSource),o?(t.connectsAsSource.push(n),e.connectsAsTarget.push(n),this.hierarchicalUtil.remove(n,t.connectsAsTarget)):(e.connectsAsTarget.push(n),this.hierarchicalUtil.remove(n,t.connectsAsTarget),t.connectsAsSource.push(n))),a[t.id]=t,delete s[t.id]},e.prototype.extendedDfs=function(e,t,n,i,r){r.seenNodes,r.unseenNodes,r.rankList;var o=r.parent,a=r.root;r.edge;if(null!=a){if(null!=o&&(null==a.hashCode||a.hashCode[0]!==o.hashCode[0])){var s=o.hashCode.length+1;a.hashCode=o.hashCode.slice(),a.hashCode[s-1]=n}var l=a.id;if(null==t[l]){t[l]=a,this.updateConnectionRank(e,i,0,r);for(var c=a.connectsAsSource.slice(),d=0;d<c.length;d++){var h=c[d],p=h.target;r.parent=a,r.root=p,r.edge=h,this.extendedDfs(e,t,d,i+1,r)}}else this.updateConnectionRank(e,i,1,r)}},e.prototype.clone=function(e,t,n){if(n=null!=n&&n,null!=e&&"function"===typeof e.constructor){for(var i=e.constructor(),r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];"layoutObjectId"!==a&&(null==t||t.indexOf(a)<0)&&(n||"object"!==typeof e[a])&&(i[a]=e[a])}return i}return null},e}(),Pf=function(){function e(){}return e.prototype.calculateCrossings=function(e){for(var t=e.ranks.length,n=0,i=1;i<t;i++)n+=this.calculateRankCrossing(i,e);return n},e.prototype.getTempVariable=function(e,t){return e?this.isVertex(e)?e.temp[0]:e.temp[t-e.minRank-1]:0},e.prototype.calculateRankCrossing=function(e,t){for(var n=0,i=t.ranks[e],r=t.ranks[e-1],o=[],a=0;a<i.length;a++){for(var s=i[a],l=this.getTempVariable(s,e),c=this.getConnectedCellsOnLayer(s,e,!0),d=[],h=0;h<c.length;h++){var p=c[h],u=this.getTempVariable(p,e-1);d.push(u)}d.sort((function(e,t){return e-t})),o[l]=d}var f=[];for(a=0;a<o.length;a++)f=f.concat(o[a]);for(var g=1;g<r.length;)g<<=1;var m=2*g-1;g-=1;var v=[];for(a=0;a<m;++a)v[a]=0;for(a=0;a<f.length;a++){var y=f[a]+g;for(++v[y];y>0;)y%2&&(n+=v[y+1]),++v[y=y-1>>1]}return n},e.prototype.execute=function(e){this.nestedBestRanks=[];for(var t=0;t<e.ranks.length;t++)this.nestedBestRanks[t]=e.ranks[t].slice();var n=0,i=this.calculateCrossings(e);for(t=0;t<24&&n<2;t++){this.weightedMedian(t,e);var r=this.calculateCrossings(e);if(r<i){i=r,n=0;for(var o=0;o<this.nestedBestRanks.length;o++)for(var a=e.ranks[o],s=0;s<a.length;s++){var l=a[s],c=this.nestedBestRanks[o][l.temp[0]],d=!0;l.edges&&c&&!c.edges&&(d=!1),c&&d&&(this.nestedBestRanks[o][l.temp[0]]=l)}}else{n++;for(o=0;o<this.nestedBestRanks.length;o++)for(a=e.ranks[o],s=0;s<a.length;s++){l=a[s];this.setTempVariable(l,o,s)}}if(0===i)break}var h=[],p=[];for(t=0;t<e.maxRank+1;t++)p[t]=[],h[t]=p[t];for(t=0;t<this.nestedBestRanks.length;t++)for(o=0;o<this.nestedBestRanks[t].length;o++)p[t].push(this.nestedBestRanks[t][o]);e.ranks=h},e.prototype.isVertex=function(e){return!(!e||!e.cell||!e.cell.inEdges&&!e.cell.outEdges)},e.prototype.weightedMedian=function(e,t){var n=e%2===0;if(n)for(var i=t.maxRank-1;i>=0;i--)this.medianRank(i,n);else for(i=1;i<t.maxRank;i++)this.medianRank(i,n)},e.prototype.getConnectedCellsOnLayer=function(e,t,n){void 0===n&&(n=!1);var i="nextLayerConnectedCells",r="connectsAsTarget";if(n&&(i="previousLayerConnectedCells",r="connectsAsSource"),e){if(this.isVertex(e)){if(null==e[i]){e[i]=[],e[i][0]=[];for(var o=0;o<e[r].length;o++){var a=e[r][o];void 0===a.maxRank&&(a.maxRank=-1),-1===a.maxRank||(n?a.minRank===t-1:a.maxRank===t+1)?e[i][0].push(n?a.target:a.source):e[i][0].push(a)}}return e[i][0]}if(null==e[i]){e[i]=[];for(o=0;o<e.temp.length;o++)e[i][o]=[],o===(n?0:e.temp.length-1)?e[i][o].push(n?e.target:e.source):e[i][o].push(e)}return e[i][t-e.minRank-1]}return null},e.prototype.medianValue=function(e,t){for(var n=[],i=0,r=0;r<e.length;r++){var o=e[r];n[i++]=this.getTempVariable(o,t)}if(n.sort((function(e,t){return e-t})),i%2===1)return n[Math.floor(i/2)];if(2===i)return(n[0]+n[1])/2;var a=i/2,s=n[a-1]-n[0],l=n[i-1]-n[a];return(n[a-1]*l+n[a]*s)/(s+l)},e.prototype.setTempVariable=function(e,t,n){e&&(e.temp[0]=n)},e.prototype.medianRank=function(e,t){for(var n=this.nestedBestRanks[e].length,i=[],r=[],o=0;o<n;o++){var a=this.nestedBestRanks[e][o],s={medianValue:0};s.cell=a;var l=void 0,c=void 0;c=t?e+1:e-1,null!=(l=t?this.getConnectedCellsOnLayer(a,e):this.getConnectedCellsOnLayer(a,e,!0))&&0!==l.length?(s.medianValue=this.medianValue(l,c),i.push(s)):r[this.getTempVariable(a,e)]=!0}i.sort(this.compare);for(o=0;o<n;o++)if(null==r[o]&&i.length>0){a=i.shift().cell;this.setTempVariable(a,e,o)}},e.prototype.compare=function(e,t){if(null!=e&&null!=t){if(t.medianValue>e.medianValue)return-1;if(t.medianValue<e.medianValue)return 1}return 0},e}(),Ef=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tf=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},kf="e-acrdn-item",If="e-acrdn-header",Af="e-acrdn-panel",Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ef(t,e),Tf([zt("SlideDown")],t.prototype,"effect",void 0),Tf([zt(400)],t.prototype,"duration",void 0),Tf([zt("linear")],t.prototype,"easing",void 0),t}(nn),jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ef(t,e),Tf([Bt({effect:"SlideUp",duration:400,easing:"linear"},Mf)],t.prototype,"collapse",void 0),Tf([Bt({effect:"SlideDown",duration:400,easing:"linear"},Mf)],t.prototype,"expand",void 0),t}(nn),Df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ef(t,e),Tf([zt(null)],t.prototype,"content",void 0),Tf([zt(null)],t.prototype,"header",void 0),Tf([zt(null)],t.prototype,"cssClass",void 0),Tf([zt(null)],t.prototype,"iconCss",void 0),Tf([zt(!1)],t.prototype,"expanded",void 0),Tf([zt(!0)],t.prototype,"visible",void 0),Tf([zt(!1)],t.prototype,"disabled",void 0),t}(nn),Lf=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},i}return Ef(t,e),t.prototype.destroy=function(){var t=this,n=this.element;if(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(n.children).forEach((function(e){e.classList.contains("blazor-template")||n.removeChild(e)})),this.trgtEle)for(;this.ctrlTem.firstElementChild;)n.appendChild(this.ctrlTem.firstElementChild);n.classList.remove("e-acrdn-root"),n.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach((function(e){t.element.removeAttribute(e)})),!this.isNested&&Jt&&this.removeRippleEffect()},t.prototype.preRender=function(){var e=vt(this.element,"."+Af);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),f(e)?this.element.classList.add("e-acrdn-root"):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,"e-rtl")},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.isServerRendered?this.wireFocusEvents():(this.initializeheaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl()),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=b(this.width),t=b(this.height);yt(this.element,{width:e,height:t});f(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),ft(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0&&(!w()||this.isStringTemplate)?gt("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+kf));e<t.length;e++){var n=t[e],i=n.querySelector("."+If);n.childElementCount>0&&i&&(ce.clearEvents(i),ce.add(i,"focus",this.focusIn,this),ce.add(i,"blur",this.focusOut,this))}},t.prototype.unwireEvents=function(){ce.remove(this.element,"click",this.clickHandler),f(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){ce.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||(this.removeRippleEffect=qt(this.element,{selector:"."+If})),this.isNested||(this.keyModule=new xn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return ze(document.querySelector(e).innerHTML.trim())}catch(t){return ze(e)}},t.prototype.initializeheaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getheaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},t.prototype.ctrlTemplate=function(){var e;this.ctrlTem=this.element.cloneNode(!0);var t=gt(".e-accordion-container",this.element);e=t?t.children:this.element.children;var n=[];[].slice.call(e).forEach((function(e){n.push({header:e.childElementCount>0&&e.children[0]?e.children[0]:"",content:e.childElementCount>1&&e.children[1]?e.children[1]:""}),e.parentNode.removeChild(e)})),t&&this.element.removeChild(t),this.setProperties({items:n},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:"e-toggle-icon"}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e)if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t])},t.prototype.renderItems=function(){var e,t,n=this,i=this.element;if(f(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((function(e,r){t=n.renderInnerItem(e,r),i.appendChild(t),t.childElementCount>0&&(ce.add(t.querySelector("."+If),"focus",n.focusIn,n),ce.add(t.querySelector("."+If),"blur",n.focusOut,n))}));else{var r=this.items;i&&r.length>0&&r.forEach((function(t,r){e=n.renderInnerItem(t,r),i.appendChild(e),e.childElementCount>0&&(ce.add(e.querySelector("."+If),"focus",n.focusIn,n),ce.add(e.querySelector("."+If),"blur",n.focusOut,n))}))}},t.prototype.clickHandler=function(e){var t,n,i=this,r=e.target,o=this.getItems(),a={};if(vt(r,".e-accordion")===this.element){r.classList.add("e-target");var s,l=vt(r,"."+kf),c=vt(r,"."+If),d=vt(r,"."+Af);if(l&&(f(c)||f(d))&&(c=l.children[0],d=l.children[1]),c&&(n=gt(".e-toggle-icon",c)),c?s=vt(c,"."+kf):d&&(s=vt(d,"."+kf)),t=this.getIndexByItem(l),s&&(a.item=o[this.getIndexByItem(s)]),a.originalEvent=e,!(!f(n)&&l.childElementCount<=1)||!f(d)&&f(gt("."+If+" .e-toggle-icon",s)))this.afterContentRender(r,a,l,c,d,s);else if(this.isServerRendered){var h=l.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",t).then((function(){i.isDestroyed||i.afterContentRender(r,a,l,c,d,s)})):this.interopAdaptor.invokeMethodAsync("OnDataClick",h).then((function(){i.isDestroyed||i.afterContentRender(r,a,l,c,d,s)}))}else l.appendChild(this.contentRendering(t)),this.ariaAttrUpdate(l),this.afterContentRender(r,a,l,c,d,s)}},t.prototype.afterContentRender=function(e,t,n,i,r,o){var a=this,s=[];this.trigger("clicked",t);var l=r&&!f(gt(".e-target",r)),c=r&&!f(gt(".e-accordion",r))&&f(vt(e,".e-acrdn-panel .e-accordion")),d=r&&f(gt(".e-accordion",r))||!(vt(e,".e-accordion")===this.element);if(l=l&&(c||d),e.classList.remove("e-target"),!(e.classList.contains(Af)||e.classList.contains("e-acrdn-content")||l)){var h=this.element.querySelector(".e-accordion-container"),p=h?h.children:this.element.children;[].slice.call(p).forEach((function(e){e.classList.contains("e-active")&&s.push(e)}));var u=[].slice.call(this.element.querySelectorAll("."+kf+" [e-animate]"));if(u.length>0)for(var g=0,m=u;g<m.length;g++){var v=m[g];s.push(v.parentElement)}var y=-1!==s.indexOf(o)&&"true"===r.getAttribute("e-animate"),b=!1;if(!f(n)&&!f(i)){var w=gt("."+Af,n),x=vt(n,".e-acrdn-root").querySelector(".e-expand-state");if(f(w))return;b=x===n,!lt(w)||y&&!o.classList.contains("e-selected")?(s.length>0&&"Single"===this.expandMode&&!y&&s.forEach((function(e){a.collapse(gt("."+Af,e)),e.classList.remove("e-expand-state")})),this.expand(w)):this.collapse(w),f(x)||b||x.classList.remove("e-expand-state")}}},t.prototype.eleMoveFocus=function(e,t,n){var i,r=vt(n,"."+kf);n===t?i=("moveUp"===e?n.lastElementChild:n).querySelector("."+If):n.classList.contains(If)&&(r="moveUp"===e?r.previousElementSibling:r.nextElementSibling)&&(i=gt("."+If,r)),i&&i.focus()},t.prototype.keyActionHandler=function(e){var t=e.target;if(!f(vt(e.target,If))||t.classList.contains("e-accordion")||t.classList.contains(If)){var n,i=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,i,t);break;case"space":case"enter":!f(n=t.nextElementSibling)&&n.classList.contains(Af)?"true"!==n.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":("home"===e.action?i.firstElementChild.children[0]:i.lastElementChild.children[0]).focus()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:If,id:m("acrdn_header")});return ft(e,{tabindex:"0",role:"heading","aria-selected":"false","aria-disabled":"false","aria-level":this.getItems().length.toString()}),e},t.prototype.renderInnerItem=function(e,t){var n;if((n=this.createElement("div",{className:kf})).id=m("acrdn_item"),ft(n,{"aria-expanded":"false"}),this.headerTemplate){var i=this.headerEleGenerate(),r=this.createElement("div",{className:"e-acrdn-header-content"});return i.appendChild(r),dt(this.getheaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),r),n.appendChild(i),i.appendChild(this.toggleIconGenerate()),this.add(n,"e-select"),n}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"===typeof e.header&&(e.header=Mn.sanitize(e.header));i=this.headerEleGenerate(),r=this.createElement("div",{className:"e-acrdn-header-content"});i.appendChild(r),i.appendChild(this.fetchElement(r,e.header,t,!0)),n.appendChild(i)}var o=gt("."+If,n);if(!e.expanded||f(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&ot([n],e.cssClass.split(" ")),e.disabled&&ot([n],"e-overlay"),!1===e.visible&&ot([n],"e-hide"),e.iconCss){var a=this.createElement("div",{className:"e-acrdn-header-icon"}),s=this.createElement("span",{className:e.iconCss+" e-icons"});a.appendChild(s),f(o)?((o=this.headerEleGenerate()).appendChild(a),n.appendChild(o)):o.insertBefore(a,o.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var l=this.toggleIconGenerate();f(o)&&(o=this.headerEleGenerate(),n.appendChild(o)),o.appendChild(l),this.add(n,"e-select")}return n},t.prototype.angularnativeCondiCheck=function(e,t){var n="content"===t?e.content:e.header;if(this.isAngular&&!f(n.elementRef)){var i=n.elementRef.nativeElement.data;if(f(i)||""===i||-1===i.indexOf("bindings="))return!0;var r=JSON.parse(n.elementRef.nativeElement.data.replace("bindings=",""));return!(!f(r)&&"false"===r["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,n,i){var r,o,a;try{if(document.querySelectorAll(t).length){var s=document.querySelector(t);o=s.outerHTML.trim(),e.appendChild(s),s.style.display=""}}catch(c){"string"===typeof t&&w()&&0!==t.indexOf("<div>Blazor")?e.innerHTML=Mn.sanitize(t):!f(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):r=ze(t)}if(!f(r)){var l=void 0;e.classList.contains("e-acrdn-header-content")?l=this.element.id+n+"_header":e.classList.contains("e-acrdn-content")&&(l=this.element.id+n+"_content"),a=r({},null,null,l,this.isStringTemplate)}return f(a)||!(a.length>0)||f(a[0].tagName)&&1===a.length?0===e.childElementCount&&(e.innerHTML=Mn.sanitize(t)):[].slice.call(a).forEach((function(t){f(t.tagName)||(t.style.display=""),e.appendChild(t)})),f(o)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=gt("."+If,e),n=gt("."+Af,e);t.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",t.id),n.setAttribute("role","definition")},t.prototype.contentRendering=function(e){var t=this.createElement("div",{className:Af+" e-content-hide",id:m("acrdn_panel")});ft(t,{"aria-hidden":"true"});var n=this.createElement("div",{className:"e-acrdn-content"});return this.dataSource.length>0?(dt(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),n),t.appendChild(n)):(this.enableHtmlSanitizer&&(this.items[e].content,1)&&(this.items[e].content=Mn.sanitize(this.items[e].content)),t.appendChild(this.fetchElement(n,this.items[e].content,e,!1))),t},t.prototype.expand=function(e){var t,n=this,i=this.getItems(),r=vt(e,"."+kf);if(!(f(e)||lt(e)&&"true"!==e.getAttribute("e-animate")||r.classList.contains("e-overlay"))){var o=vt(r,".e-acrdn-root").querySelector(".e-expand-state"),a={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},s=gt(".e-toggle-icon",r).firstElementChild;t={element:r,item:i[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+Af),isExpanded:!0},this.trigger("expanding",t,(function(t){t.cancel||(s.classList.add("e-toggle-animation"),n.expandedItemsPush(r),f(o)||o.classList.remove("e-expand-state"),r.classList.add("e-expand-state"),"None"===a.name?(n.expandProgress("begin",s,e,r,t),n.expandProgress("end",s,e,r,t)):n.expandAnimation(a.name,s,e,r,a,t))}))}},t.prototype.expandAnimation=function(e,t,n,i,r,o){var a,s=this;this.lastActiveItemId=i.id,"SlideDown"===e?(r.begin=function(){s.expandProgress("begin",t,n,i,o),n.style.position="absolute",a=i.offsetHeight,n.style.maxHeight=n.offsetHeight+"px",i.style.maxHeight=""},r.progress=function(){i.style.minHeight=a+n.offsetHeight+"px"},r.end=function(){yt(n,{position:"",maxHeight:""}),i.style.minHeight="",s.expandProgress("end",t,n,i,o)}):(r.begin=function(){s.expandProgress("begin",t,n,i,o)},r.end=function(){s.expandProgress("end",t,n,i,o)}),new Gt(r).animate(n)},t.prototype.expandProgress=function(e,t,n,i,r){this.remove(n,"e-content-hide"),this.add(i,"e-selected"),this.add(t,"e-expand-icon"),"end"===e&&(this.add(i,"e-active"),n.setAttribute("aria-hidden","false"),ft(i,{"aria-expanded":"true"}),ft(n.previousElementSibling,{"aria-selected":"true"}),t.classList.remove("e-toggle-animation"),this.trigger("expanded",r))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){var n=[].slice.call(this.expandedIndices);n.push(t),this.setProperties({expandedIndices:n},!0)}},t.prototype.getIndexByItem=function(e){var t=this.getItemElements();return[].slice.call(t).indexOf(e)},t.prototype.getItemElements=function(){var e=[],t=this.element.children;return[].slice.call(t).forEach((function(t){t.classList.contains(kf)&&e.push(t)})),e},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e),n=[].slice.call(this.expandedIndices);n.splice(n.indexOf(t),1),this.setProperties({expandedIndices:n},!0)},t.prototype.collapse=function(e){var t,n=this,i=this.getItems(),r=vt(e,"."+kf);if(!f(e)&&lt(e)&&!r.classList.contains("e-overlay")){var o={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},a=gt(".e-toggle-icon",r).firstElementChild;t={element:r,item:i[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+Af),isExpanded:!1},this.trigger("expanding",t,(function(t){t.cancel||(n.expandedItemsPop(r),r.classList.add("e-expand-state"),a.classList.add("e-toggle-animation"),"None"===o.name?(n.collapseProgress("begin",a,e,r,t),n.collapseProgress("end",a,e,r,t)):n.collapseAnimation(o.name,e,r,a,o,t))}))}},t.prototype.collapseAnimation=function(e,t,n,i,r,o){var a,s,l,c,d=this;this.lastActiveItemId=n.id,"SlideUp"===e?(r.begin=function(){l=n.offsetHeight,n.style.minHeight=l+"px",t.style.position="absolute",a=n.offsetHeight,s=t.offsetHeight,t.style.maxHeight=s+"px",d.collapseProgress("begin",i,t,n,o)},r.progress=function(){(c=a-(s-t.offsetHeight))<l&&(n.style.minHeight=c+"px")},r.end=function(){t.style.display="none",d.collapseProgress("end",i,t,n,o),n.style.minHeight="",yt(t,{position:"",maxHeight:"",display:""})}):(r.begin=function(){d.collapseProgress("begin",i,t,n,o)},r.end=function(){d.collapseProgress("end",i,t,n,o)}),new Gt(r).animate(t)},t.prototype.collapseProgress=function(e,t,n,i,r){this.remove(t,"e-expand-icon"),this.remove(i,"e-selected"),"end"===e&&(this.add(n,"e-content-hide"),t.classList.remove("e-toggle-animation"),this.remove(i,"e-active"),n.setAttribute("aria-hidden","true"),ft(i,{"aria-expanded":"false"}),ft(n.previousElementSibling,{"aria-selected":"false"}),this.trigger("expanded",r))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.itemAttribUpdate=function(){var e=this.getItems(),t=this.getItemElements(),n=e.length;t.forEach((function(e){gt("."+If,e).setAttribute("aria-level",""+n)}))},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,t){var n=this,i=this.element,r=this.getItemElements(),o=this.getItems();(f(t)&&(t=o.length),i.childElementCount>=t)&&(e instanceof Array?e:[e]).forEach((function(e,a){var s=t+a;o.splice(s,0,e);var l=n.renderInnerItem(e,s);i.childElementCount===s?i.appendChild(l):i.insertBefore(l,r[s]),ce.add(l.querySelector("."+If),"focus",n.focusIn,n),ce.add(l.querySelector("."+If),"blur",n.focusOut,n),n.itemAttribUpdate(),n.expandedIndices=[],n.expandedItemRefresh(i),e&&e.expanded&&n.expandItem(!0,s)}))},t.prototype.expandedItemRefresh=function(e){var t=this,n=this.getItemElements();[].slice.call(n).forEach((function(e){e.classList.contains("e-selected")&&t.expandedItemsPush(e)}))},t.prototype.removeItem=function(e){var t=this.getItemElements()[e],n=this.getItems();f(t)||(this.restoreContent(e),pt(t),n.splice(e,1),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(this.element))},t.prototype.select=function(e){var t=this.getItemElements()[e];f(t)||f(gt("."+If,t))||t.children[0].focus()},t.prototype.hideItem=function(e,t){var n=this.getItemElements()[e];f(n)||(f(t)&&(t=!0),t?this.add(n,"e-hide"):this.remove(n,"e-hide"))},t.prototype.enableItem=function(e,t){var n=this.getItemElements()[e];if(!f(n)){var i=n.firstElementChild;t?(this.remove(n,"e-overlay"),ft(i,{tabindex:"0","aria-disabled":"false"}),i.focus()):(n.classList.contains("e-active")&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,i)),this.add(n,"e-overlay"),i.setAttribute("aria-disabled","true"),i.removeAttribute("tabindex"))}},t.prototype.refresh=function(){this.isServerRendered||e.prototype.refresh.call(this)},t.prototype.expandItem=function(e,t){var n=this,i=this.getItemElements();if(f(t))if("Single"===this.expandMode&&e){var r=i[i.length-1];this.itemExpand(e,r,this.getIndexByItem(r))}else{var o=gt("#"+this.lastActiveItemId,this.element);[].slice.call(i).forEach((function(t){n.itemExpand(e,t,n.getIndexByItem(t)),t.classList.remove("e-expand-state")}));var a=gt(".e-expand-state",this.element);a&&a.classList.remove("e-expand-state"),o&&o.classList.add("e-expand-state")}else{if(f(r=i[t])||!r.classList.contains("e-select")||r.classList.contains("e-active")&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,r,t)}},t.prototype.itemExpand=function(e,t,n){var i=this,r=t.children[1];if(!t.classList.contains("e-overlay"))if(f(r)&&e)if(this.isServerRendered){var o=t.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",n).then((function(){i.isDestroyed||(r=t.children[1],i.expand(r))})):this.interopAdaptor.invokeMethodAsync("OnDataClick",o).then((function(){i.isDestroyed||(r=t.children[1],i.expand(r))}))}else r=this.contentRendering(n),t.appendChild(r),this.ariaAttrUpdate(t),this.expand(r);else f(r)||(e?this.expand(r):this.collapse(r))},t.prototype.destroyItems=function(){this.restoreContent(null),[].slice.call(this.element.querySelectorAll("."+kf)).forEach((function(e){pt(e)}))},t.prototype.restoreContent=function(e){var t;t=f(e)?this.element:this.element.querySelectorAll("."+kf)[e],this.templateEle.forEach((function(e){f(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")}))},t.prototype.updateItem=function(e,t){if(!f(e)){var n=this.getItems(),i=n[t];n.splice(t,1),this.restoreContent(t),pt(e),this.addItem(i,t)}},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedIndices"])},t.prototype.onPropertyChanged=function(e,t){for(var n=this.element,i=!1,r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"items":if(this.isServerRendered){this.wireFocusEvents();break}if(e.items instanceof Array&&t.items instanceof Array)i=!0;else for(var a=Object.keys(e.items),s=0;s<a.length;s++){var l=parseInt(Object.keys(e.items)[s],10),c=Object.keys(e.items[l])[0],d=mt("."+kf,this.element)[l],h=Object(t.items[l])[c],p=Object(e.items[l])[c];("header"===c||"iconCss"===c||"expanded"===c||"content"===c&&""===h)&&this.updateItem(d,l),"cssClass"!==c||f(d)||(d.classList.remove(h),d.classList.add(p)),"visible"!==c||f(d)||(!1===Object(e.items[l])[c]?d.classList.add("e-hide"):d.classList.remove("e-hide")),"disabled"!==c||f(d)||this.enableItem(l,!p),"content"!==c||f(d)||2!==d.children.length||(d.classList.contains("e-selected")&&this.expandItem(!1,l),pt(d.querySelector("."+Af)))}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),i=!0;break;case"headerTemplate":this.initializeheaderTemplate(),i=!0;break;case"itemTemplate":this.initializeItemTemplate(),i=!0;break;case"enableRtl":e.enableRtl?this.add(n,"e-rtl"):this.remove(n,"e-rtl");break;case"height":yt(this.element,{height:b(e.height)});break;case"width":yt(this.element,{width:b(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedIndices.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}}i&&!this.isServerRendered&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())},Tf([_t([],Df)],t.prototype,"items",void 0),Tf([zt([])],t.prototype,"dataSource",void 0),Tf([zt()],t.prototype,"itemTemplate",void 0),Tf([zt()],t.prototype,"headerTemplate",void 0),Tf([zt("100%")],t.prototype,"width",void 0),Tf([zt("auto")],t.prototype,"height",void 0),Tf([zt([])],t.prototype,"expandedIndices",void 0),Tf([zt("Multiple")],t.prototype,"expandMode",void 0),Tf([zt(!1)],t.prototype,"enableHtmlSanitizer",void 0),Tf([Bt({},jf)],t.prototype,"animation",void 0),Tf([Ft()],t.prototype,"clicked",void 0),Tf([Ft()],t.prototype,"expanding",void 0),Tf([Ft()],t.prototype,"expanded",void 0),Tf([Ft()],t.prototype,"created",void 0),Tf([Ft()],t.prototype,"destroyed",void 0),t=Tf([Vt],t)}(ln),Rf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nf=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zf=function(e){var t=e;return t.sourcePoint||t.targetPoint||t.sourceID||t.targetID||t.sourcePortID||t.targetPortID||t.sourceDecorator||t.targetDecorator?$a:(e.shape&&(e.shape instanceof od||e.shape.type),Dd)},Bf=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return Rf(t,e),Nf([zt("")],t.prototype,"id",void 0),Nf([zt()],t.prototype,"height",void 0),Nf([zt(!0)],t.prototype,"expanded",void 0),Nf([zt("")],t.prototype,"iconCss",void 0),Nf([zt("")],t.prototype,"title",void 0),Nf([Wt(zf)],t.prototype,"symbols",void 0),t}(nn),Hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rf(t,e),Nf([zt()],t.prototype,"width",void 0),Nf([zt()],t.prototype,"height",void 0),t}(nn),_f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rf(t,e),Nf([zt()],t.prototype,"width",void 0),Nf([zt()],t.prototype,"height",void 0),Nf([Bt({},Jn)],t.prototype,"offset",void 0),t}(nn),Wf=function(e){function t(t,n){var i,r,o=e.call(this,t,n)||this;o.symbolTable={},o.childTable={},o.info="info",o.oldObject=null,o.laneTable={},o.isExpand=!1,o.isExpandMode=!1,o.isMethod=!1,o.paletteid=88123,o.checkOnRender=!1,o.helper=function(e){var t,n=o.selectedSymbol&&o.selectedSymbol.id||e.sender.target.id.split("_container")[0],i=o.symbolTable[n];if(i&&o.selectedSymbol){o.selectedSymbols=o.selectedSymbol.id===i.id?i:o.selectedSymbol;o.getMousePosition(e.sender);(t=o.getSymbolPreview(o.selectedSymbols,e.sender,o.element)).setAttribute("paletteId",o.element.id)}return t};for(var a=0;o&&o.palettes&&a<o.palettes.length;a++)for(var s=0;s<o.palettes[a].symbols.length;s++)i=o.palettes[a].symbols[s],r=t.palettes[a].symbols[s],i&&"UmlActivity"===i.shape.type&&Xl(r,i),(o.nodeDefaults||o.connectorDefaults)&&Kl(i,r,i instanceof Dd?o.nodeDefaults:o.connectorDefaults);return o}return Rf(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=!1,i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"width":this.element.style.width=this.width.toString();break;case"height":this.element.style.height=this.height.toString();break;case"symbolPreview":break;case"symbolWidth":case"symbolHeight":case"getSymbolInfo":n=!0;break;case"enableSearch":if(e.enableSearch)this.createTextbox();else{var o=document.getElementById(this.element.id+"_search");o&&o.parentNode.removeChild(o)}break;case"palettes":for(var a=0,s=Object.keys(e.palettes);a<s.length;a++){var l=s[a],c=Number(l);this.accordionElement.items[c]||(this.accordionElement.items[c]={header:e.palettes[c].title||"",expanded:e.palettes[c].expanded,iconCss:e.palettes[c].iconCss||""}),void 0!==e.palettes[c].iconCss&&(this.accordionElement.items[c].iconCss=e.palettes[c].iconCss||"",n=!0),void 0!==e.palettes[c].expanded&&(this.palettes[c].isInteraction?this.palettes[c].isInteraction=!1:(this.accordionElement.items[c].expanded=e.palettes[c].expanded,this.isExpand=!0),this.isExpandMode||this.isMethod||this.isExpand||(this.isExpand=!0)),w()&&null===e.palettes[c].symbols&&this.updateBlazorProperties(e)}break;case"enableAnimation":this.enableAnimation?this.accordionElement.animation={expand:{duration:400},collapse:{duration:400}}:this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}};break;case"expandMode":this.accordionElement.expandMode=this.expandMode,n=!0,this.isExpandMode=!0;break;case"allowDrag":this.allowDrag=e.allowDrag,this.allowDrag?this.draggable.helper=this.helper:this.draggable.helper=function(){return null}}}if(n&&this.refreshPalettes(),this.isExpand&&!n){this.refresh(),this.isExpand=!1;for(var d=0;d<this.palettes.length;d++){var h=this.palettes[d].id;window[h]&&window[h].length>1&&(window[h][1].parentNode.removeChild(window[h][1]),window[h][1]=null)}}this.isMethod=!1},t.prototype.updateBlazorProperties=function(e){if(window&&window.Blazor){var t={methodName:"UpdateBlazorProperties",paletteobj:{palette:e.palettes}};window.sfBlazor.updateBlazorProperties(t,this)}},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){var e=this;if(""===this.element.id){var t=document.getElementsByClassName("e-symbolpalette").length;this.element.id="symbolpalette_"+this.paletteid+"_"+t}this.element.style.overflow="auto",this.element.style.height=this.height.toString(),this.element.style.width=this.width.toString(),this.enableSearch&&this.createTextbox();var n=ih("div",{id:this.element.id+"_container"});this.accordionElement=new Lf({expandMode:this.expandMode}),this.enableAnimation||(this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}}),this.accordionElement.created=function(){e.checkOnRender=!0},this.accordionElement.expanded=function(t){var n=e.accordionElement.items.indexOf(t.item),i=e.allowServerDataBinding;e.allowServerDataBinding=!1,e.palettes[n].expanded=t.isExpanded,e.palettes[n].isInteraction=!0,e.allowServerDataBinding=i},this.accordionElement.expanding=function(t){if(e.checkOnRender){var n={element:t.element,content:t.content,index:t.index,cancel:!1,isExpanded:t.isExpanded,palette:e.palettes[t.index]};e.trigger("paletteExpanding",n),t.cancel=n.cancel}},this.element.appendChild(n);window.measureElement&&(window.measureElement=null),uh(),this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.diagramRenderer=new Nh(this.element.id,new Rh,!1),this.svgRenderer=new Nh(this.element.id,new Rh,!0),this.updatePalettes(),this.accordionElement.appendTo("#"+this.element.id+"_container"),this.renderComplete()},t.prototype.getModuleName=function(){return"SymbolPalette"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e},t.prototype.destroy=function(){if(this.allowDrag){this.draggable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this);var t=document.getElementById(this.element.id+"_container");if(t){this.element.removeChild(t);if(window.measureElement){window.measureElement.usageCount-=1;window.measureElementCount--,0===window.measureElementCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null)}}(t=document.getElementById(this.element.id+"_search"))&&t.parentNode.removeChild(t),this.element.classList.remove("e-symbolpalette")}},t.prototype.addPalettes=function(e){for(var t,n=0;n<e.length;n++){var i=this.allowServerDataBinding;this.isProtectedOnChange=!0,this.allowServerDataBinding=!1,t=new Bf(this,"palettes",e[n],!0),this.palettes.push(t),this.initSymbols(t),this.allowServerDataBinding=i,this.isProtectedOnChange=!1,this.renderPalette(t)}this.bulkChanges={},this.accordionElement.refresh()},t.prototype.removePalette=function(e){for(var t=0;t<this.palettes.length;t++)if(this.palettes[t].id===e){this.palettes.splice(t,1),this.accordionElement.items.splice(t,1);break}},t.prototype.removePalettes=function(e){var t=this.allowServerDataBinding;this.allowServerDataBinding=!1;for(var n=0;n<e.length;n++)this.removePalette(e[n]);this.accordionElement.refresh(),this.allowServerDataBinding=t},t.prototype.initSymbols=function(e){for(var t=[],n=0,i=0,r=0,o=e.symbols;r<o.length;r++){if("SwimLane"===(C=o[r]).shape.type){var a=C,s=C.shape,l="Horizontal"===s.orientation;if(s.isLane){n=l?this.symbolHeight-this.symbolHeight/2:this.symbolHeight-this.symbolHeight/4,i=l?this.symbolWidth-this.symbolWidth/4:this.symbolWidth-this.symbolWidth/2,this.laneTable[C.id]={height:n,width:i};var c=s.lanes[0].header,d=s.lanes[0].style,h=c.style,p={id:"header"+mh(),shape:{type:"Basic",shape:"Rectangle"},width:l?c.width:a.width,height:l?a.height:c.height,style:h,annotations:[{content:c.annotation.content}]};p.offsetX=p.width/2,p.offsetY=p.height/2,this.addPaletteItem(e.id,p);var u={id:"lane"+mh(),shape:{type:"Basic",shape:"Rectangle"},width:l?a.width-c.width:a.width,height:l?a.height:a.height-c.height,style:d};u.offsetX=l?p.width+u.width/2:u.width/2,u.offsetY=l?u.height/2:p.height+u.height/2,this.addPaletteItem(e.id,u),a.children=[p.id,u.id]}else s.isPhase&&(n=a.height?a.height:this.symbolHeight,i=a.width?a.width:this.symbolWidth,C.shape.type="Path",C.shape.data=l?"M0,0 L"+i+",0":"M0,0 L0,"+i)}if(C instanceof Dd){var f=Dh(this.getNodeDefaults);f&&f(C,this)}else if(C instanceof $a){var g=Dh(this.getConnectorDefaults);g&&g(C,this)}this.symbolTable[C.id]=C,C instanceof Dd&&C.children&&t.push(C)}for(var m=0;m<t.length;m++)for(var v=void 0,y=0;y<t[m].children.length;y++)(v=this.symbolTable[t[m].children[y]])&&(this.childTable[v.id]=v,v.parentId=t[m].id);for(var b=0,w=e.symbols;b<w.length;b++){(C=w[b])instanceof Dd&&C.children||this.prepareSymbol(C)}for(var x=0,S=t;x<S.length;x++){var C=S[x];this.prepareSymbol(C)}},t.prototype.renderPalette=function(e){var t="display:none;overflow:auto;";e.height&&(t+="height:"+e.height+"px");var n=ih("div",{id:e.id,style:t,class:"e-remove-palette"});this.element.appendChild(n);var i={header:e.title,expanded:e.expanded,content:"#"+e.id,iconCss:e.iconCss};this.accordionElement.items.push(i),this.renderSymbols(e,n)},t.prototype.addPaletteItem=function(e,t,n){t=xh(t);for(var i=0;i<this.palettes.length;i++){var r=this.palettes[i];if(-1!==r.id.indexOf(e)){for(var o=[void 0,r,"symbols",{},!0],a=new(Function.prototype.bind.apply(zf(t),o)),s=0;s<Object.keys(t).length;s++){var l=this.allowServerDataBinding;this.allowServerDataBinding=!1,a[Object.keys(t)[s]]=t[Object.keys(t)[s]],this.allowServerDataBinding=l}Kl(a,t,a instanceof Dd?this.nodeDefaults:this.connectorDefaults),r.symbols.push(a);var c=this.allowServerDataBinding;if(this.allowServerDataBinding=!1,this.prepareSymbol(a),this.allowServerDataBinding=c,this.symbolTable[a.id]=a,n)this.childTable[a.id]=a;else{var d=document.getElementById(r.id);d&&d.appendChild(this.getSymbolContainer(a,d))}break}}},t.prototype.removePaletteItem=function(e,t){for(var n,i=0;i<this.palettes.length;i++){var r=this.palettes[i];if(-1!==r.id.indexOf(e))for(var o=0,a=r.symbols;o<a.length;o++){var s=a[o];if(-1!==s.id.indexOf(t)){var l=r.symbols.indexOf(s);if(r.symbols.splice(l,1),s.children)for(var c=s.children,d=0;d<c.length;d++)delete this.symbolTable[c[d]];delete this.symbolTable[s.id];var h=document.getElementById(s.id+"_container");h.parentNode.removeChild(h),n=!0;break}}if(n)break}},t.prototype.prepareSymbol=function(e){var t,n,i,r,o,a=new Zc,s=e,l=new sr,c=e instanceof Dd?e.initContainer():null;c&&!c.children&&(c.children=[]);var d=Dh(this.getSymbolTemplate);if(d&&(o=d(e)),o||(s.children?o=this.getContainer(s,c):(o=e.init(this),e instanceof Dd&&e.parentId&&c.children.push(o))),!e.parentId){var h={width:this.symbolWidth,height:this.symbolHeight},p=Dh(this.getSymbolInfo);if(p?h=p(e):w()&&(h=this.getBlazorSymbolInfo(e,h)),h=h||this.symbolInfo||{},e.shape&&e.shape.isPhase&&(h.width=h.width||this.symbolWidth,h.height=h.height||this.symbolHeight),o.relativeMode="Object",o.horizontalAlignment=o.verticalAlignment="Center",l.style.strokeColor=l.style.fill="none",l.children=[o],o.measure(new Kn),o.arrange(o.desiredSize),t=h.width=h.width||(void 0!==s.width?o.actualSize.width:void 0)||this.symbolWidth,i=h.height=h.height||(void 0!==s.height?o.actualSize.height:void 0)||this.symbolHeight,void 0!==t&&void 0!==i){var u=t,f=i,g=(e.shape.isLane,!!e.shape.isPhase);void 0!==this.symbolWidth?u=this.symbolWidth-this.symbolMargin.left-this.symbolMargin.right:t+=s.style.strokeWidth,void 0!==this.symbolHeight?f=this.symbolHeight-this.symbolMargin.top-this.symbolMargin.bottom:i+=s.style.strokeWidth,h.description&&""!==h.description.text&&(f-=20),n=u/(!g&&o.width||t),r=f/(!g&&o.height||i),h.fit&&(n=u/h.width,r=f/h.height),t=u,i=f,n=r=Math.min(n,r),l.width=t,l.height=i,o.width=h.width,o.height=h.height,this.scaleSymbol(e,l,n,r,t,i)}else{var m=void 0;e instanceof $a&&(m=vo(e)),o.width=e.width||m?m.width:o.actualSize.width,o.height=e.height||m?m.height:o.actualSize.height}e.wrapper=a,a.children=[l],o.pivot=a.pivot={x:0,y:0},a.id=o.id+"_symbol",a.style.fill=a.style.strokeColor="transparent",e instanceof Dd?(a.offsetX=e.style.strokeWidth/2,a.offsetY=e.style.strokeWidth/2):(a.offsetX=.5,a.offsetY=.5),this.getSymbolDescription(h,t,a),a.measure(new Kn),a.arrange(a.desiredSize),h.width=h.width||o.actualSize.width,h.height=h.height||o.actualSize.height,e[this.info]=h}e.parentId&&(c.measure(new Kn(s.width,s.height)),c.arrange(c.desiredSize))},t.prototype.getBlazorSymbolInfo=function(e,t){var n=e.symbolInfo;return n&&(t.description=n.description||this.symbolInfo.description,t.fit=n.fit||this.symbolInfo.fit,t.height=n.height||this.symbolInfo.height,t.width=n.width||this.symbolInfo.width,t.tooltip=n.tooltip||this.symbolInfo.tooltip,t.template=n.template||this.symbolInfo.template),t},t.prototype.getContainer=function(e,t){var n;t.measureChildren=!1;var i=e.children;t.children=[];for(var r=0;r<i.length;r++)this.symbolTable[i[r]]&&t.children.push(this.symbolTable[i[r]].wrapper);return t.measure(new Kn(e.width,e.height)),t.arrange(t.desiredSize),0===t.bounds.x&&0===t.bounds.y||(Ic(e,(n=t.bounds).x,n.y,this.symbolTable,!1,this),t=this.getContainer(e,t)),t},t.prototype.getSymbolDescription=function(e,t,n){if(e&&e.description&&e.description.text){var i=new or;e.description.overflow=e.description.overflow||"Ellipsis",e.description.wrap=e.description.wrap||"WrapWithOverflow",i.id=n.id+"_text",i.content=e.description.text,i.width=t,i.height=20,i.style.strokeColor="transparent",i.style.fill="transparent",i.style.strokeWidth=0,i.style.textWrapping=e.description.wrap,i.style.textOverflow=e.description.overflow,i.margin={left:0,right:0,top:0,bottom:5},n.children.push(i)}},t.prototype.renderSymbols=function(e,t){for(var n=0,i=e.symbols;n<i.length;n++){var r=i[n];r.parentId||this.getSymbolContainer(r,t)}},t.prototype.getSymbolPreview=function(e,t,n){var i,r,o;this.allowServerDataBinding=!1;var a=e.wrapper.children[0].desiredSize.width+e.style.strokeWidth,s=e.wrapper.children[0].desiredSize.height+e.style.strokeWidth,l=e.wrapper.children[0].children[0],c=e.previewSize;if(e&&(c.width||c.height)||void 0!==this.symbolPreview.width||void 0!==this.symbolPreview.height){a=(c.width||this.symbolPreview.width||a)-e.style.strokeWidth,s=(c.height||this.symbolPreview.height||s)-e.style.strokeWidth,r=a/l.actualSize.width,o=s/l.actualSize.height,r=o=Math.min(r,o);var d=l.actualSize.width*r,h=l.actualSize.height*o;e.wrapper.children[0].width=a,e.wrapper.children[0].height=s,this.measureAndArrangeSymbol(l,e instanceof Dd),this.scaleSymbol(e,e.wrapper.children[0],r,o,d,h,!0),a=d,s=h}var p={x:l.offsetX,y:l.offsetY};l.offsetX=l.offsetY=e.style.strokeWidth/2,l.pivot={x:0,y:0},this.measureAndArrangeSymbol(l,e instanceof Dd);var u,f=ih("div",{draggable:"true",class:"e-dragclone",style:"pointer-events:none"});document.body.appendChild(f);var g="margin:5px;";if("Native"===e.shape.type){i=rh("svg",{id:e.id+"_preview",width:Math.ceil(a)+1,height:Math.ceil(s)+1});var m=rh("g",{id:e.id+"_g"});i.appendChild(m),f.appendChild(i),this.svgRenderer.renderElement(l,m,void 0,void 0,i)}else if("HTML"===e.shape.type)u=this.getHtmlSymbol(e,i,f,s,a,!0);else if(e.children&&e.children.length>0&&Zl(e,"HTML",this.childTable))u=this.getGroupParent(e,i,f,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!0);else{i=Lh.createCanvas(e.id+"_preview",2*(Math.ceil(a)+e.style.strokeWidth+1),2*(Math.ceil(s)+e.style.strokeWidth+1)),f.appendChild(i),"Basic"===e.shape.type||"Flow"===e.shape.type?g+="transform: scale(0.5) translate(-"+i.width/2+"px, -"+i.height/2+"px);":g+="transform:scale(0.5);",i.setAttribute("transform-origin","0 0");var v=2;e instanceof $a&&(v=1.9),i.getContext("2d").setTransform(v,0,0,v,0,0),this.diagramRenderer.renderElement(l,i,void 0)}return hh(u&&("HTML"===e.shape.type||e.children&&e.children.length>0)?u:i,g),l.offsetX=p.x,l.offsetY=p.y,this.allowServerDataBinding=!0,f},t.prototype.measureAndArrangeSymbol=function(e,t){e.children&&!t&&(e.children[0].transform=Mi.Self),e.measure(new Kn),e.arrange(e.desiredSize),e.children&&(e.children[0].transform=Mi.Parent)},t.prototype.updateSymbolSize=function(e,t,n){var i=e.wrapper.children[0].children[0],r=e.style.strokeWidth;i.width=(t||i.width)-(r+1),i.height=(n||i.height)-(r+1),e.wrapper.measure(new Kn),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.getSymbolContainer=function(e,t,n){var i,r,o,a=this.symbolTable[e.id][this.info],s=this.getSymbolSize(e,a),l=s.width+1,c=s.height+1,d=ih("div",{id:e.id+"_container",style:"width:"+l+"px;height:"+c+"px;float:left;overflow:hidden",title:a.tooltip?a.tooltip:e.id});if(t.appendChild(d),"Native"===e.shape.type)i=rh("svg",{id:e.id,width:Math.ceil(e.wrapper.actualSize.width)+1,height:Math.ceil(e.wrapper.actualSize.height)+1}),r=rh("g",{id:e.id+"_g"}),i.appendChild(r),d.appendChild(i),this.updateSymbolSize(e),this.svgRenderer.renderElement(e.wrapper,r,void 0,void 0,i);else if("HTML"===e.shape.type)o=this.getHtmlSymbol(e,i,d,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else if(e.children&&e.children.length>0&&Zl(e,"HTML",this.childTable))o=this.getGroupParent(e,i,d,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else{i=Lh.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),d.appendChild(i);var h=2;e instanceof $a&&(h=1.9),i.getContext("2d").setTransform(h,0,0,h,0,0),this.diagramRenderer.renderElement(e.wrapper,r||i,void 0,void 0,void 0,void 0,!0,void 0,!0)}if(!n){var p=e.wrapper.actualSize.width+e.style.strokeWidth,u=e.wrapper.actualSize.height+e.style.strokeWidth,f="pointer-events:none;transform-origin:0 0;overflow:hidden;";return e.shape.isPhase?"Horizontal"===e.shape.orientation?f+="margin-left:"+Math.max(this.symbolMargin.left,(l-p)/2)+"px;margin-top:"+s.height/2+"px;":f+="margin-left:"+s.width/2+"px;margin-top:"+Math.max(this.symbolMargin.top,(c-u)/2)+"px;":f+="margin-left:"+Math.max(this.symbolMargin.left,(l-p)/2)+"px;margin-top:"+Math.max(this.symbolMargin.top,(c-u)/2)+"px;",i instanceof HTMLCanvasElement&&(f+="transform:scale(.5,.5);"),hh(o&&("HTML"===e.shape.type||e.children&&e.children.length>0)?o:i,f),d.classList.add("e-symbol-draggable"),d}return i},t.prototype.getGroupParent=function(e,t,n,i,r,o){var a=ih("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=ih("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(i+1)+"px;position:absolute",class:"e-html-layer"}),l=ih("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(i+1)+"px;position:absolute"});return s.appendChild(l),a.appendChild(s),t=Lh.createCanvas(o?e.id+"_preview":e.id,Math.ceil(r)+1,Math.ceil(i)+1),a.appendChild(t),n.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getHtmlSymbol=function(e,t,n,i,r,o){var a=ih("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=ih("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(i+1)+"px;position:absolute",class:"e-html-layer"}),l=ih("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(i+1)+"px;position:absolute"});return s.appendChild(l),a.appendChild(s),t=Lh.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),n.appendChild(t),t.getContext("2d").setTransform(2,0,0,2,0,0),a.appendChild(t),n.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getSymbolSize=function(e,t){var n=e.wrapper.actualSize.width,i=e.wrapper.actualSize.height;return this.symbolWidth||this.symbolHeight?(n=this.symbolWidth,i=Math.max(this.symbolHeight,i)):(n+=this.symbolMargin.left+this.symbolMargin.right+e.style.strokeWidth,i+=this.symbolMargin.top+this.symbolMargin.bottom+e.style.strokeWidth),new Kn(n,i)},t.prototype.getMousePosition=function(e){var t,n,i;if(-1!==e.type.indexOf("touch")){var r=(i=e).changedTouches[0].clientY,o=i.changedTouches[0].clientX;t=r-this.element.offsetTop,n=o-this.element.offsetLeft}else t=e.clientY-this.element.offsetTop,n=e.clientX-this.element.offsetLeft;return{x:n,y:t}},t.prototype.mouseMove=function(e,t){!this.highlightedSymbol||this.selectedSymbol&&this.selectedSymbol.id+"_container"===this.highlightedSymbol.id||(this.highlightedSymbol.classList.remove("e-symbol-hover"),this.highlightedSymbol.style.backgroundColor="",this.highlightedSymbol=null);var n=e.target.id.split("_container")[0];if(this.symbolTable[n]){var i=document.getElementById(n+"_container");i.classList.add("e-symbol-hover"),this.highlightedSymbol=i}e.preventDefault()},t.prototype.mouseUp=function(e){if(this.isMethod=!0,e&&e.target)if("iconSearch"===e.srcElement.id){var t=document.getElementById("iconSearch");t.classList.contains("e-clear-searchtext")&&(t.className="e-input-group-icon e-search e-icons",document.getElementById("textEnter").value="",this.searchPalette(""))}else{var n=e.target.id.split("_container")[0];if(n&&this.selectedSymbol){var i={oldValue:this.oldObject,newValue:n};this.trigger("paletteSelectionChange",i),this.oldObject=n,e.preventDefault()}}},t.prototype.keyUp=function(e){var t=this;if(this.enableSearch){var n=this;document.getElementById("iconSearch").className="e-input-group-icon e-clear-searchtext e-icons",!e||"Enter"!==e.key&&13!==e.keyCode?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.target instanceof HTMLInputElement&&(n.searchPalette(e.target.value),t.timer=null)}),500)):e.target instanceof HTMLInputElement&&this.searchPalette(e.target.value)}},t.prototype.mouseDown=function(e){var t=e.target.id.split("_container")[0];if(this.selectedSymbol){var n,i=document.getElementById(this.selectedSymbol.id+"_container");t!==this.selectedSymbol.id&&i&&i.classList.remove("e-symbol-selected"),(n=document.getElementById(this.selectedSymbol.id+"_container"))&&(n.style.backgroundColor=""),this.selectedSymbol=null}this.symbolTable[t]&&((n=document.getElementById(t+"_container")).classList.add("e-symbol-selected"),this.selectedSymbol=this.symbolTable[t],e.preventDefault())},t.prototype.keyDown=function(e){if(e&&"Escape"===e.key){var t=this.draggable.helperElement;t&&t.parentNode&&(t.parentNode.removeChild(t),this.draggable.intDestroy())}},t.prototype.initDraggable=function(){if(this.allowDrag){this.draggable=new fn(this.element,{dragTarget:".e-symbol-draggable",helper:this.helper,dragStart:this.dragStart,preventDefault:!1,dragStop:this.dragStop,drag:function(e){var t=oh(e.target,"e-droppable");if(t&&t.classList.contains("e-diagram")){t.ej2_instances[0].droppable.over(e)}},cursorAt:{left:this.symbolPreview.offset.x,top:this.symbolPreview.offset.y}})}},t.prototype.dragStart=function(e){var t=this.helper[0];t&&t.setAttribute("paletteId",this.element.id),w()&&e.bindEvents(e.dragElement)},t.prototype.dragStop=function(e){oh(e.target,"e-diagram")||ut(e.helper)},t.prototype.scaleSymbol=function(e,t,n,i,r,o,a){if(e instanceof $a){var s=e.wrapper;e.wrapper=t.children[0];for(var l=e.scale(n,i,r,o,t.children[0]),c=r/2-t.children[0].children[0].offsetX+l.x/2,d=o/2-t.children[0].children[0].offsetY+l.y/2,h=0,p=t.children[0].children;h<p.length;h++){var u=p[h];u.offsetX+=c,u.offsetY+=d,u.staticSize=!1}e.wrapper=s}else if("Bpmn"===e.shape.type&&this.bpmnModule){s=e.wrapper;e.wrapper=t,t.children[0].width=r,t.children[0].height=o,this.bpmnModule.updateBPMN({width:r,height:o},e,e,null),e.wrapper=s}else if(e.children){var f,g,m=e.children;if(!a)for(var v=void 0,y=void 0,b=0;b<m.length;b++)(y=t.children[0].children[b])&&(y.children[0].children&&this.measureChild(y),v=this.symbolTable[y.id],y.width=v.width,y.height=v.height,y.measure(new Kn),y.arrange(y.children[0].desiredSize));if(f=r/t.children[0].desiredSize.width,g=o/t.children[0].desiredSize.height,t.children[0].measure(new Kn),t.children[0].arrange(t.children[0].desiredSize),!a){var w=void 0;for(b=0;b<m.length;b++)(w=t.children[0].children[b])&&(w.children[0].children&&this.scaleChildren(w,f,g,e),this.scaleGroup(w,f,g,e))}if(a){v=void 0;var x=void 0,S=void 0;for(w=void 0,b=0;b<m.length;b++)v=this.symbolTable[m[b]],x=r/e.wrapper.children[0].desiredSize.width,S=o/e.wrapper.children[0].desiredSize.height,(w=t.children[0].children[b])&&(w.children[0].children&&this.scaleChildren(w,x,S,e,!0),this.scaleGroup(w,x,S,e,!0));e.wrapper.children[0].measure(new Kn),e.wrapper.children[0].arrange(e.wrapper.children[0].desiredSize)}}else!function e(t,n,i,r){if(void 0!==t.width&&void 0!==t.height&&(t.width*=n,t.height*=i),t instanceof ir){var o=pi(),a=r.width||r.actualSize.width,s=r.height||r.actualSize.height;if(void 0!==a&&void 0!==s){var l=r.offsetX-a*r.pivot.x,c=r.offsetY-s*r.pivot.y,d={x:l+a*r.pivot.x,y:c+s*r.pivot.y};d=jh(r.rotateAngle,r.offsetX,r.offsetY,d),fi(o,-r.rotateAngle,d.x,d.y),gi(o,n,i,d.x,d.y),fi(o,r.rotateAngle,d.x,d.y);for(var h=0,p=t.children;h<p.length;h++){var u=p[h];if(void 0!==u.width&&void 0!==u.height){var f=ui(o,{x:u.offsetX,y:u.offsetY});u.offsetX=f.x,u.offsetY=f.y,e(u,n,i,r)}}}}}(t.children[0],n,i,t)},t.prototype.scaleChildren=function(e,t,n,i,r){for(var o,a=0;a<e.children.length;a++)(o=e.children[a]).children[0].children?this.scaleChildren(o,t,n,i,r):this.scaleGroup(o,t,n,i,r)},t.prototype.measureChild=function(e){for(var t,n,i=0;i<e.children.length;i++)(t=e.children[i]).children[0].children?this.measureChild(t):(n=this.symbolTable[t.id],t.width=n.width,t.height=n.height,t.measure(new Kn),t.arrange(t.children[0].desiredSize))},t.prototype.scaleGroup=function(e,t,n,i,r){e.width=e.width*t,e.height=e.height*n,e.offsetX=r?e.offsetX*t-i.style.strokeWidth:e.offsetX*t+i.style.strokeWidth/2,e.offsetY=r?e.offsetY*n-i.style.strokeWidth:e.offsetY*n+i.style.strokeWidth/2,e.measure(new Kn),e.arrange(e.children[0].desiredSize)},t.prototype.refreshPalettes=function(){this.accordionElement.items=[],function(e,t){var n;for(n=t?document.getElementById(t).getElementsByClassName(e):document.getElementsByClassName(e);n.length>0;)n[0].parentNode.removeChild(n[0])}("e-remove-palette",this.element.id),this.updatePalettes(),this.accordionElement.dataBind()},t.prototype.updatePalettes=function(){for(var e=0;e<this.palettes.length;e++){var t=this.palettes[e];this.initSymbols(t),this.renderPalette(t)}},t.prototype.createTextbox=function(){var e=ih("div",{id:this.element.id+"_search"});hh(e,"backgroundColor:white;height:30px"),e.className="e-input-group",this.element.appendChild(e);var t=ih("input",{});t.placeholder="Search Shapes",t.id="textEnter",hh(t,"width:100%;height:auto"),t.className="e-input",e.appendChild(t);var n=ih("span",{id:"iconSearch",className:"e-input-group-icon e-search e-icons"});e.appendChild(n)},t.prototype.getFilterSymbol=function(e){for(var t=[],n=0;n<e.length;n++)for(var i=0;i<this.ignoreSymbolsOnSearch.length;i++)this.ignoreSymbolsOnSearch[i]!==e[n].id&&t.push(e[0]);return t},t.prototype.searchPalette=function(e){var t,n=[],i=document.getElementById("SearchPalette");if(i)for(var r=i.children.length-1;r>=0;r--)i.removeChild(i.children[r]);for(var o=0;o<this.palettes.length;o++)for(var a=this.palettes[o],s=0;s<a.symbols.length;s++){var l=a.symbols[s];""!==e&&-1!==l.id.toLowerCase().indexOf(e.toLowerCase())&&n.push(l)}var c=Dh(this.filterSymbols);if(c&&(n=c(n)||[]),this.ignoreSymbolsOnSearch&&this.ignoreSymbolsOnSearch.length>0&&(n=this.getFilterSymbol(n)),i||(i=t=this.createSearchPalette(t)),n.length>0)for(var d=0,h=n;d<h.length;d++){var p=h[d];this.getSymbolContainer(p,i)}else if(""!==e){var u=ih("div",{id:"EmptyDiv",style:"text-align:center;font-style:italic"});u.innerHTML="No Items To Display",i.appendChild(u)}else{document.getElementById("iconSearch").className="e-input-group-icon e-search e-icons",this.accordionElement.removeItem(0);var f=document.getElementById("SearchPalette");f&&f.remove()}},t.prototype.createSearchPalette=function(e){e=ih("div",{id:"SearchPalette",style:"display:none;overflow:auto;"}),this.element.appendChild(e);return this.accordionElement.addItem({header:"Search Results",expanded:!0,content:"#SearchPalette"},0),e},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent;ce.add(this.element,e,this.mouseDown,this),ce.add(this.element,n,this.mouseMove,this),ce.add(this.element,t,this.mouseUp,this),ce.add(this.element,"keyup",this.keyUp,this),ce.add(document,"keydown",this.keyDown,this),this.initDraggable()},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent;le.isPointer;ce.remove(this.element,e,this.mouseDown),ce.remove(this.element,n,this.mouseMove),ce.remove(this.element,t,this.mouseUp),ce.remove(this.element,"keyup",this.keyUp),ce.remove(document,"keydown",this.keyDown)},Nf([zt("S")],t.prototype,"accessKey",void 0),Nf([zt("100%")],t.prototype,"width",void 0),Nf([zt("100%")],t.prototype,"height",void 0),Nf([_t([],Bf)],t.prototype,"palettes",void 0),Nf([zt()],t.prototype,"getSymbolInfo",void 0),Nf([zt({fit:!0})],t.prototype,"symbolInfo",void 0),Nf([zt()],t.prototype,"filterSymbols",void 0),Nf([zt()],t.prototype,"ignoreSymbolsOnSearch",void 0),Nf([zt()],t.prototype,"getSymbolTemplate",void 0),Nf([zt()],t.prototype,"symbolWidth",void 0),Nf([zt()],t.prototype,"symbolHeight",void 0),Nf([Bt({left:10,right:10,top:10,bottom:10},Yi)],t.prototype,"symbolMargin",void 0),Nf([zt(!0)],t.prototype,"allowDrag",void 0),Nf([Bt({},_f)],t.prototype,"symbolPreview",void 0),Nf([Bt({},Hf)],t.prototype,"symbolDragSize",void 0),Nf([zt(!1)],t.prototype,"enableSearch",void 0),Nf([zt(!0)],t.prototype,"enableAnimation",void 0),Nf([zt("Multiple")],t.prototype,"expandMode",void 0),Nf([Ft()],t.prototype,"paletteSelectionChange",void 0),Nf([Ft()],t.prototype,"paletteExpanding",void 0),Nf([zt()],t.prototype,"getNodeDefaults",void 0),Nf([zt()],t.prototype,"nodeDefaults",void 0),Nf([zt()],t.prototype,"getConnectorDefaults",void 0),Nf([zt()],t.prototype,"connectorDefaults",void 0),t}(ln),Ff=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vf=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Uf=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.mode="Canvas",i.id="overview",i.actionName="",i.startPoint=null,i.currentPoint=null,i.prevPoint=null,i.scale=null,i.inAction=!1,i.viewPortRatio=1,i.horizontalOffset=0,i.verticalOffset=0,i.model={},i.event=!0,i.overviewid=88123,i.model={width:i.width,height:i.height},i}return Ff(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"sourceID":this.setParent(e.sourceID);break;case"width":case"height":this.renderCanvas(),this.setParent(this.sourceID)}}},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-overview").length;this.element.id="overview_"+this.overviewid+"_"+e}this.element.style.background="transparent",this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.diagramRenderer=new Nh(this.element.id,new Rh,!1),this.renderCanvas(),this.setParent(this.sourceID),this.renderComplete()},t.prototype.getSizeValue=function(e){return e.toString().indexOf("px")>0||e.toString().indexOf("%")>0?e.toString():e.toString()+"px"},t.prototype.renderCanvas=function(e){var t=document.getElementById(this.element.id+"_canvas");t||(t=ih("div",{}),this.element.appendChild(t)),ph(t,{id:this.element.id+"_canvas",class:"drawing",style:"position:relative; margin-top:6px; height:"+this.getSizeValue(this.model.height)+"; width:"+this.getSizeValue(this.model.width)+";style:-ms-touch-action: none;touch-action: none;"}),this.element.setAttribute("tabindex",String(0)),this.element.style.overflow="hidden",this.element.style.height=String(this.model.height),this.element.style.width=String(this.model.width),this.canvas=t},t.prototype.setParent=function(e){var t=document.getElementById(e);if(this.parent){var n=this.parent;this.parent=null,n.setOverview(null,this.element.id),this.removeDocument(this)}this.parent=this.getDiagram(t,"ej2_instances"),this.parent&&this.parent.setOverview(this)},t.prototype.getDiagram=function(e,t){for(var n,i=e[t].length,r=0;r<i;r++)if(ah(e[t][r].element,"e-diagram")){n=e[t][r];break}return n},t.prototype.unWireEvents=function(){var e=le.touchStartEvent,t=le.touchMoveEvent,n=le.isPointer?"pointerleave":"mouseleave",i=le.isPointer,r=(le.info.name,le.touchEndEvent);ce.remove(this.element,e,this.mouseDown),ce.remove(this.element,t,this.mouseMove),ce.remove(this.element,r,this.mouseUp),ce.remove(this.element,n,this.documentMouseUp),ce.remove(window,"resize",this.windowResize);var o=document.getElementById(this.sourceID+"content");o&&ce.remove(o,"scroll",this.scrolled)},t.prototype.wireEvents=function(){var e=le.touchStartEvent,t=le.touchEndEvent,n=le.touchMoveEvent,i=le.isPointer?"pointerleave":"mouseleave",r=le.isPointer;le.info.name;ce.add(this.element,e,this.mouseDown,this),ce.add(this.element,n,this.mouseMove,this),ce.add(this.element,t,this.mouseUp,this),ce.add(this.element,i,this.documentMouseUp,this),ce.add(window,"resize",this.windowResize,this);var o=document.getElementById(this.sourceID+"content");o&&ce.add(o,"scroll",this.scrolled,this)},t.prototype.renderDocument=function(e){e.canvas=this.canvas;var t=document.getElementById(this.canvas.id+"_svg");t&&t.parentNode.removeChild(t);var n=rh("svg",{id:this.canvas.id+"_svg",version:"1.1",xlink:"http://www.w3.org/1999/xlink",class:"overview_svg"});this.svg=n,e.svg=n,e.canvas.appendChild(n);var i,r=document.getElementById(this.element.id),o=r.clientWidth,a=r.clientHeight,s=r.getBoundingClientRect(),l=window.screenX<0?-1*window.screenX:window.screenX,c=window.screenY<0?-1*window.screenY:window.screenY;if(0===o){var d=Math.floor(window.innerWidth-l-Math.floor(s.left));o=d>0?d:Math.floor(window.innerWidth)}if(0===a){var h=Math.floor(window.innerHeight-c-Math.floor(s.top));a=h>0?h:Math.floor(window.innerHeight)}if(o>0&&(n.setAttribute("width",String(o)),this.model.height=a),a>0&&(n.setAttribute("height",String(a)),this.model.width=o),!e.diagramLayerDiv){e.diagramLayerDiv=ih("div",{});document.getElementById(this.element.id);e.diagramLayer=Lh.createCanvas(this.element.id+"_diagramLayer",this.model.width,this.model.height),e.diagramLayer.setAttribute("style","position:absolute; left:0px;  top:0px "),e.diagramLayerDiv.appendChild(e.diagramLayer),e.canvas.appendChild(e.diagramLayerDiv)}i={id:this.element.id+"_diagramLayer_div",style:"width:"+this.model.width+"px; height:"+this.model.height+"px;position:absolute;top:0px;left:0px"},ph(e.diagramLayerDiv,i),this.renderHtmlLayer(e.canvas),this.renderNativeLayer(e.canvas,e),this.addOverviewRectPanel(e)},t.prototype.removeDocument=function(e){var t=document.getElementById(this.canvas.id+"_svg");this.canvas.removeChild(t);var n=document.getElementById(this.element.id+"_htmlLayer");this.canvas.removeChild(n);var i=document.getElementById(this.element.id+"_diagramLayer_div");this.canvas.removeChild(i),e.diagramLayerDiv=null,e.diagramLayer=null},t.prototype.renderHtmlLayer=function(e){var t=ih("div",{id:this.element.id+"_htmlLayer",class:"e-html-layer",style:"pointer-events:none;position:absolute;top:0px;left:0px;"}),n=ih("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;"});return t.appendChild(n),e.appendChild(t),t},t.prototype.renderNativeLayer=function(e,t){if(!document.getElementById(this.element.id+"_nativeLayer_svg")){var n=this.parent.createSvg(this.element.id+"_nativeLayer_svg",this.model.width,this.model.height),i=rh("g",{id:this.element.id+"_nativeLayer"});n.appendChild(i),t.diagramLayerDiv.appendChild(n),dh(n,{class:"e-native-layer"})}},t.prototype.addOverviewRectPanel=function(e){var t=document.getElementById(this.canvas.id+"_overviewsvg");t&&t.parentNode.removeChild(t),t=rh("svg",{id:this.canvas.id+"_overviewsvg",class:"overviewsvg",version:"1.1",xlink:"http://www.w3.org/1999/xlink",style:"position:absolute;left:0px;top:0px; aria-label:Specifies overview",width:this.model.width,height:this.model.height}),e.canvas.appendChild(t);var n=rh("g",{id:this.element.id+"_overviewlayer",style:"pointer-events:none"});t.appendChild(n);var i=rh("rect",{fill:"transparent",width:"100%",height:"100%",class:"overviewbackrect",id:this.canvas.id+"overviewbackrect"});i.setAttribute("style"," pointer-events: none; "),n.appendChild(i);var r=rh("g",{id:this.canvas.id+"overviewhandle",style:"pointer-events:all"});n.appendChild(r);var o=rh("rect",{id:this.canvas.id+"overviewrect",fill:"transparent"});r.appendChild(o),this.renderOverviewCorner("left",r),this.renderOverviewCorner("right",r),this.renderOverviewCorner("top",r),this.renderOverviewCorner("bottom",r),this.renderOverviewCorner("topleft",r),this.renderOverviewCorner("topright",r),this.renderOverviewCorner("bottomleft",r),this.renderOverviewCorner("bottomright",r)},t.prototype.renderOverviewCorner=function(e,t){this.svg;var n,i=rh(n="top"===e||"bottom"===e||"right"===e||"left"===e?"rect":"circle",{id:this.canvas.id+"visible"+e});t.appendChild(i);var r=rh(n,{id:this.canvas.id+e,class:"overviewresizer",fill:"transparent"});t.appendChild(r)},t.prototype.updateOverviewRectangle=function(){var e=this.currentPoint.x-this.prevPoint.x,t=this.currentPoint.y-this.prevPoint.y,n=new Kn;n.width=0,n.height=0;var i=0,r=0;switch(this.resizeDirection){case"left":n.width-=e,n.height-=e/this.viewPortRatio,i=e,r=e/this.viewPortRatio,r/=2;break;case"right":n.width+=e,n.height+=e/this.viewPortRatio,r=e/this.viewPortRatio,r/=-2;break;case"top":n.height-=t,n.width-=t*this.viewPortRatio,r=t,i=t*this.viewPortRatio,i/=2;break;case"bottom":n.height+=t,n.width+=t*this.viewPortRatio,i=t*this.viewPortRatio,i/=-2;break;case"topleft":Math.abs(t)>Math.abs(e)?e=t*this.viewPortRatio:t=e/this.viewPortRatio,n.width-=e,n.height-=t,i=e,r=t;break;case"topright":Math.abs(t)>Math.abs(e)?e=-t*this.viewPortRatio:t=-e/this.viewPortRatio,r=t,n.width+=e,n.height-=t;break;case"bottomleft":Math.abs(t)>Math.abs(e)?e=-t*this.viewPortRatio:t=-e/this.viewPortRatio,i=e,n.width-=e,n.height+=t;break;case"bottomright":Math.abs(t)>Math.abs(e)?e=t*this.viewPortRatio:t=e/this.viewPortRatio,n.width+=e,n.height+=t}this.updateHelper(i,r,n,void 0,void 0)},t.prototype.updateHelper=function(e,t,n,i,r){var o,a,s,l=this.element.getElementsByTagName("svg")[2].getElementById("helper");if(n)o=(s=l.getBBox()).x+e,a=s.y+t,i=s.width+n.width,r=s.height+n.height;else{var c,d;c=this.currentPoint.x>this.startPoint.x?this.currentPoint.x-this.prevPoint.x:this.prevPoint.x-this.currentPoint.x,d=this.currentPoint.y>this.startPoint.y?this.currentPoint.y-this.prevPoint.y:this.prevPoint.y-this.currentPoint.y;Math.abs(d)>Math.abs(c)?(c=this.viewPortRatio*d,!0,!1):(d=c/this.viewPortRatio,!0,!1),s=l.getBBox(),o=this.startPoint.x>this.currentPoint.x?s.x-c:s.x,a=this.startPoint.y>this.currentPoint.y?s.y-d:s.y,i=s.width+c,r=s.height+d}dh(this.helper,{id:this.helper.id,x:o,y:a,width:Math.max(0,i),height:Math.max(0,r)})},t.prototype.updateOverviewrect=function(e,t,n,i){ph(document.getElementById(this.canvas.id+"overviewrect"),{x:e,y:t,width:Math.max(1,n),height:Math.max(1,i)}),this.updateOverviewCorner("top",e+8,t+1,Math.max(0,n-16),2),this.updateOverviewCorner("bottom",e+8,t+i+3,Math.max(0,n-16),2),this.updateOverviewCorner("left",e-2,t+11,2,Math.max(0,i-16)),this.updateOverviewCorner("right",e+n,t+11,2,Math.max(0,i-16)),this.updateOverviewCorner("topleft",e,t+3,5,5),this.updateOverviewCorner("topright",e+n,t+3,5,5),this.updateOverviewCorner("bottomleft",e,t+i+3,5,5),this.updateOverviewCorner("bottomright",e+n,t+i+3,5,5)},t.prototype.updateOverviewCorner=function(e,t,n,i,r){var o,a,s="visible"+e;"top"===e||"bottom"===e||"right"===e||"left"===e?(o={x:t,y:n,width:i,height:r,fill:"#ED1C24"},a={x:t-2,y:n-2,width:2===i?4:i,height:2===r?4:r}):(o={cx:t,cy:n,r:4,fill:"#ED1C24"},a={cx:t,cy:n,r:6,fill:"transparent"}),ph(document.getElementById(this.canvas.id+s),o),ph(document.getElementById(this.canvas.id+e),a)},t.prototype.translateOverviewRectangle=function(){var e=Number(this.model.width),t=Number(this.model.height),n=this.currentPoint.x-this.prevPoint.x,i=this.currentPoint.y-this.prevPoint.y,r=(Math.min(this.parent.scroller.viewPortWidth/e,this.parent.scroller.viewPortHeight/t),this.element.getElementsByClassName("overviewsvg")[0].getElementById(this.canvas.id+"overviewrect").getBBox()),o=r.x+n,a=r.y+i,s=r.width,l=r.height;this.updateOverviewrect(o,a,s,l),this.updateParentView(this.parent.scroller.currentZoom,o,a,s,l,null)},t.prototype.renderOverviewRect=function(e,t,n,i){var r=Number(this.model.width),o=Number(this.model.height),a=n/r*this.contentWidth,s=i/o*this.contentHeight,l=Math.max(this.parent.scroller.viewPortWidth/a,this.parent.scroller.viewPortHeight/s);if(l>=.25&&l<=30){this.updateParentView(l,e,t,n,i,{x:0,y:0});var c=this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom,!0);if(this.helper){var d=this.element.getElementsByTagName("rect")[10].getBBox();c.x=d.x,c.y=d.y}this.updateOverviewrect(c.x,c.y,c.width,c.height)}},t.prototype.scrollOverviewRect=function(e,t,n,i){if(!this.actionName||i){var r=Number(this.model.width),o=Number(this.model.height),a=Math.min(this.contentWidth/r,this.contentHeight/o),s=new di,l=s.x=e/n/a,c=s.y=t/n/a,d=s.width=this.parent.scroller.viewPortWidth/n/a,h=s.height=this.parent.scroller.viewPortHeight/n/a;this.parent.scroller.viewPortWidth,this.parent.scroller.viewPortHeight;if(i){var p=new di;return p.x=l,p.y=c,p.width=d,p.height=h,p}this.updateOverviewrect(-l,-c,d,h)}return null},t.prototype.updateParentView=function(e,t,n,i,r,o){var a,s,l=Number(this.model.width),c=Number(this.model.height),d=t*(this.contentWidth/l)*e,h=n*(this.contentHeight/c)*e;this.parent.scroller.getPageBounds();1===e&&"pan"!==this.actionName||(a=-d-this.parent.scroller.horizontalOffset,s=-h-this.parent.scroller.verticalOffset),this.parent.setBlazorDiagramProps(!0),this.parent.realActions|=zi.OverViewAction,"scale"===this.actionName||"draw"===this.actionName?this.parent.scroller.zoom(e/this.parent.scroller.currentZoom,a,s,o):w()?this.parent.scroller.zoom(1,a,s,o):this.parent.pan(a,s,o)},t.prototype.updateHtmlLayer=function(e){var t=nh(e.element.id),n=this.parent.scroller.getPageBounds(!0),i=n.width,r=n.height,o=Math.max(i,this.parent.scroller.viewPortWidth),a=Math.max(r,this.parent.scroller.viewPortHeight),s=Math.min(Number(this.model.width)/o,Number(this.model.height)/a);t.style.transform="scale("+s+") translate("+this.parent.scroller.transform.tx+"px,"+this.parent.scroller.transform.ty+"px)"},t.prototype.updateView=function(e){var t,n,i=this.parent.scroller.getPageBounds(),r=this.parent.scroller.viewPortWidth/this.parent.scroller.currentZoom,o=this.parent.scroller.viewPortHeight/this.parent.scroller.currentZoom,a=0,s=0;this.parent.scroller.currentZoom<1&&r>i.width&&o>i.height&&(a=(r-i.width)/2,s=(o-i.height)/2),t=i.width,n=i.height;var l,c=Number(this.model.width),d=Number(this.model.height),h=Math.max(t,this.parent.scroller.viewPortWidth),p=Math.max(n,this.parent.scroller.viewPortHeight);this.contentWidth=h=Math.max(h,c/d*p),this.contentHeight=p=Math.max(p,d/c*h),l=Math.min(c/h,d/p);var u=document.getElementById(this.element.id+"_htmlLayer");u.style.webkitTransform="scale("+l+") translate("+-i.x+"px,"+-i.y+"px)",u.style.transform="scale("+l+") translate("+(-i.x+a)+"px,"+(-i.y+s)+"px)",document.getElementById(this.element.id+"_overviewlayer").setAttribute("transform","translate("+-i.x*l+","+-i.y*l+")"),this.horizontalOffset=i.x*l,this.verticalOffset=i.y*l;var f=document.getElementById(this.element.id+"_diagramLayer"),g=th(this.element.id),m=f.getContext("2d"),v=Number(this.model.width)/this.contentWidth,y=Number(this.model.height)/this.contentHeight;v=Math.min(v,y),g.setAttribute("transform","translate(0,0),scale("+v+")"),m.setTransform(v,0,0,v,0,0),m.fillStyle="red",this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom)},t.prototype.scrolled=function(e){if(this.event){var t=this.scrollOverviewRect(this.parent.scroller.horizontalOffset,this.parent.scroller.verticalOffset,this.parent.scroller.currentZoom,!0);this.updateOverviewrect(-t.x,-t.y,t.width,t.height)}},t.prototype.updateCursor=function(e){if(ah(e.target,"overviewresizer"))switch(e.target.id){case this.canvas.id+"left":this.canvas.style.cursor="w-resize";break;case this.canvas.id+"right":this.canvas.style.cursor="e-resize";break;case this.canvas.id+"top":this.canvas.style.cursor="n-resize";break;case this.canvas.id+"bottom":this.canvas.style.cursor="s-resize";break;case this.canvas.id+"topleft":this.canvas.style.cursor="nw-resize";break;case this.canvas.id+"topright":this.canvas.style.cursor="ne-resize";break;case this.canvas.id+"bottomleft":this.canvas.style.cursor="sw-resize";break;case this.canvas.id+"bottomright":this.canvas.style.cursor="se-resize"}else this.canvas.style.cursor="default"},t.prototype.mouseMove=function(e){if(this.event=!1,this.updateCursor(e),this.currentPoint=this.mousePosition(e),this.actionName)switch(this.actionName){case"draw":this.inAction||this.startPoint.x===this.currentPoint.x&&this.startPoint.y===this.currentPoint.y||(this.initHelper(),this.inAction=!0),this.inAction&&this.updateHelper();break;case"scale":this.inAction||(this.initHelper(),this.inAction=!0),this.updateOverviewRectangle();break;case"pan":(this.startPoint.x!==this.currentPoint.x||this.startPoint.y===this.currentPoint.y||this.inAction)&&(this.inAction=!0,this.translateOverviewRectangle())}this.prevPoint=this.currentPoint},t.prototype.documentMouseUp=function(e){this.inAction=!1,this.actionName="",this.helper&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),this.event=!0,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="all"},t.prototype.windowResize=function(e){var t=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout((function(){var e=document.getElementById(t.element.id).getBoundingClientRect();t.model.width=e.width>0?e.width:t.model.width,t.model.height=e.height>0?e.height:t.model.height,t.renderCanvas(),t.setParent(t.sourceID)}),10),!1},t.prototype.mouseDown=function(e){if(e.target.id===this.canvas.id+"_overviewsvg"&&(this.actionName="draw"),e.target.id===this.canvas.id+"overviewrect"&&(this.actionName="pan"),ah(e.target,"overviewresizer"))switch(this.actionName="scale",e.target.id){case this.canvas.id+"left":this.resizeDirection="left";break;case this.canvas.id+"right":this.resizeDirection="right";break;case this.canvas.id+"top":this.resizeDirection="top";break;case this.canvas.id+"bottom":this.resizeDirection="bottom";break;case this.canvas.id+"topleft":this.resizeDirection="topleft";break;case this.canvas.id+"topright":this.resizeDirection="topright";break;case this.canvas.id+"bottomleft":this.resizeDirection="bottomleft";break;case this.canvas.id+"bottomright":this.resizeDirection="bottomright"}this.startPoint=this.prevPoint=this.mousePosition(e),this.viewPortRatio=this.parent.scroller.viewPortWidth/this.parent.scroller.viewPortHeight,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="none"},t.prototype.mouseUp=function(e){this.currentPoint=this.mousePosition(e);Number(this.model.width),Number(this.model.height);if(this.actionName)if(this.startPoint.x!==this.currentPoint.x||this.startPoint.y!==this.currentPoint.y){if("pan"===this.actionName);else if(this.helper){var t=this.element.getElementsByTagName("rect")[10].getBBox();this.resizeDirection=this.resizeDirection||"";var n=t.x,i=t.y,r=t.width,o=t.height;"topleft"===this.resizeDirection||"topright"===this.resizeDirection||"bottomleft"===this.resizeDirection||this.resizeDirection;this.renderOverviewRect(n,i,r,o)}}else if(e.target.id===this.canvas.id+"_overviewsvg"||"helper"===e.target.id){r=(t=this.element.getElementsByTagName("svg")[2].getElementById(this.canvas.id+"overviewrect").getBBox()).width,o=t.height;this.inAction=!0,this.actionName="pan",this.renderOverviewRect(this.currentPoint.x-r/2,this.currentPoint.y-o/2,r,o),this.inAction=!1}this.helper&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),this.actionName="",this.startPoint=null,this.currentPoint=null,this.prevPoint=null,this.helper=null,this.viewPortRatio=1,this.resizeDirection="",this.inAction=!1,this.event=!0,document.getElementById(this.canvas.id+"overviewhandle").style.pointerEvents="all"},t.prototype.initHelper=function(){var e=this.element.getElementsByTagName("svg")[2],t=(this.parent.scroller.currentZoom,this.startPoint.x),n=this.startPoint.y,i=1,r=1;if("scale"===this.actionName){var o=e.getElementById(this.canvas.id+"overviewrect").getBBox();t=o.x,n=o.y,i=o.width,r=o.height}var a=rh("rect",{id:"helper",x:t,y:n,width:i,height:r,fill:"transparent",stroke:"gray","stroke-dasharray":"2 2","shape-rendering":"crispEdges"});e.getElementById(this.element.id+"_overviewlayer").appendChild(a),this.helper=a},t.prototype.mousePosition=function(e){var t,n,i;if(-1!==e.type.indexOf("touch")){var r=(t=e).changedTouches[0].clientX,o=t.changedTouches[0].clientY;n=r-this.element.offsetLeft,i=o-this.element.offsetTop}else n=e.clientX,i=e.clientY;var a=this.element.getBoundingClientRect();return n-=a.left,i-=a.top,{x:n+this.horizontalOffset,y:i+this.verticalOffset}},t.prototype.destroy=function(){if(this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),document.getElementById(this.element.id)){this.element.classList.remove("e-overview");var t=document.getElementById(this.element.id+"_canvas");t&&this.element.removeChild(t)}this.parent.views.splice(this.parent.views.indexOf(this.element.id),1),this.diagramLayerDiv=null,this.canvas=null,this.parent=null},t.prototype.getModuleName=function(){return"Overview"},Vf([zt("100%")],t.prototype,"width",void 0),Vf([zt("100%")],t.prototype,"height",void 0),Vf([zt("")],t.prototype,"sourceID",void 0),Vf([Ft()],t.prototype,"created",void 0),t}(ln),Yf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xf=function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!0,n.directivekeys={layers:"layer",customCursors:"customCursor",connectors:{connector:{connectorAnnotations:"connectorAnnotation"}},nodes:{node:{nodeAnnotations:"nodeAnnotation",ports:"port"}}},n.immediateRender=!1,n}return Yf(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing))return i.createElement("div",this.getDefaultAttributes(),this.props.children);e.prototype.render.call(this),this.initRenderCalled=!0},t}(cu);zn(Xf,[Rn,i.PureComponent]);var Gf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qf=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gf(t,e),t.moduleName="palette"}(_n),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Gf(t,e),t.propertyName="palettes",t.moduleName="palettes"}(_n),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}());zn(function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!0,n.directivekeys={palettes:"palette"},n.immediateRender=!0,n}return qf(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing))return i.createElement("div",this.getDefaultAttributes(),this.props.children);e.prototype.render.call(this),this.initRenderCalled=!0},t}(Wf),[Rn,i.PureComponent]);var Zf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();zn(function(e){function t(t){var n=e.call(this,t)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!1,n.immediateRender=!0,n}return Zf(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing))return i.createElement("div",this.getDefaultAttributes(),this.props.children);e.prototype.render.call(this),this.initRenderCalled=!0},t}(Uf),[Rn,i.PureComponent])},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(72);var r=n(78);function o(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function i(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return i}))},,,,,,,,,function(e,t,n){"use strict";var i=n(112),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,d=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.forward_ref"):60112,u=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var C=S.prototype=new x;C.constructor=S,i(C,w.prototype),C.isPureReactComponent=!0;var O={current:null},P=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)P.call(t,i)&&!E.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:O.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,A=[];function M(e,t,n,i){if(A.length){var r=A.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function D(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+L(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var d=n+L(s=t[c],c);l+=e(s,d,i,r)}else if(null===t||"object"!==typeof t?d=null:d="function"===typeof(d=m&&t[m]||t["@@iterator"])?d:null,"function"===typeof d)for(t=d.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,d=n+L(s,c++),i,r);else if("object"===s)throw i=""+t,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,i,n,(function(e){return e})):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),i.push(e))}function z(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),D(e,N,t=M(t,o,i,r)),j(t)}var B={current:null};function H(){var e=B.current;if(null===e)throw Error(v(321));return e}var _={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return z(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=M(null,null,t,n)),j(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return z(e,t,null,(function(e){return e})),t},only:function(e){if(!k(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=S,t.StrictMode=l,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=O.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)P.call(t,d)&&!E.hasOwnProperty(d)&&(r[d]=void 0===t[d]&&void 0!==c?c[d]:t[d])}var d=arguments.length-2;if(1===d)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return H().useCallback(e,t)},t.useContext=function(e,t){return H().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return H().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return H().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return H().useLayoutEffect(e,t)},t.useMemo=function(e,t){return H().useMemo(e,t)},t.useReducer=function(e,t,n){return H().useReducer(e,t,n)},t.useRef=function(e){return H().useRef(e)},t.useState=function(e){return H().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var i=n(0),r=n(112),o=n(144);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var l=!1,c=null,d=!1,h=null,p={onError:function(e){l=!0,c=e}};function u(e,t,n,i,r,o,a,d,h){l=!1,c=null,s.apply(p,arguments)}var f=null,g=null,m=null;function v(e,t,n){var i=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,i,r,o,s,p,f){if(u.apply(this,arguments),l){if(!l)throw Error(a(198));var g=c;l=!1,c=null,d||(d=!0,h=g)}}(i,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in S[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(C.hasOwnProperty(l))throw Error(a(99,l));C[l]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&x(c[r],s,l);r=!0}else o.registrationName?(x(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function x(e,t,n){if(O[e])throw Error(a(100,e));O[e]=t,P[e]=t.eventTypes[n].dependencies}var S=[],C={},O={},P={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&w()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),k=null,I=null,A=null;function M(e){if(e=g(e)){if("function"!==typeof k)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),k(e.stateNode,e.type,t))}}function j(e){I?A?A.push(e):A=[e]:I=e}function D(){if(I){var e=I,t=A;if(A=I=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function L(e,t){return e(t)}function R(e,t,n,i,r){return e(t,n,i,r)}function N(){}var z=L,B=!1,H=!1;function _(){null===I&&null===A||(N(),D())}function W(e,t,n){if(H)return e(t,n);H=!0;try{return z(e,t,n)}finally{H=!1,_()}}var F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,U={},Y={};function X(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new X(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new X(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new X(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new X(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new X(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new X(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new X(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new X(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new X(e,5,!1,e.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(q,Z);G[t]=new X(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(q,Z);G[t]=new X(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(q,Z);G[t]=new X(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new X(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new X(e,1,!1,e.toLowerCase(),null,!0)}));var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,i){var r=G.hasOwnProperty(t)?G[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!V.call(Y,e)||!V.call(U,e)&&(F.test(e)?Y[e]=!0:(U[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,ie=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ce=J?Symbol.for("react.suspense"):60113,de=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,pe=J?Symbol.for("react.lazy"):60116,ue=J?Symbol.for("react.block"):60121,fe="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return me(e.type);case ue:return me(e.render);case pe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=me(e.type);n=null,i&&(n=me(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Pe(e,t){Oe(e,t);var n=ye(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ke(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function je(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Ne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ne(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,He=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function We(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fe={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Ve={},Ue={};function Ye(e){if(Ve[e])return Ve[e];if(!Fe[e])return e;var t,n=Fe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ue)return Ve[e]=n[t];return e}T&&(Ue=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);var Xe=Ye("animationend"),Ge=Ye("animationiteration"),qe=Ye("animationstart"),Ze=Ye("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)v(e,t[i],n[i]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(d)throw e=h,d=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function pt(e,t,n,i){if(dt.length){var r=dt.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ut(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var c=S[l];c&&(c=c.extractEvents(i,t,o,r,a))&&(s=it(s,c))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":qt(t,"scroll",!0);break;case"focus":case"blur":qt(t,"focus",!0),qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],wt=null,xt=null,St=null,Ct=new Map,Ot=new Map,Pt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function It(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function At(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=kt(t,n,i,r,o),null!==t&&(null!==(t=kn(t))&&mt(t)),e):(e.eventSystemFlags|=i,e)}function Mt(e){var t=Tn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=kn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){jt(e)&&n.delete(t)}function Lt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=kn(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&jt(wt)&&(wt=null),null!==xt&&jt(xt)&&(xt=null),null!==St&&jt(St)&&(St=null),Ct.forEach(Dt),Ot.forEach(Dt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Nt(e){function t(t){return Rt(t,e)}if(0<bt.length){Rt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==wt&&Rt(wt,e),null!==xt&&Rt(xt,e),null!==St&&Rt(St,e),Ct.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(i=Pt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt={},Bt=new Map,Ht=new Map,_t=["abort","abort",Xe,"animationEnd",Ge,"animationIteration",qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ze,"transitionEnd","waiting","waiting"];function Wt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Ht.set(i,t),Bt.set(i,o),zt[r]=o}}Wt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Wt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Wt(_t,2);for(var Ft="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ft.length;Vt++)Ht.set(Ft[Vt],0);var Ut=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Xt=!0;function Gt(e,t){qt(t,e,!1)}function qt(e,t,n){var i=Ht.get(t);switch(void 0===i?2:i){case 0:i=Zt.bind(null,t,1,e);break;case 1:i=Kt.bind(null,t,1,e);break;default:i=$t.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Zt(e,t,n,i){B||N();var r=$t,o=B;B=!0;try{R(r,e,t,n,i)}finally{(B=o)||_()}}function Kt(e,t,n,i){Yt(Ut,$t.bind(null,e,t,n,i))}function $t(e,t,n,i){if(Xt)if(0<bt.length&&-1<Et.indexOf(e))e=kt(null,e,t,n,i),bt.push(e);else{var r=Qt(e,t,n,i);if(null===r)It(e,i);else if(-1<Et.indexOf(e))e=kt(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return wt=At(wt,e,t,n,i,r),!0;case"dragenter":return xt=At(xt,e,t,n,i,r),!0;case"mouseover":return St=At(St,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ct.set(o,At(Ct.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ot.set(o,At(Ot.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){It(e,i),e=pt(e,i,null,t);try{W(ut,e)}finally{ht(e)}}}}function Qt(e,t,n,i){if(null!==(n=Tn(n=lt(i)))){var r=Je(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=pt(e,i,n,t);try{W(ut,e)}finally{ht(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Le;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=P[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function cn(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,i=hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hn(i)}}function un(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+Cn,Pn="__reactEventHandlers$"+Cn,En="__reactContainere$"+Cn;function Tn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[On])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function kn(e){return!(e=e[On]||e[En])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Pn]||null}function Mn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Rn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Nn(e){e&&e.dispatchConfig.registrationName&&Rn(e._targetInst,null,e)}function zn(e){rt(e,Ln)}var Bn=null,Hn=null,_n=null;function Wn(){if(_n)return _n;var e,t,n=Hn,i=n.length,r="value"in Bn?Bn.value:Bn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return _n=r.slice(e,1<t?1-t:void 0)}function Fn(){return!0}function Vn(){return!1}function Un(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Fn:Vn,this.isPropagationStopped=Vn,this}function Yn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Xn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Yn,e.release=Xn}r(Un.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){this.isPersistent=Fn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Un.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Un.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Gn(n),n},Gn(Un);var qn=Un.extend({data:null}),Zn=Un.extend({data:null}),Kn=[9,13,27,32],$n=T&&"CompositionEvent"in window,Qn=null;T&&"documentMode"in document&&(Qn=document.documentMode);var Jn=T&&"TextEvent"in window&&!Qn,ei=T&&(!$n||Qn&&8<Qn&&11>=Qn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if($n)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Wn()):(Hn="value"in(Bn=i)?Bn.value:Bn.textContent,ai=!0)),o=qn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),zn(o),r=o):r=null,(e=Jn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!$n&&ri(e,t)?(e=Wn(),_n=Hn=Bn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Zn.getPooled(ni.beforeInput,t,n,i)).data=e,zn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var di={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(e,t,n){return(e=Un.getPooled(di.change,e,t,n)).type="change",j(n),zn(e),e}var pi=null,ui=null;function fi(e){st(e)}function gi(e){if(xe(In(e)))return e}function mi(e,t){if("change"===e)return t}var vi=!1;function yi(){pi&&(pi.detachEvent("onpropertychange",bi),ui=pi=null)}function bi(e){if("value"===e.propertyName&&gi(ui))if(e=hi(ui,e,lt(e)),B)st(e);else{B=!0;try{L(fi,e)}finally{B=!1,_()}}}function wi(e,t,n){"focus"===e?(yi(),ui=n,(pi=t).attachEvent("onpropertychange",bi)):"blur"===e&&yi()}function xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gi(ui)}function Si(e,t){if("click"===e)return gi(t)}function Ci(e,t){if("input"===e||"change"===e)return gi(t)}T&&(vi=ct("input")&&(!document.documentMode||9<document.documentMode));var Oi={eventTypes:di,_isInputEventSupported:vi,extractEvents:function(e,t,n,i){var r=t?In(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=mi;else if(ci(r))if(vi)a=Ci;else{a=xi;var s=wi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=Si);if(a&&(a=a(e,t)))return hi(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Te(r,"number",r.value)}},Pi=Un.extend({view:null,detail:null}),Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ti(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ei[e])&&!!t[e]}function ki(){return Ti}var Ii=0,Ai=0,Mi=!1,ji=!1,Di=Pi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ki,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ii;return Ii=e.screenX,Mi?"mousemove"===e.type?e.screenX-t:0:(Mi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ai;return Ai=e.screenY,ji?"mousemove"===e.type?e.screenY-t:0:(ji=!0,0)}}),Li=Di.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ri={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ni={eventTypes:Ri,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Di,l=Ri.mouseLeave,c=Ri.mouseEnter,d="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Li,l=Ri.pointerLeave,c=Ri.pointerEnter,d="pointer");if(e=null==a?o:In(a),o=null==t?o:In(t),(l=s.getPooled(l,a,n,i)).type=d+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,i)).type=d+"enter",n.target=o,n.relatedTarget=e,d=t,(i=a)&&d)e:{for(c=d,a=0,e=s=i;e;e=Mn(e))a++;for(e=0,t=c;t;t=Mn(t))e++;for(;0<a-e;)s=Mn(s),a--;for(;0<e-a;)c=Mn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Mn(s),c=Mn(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(a=i.alternate)||a!==c);)s.push(i),i=Mn(i);for(i=[];d&&d!==c&&(null===(a=d.alternate)||a!==c);)i.push(d),d=Mn(d);for(d=0;d<s.length;d++)Rn(s[d],"bubbled",l);for(d=i.length;0<d--;)Rn(i[d],"captured",n);return 0===(64&r)?[l]:[l,n]}};var zi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Bi=Object.prototype.hasOwnProperty;function Hi(e,t){if(zi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Bi.call(t,n[i])||!zi(e[n[i]],t[n[i]]))return!1;return!0}var _i=T&&"documentMode"in document&&11>=document.documentMode,Wi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Fi=null,Vi=null,Ui=null,Yi=!1;function Xi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yi||null==Fi||Fi!==dn(n)?null:("selectionStart"in(n=Fi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ui&&Hi(Ui,n)?null:(Ui=n,(e=Un.getPooled(Wi.select,Vi,e,t)).type="select",e.target=Fi,zn(e),e))}var Gi={eventTypes:Wi,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),o=P.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?In(t):window,e){case"focus":(ci(r)||"true"===r.contentEditable)&&(Fi=r,Vi=t,Ui=null);break;case"blur":Ui=Vi=Fi=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yi=!1,Xi(n,i);case"selectionchange":if(_i)break;case"keydown":case"keyup":return Xi(n,i)}return null}},qi=Un.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zi=Un.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ki=Pi.extend({relatedTarget:null});function $i(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Pi.extend({key:function(e){if(e.key){var t=Qi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$i(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ji[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ki,charCode:function(e){return"keypress"===e.type?$i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Di.extend({dataTransfer:null}),nr=Pi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ki}),ir=Un.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:zt,extractEvents:function(e,t,n,i){var r=Bt.get(e);if(!r)return null;switch(e){case"keypress":if(0===$i(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Ki;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case Xe:case Ge:case qe:e=qi;break;case Ze:e=ir;break;case"scroll":e=Pi;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Li;break;default:e=Un}return zn(t=e.getPooled(r,t,n,i)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),f=An,g=kn,m=In,E({SimpleEventPlugin:or,EnterLeaveEventPlugin:Ni,ChangeEventPlugin:Oi,SelectEventPlugin:Gi,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function cr(e,t){sr++,ar[sr]=e.current,e.current=t}var dr={},hr={current:dr},pr={current:!1},ur=dr;function fr(e,t){var n=e.type.contextTypes;if(!n)return dr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mr(){lr(pr),lr(hr)}function vr(e,t,n){if(hr.current!==dr)throw Error(a(168));cr(hr,t),cr(pr,n)}function yr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return r({},n,{},i)}function br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,ur=hr.current,cr(hr,e),cr(pr,pr.current),!0}function wr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=yr(e,t,ur),i.__reactInternalMemoizedMergedChildContext=e,lr(pr),lr(hr),cr(hr,e)):lr(pr),cr(pr,n)}var xr=o.unstable_runWithPriority,Sr=o.unstable_scheduleCallback,Cr=o.unstable_cancelCallback,Or=o.unstable_requestPaint,Pr=o.unstable_now,Er=o.unstable_getCurrentPriorityLevel,Tr=o.unstable_ImmediatePriority,kr=o.unstable_UserBlockingPriority,Ir=o.unstable_NormalPriority,Ar=o.unstable_LowPriority,Mr=o.unstable_IdlePriority,jr={},Dr=o.unstable_shouldYield,Lr=void 0!==Or?Or:function(){},Rr=null,Nr=null,zr=!1,Br=Pr(),Hr=1e4>Br?Pr:function(){return Pr()-Br};function _r(){switch(Er()){case Tr:return 99;case kr:return 98;case Ir:return 97;case Ar:return 96;case Mr:return 95;default:throw Error(a(332))}}function Wr(e){switch(e){case 99:return Tr;case 98:return kr;case 97:return Ir;case 96:return Ar;case 95:return Mr;default:throw Error(a(332))}}function Fr(e,t){return e=Wr(e),xr(e,t)}function Vr(e,t,n){return e=Wr(e),Sr(e,t,n)}function Ur(e){return null===Rr?(Rr=[e],Nr=Sr(Tr,Xr)):Rr.push(e),jr}function Yr(){if(null!==Nr){var e=Nr;Nr=null,Cr(e)}Xr()}function Xr(){if(!zr&&null!==Rr){zr=!0;var e=0;try{var t=Rr;Fr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Rr=null}catch(n){throw null!==Rr&&(Rr=Rr.slice(e+1)),Sr(Tr,Yr),n}finally{zr=!1}}}function Gr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function qr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zr={current:null},Kr=null,$r=null,Qr=null;function Jr(){Qr=$r=Kr=null}function eo(e){var t=Zr.current;lr(Zr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Kr=e,Qr=$r=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function io(e,t){if(Qr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$r){if(null===Kr)throw Error(a(308));$r=t,Kr.dependencies={expirationTime:0,firstContext:t,responders:null}}else $r=$r.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ho(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,d=0,h=null,p=null,u=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<i){var g={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===u?(p=u=g,h=c):u=u.next=g,s>d&&(d=s)}else{null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var m=e,v=f;switch(s=t,g=n,v.tag){case 1:if("function"===typeof(m=v.payload)){c=m.call(g,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,c,s):m)||void 0===s)break e;c=r({},c,s);break e;case 2:ro=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===u?h=c:u.next=p,o.baseState=h,o.baseQueue=u,al(d),e.expirationTime=d,e.memoizedState=c}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var uo=K.ReactCurrentBatchConfig,fo=(new i.Component).refs;function go(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Xs(),r=uo.suspense;(r=so(i=Gs(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),qs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Xs(),r=uo.suspense;(r=so(i=Gs(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),qs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Xs(),i=uo.suspense;(i=so(n=Gs(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),qs(e,n)}};function vo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Hi(n,i)||!Hi(r,o))}function yo(e,t,n){var i=!1,r=dr,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=gr(t)?ur:hr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?fr(e,r):dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=gr(t)?ur:hr.current,r.context=fr(e,o)),ho(e,n,r,i),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mo.enqueueReplaceState(r,r.state,null),ho(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Oo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=El(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Il(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=So(e,t,n),i.return=e,i):((i=Tl(n.type,n.key,n.props,null,e.mode,i)).ref=So(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Al(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=kl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Il(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case te:return(t=Al(t,e.mode,n)).return=e,t}if(xo(t)||ge(t))return(t=kl(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function u(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?h(e,t,n.props.children,i,r):c(e,t,n,i):null;case te:return n.key===r?d(e,t,n,i):null}if(xo(n)||ge(n))return null!==r?null:h(e,t,n,i,null);Co(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?h(t,e,i.props.children,r,i.key):c(t,e,i,r);case te:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(xo(i)||ge(i))return h(t,e=e.get(n)||null,i,r,null);Co(t,i)}return null}function g(r,a,s,l){for(var c=null,d=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=u(r,h,s[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(r,h),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v,h=m}if(g===s.length)return n(r,h),c;if(null===h){for(;g<s.length;g++)null!==(h=p(r,s[g],l))&&(a=o(h,a,g),null===d?c=h:d.sibling=h,d=h);return c}for(h=i(r,h);g<s.length;g++)null!==(m=f(h,r,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===d?c=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(r,e)})),c}function m(r,s,l,c){var d=ge(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var h=d=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=u(r,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),s=o(b,s,m),null===h?d=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),d;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=p(r,y.value,c))&&(s=o(y,s,m),null===h?d=y:h.sibling=y,h=y);return d}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=f(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?d=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(r,e)})),d}return function(e,i,o,l){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var d="object"===typeof o&&null!==o;if(d)switch(o.$$typeof){case ee:e:{for(d=o.key,c=i;null!==c;){if(c.key===d){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=So(e,c,o),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((i=kl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Tl(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Al(o,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Il(o,e.mode,l)).return=e,e=i),s(e);if(xo(o))return g(e,i,o,l);if(ge(o))return m(e,i,o,l);if(d&&Co(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Po=Oo(!0),Eo=Oo(!1),To={},ko={current:To},Io={current:To},Ao={current:To};function Mo(e){if(e===To)throw Error(a(174));return e}function jo(e,t){switch(cr(Ao,t),cr(Io,e),cr(ko,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ze(null,"");break;default:t=ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(ko),cr(ko,t)}function Do(){lr(ko),lr(Io),lr(Ao)}function Lo(e){Mo(Ao.current);var t=Mo(ko.current),n=ze(t,e.type);t!==n&&(cr(Io,e),cr(ko,n))}function Ro(e){Io.current===e&&(lr(ko),lr(Io))}var No={current:0};function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var Ho=K.ReactCurrentDispatcher,_o=K.ReactCurrentBatchConfig,Wo=0,Fo=null,Vo=null,Uo=null,Yo=!1;function Xo(){throw Error(a(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zi(e[n],t[n]))return!1;return!0}function qo(e,t,n,i,r,o){if(Wo=o,Fo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ho.current=null===e||null===e.memoizedState?va:ya,e=n(i,r),t.expirationTime===Wo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Uo=Vo=null,t.updateQueue=null,Ho.current=ba,e=n(i,r)}while(t.expirationTime===Wo)}if(Ho.current=ma,t=null!==Vo&&null!==Vo.next,Wo=0,Uo=Vo=Fo=null,Yo=!1,t)throw Error(a(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Uo?Fo.memoizedState=Uo=e:Uo=Uo.next=e,Uo}function Ko(){if(null===Vo){var e=Fo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Uo?Fo.memoizedState:Uo.next;if(null!==t)Uo=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Uo?Fo.memoizedState=Uo=e:Uo=Uo.next=e}return Uo}function $o(e,t){return"function"===typeof t?t(e):t}function Qo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Vo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,c=r;do{var d=c.expirationTime;if(d<Wo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=i):l=l.next=h,d>Fo.expirationTime&&(Fo.expirationTime=d,al(d))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(d,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=s,zi(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);zi(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e}).dispatch=ga.bind(null,Fo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Fo.updateQueue)?(t={lastEffect:null},Fo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Ko().memoizedState}function ia(e,t,n,i){var r=Zo();Fo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Ko();i=void 0===i?null:i;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==i&&Go(i,a.deps))return void ta(t,n,o,i)}Fo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function da(){}function ha(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var n=Ko();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ua(e,t){var n=Ko();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t,n){var i=_r();Fr(98>i?98:i,(function(){e(!0)})),Fr(97<i?97:i,(function(){var i=_o.suspense;_o.suspense=void 0===t?null:t;try{e(!1),n()}finally{_o.suspense=i}}))}function ga(e,t,n){var i=Xs(),r=uo.suspense;r={expirationTime:i=Gs(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Fo||null!==o&&o===Fo)Yo=!0,r.expirationTime=Wo,Fo.expirationTime=Wo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,zi(s,a))return}catch(l){}qs(e,i)}}var ma={readContext:io,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useResponder:Xo,useDeferredValue:Xo,useTransition:Xo},va={readContext:io,useCallback:ha,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Zo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Fo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:ea,useDebugValue:da,useResponder:Bo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=_o.suspense;_o.suspense=void 0===t?null:t;try{r(e)}finally{_o.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),n]}},ya={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:ua,useReducer:Qo,useRef:na,useState:function(){return Qo($o)},useDebugValue:da,useResponder:Bo,useDeferredValue:function(e,t){var n=Qo($o),i=n[0],r=n[1];return aa((function(){var n=_o.suspense;_o.suspense=void 0===t?null:t;try{r(e)}finally{_o.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qo($o),n=t[0];return t=t[1],[pa(fa.bind(null,t,e),[t,e]),n]}},ba={readContext:io,useCallback:pa,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:ua,useReducer:Jo,useRef:na,useState:function(){return Jo($o)},useDebugValue:da,useResponder:Bo,useDeferredValue:function(e,t){var n=Jo($o),i=n[0],r=n[1];return aa((function(){var n=_o.suspense;_o.suspense=void 0===t?null:t;try{r(e)}finally{_o.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jo($o),n=t[0];return t=t[1],[pa(fa.bind(null,t,e),[t,e]),n]}},wa=null,xa=null,Sa=!1;function Ca(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Pa(e){if(Sa){var t=xa;if(t){var n=t;if(!Oa(e,t)){if(!(t=xn(n.nextSibling))||!Oa(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(wa=e);Ca(wa,n)}wa=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,wa=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Ta(e){if(e!==wa)return!1;if(!Sa)return Ea(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=xa;t;)Ca(e,t),t=xn(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=wa?xn(e.stateNode.nextSibling):null;return!0}function ka(){xa=wa=null,Sa=!1}var Ia=K.ReactCurrentOwner,Aa=!1;function Ma(e,t,n,i){t.child=null===e?Eo(t,null,n,i):Po(t,e.child,n,i)}function ja(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=qo(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Ma(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),qa(e,t,r))}function Da(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Hi)(r,i)&&e.ref===t.ref)?qa(e,t,o):(t.effectTag|=1,(e=El(a,i)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,i,r,o){return null!==e&&Hi(e.memoizedProps,i)&&e.ref===t.ref&&(Aa=!1,r<o)?(t.expirationTime=e.expirationTime,qa(e,t,o)):Na(e,t,n,i,o)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Na(e,t,n,i,r){var o=gr(n)?ur:hr.current;return o=fr(t,o),no(t,r),n=qo(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Ma(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),qa(e,t,r))}function za(e,t,n,i,r){if(gr(n)){var o=!0;br(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,i),wo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=io(c):c=fr(t,c=gr(n)?ur:hr.current);var d=n.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&bo(t,a,i,c),ro=!1;var p=t.memoizedState;a.state=p,ho(t,i,a,r),l=t.memoizedState,s!==i||p!==l||pr.current||ro?("function"===typeof d&&(go(t,n,d,i),l=t.memoizedState),(s=ro||vo(t,n,s,i,p,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:qr(t.type,s),l=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=io(c):c=fr(t,c=gr(n)?ur:hr.current),(h="function"===typeof(d=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&bo(t,a,i,c),ro=!1,l=t.memoizedState,a.state=l,ho(t,i,a,r),p=t.memoizedState,s!==i||l!==p||pr.current||ro?("function"===typeof d&&(go(t,n,d,i),p=t.memoizedState),(d=ro||vo(t,n,s,i,l,p,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=c,i=d):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Ba(e,t,n,i,o,r)}function Ba(e,t,n,i,r,o){Ra(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&wr(t,n,!1),qa(e,t,o);i=t.stateNode,Ia.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=i.state,r&&wr(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vr(0,t.context,!1),jo(e,t.containerInfo)}var _a,Wa,Fa,Va={dehydrated:null,retryTime:0};function Ua(e,t,n){var i,r=t.mode,o=t.pendingProps,a=No.current,s=!1;if((i=0!==(64&t.effectTag))||(i=0!==(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),cr(No,1&a),null===e){if(void 0!==o.fallback&&Pa(t),s){if(s=o.fallback,(o=kl(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=kl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Eo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=El(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=El(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,r}return n=Po(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=kl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=kl(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=Po(t,e,o.children,n)}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Xa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ga(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ma(e,t,i.children,n),0!==(2&(i=No.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(cr(No,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xa(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===zo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=El(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=El(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ka(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(t.type)&&mr(),null;case 3:return Do(),lr(pr),lr(hr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ta(t)||(t.effectTag|=4),null;case 5:Ro(t),n=Mo(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Wa(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Mo(ko.current),Ta(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[On]=t,i[Pn]=s,o){case"iframe":case"object":case"embed":Gt("load",i);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Gt(Ke[e],i);break;case"source":Gt("error",i);break;case"img":case"image":case"link":Gt("error",i),Gt("load",i);break;case"form":Gt("reset",i),Gt("submit",i);break;case"details":Gt("toggle",i);break;case"input":Ce(i,s),Gt("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",i),ln(n,"onChange");break;case"textarea":Me(i,s),Gt("invalid",i),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(e=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(e=["children",""+c]):O.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":we(i),Ee(i,s,!0);break;case"textarea":we(i),De(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Ne(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[On]=t,e[Pn]=i,_a(e,t),t.stateNode=e,l=an(o,i),o){case"iframe":case"object":case"embed":Gt("load",e),c=i;break;case"video":case"audio":for(c=0;c<Ke.length;c++)Gt(Ke[c],e);c=i;break;case"source":Gt("error",e),c=i;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),c=i;break;case"form":Gt("reset",e),Gt("submit",e),c=i;break;case"details":Gt("toggle",e),c=i;break;case"input":Ce(e,i),c=Se(e,i),Gt("invalid",e),ln(n,"onChange");break;case"option":c=ke(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),Gt("invalid",e),ln(n,"onChange");break;case"textarea":Me(e,i),c=Ae(e,i),Gt("invalid",e),ln(n,"onChange");break;default:c=i}on(o,c);var d=c;for(s in d)if(d.hasOwnProperty(s)){var h=d[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&He(e,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&_e(e,h):"number"===typeof h&&_e(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(O.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&$(e,s,h,l))}switch(o){case"input":we(e),Ee(e,i,!1);break;case"textarea":we(e),De(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ye(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Ie(e,!!i.multiple,n,!1):null!=i.defaultValue&&Ie(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}vn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Fa(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=Mo(Ao.current),Mo(ko.current),Ta(t)?(n=t.stateNode,i=t.memoizedProps,n[On]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[On]=t,t.stateNode=n)}return null;case 13:return lr(No),i=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ta(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&No.current)?Ts===ws&&(Ts=xs):(Ts!==ws&&Ts!==xs||(Ts=Ss),0!==js&&null!==Os&&(Dl(Os,Es),Ll(Os,js)))),(n||i)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return gr(t.type)&&mr(),null;case 19:if(lr(No),null===(i=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=i.rendering)){if(o)Za(i,!1);else if(Ts!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=zo(s))){for(t.effectTag|=64,Za(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return cr(No,1&No.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=zo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Hr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Za(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Hr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Hr(),n.sibling=null,t=No.current,cr(No,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function $a(e){switch(e.tag){case 1:gr(e.type)&&mr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),lr(pr),lr(hr),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ro(e),null;case 13:return lr(No),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(No),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ve(t)}}_a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,c=t.stateNode;switch(Mo(ko.current),e=null,n){case"input":a=Se(c,a),i=Se(c,i),e=[];break;case"option":a=ke(c,a),i=ke(c,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),i=Ae(c,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(c.onclick=cn)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(O.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var d=i[s];if(c=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&d!==c&&(null!=d||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(e||(e=[]),e.push(s,n)),n=d;else"dangerouslySetInnerHTML"===s?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(e=e||[]).push(s,d)):"children"===s?c===d||"string"!==typeof d&&"number"!==typeof d||(e=e||[]).push(s,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(O.hasOwnProperty(s)?(null!=d&&ln(o,s),e||c===d||(e=[])):(e=e||[]).push(s,d))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Fa=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:qr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof Sl&&Sl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Fr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(o){yl(r,o)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ds(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(_e(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function ds(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,d=n,h=c;;)if(as(l,h,d),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Pn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Oe(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?He(n,l):"children"===s?_e(n,l):$(n,s,l,t)}switch(e){case"input":Pe(n,i);break;case"textarea":je(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ie(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ie(n,!!i.multiple,i.defaultValue,!0):Ie(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Nt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ls=Hr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ps(t);case 19:return void ps(t);case 17:return}throw Error(a(163))}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var i=wl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var us="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ns||(Ns=!0,zs=i),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Bs?Bs=new Set([this]):Bs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,ys=K.ReactCurrentDispatcher,bs=K.ReactCurrentOwner,ws=0,xs=3,Ss=4,Cs=0,Os=null,Ps=null,Es=0,Ts=ws,ks=null,Is=1073741823,As=1073741823,Ms=null,js=0,Ds=!1,Ls=0,Rs=null,Ns=!1,zs=null,Bs=null,Hs=!1,_s=null,Ws=90,Fs=null,Vs=0,Us=null,Ys=0;function Xs(){return 0!==(48&Cs)?1073741821-(Hr()/10|0):0!==Ys?Ys:Ys=1073741821-(Hr()/10|0)}function Gs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=_r();if(0===(4&t))return 99===i?1073741823:1073741822;if(0!==(16&Cs))return Es;if(null!==n)e=Gr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Gr(e,150,100);break;case 97:case 96:e=Gr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Os&&e===Es&&--e,e}function qs(e,t){if(50<Vs)throw Vs=0,Us=null,Error(a(185));if(null!==(e=Zs(e,t))){var n=_r();1073741823===t?0!==(8&Cs)&&0===(48&Cs)?Js(e):($s(e),0===Cs&&Yr()):$s(e),0===(4&Cs)||98!==n&&99!==n||(null===Fs?Fs=new Map([[e,t]]):(void 0===(n=Fs.get(e))||n>t)&&Fs.set(e,t))}}function Zs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Os===r&&(al(t),Ts===Ss&&Dl(r,Es)),Ll(r,t)),r}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!jl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function $s(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ur(Js.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Xs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==jr&&Cr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Ur(Js.bind(null,e)):Vr(i,Qs.bind(null,e),{timeout:10*(1073741821-t)-Hr()}),e.callbackNode=t}}}function Qs(e,t){if(Ys=0,t)return Rl(e,t=Xs()),$s(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!==(48&Cs))throw Error(a(327));if(gl(),e===Os&&n===Es||nl(e,n),null!==Ps){var i=Cs;Cs|=16;for(var r=rl();;)try{ll();break}catch(l){il(e,l)}if(Jr(),Cs=i,ys.current=r,1===Ts)throw t=ks,nl(e,n),Dl(e,n),$s(e),t;if(null===Ps)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ts,Os=null,i){case ws:case 1:throw Error(a(345));case 2:Rl(e,2<n?2:n);break;case xs:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),1073741823===Is&&10<(r=Ls+500-Hr())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=bn(pl.bind(null,e),r);break}pl(e);break;case Ss:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),Ds&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Ks(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==As?i=10*(1073741821-As)-Hr():1073741823===Is?i=0:(i=10*(1073741821-Is)-5e3,0>(i=(r=Hr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vs(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=bn(pl.bind(null,e),i);break}pl(e);break;case 5:if(1073741823!==Is&&null!==Ms){o=Is;var s=Ms;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Hr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Dl(e,n),e.timeoutHandle=bn(pl.bind(null,e),i);break}}pl(e);break;default:throw Error(a(329))}if($s(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Cs))throw Error(a(327));if(gl(),e===Os&&t===Es||nl(e,t),null!==Ps){var n=Cs;Cs|=16;for(var i=rl();;)try{sl();break}catch(r){il(e,r)}if(Jr(),Cs=n,ys.current=i,1===Ts)throw n=ks,nl(e,t),Dl(e,t),$s(e),n;if(null!==Ps)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Os=null,pl(e),$s(e)}return null}function el(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&Yr()}}function tl(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&Yr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ps)for(n=Ps.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&mr();break;case 3:Do(),lr(pr),lr(hr);break;case 5:Ro(i);break;case 4:Do();break;case 13:case 19:lr(No);break;case 10:eo(i)}n=n.return}Os=e,Ps=El(e.current,null),Es=t,Ts=ws,ks=null,As=Is=1073741823,Ms=null,js=0,Ds=!1}function il(e,t){for(;;){try{if(Jr(),Ho.current=ma,Yo)for(var n=Fo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Wo=0,Uo=Vo=Fo=null,Yo=!1,null===Ps||null===Ps.return)return Ts=1,ks=t,Ps=null;e:{var r=e,o=Ps.return,a=Ps,s=t;if(t=Es,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&No.current),h=o;do{var p;if(p=13===h.tag){var u=h.memoizedState;if(null!==u)p=null!==u.dehydrated;else{var f=h.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!d)}}if(p){var g=h.updateQueue;if(null===g){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new us,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,r,l,a);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Ts&&(Ts=2),s=Qa(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,co(h,fs(h,l,t));break e;case 1:l=s;var w=h.type,x=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Bs||!Bs.has(x)))){h.effectTag|=4096,h.expirationTime=t,co(h,gs(h,l,t));break e}}h=h.return}while(null!==h)}Ps=dl(Ps)}catch(S){t=S;continue}break}}function rl(){var e=ys.current;return ys.current=ma,null===e?ma:e}function ol(e,t){e<Is&&2<e&&(Is=e),null!==t&&e<As&&2<e&&(As=e,Ms=t)}function al(e){e>js&&(js=e)}function sl(){for(;null!==Ps;)Ps=cl(Ps)}function ll(){for(;null!==Ps&&!Dr();)Ps=cl(Ps)}function cl(e){var t=ms(e.alternate,e,Es);return e.memoizedProps=e.pendingProps,null===t&&(t=dl(e)),bs.current=null,t}function dl(e){Ps=e;do{var t=Ps.alternate;if(e=Ps.return,0===(2048&Ps.effectTag)){if(t=Ka(t,Ps,Es),1===Es||1!==Ps.childExpirationTime){for(var n=0,i=Ps.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ps.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ps.firstEffect),null!==Ps.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ps.firstEffect),e.lastEffect=Ps.lastEffect),1<Ps.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ps:e.firstEffect=Ps,e.lastEffect=Ps))}else{if(null!==(t=$a(Ps)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ps.sibling))return t;Ps=e}while(null!==Ps);return Ts===ws&&(Ts=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function pl(e){var t=_r();return Fr(99,ul.bind(null,e,t)),null}function ul(e,t){do{gl()}while(null!==_s);if(0!==(48&Cs))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=hl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Ps=Os=null,Es=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Cs;Cs|=32,bs.current=null,gn=Xt;var s=un();if(fn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(E){l=null;break e}var p=0,u=-1,f=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==d&&3!==v.nodeType||(u=p+d),v!==h||0!==c&&3!==v.nodeType||(f=p+c),3===v.nodeType&&(p+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===d&&(u=p),y===h&&++m===c&&(f=p),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===u||-1===f?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},Xt=!1,Rs=r;do{try{fl()}catch(E){if(null===Rs)throw Error(a(330));yl(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);Rs=r;do{try{for(s=e,l=t;null!==Rs;){var w=Rs.effectTag;if(16&w&&_e(Rs.stateNode,""),128&w){var x=Rs.alternate;if(null!==x){var S=x.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:cs(Rs),Rs.effectTag&=-3;break;case 6:cs(Rs),Rs.effectTag&=-3,hs(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,hs(Rs.alternate,Rs);break;case 4:hs(Rs.alternate,Rs);break;case 8:ds(s,d=Rs,l),ss(d)}Rs=Rs.nextEffect}}catch(E){if(null===Rs)throw Error(a(330));yl(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);if(S=mn,x=un(),w=S.focusedElem,l=S.selectionRange,x!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==l&&fn(w)&&(x=l.start,void 0===(S=l.end)&&(S=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(S,w.value.length)):(S=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(S=S.getSelection(),d=w.textContent.length,s=Math.min(l.start,d),l=void 0===l.end?s:Math.min(l.end,d),!S.extend&&s>l&&(d=l,l=s,s=d),d=pn(w,s),h=pn(w,l),d&&h&&(1!==S.rangeCount||S.anchorNode!==d.node||S.anchorOffset!==d.offset||S.focusNode!==h.node||S.focusOffset!==h.offset)&&((x=x.createRange()).setStart(d.node,d.offset),S.removeAllRanges(),s>l?(S.addRange(x),S.extend(h.node,h.offset)):(x.setEnd(h.node,h.offset),S.addRange(x))))),x=[];for(S=w;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<x.length;w++)(S=x[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Xt=!!gn,mn=gn=null,e.current=n,Rs=r;do{try{for(w=e;null!==Rs;){var C=Rs.effectTag;if(36&C&&os(w,Rs.alternate,Rs),128&C){x=void 0;var O=Rs.ref;if(null!==O){var P=Rs.stateNode;switch(Rs.tag){case 5:x=P;break;default:x=P}"function"===typeof O?O(x):O.current=x}}Rs=Rs.nextEffect}}catch(E){if(null===Rs)throw Error(a(330));yl(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,Lr(),Cs=o}else e.current=n;if(Hs)Hs=!1,_s=e,Ws=t;else for(Rs=r;null!==Rs;)t=Rs.nextEffect,Rs.nextEffect=null,Rs=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===Us?Vs++:(Vs=0,Us=e):Vs=0,"function"===typeof xl&&xl(n.stateNode,i),$s(e),Ns)throw Ns=!1,e=zs,zs=null,e;return 0!==(8&Cs)||Yr(),null}function fl(){for(;null!==Rs;){var e=Rs.effectTag;0!==(256&e)&&ns(Rs.alternate,Rs),0===(512&e)||Hs||(Hs=!0,Vr(97,(function(){return gl(),null}))),Rs=Rs.nextEffect}}function gl(){if(90!==Ws){var e=97<Ws?97:Ws;return Ws=90,Fr(e,ml)}}function ml(){if(null===_s)return!1;var e=_s;if(_s=null,0!==(48&Cs))throw Error(a(331));var t=Cs;for(Cs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(i){if(null===e)throw Error(a(330));yl(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return Cs=t,Yr(),!0}function vl(e,t,n){lo(e,t=fs(e,t=Qa(n,t),1073741823)),null!==(e=Zs(e,1073741823))&&$s(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Bs||!Bs.has(i))){lo(n,e=gs(n,e=Qa(t,e),1073741823)),null!==(n=Zs(n,1073741823))&&$s(n);break}}n=n.return}}function bl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Os===e&&Es===n?Ts===Ss||Ts===xs&&1073741823===Is&&Hr()-Ls<500?nl(e,Es):Ds=!0:jl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,$s(e)))}function wl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Gs(t=Xs(),e,null)),null!==(e=Zs(e,t))&&$s(e)}ms=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||pr.current)Aa=!0;else{if(i<n){switch(Aa=!1,t.tag){case 3:Ha(t),ka();break;case 5:if(Lo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gr(t.type)&&br(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,cr(Zr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Ua(e,t,n):(cr(No,1&No.current),null!==(t=qa(e,t,n))?t.sibling:null);cr(No,1&No.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return Ga(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),cr(No,No.current),!i)return null}return qa(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=fr(t,hr.current),no(t,n),r=qo(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var o=!0;br(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&go(t,i,s,e),r.updater=mo,t.stateNode=r,r._reactInternalFiber=t,wo(t,i,e,n),t=Ba(null,t,i,!0,o,n)}else t.tag=0,Ma(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(r),e=qr(r,e),o){case 0:t=Na(null,t,r,e,n);break e;case 1:t=za(null,t,r,e,n);break e;case 11:t=ja(null,t,r,e,n);break e;case 14:t=Da(null,t,r,qr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Na(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 1:return i=t.type,r=t.pendingProps,za(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 3:if(Ha(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),ho(t,i,null,n),(i=t.memoizedState.element)===r)ka(),t=qa(e,t,n);else{if((r=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),wa=t,r=Sa=!0),r)for(n=Eo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ma(e,t,i,n),ka();t=t.child}return t;case 5:return Lo(t),null===e&&Pa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,yn(i,r)?s=null:null!==o&&yn(i,o)&&(t.effectTag|=16),Ra(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ma(e,t,s,n),t=t.child),t;case 6:return null===e&&Pa(t),null;case 13:return Ua(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Po(t,null,i,n):Ma(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ja(e,t,i,r=t.elementType===i?r:qr(i,r),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(cr(Zr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=zi(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!pr.current){t=qa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var d=c.firstContext;null!==d;){if(d.context===i&&0!==(d.observedBits&o)){1===l.tag&&((d=so(n,null)).tag=2,lo(l,d)),l.expirationTime<n&&(l.expirationTime=n),null!==(d=l.alternate)&&d.expirationTime<n&&(d.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}d=d.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ma(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Ma(e,t,i,n),t.child;case 14:return o=qr(r=t.type,t.pendingProps),Da(e,t,r,o=qr(r.type,o),i,n);case 15:return La(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gr(i)?(e=!0,br(t)):e=!1,no(t,n),yo(t,i,r),wo(t,i,r,n),Ba(null,t,i,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var xl=null,Sl=null;function Cl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ol(e,t,n,i){return new Cl(e,t,n,i)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function El(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return kl(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Ol(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ce:return(e=Ol(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=o,e;case de:return(e=Ol(19,n,t,r)).elementType=de,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case pe:s=16,i=null;break e;case ue:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function kl(e,t,n,i){return(e=Ol(7,e,i,t)).expirationTime=n,e}function Il(e,t,n){return(e=Ol(6,e,null,t)).expirationTime=n,e}function Al(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ml(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function jl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ll(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Nl(e,t,n,i){var r=t.current,o=Xs(),s=uo.suspense;o=Gs(o,r,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gr(c)){n=yr(n,c,l);break e}}n=l}else n=dr;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),qs(r,o),o}function zl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Hl(e,t){Bl(e,t),(e=e.alternate)&&Bl(e,t)}function _l(e,t,n){var i=new Ml(e,t,n=null!=n&&!0===n.hydrate),r=Ol(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[En]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);Et.forEach((function(e){ft(e,t,n)})),Tt.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Wl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=zl(a);s.call(e)}}Nl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new _l(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=zl(a);l.call(e)}}tl((function(){Nl(t,a,e,r)}))}return zl(a)}function Vl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wl(t))throw Error(a(200));return Vl(e,t,null,n)}_l.prototype.render=function(e){Nl(e,this._internalRoot,null,null)},_l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Nl(null,e,null,(function(){t[En]=null}))},gt=function(e){if(13===e.tag){var t=Gr(Xs(),150,100);qs(e,t),Hl(e,t)}},mt=function(e){13===e.tag&&(qs(e,3),Hl(e,3))},vt=function(e){if(13===e.tag){var t=Xs();qs(e,t=Gs(t,e,null)),Hl(e,t)}},k=function(e,t,n){switch(t){case"input":if(Pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=An(i);if(!r)throw Error(a(90));xe(i),Pe(i,r)}}}break;case"textarea":je(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},L=el,R=function(e,t,n,i,r){var o=Cs;Cs|=4;try{return Fr(98,e.bind(null,t,n,i,r))}finally{0===(Cs=o)&&Yr()}},N=function(){0===(49&Cs)&&(function(){if(null!==Fs){var e=Fs;Fs=null,e.forEach((function(e,t){Rl(t,e),$s(t)})),Yr()}}(),gl())},z=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&Yr()}};var Yl={Events:[kn,In,An,E,C,zn,function(e){rt(e,Nn)},j,D,$t,st,gl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},Sl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,t.createPortal=Ul,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Cs))throw Error(a(187));var n=Cs;Cs|=1;try{return Fr(99,e.bind(null,t))}finally{Cs=n,Yr()}},t.hydrate=function(e,t,n){if(!Wl(t))throw Error(a(200));return Fl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Wl(t))throw Error(a(200));return Fl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Fl(null,null,e,!1,(function(){e._reactRootContainer=null,e[En]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Ul(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Wl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Fl(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(145)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(e,0),i}},h=Date.now();t.unstable_now=function(){return Date.now()-h},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,u=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)t.unstable_now=function(){return p.now()};else{var v=u.now();t.unstable_now=function(){return u.now()-v}}var y=!1,b=null,w=-1,x=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,O=C.port2;C.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+x;try{b(!0,e)?O.postMessage(null):(y=!1,b=null)}catch(n){throw O.postMessage(null),n}}else y=!1},i=function(e){b=e,y||(y=!0,O.postMessage(null))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},o=function(){g(w),w=-1}}function P(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<k(r,t)))break e;e[i]=t,e[n]=r,n=i}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],A=[],M=1,j=null,D=3,L=!1,R=!1,N=!1;function z(e){for(var t=E(A);null!==t;){if(null===t.callback)T(A);else{if(!(t.startTime<=e))break;T(A),t.sortIndex=t.expirationTime,P(I,t)}t=E(A)}}function B(e){if(N=!1,z(e),!R)if(null!==E(I))R=!0,i(H);else{var t=E(A);null!==t&&r(B,t.startTime-e)}}function H(e,n){R=!1,N&&(N=!1,o()),L=!0;var i=D;try{for(z(n),j=E(I);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,D=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?j.callback=l:j===E(I)&&T(I),z(n)}else T(I);j=E(I)}if(null!==j)var c=!0;else{var d=E(A);null!==d&&r(B,d.startTime-n),c=!1}return c}finally{j=null,D=i,L=!1}}function _(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||L||(R=!0,i(H))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:_(e)}else a=_(e),l=s;return e={id:M++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,P(A,e),null===E(I)&&e===E(A)&&(N?o():N=!0,r(B,l-s))):(e.sortIndex=a,P(I,e),R||L||(R=!0,i(H))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();z(e);var n=E(I);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},,,function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),a=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var d=l(e,t,n);if("normal"===d.type){if(i=n.done?"completed":"suspendedYield",d.arg===c)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i="completed",n.method="throw",n.arg=d.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=s;var c={};function d(){}function h(){}function p(){}var u={};u[r]=function(){return this};var f=Object.getPrototypeOf,g=f&&f(f(C([])));g&&g!==t&&n.call(g,r)&&(u=g);var m=p.prototype=d.prototype=Object.create(u);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var c=l(e[r],e,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"===typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(h).then((function(e){d.value=e,a(d)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=m.constructor=p,p.constructor=h,p[a]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new y(s(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(m),m[a]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";var i=n(150);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,u=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,w=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case p:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case u:case v:case m:case c:return e;default:return t}}case o:return t}}}function C(e){return S(e)===p}t.AsyncMode=h,t.ConcurrentMode=p,t.ContextConsumer=d,t.ContextProvider=c,t.Element=r,t.ForwardRef=u,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||S(e)===h},t.isConcurrentMode=C,t.isContextConsumer=function(e){return S(e)===d},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===u},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===l},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===l||e===s||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===d||e.$$typeof===u||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=S},function(e,t,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(116),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{h(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();i=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),i=a(e),s=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(s&&e.length>0&&!r.call(e,0))for(var g=0;g<e.length;++g)p.push(String(g));if(i&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var v in e)f&&"prototype"===v||!r.call(e,v)||p.push(String(v));if(l)for(var y=function(e){if("undefined"===typeof window||!u)return h(e);try{return h(e)}catch(t){return!1}}(e),b=0;b<d.length;++b)y&&"constructor"===d[b]||!r.call(e,d[b])||p.push(d[b]);return p}}e.exports=i},function(e,t,n){"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,r=Object.prototype.toString,o=function(e){return!(i&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},function(e,t,n){"use strict";var i=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!i(e)||!i(t))}},function(e,t,n){"use strict";var i=n(156),r=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!i(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,r.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var i=n(101);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var i="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==o.call(t))throw new TypeError(i+t);for(var n,a=r.call(arguments,1),s=function(){if(this instanceof n){var i=t.apply(this,a.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,a.concat(r.call(arguments)))},l=Math.max(0,t.length-a.length),c=[],d=0;d<l;d++)c.push("$"+d);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}},function(e,t,n){"use strict";var i=n(102),r=n(159),o=n(117),a=n(118),s=n(163),l=r(o);i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var i=n(101),r=n(160)("%Function%"),o=r.apply,a=r.call;e.exports=function(){return i.apply(a,arguments)},e.exports.apply=function(){return i.apply(o,arguments)}},function(e,t,n){"use strict";var i=TypeError,r=Object.getOwnPropertyDescriptor;if(r)try{r({},"")}catch(v){r=null}var o=function(){throw new i},a=r?function(){try{return o}catch(e){try{return r(arguments,"callee").get}catch(t){return o}}}():o,s=n(161)(),l=Object.getPrototypeOf||function(e){return e.__proto__},c=void 0,d="undefined"===typeof Uint8Array?void 0:l(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?l([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?l(l([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&s?l((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&s?l((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?l(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":d,"%TypedArrayPrototype%":d?d.prototype:void 0,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype},p=n(101).call(Function.call,String.prototype.replace),u=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,f=/\\(\\)?/g,g=function(e){var t=[];return p(e,u,(function(e,n,i,r){t[t.length]=i?p(r,f,"$1"):n||e})),t},m=function(e,t){if(!(e in h))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"===typeof h[e]&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return h[e]};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=g(e),o=m("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(r&&a+1>=n.length){var s=r(o,n[a]);if(!t&&!(n[a]in o))throw new i("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},function(e,t,n){"use strict";(function(t){var i=t.Symbol,r=n(162);e.exports=function(){return"function"===typeof i&&("function"===typeof Symbol&&("symbol"===typeof i("foo")&&("symbol"===typeof Symbol("bar")&&r())))}}).call(this,n(55))},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},function(e,t,n){"use strict";var i=n(102).supportsDescriptors,r=n(118),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!i||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=r(),t=l(c),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var i=Date.prototype.getDay,r=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(o?function(e){try{return i.call(e),!0}catch(t){return!1}}(e):"[object Date]"===r.call(e))}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=(a(i),a(n(2))),o=a(n(166));a(n(39));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}t.default=function(e,t){var n,a,h="__create-react-context-"+(0,o.default)()+"__",p=function(e){function n(){var t,i;s(this,n);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=i=l(this,e.call.apply(e,[this].concat(o))),i.emitter=d(i.props.value),l(i,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[h]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,i=e.value,r=void 0;((o=n)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?r=0:(r="function"===typeof t?t(n,i):1073741823,0!==(r|=0)&&this.emitter.set(e.value,r))}var o,a},n.prototype.render=function(){return this.props.children},n}(i.Component);p.childContextTypes=((n={})[h]=r.default.object.isRequired,n);var u=function(t){function n(){var e,i;s(this,n);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=i=l(this,t.call.apply(t,[this].concat(o))),i.state={value:i.getValue()},i.onUpdate=function(e,t){0!==((0|i.observedBits)&t)&&i.setState({value:i.getValue()})},l(i,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},n.prototype.componentDidMount=function(){this.context[h]&&this.context[h].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[h]&&this.context[h].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[h]?this.context[h].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((a={})[h]=r.default.object,a),{Provider:p,Consumer:u}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(55))},function(e,t,n){"use strict";var i,r,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(e,0),i}},h=Date.now();t.unstable_now=function(){return Date.now()-h},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,u=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)t.unstable_now=function(){return p.now()};else{var v=u.now();t.unstable_now=function(){return u.now()-v}}var y=!1,b=null,w=-1,x=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,O=C.port2;C.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+x;try{b(!0,e)?O.postMessage(null):(y=!1,b=null)}catch(n){throw O.postMessage(null),n}}else y=!1},i=function(e){b=e,y||(y=!0,O.postMessage(null))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},o=function(){g(w),w=-1}}function P(e,t){var n=e.length;e.push(t);e:for(;;){var i=Math.floor((n-1)/2),r=e[i];if(!(void 0!==r&&0<k(r,t)))break e;e[i]=t,e[n]=r,n=i}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],A=[],M=1,j=null,D=3,L=!1,R=!1,N=!1;function z(e){for(var t=E(A);null!==t;){if(null===t.callback)T(A);else{if(!(t.startTime<=e))break;T(A),t.sortIndex=t.expirationTime,P(I,t)}t=E(A)}}function B(e){if(N=!1,z(e),!R)if(null!==E(I))R=!0,i(H);else{var t=E(A);null!==t&&r(B,t.startTime-e)}}function H(e,n){R=!1,N&&(N=!1,o()),L=!0;var i=D;try{for(z(n),j=E(I);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,D=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?j.callback=l:j===E(I)&&T(I),z(n)}else T(I);j=E(I)}if(null!==j)var c=!0;else{var d=E(A);null!==d&&r(B,d.startTime-n),c=!1}return c}finally{j=null,D=i,L=!1}}function _(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:_(e)}else a=_(e),l=s;return e={id:M++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,P(A,e),null===E(I)&&e===E(A)&&(N?o():N=!0,r(B,l-s))):(e.sortIndex=a,P(I,e),R||L||(R=!0,i(H))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_shouldYield=function(){var e=t.unstable_now();z(e);var n=E(I);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_requestPaint=W,t.unstable_continueExecution=function(){R||L||(R=!0,i(H))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_Profiling=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,i,r,o,a){var s=r||"<<anonymous>>",l=a||i;if(null==n[i])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,d=Array(c>6?c-6:0),h=6;h<c;h++)d[h-6]=arguments[h];return e.apply(void 0,[n,i,s,o,l].concat(d))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,i,r,o){var a=i||"<<anonymous>>",s=o||n;if(null==t[n])return new Error("The "+r+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,c=Array(l>5?l-5:0),d=5;d<l;d++)c[d-5]=arguments[d];return e.apply(void 0,[t,n,i,r,o].concat(c))}},e.exports=t.default},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(1),r=n(6),o=n(0),a=(n(2),n(10)),s=n(14),l=n(28),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,d=e.color,h=void 0===d?"inherit":d,p=e.component,u=void 0===p?"svg":p,f=e.fontSize,g=void 0===f?"default":f,m=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,w=Object(r.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(u,Object(i.a)({className:Object(a.a)(s.root,c,"inherit"!==h&&s["color".concat(Object(l.a)(h))],"default"!==g&&s["fontSize".concat(Object(l.a)(g))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},w),n,v?o.createElement("title",null,v):null)}));c.muiName="SvgIcon";var d=Object(s.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1),r=n(71);function o(e){return e&&"object"===Object(r.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Object(i.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(o(t[i])&&i in e?r[i]=a(e[i],t[i],n):r[i]=t[i])})),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return pn}));var i=n(6),r=n(1),o=n(0),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(n(24),n(64)),d=n(16),h=n(73),p=n(3),u={}.constructor;function f(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==u)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=f(t),o=i.plugins.onCreateRule(e,r,n);return o||(e[0],null)}var m=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n};function v(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=", "),n+=m(e[i]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function y(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,o=void 0===r?0:r,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var c in l){var d=l[c];null!=d&&(i&&(i+="\n"),i+=""+y(c+": "+v(d)+";",o))}}else for(var h in a){var p=a[h];null!=p&&(i&&(i+="\n"),i+=""+y(h+": "+v(p)+";",o))}for(var u in t){var f=t[u];null!=f&&"fallbacks"!==u&&(i&&(i+="\n"),i+=""+y(u+": "+v(f)+";",o))}return(i||n.allowEmpty)&&e?(i&&(i="\n"+i+"\n"),y(e+" {"+i,--o)+y("}",o)):i}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,S=function(e){return x?x(e):e.replace(w,"\\$1")},C=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==r||!1===r,a=e in this.style;if(o&&!a&&!i)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var l=this.options.sheet;return l&&l.attached,this},e}(),O=function(e){function t(t,n,i){var r;(r=e.call(this,t,n,i)||this).selectorText=void 0,r.id=void 0,r.renderable=void 0;var o=i.selector,a=i.scoped,s=i.sheet,l=i.generateId;return o?r.selectorText=o:!1!==a&&(r.id=l(Object(h.a)(Object(h.a)(r)),s),r.selectorText="."+S(r.id)),r}Object(d.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(C),P={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new O(e,t,n)}},E={indent:1,children:!0},T=/@([\w-]+)/,k=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(T);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new $(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.toString=function(e){if(void 0===e&&(e=E),null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),I=/@media|@supports\s+/,A={onCreateRule:function(e,t,n){return I.test(e)?new k(e,t,n):null}},M={indent:1,children:!0},j=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(j);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:S(s(this,a)),this.rules=new $(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=M),null==e.indent&&(e.indent=M.indent),null==e.children&&(e.children=M.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),L=/@keyframes\s+/,R=/\$([\w-]+)/g,N=function(e,t){return"string"===typeof e?e.replace(R,(function(e,n){return n in t?t[n]:e})):e},z=function(e,t,n){var i=e[t],r=N(i,n);r!==i&&(e[t]=r)},B={onCreateRule:function(e,t,n){return"string"===typeof e&&L.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&z(e,"animation-name",n.keyframes),"animation"in e&&z(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return N(e,i.keyframes);default:return e}}},H=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).renderable=void 0,t}return Object(d.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(C),_={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new H(e,t,n):null}},W=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),F=/@font-face/,V={onCreateRule:function(e,t,n){return F.test(e)?new W(e,t,n):null}},U=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),Y={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new U(e,t,n):null}},X=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},q=[P,A,B,_,V,Y,{onCreateRule:function(e,t,n){return e in G?new X(e,t,n):null}}],Z={process:!0},K={force:!0,process:!0},$=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,l=i.Renderer,c=i.generateId,d=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:d,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(h.selector="."+S(this.classes[p]));var u=g(p,t,h);if(!u)return null;this.register(u);var f=void 0===h.index?this.index.length:h.index;return this.index.splice(f,0,u),u},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof O?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof O?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=Z);var r=this.options,o=r.jss.plugins,a=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var s=t,l=s.style;if(o.onUpdate(n,t,a,i),i.process&&l&&l!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var d=s.style[c];d!==l[c]&&s.prop(c,d,K)}for(var h in l){var p=s.style[h],u=l[h];null==p&&p!==u&&s.prop(h,null,K)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var o=this.index[r].toString(e);(o||i)&&(t&&(t+="\n"),t+=o)}return t},e}(),Q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),J=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=Object(p.a)(t,["attached"]),r="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(r&&(r+="\n"),r+=a.toString(i))}return r},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var ie=te[ne]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(o||"c")+ie+r+t:o+n.key+"-"+ie+(r?"-"+r:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}};function ae(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function se(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,i):e.style.setProperty(t,i)}catch(r){return!1}return!0}function le(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function ce(e,t){return e.selectorText=t,e.selectorText===t}var de=oe((function(){return document.querySelector("head")}));function he(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"===typeof i){var r=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var pe=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ue=function(e,t,n){var i=e.cssRules.length;(void 0===n||n>i)&&(n=i);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},fe=function(){function e(e){this.getPropertyValue=ae,this.setProperty=se,this.removeProperty=le,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,i=t.meta,r=t.element;this.element=r||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=pe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=he(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"===typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(e,r.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(r=ue(n,i.toString({children:!1}),t)))&&(this.insertRules(i.rules,r),r)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var a=ue(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,me=function(){function e(e){this.id=ge++,this.version="10.4.0",this.plugins=new J,this.options={id:{minify:!1},createGenerateId:re,Renderer:l?fe:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<q.length;t++)this.plugins.use(q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var i=new Q(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=g(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var ve="undefined"!==typeof CSS&&CSS&&"number"in CSS,ye=function(e){return new me(e)};ye();function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var we={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},xe=n(177),Se=(n(2),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Ce=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Oe=Date.now(),Pe="fnValues"+Oe,Ee="fnStyle"+ ++Oe;var Te=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=g(e,{},n);return i[Ee]=t,i},onProcessStyle:function(e,t){if(Pe in t||Ee in t)return e;var n={};for(var i in e){var r=e[i];"function"===typeof r&&(delete e[i],n[i]=r)}return t[Pe]=n,e},onUpdate:function(e,t,n,i){var r=t,o=r[Ee];o&&(r.style=o(e)||{});var a=r[Pe];if(a)for(var s in a)r.prop(s,a[s](e),i)}}},ke="@global",Ie=function(){function e(e,t,n){for(var i in this.type="global",this.at=ke,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new $(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ae=function(){function e(e,t,n){this.type="global",this.at=ke,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr("@global ".length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Me=/\s*,\s*/g;function je(e,t){for(var n=e.split(Me),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var De=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===ke)return new Ie(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new Ae(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,i=n?n[ke]:null;if(i){for(var o in i)t.sheet.addRule(o,i[o],Object(r.a)({},t,{selector:je(o,e.selector)}));delete n[ke]}}(e),function(e){var t=e.options,n=e.style;for(var i in n)if("@"===i[0]&&i.substr(0,ke.length)===ke){var o=je(i.substr(ke.length),e.selector);t.sheet.addRule(o,n[i],Object(r.a)({},t,{selector:o})),delete n[i]}}(e))}}},Le=/\s*,\s*/g,Re=/&/g,Ne=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?(r=r).selector:i}}function t(e,t){for(var n=t.split(Le),i=e.split(Le),r="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<i.length;s++){var l=i[s];r&&(r+=", "),r+=-1!==l.indexOf("&")?l.replace(Re,a):a+" "+l}return r}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,l,c=o,d=c.options.parent;for(var h in i){var p=-1!==h.indexOf("&"),u="@"===h[0];if(p||u){if(s=n(c,d,s),p){var f=t(h,c.selector);l||(l=e(d,a)),f=f.replace(Ne,l),d.addRule(f,i[h],Object(r.a)({},s,{selector:f}))}else u&&d.addRule(h,{},s).addRule(c.key,i[h],{selector:c.selector});delete i[h]}}return i}}},Be=/[A-Z]/g,He=/^ms-/,_e={};function We(e){return"-"+e.toLowerCase()}var Fe=function(e){if(_e.hasOwnProperty(e))return _e[e];var t=e.replace(Be,We);return _e[e]=He.test(t)?"-"+t:t};function Ve(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Fe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ve):t.fallbacks=Ve(e.fallbacks)),t}var Ue=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ve(e[t]);return e}return Ve(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=Fe(t);return t===i?e:(n.prop(i,e),null)}}},Ye=ve&&CSS?CSS.px:"px",Xe=ve&&CSS?CSS.ms:"ms",Ge=ve&&CSS?CSS.percent:"%";function qe(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var Ze=qe({"animation-delay":Xe,"animation-duration":Xe,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":Ge,"perspective-origin-y":Ge,"transform-origin":Ge,"transform-origin-x":Ge,"transform-origin-y":Ge,"transform-origin-z":Ge,"transition-delay":Xe,"transition-duration":Xe,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,grid:Ye,"grid-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function Ke(e,t,n){if(!t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=Ke(e,t[i],n);else if("object"===typeof t)if("fallbacks"===e)for(var r in t)t[r]=Ke(r,t[r],n);else for(var o in t)t[o]=Ke(e+"-"+o,t[o],n);else if("number"===typeof t){var a=n[e]||Ze[e];return a?"function"===typeof a?a(t).toString():""+t+a:t.toString()}return t}var $e=function(e){void 0===e&&(e={});var t=qe(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=Ke(i,e[i],t);return e},onChangeValue:function(e,n){return Ke(n,e,t)}}},Qe=n(42),Je="",et="",tt="",nt="",it=l&&"ontouchstart"in document.documentElement;if(l){var rt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ot=document.createElement("p").style;for(var at in rt)if(at+"Transform"in ot){Je=at,et=rt[at];break}"Webkit"===Je&&"msHyphens"in ot&&(Je="ms",et=rt.ms,nt="edge"),"Webkit"===Je&&"-apple-trailing-word"in ot&&(tt="apple")}var st=Je,lt=et,ct=tt,dt=nt,ht=it;var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===st?"-webkit-"+e:lt+e)}},ut={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===st?lt+"print-"+e:e)}},ft=/[-\s]+(.)?/g;function gt(e,t){return t?t.toUpperCase():""}function mt(e){return e.replace(ft,gt)}function vt(e){return mt("-"+e)}var yt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===st){if(mt("mask-image")in t)return e;if(st+vt("mask-image")in t)return lt+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ct||ht?e:lt+e)}},xt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:lt+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:lt+e)}},Ct={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===st||"ms"===st&&"edge"!==dt?lt+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===st||"ms"===st||"apple"===ct?lt+e:e)}},Pt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===st?"WebkitColumn"+vt(e)in t&&lt+"column-"+e:"Moz"===st&&("page"+vt(e)in t&&"page-"+e))}},Et={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===st)return e;var n=e.replace("-inline","");return st+vt(n)in t&&lt+n}},Tt={supportedProperty:function(e,t){return mt(e)in t&&e}},kt={supportedProperty:function(e,t){var n=vt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:st+n in t?lt+e:"Webkit"!==st&&"Webkit"+n in t&&"-webkit-"+e}},It={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===st?""+lt+e:e)}},At={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===st?lt+"scroll-chaining":e)}},Mt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Mt[e];return!!n&&(st+vt(n)in t&&lt+n)}},Dt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Lt=Object.keys(Dt),Rt=function(e){return lt+e},Nt=[pt,ut,bt,wt,xt,St,Ct,Ot,Pt,Et,Tt,kt,It,At,jt,{supportedProperty:function(e,t,n){var i=n.multiple;if(Lt.indexOf(e)>-1){var r=Dt[e];if(!Array.isArray(r))return st+vt(r)in t&&lt+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(st+vt(r[0])in t))return!1;return r.map(Rt)}return!1}}],zt=Nt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Bt=Nt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Qe.a)(t.noPrefill)),e}),[]),Ht={};if(l){yt=document.createElement("p");var _t=window.getComputedStyle(document.documentElement,"");for(var Wt in _t)isNaN(Wt)||(Ht[_t[Wt]]=_t[Wt]);Bt.forEach((function(e){return delete Ht[e]}))}function Ft(e,t){if(void 0===t&&(t={}),!yt)return e;if(null!=Ht[e])return Ht[e];"transition"!==e&&"transform"!==e||(t[e]=e in yt.style);for(var n=0;n<zt.length&&(Ht[e]=zt[n](e,yt.style,t),!Ht[e]);n++);try{yt.style[e]=""}catch(i){return!1}return Ht[e]}var Vt,Ut={},Yt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Xt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Gt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?Ft(t):", "+Ft(n);return i||(t||n)}function qt(e,t){var n=t;if(!Vt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Ut[i])return Ut[i];try{Vt.style[e]=n}catch(r){return Ut[i]=!1,!1}if(Yt[e])n=n.replace(Xt,Gt);else if(""===Vt.style[e]&&("-ms-flex"===(n=lt+n)&&(Vt.style[e]="-ms-flexbox"),Vt.style[e]=n,""===Vt.style[e]))return Ut[i]=!1,!1;return Vt.style[e]="",Ut[i]=n,Ut[i]}l&&(Vt=document.createElement("p"));var Zt=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var r=!1,o=Ft(n);o&&o!==n&&(r=!0);var a=!1,s=qt(o,v(i));s&&s!==i&&(a=!0),(r||a)&&(r&&delete t[n],t[o||n]=s||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===st?n:"@"+lt+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return qt(t,v(e))||e}}};var Kt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i={},r=Object.keys(t).sort(e),o=0;o<r.length;o++)i[r[o]]=t[r[o]];return i}}};function $t(){return{plugins:[Te(),De(),ze(),Ue(),$e(),"undefined"===typeof window?null:Zt(),Kt()]}}var Qt=ye($t()),Jt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,i=e.productionPrefix,r=void 0===i?"jss":i,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,c=function(){return l+=1};return function(e,t){var i=t.options.name;if(i&&0===i.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ce.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(i,"-").concat(e.key);return t.options.theme[Se]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(r).concat(c())}}(),jss:Qt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},en=a.a.createContext(Jt);var tn=-1e9;function nn(){return tn+=1}n(71);var rn=n(175);function on(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(l){throw l}if(!i||!n.overrides||!n.overrides[i])return o;var a=n.overrides[i],s=Object(r.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(rn.a)(s[e],a[e])})),s},options:{}}}var an={};function sn(e,t,n){var i=e.state;if(e.stylesOptions.disableGeneration)return t||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),t!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=t,r=!0),r&&(i.cacheClasses.value=be({baseClasses:i.cacheClasses.lastJSS,newClasses:t,Component:n})),i.cacheClasses.value}function ln(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=we.get(o.sheetsManager,a,i);l||(l={refs:0,staticSheet:null,dynamicStyles:null},we.set(o.sheetsManager,a,i,l));var c=Object(r.a)(Object(r.a)(Object(r.a)({},a.options),o),{},{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var d=o.sheetsRegistry;if(0===l.refs){var h;o.sheetsCache&&(h=we.get(o.sheetsCache,a,i));var p=a.create(i,s);h||((h=o.jss.createStyleSheet(p,Object(r.a)({link:!1},c))).attach(),o.sheetsCache&&we.set(o.sheetsCache,a,i,h)),d&&d.add(h),l.staticSheet=h,l.dynamicStyles=function e(t){var n=null;for(var i in t){var r=t[i],o=typeof r;if("function"===o)n||(n={}),n[i]=r;else if("object"===o&&null!==r&&!Array.isArray(r)){var a=e(r);a&&(n||(n={}),n[i]=a)}}return n}(p)}if(l.dynamicStyles){var u=o.jss.createStyleSheet(l.dynamicStyles,Object(r.a)({link:!0},c));u.update(t),u.attach(),n.dynamicSheet=u,n.classes=be({baseClasses:l.staticSheet.classes,newClasses:u.classes}),d&&d.add(u)}else n.classes=l.staticSheet.classes;l.refs+=1}}function cn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function dn(e){var t=e.state,n=e.theme,i=e.stylesOptions,r=e.stylesCreator;if(!i.disableGeneration){var o=we.get(i.sheetsManager,r,n);o.refs-=1;var a=i.sheetsRegistry;0===o.refs&&(we.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(i.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function hn(e,t){var n,i=a.a.useRef([]),r=a.a.useMemo((function(){return{}}),t);i.current!==r&&(i.current=r,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[r])}function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,c=void 0===l?an:l,d=Object(i.a)(t,["name","classNamePrefix","Component","defaultTheme"]),h=on(e),p=n||o||"makeStyles";h.options={index:nn(),name:n,meta:p,classNamePrefix:p};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(xe.a)()||c,i=Object(r.a)(Object(r.a)({},a.a.useContext(en)),d),o=a.a.useRef(),l=a.a.useRef();hn((function(){var r={name:n,state:{},stylesCreator:h,stylesOptions:i,theme:t};return ln(r,e),l.current=!1,o.current=r,function(){dn(r)}}),[t,h]),a.a.useEffect((function(){l.current&&cn(o.current,e),l.current=!0}));var p=sn(o.current,e.classes,s);return p};return u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0),r=n.n(i);var o=r.a.createContext(null);function a(){return r.a.useContext(o)}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(1),r=n(176),o=n(52);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(e,Object(i.a)({defaultTheme:o.a},t))}},function(e,t,n){"use strict";var i=n(6),r=n(1),o=n(0),a=(n(2),n(10)),s=n(14),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,d=e.square,h=void 0!==d&&d,p=e.elevation,u=void 0===p?1:p,f=e.variant,g=void 0===f?"elevation":f,m=Object(i.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(r.a)({className:Object(a.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(u)],!h&&n.rounded),ref:t},m))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},function(e,t,n){"use strict";function i(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.props||!t.props[n])return i;var r,o=t.props[n];for(r in o)void 0===i[r]&&(i[r]=o[r]);return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=(n(2),n(10)),s=n(14),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.dividers,c=void 0!==l&&l,d=Object(r.a)(e,["classes","className","dividers"]);return o.createElement("div",Object(i.a)({className:Object(a.a)(n.root,s,c&&n.dividers),ref:t},d))}));t.a=Object(s.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(l)},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=(n(2),n(10)),s=n(14),l=o.forwardRef((function(e,t){var n=e.disableSpacing,s=void 0!==n&&n,l=e.classes,c=e.className,d=Object(r.a)(e,["disableSpacing","classes","className"]);return o.createElement("div",Object(i.a)({className:Object(a.a)(l.root,c,!s&&l.spacing),ref:t},d))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(l)},function(e,t,n){"use strict";var i=n(42),r=n(1),o=(n(2),n(48));var a=function(e){var t=function(t){var n=e(t);return t.css?Object(r.a)(Object(r.a)({},Object(o.a)(n,e(Object(r.a)({theme:t.theme},t.css)))),function(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(i.a)(e.filterProps)),t};var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=function(e){return t.reduce((function(t,n){var i=n(e);return i?Object(o.a)(t,i):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},l=n(27),c=n(80);function d(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var h=function(e){var t=e.prop,n=e.cssProperty,i=void 0===n?e.prop:n,r=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=d(e.theme,r)||{};return Object(c.a)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=d(a,e)||e,o&&(t=o(t))),!1===i?t:Object(l.a)({},i,t)}))};return a.propTypes={},a.filterProps=[t],a};function p(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var u=s(h({prop:"border",themeKey:"borders",transform:p}),h({prop:"borderTop",themeKey:"borders",transform:p}),h({prop:"borderRight",themeKey:"borders",transform:p}),h({prop:"borderBottom",themeKey:"borders",transform:p}),h({prop:"borderLeft",themeKey:"borders",transform:p}),h({prop:"borderColor",themeKey:"palette"}),h({prop:"borderRadius",themeKey:"shape"})),f=s(h({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),h({prop:"display"}),h({prop:"overflow"}),h({prop:"textOverflow"}),h({prop:"visibility"}),h({prop:"whiteSpace"})),g=s(h({prop:"flexBasis"}),h({prop:"flexDirection"}),h({prop:"flexWrap"}),h({prop:"justifyContent"}),h({prop:"alignItems"}),h({prop:"alignContent"}),h({prop:"order"}),h({prop:"flex"}),h({prop:"flexGrow"}),h({prop:"flexShrink"}),h({prop:"alignSelf"}),h({prop:"justifyItems"}),h({prop:"justifySelf"})),m=s(h({prop:"gridGap"}),h({prop:"gridColumnGap"}),h({prop:"gridRowGap"}),h({prop:"gridColumn"}),h({prop:"gridRow"}),h({prop:"gridAutoFlow"}),h({prop:"gridAutoColumns"}),h({prop:"gridAutoRows"}),h({prop:"gridTemplateColumns"}),h({prop:"gridTemplateRows"}),h({prop:"gridTemplateAreas"}),h({prop:"gridArea"})),v=s(h({prop:"position"}),h({prop:"zIndex",themeKey:"zIndex"}),h({prop:"top"}),h({prop:"right"}),h({prop:"bottom"}),h({prop:"left"})),y=s(h({prop:"color",themeKey:"palette"}),h({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=h({prop:"boxShadow",themeKey:"shadows"});function w(e){return e<=1?"".concat(100*e,"%"):e}var x=h({prop:"width",transform:w}),S=h({prop:"maxWidth",transform:w}),C=h({prop:"minWidth",transform:w}),O=h({prop:"height",transform:w}),P=h({prop:"maxHeight",transform:w}),E=h({prop:"minHeight",transform:w}),T=(h({prop:"size",cssProperty:"width",transform:w}),h({prop:"size",cssProperty:"height",transform:w}),s(x,S,C,O,P,E,h({prop:"boxSizing"}))),k=n(213),I=s(h({prop:"fontFamily",themeKey:"typography"}),h({prop:"fontSize",themeKey:"typography"}),h({prop:"fontStyle",themeKey:"typography"}),h({prop:"fontWeight",themeKey:"typography"}),h({prop:"letterSpacing"}),h({prop:"lineHeight"}),h({prop:"textAlign"})),A=n(6),M=n(0),j=n.n(M),D=n(10),L=n(44),R=n.n(L),N=n(176);function z(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}var B=n(52),H=function(e){var t=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.name,o=Object(A.a)(n,["name"]);var a,s=i,l="function"===typeof t?function(e){return{root:function(n){return t(Object(r.a)({theme:e},n))}}}:{root:t},c=Object(N.a)(l,Object(r.a)({Component:e,name:i||e.displayName,classNamePrefix:s},o));t.filterProps&&(a=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var d=j.a.forwardRef((function(t,n){var i=t.children,o=t.className,s=t.clone,l=t.component,d=Object(A.a)(t,["children","className","clone","component"]),h=c(t),p=Object(D.a)(h.root,o),u=d;if(a&&(u=z(u,a)),s)return j.a.cloneElement(i,Object(r.a)({className:Object(D.a)(i.props.className,p)},u));if("function"===typeof i)return i(Object(r.a)({className:p},u));var f=l||e;return j.a.createElement(f,Object(r.a)({ref:n,className:p},u),i)}));return R()(d,e),d}}(e);return function(e,n){return t(e,Object(r.a)({defaultTheme:B.a},n))}},_=a(s(u,f,g,m,v,y,b,T,k.b,I)),W=H("div")(_,{name:"MuiBox"});t.a=W},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=(n(2),n(10)),s=n(12),l=n(177),c=n(205),d=n(32),h=n(66),p=n(18);var u="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var f=o.forwardRef((function(e,t){var n=e.children,i=e.container,r=e.disablePortal,a=void 0!==r&&r,l=e.onRendered,c=o.useState(null),d=c[0],f=c[1],g=Object(p.a)(o.isValidElement(n)?n.ref:null,t);return u((function(){a||f(function(e){return e="function"===typeof e?e():e,s.findDOMNode(e)}(i)||document.body)}),[i,a]),u((function(){if(d&&!a)return Object(h.a)(t,d),function(){Object(h.a)(t,null)}}),[t,d,a]),u((function(){l&&(d||a)&&l()}),[l,d,a]),a?o.isValidElement(n)?o.cloneElement(n,{ref:g}):n:d?s.createPortal(n,d):d})),g=n(67),m=n(30),v=n(81);var y=n(64),b=n(42);function w(e){var t,n=Object(d.a)(e);return n.body===e?(t=n,Object(d.a)(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function x(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function S(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function C(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(b.a)(i)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&x(e,r)}))}function O(e,t){var n=-1;return e.some((function(e,i){return!!t(e)&&(n=i,!0)})),n}function P(e,t){var n,i=[],r=[],o=e.container;if(!t.disableScrollLock){if(w(o)){var a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();i.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(S(o)+a,"px"),n=Object(d.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){r.push(e.style.paddingRight),e.style.paddingRight="".concat(S(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;i.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){r[t]?e.style.paddingRight=r[t]:e.style.removeProperty("padding-right")})),i.forEach((function(e){var t=e.value,n=e.el,i=e.key;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(y.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&x(e.modalRef,!1);var i=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);C(t,e.mountNode,e.modalRef,i,!0);var r=O(this.containers,(function(e){return e.container===t}));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:i}),n)}},{key:"mount",value:function(e,t){var n=O(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];i.restore||(i.restore=P(i,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=O(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&x(e.modalRef,!0),C(i.container,e.mountNode,e.modalRef,i.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var r=i.modals[i.modals.length-1];r.modalRef&&x(r.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var T=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,r=e.disableEnforceFocus,a=void 0!==r&&r,l=e.disableRestoreFocus,c=void 0!==l&&l,h=e.getDoc,u=e.isEnabled,f=e.open,g=o.useRef(),m=o.useRef(null),v=o.useRef(null),y=o.useRef(),b=o.useRef(null),w=o.useCallback((function(e){b.current=s.findDOMNode(e)}),[]),x=Object(p.a)(t.ref,w),S=o.useRef();return o.useEffect((function(){S.current=f}),[f]),!S.current&&f&&"undefined"!==typeof window&&(y.current=h().activeElement),o.useEffect((function(){if(f){var e=Object(d.a)(b.current);i||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){e.hasFocus()&&!a&&u()&&!g.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():g.current=!1},n=function(t){!a&&u()&&9===t.keyCode&&e.activeElement===b.current&&(g.current=!0,t.shiftKey?v.current.focus():m.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[i,a,c,u,f]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:x}),o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},k={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},I=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,l=Object(r.a)(e,["invisible","open"]);return s?o.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},l,{style:Object(i.a)({},k.root,a?k.invisible:{},l.style)})):null}));var A=new E,M=o.forwardRef((function(e,t){var n=Object(l.a)(),a=Object(c.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),h=a.BackdropComponent,u=void 0===h?I:h,y=a.BackdropProps,b=a.children,w=a.closeAfterTransition,S=void 0!==w&&w,C=a.container,O=a.disableAutoFocus,P=void 0!==O&&O,E=a.disableBackdropClick,k=void 0!==E&&E,M=a.disableEnforceFocus,j=void 0!==M&&M,D=a.disableEscapeKeyDown,L=void 0!==D&&D,R=a.disablePortal,N=void 0!==R&&R,z=a.disableRestoreFocus,B=void 0!==z&&z,H=a.disableScrollLock,_=void 0!==H&&H,W=a.hideBackdrop,F=void 0!==W&&W,V=a.keepMounted,U=void 0!==V&&V,Y=a.manager,X=void 0===Y?A:Y,G=a.onBackdropClick,q=a.onClose,Z=a.onEscapeKeyDown,K=a.onRendered,$=a.open,Q=Object(r.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=o.useState(!0),ee=J[0],te=J[1],ne=o.useRef({}),ie=o.useRef(null),re=o.useRef(null),oe=Object(p.a)(re,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),se=function(){return Object(d.a)(ie.current)},le=function(){return ne.current.modalRef=re.current,ne.current.mountNode=ie.current,ne.current},ce=function(){X.mount(le(),{disableScrollLock:_}),re.current.scrollTop=0},de=Object(m.a)((function(){var e=function(e){return e="function"===typeof e?e():e,s.findDOMNode(e)}(C)||se().body;X.add(le(),e),re.current&&ce()})),he=o.useCallback((function(){return X.isTopModal(le())}),[X]),pe=Object(m.a)((function(e){ie.current=e,e&&(K&&K(),$&&he()?ce():x(re.current,!0))})),ue=o.useCallback((function(){X.remove(le())}),[X]);if(o.useEffect((function(){return function(){ue()}}),[ue]),o.useEffect((function(){$?de():ae&&S||ue()}),[$,ue,ae,S,de]),!U&&!$&&(!ae||ee))return null;var fe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:v.a}),ge={};return void 0===b.props.tabIndex&&(ge.tabIndex=b.props.tabIndex||"-1"),ae&&(ge.onEnter=Object(g.a)((function(){te(!1)}),b.props.onEnter),ge.onExited=Object(g.a)((function(){te(!0),S&&ue()}),b.props.onExited)),o.createElement(f,{ref:pe,container:C,disablePortal:N},o.createElement("div",Object(i.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&he()&&(Z&&Z(e),L||(e.stopPropagation(),q&&q(e,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(i.a)({},fe.root,!$&&ee?fe.hidden:{},Q.style)}),F?null:o.createElement(u,Object(i.a)({open:$,onClick:function(e){e.target===e.currentTarget&&(G&&G(e),!k&&q&&q(e,"backdropClick"))}},y)),o.createElement(T,{disableEnforceFocus:j,disableAutoFocus:P,disableRestoreFocus:B,getDoc:se,isEnabled:he,open:$},o.cloneElement(b,ge))))})),j=n(14),D=n(63),L=n(97),R=n(31),N=n(49),z=n(37),B={entering:{opacity:1},entered:{opacity:1}},H={enter:R.b.enteringScreen,exit:R.b.leavingScreen},_=o.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,s=void 0!==a&&a,l=e.in,c=e.onEnter,d=e.onEntered,h=e.onEntering,u=e.onExit,f=e.onExited,g=e.onExiting,m=e.style,v=e.TransitionComponent,y=void 0===v?L.c:v,b=e.timeout,w=void 0===b?H:b,x=Object(r.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),S=Object(N.a)(),C=S.unstable_strictMode&&!s,O=o.useRef(null),P=Object(p.a)(n.ref,t),E=Object(p.a)(C?O:void 0,P),T=function(e){return function(t,n){if(e){var i=C?[O.current,t]:[t,n],r=Object(D.a)(i,2),o=r[0],a=r[1];void 0===a?e(o):e(o,a)}}},k=T(h),I=T((function(e,t){Object(z.b)(e);var n=Object(z.a)({style:m,timeout:w},{mode:"enter"});e.style.webkitTransition=S.transitions.create("opacity",n),e.style.transition=S.transitions.create("opacity",n),c&&c(e,t)})),A=T(d),M=T(g),j=T((function(e){var t=Object(z.a)({style:m,timeout:w},{mode:"exit"});e.style.webkitTransition=S.transitions.create("opacity",t),e.style.transition=S.transitions.create("opacity",t),u&&u(e)})),R=T(f);return o.createElement(y,Object(i.a)({appear:!0,in:l,nodeRef:C?O:void 0,onEnter:I,onEntered:A,onEntering:k,onExit:j,onExited:R,onExiting:M,timeout:w},x),(function(e,t){return o.cloneElement(n,Object(i.a)({style:Object(i.a)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},B[e],m,n.props.style),ref:E},t))}))})),W=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,c=e.invisible,d=void 0!==c&&c,h=e.open,p=e.transitionDuration,u=e.TransitionComponent,f=void 0===u?_:u,g=Object(r.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(f,Object(i.a)({in:h,timeout:p},g),o.createElement("div",{className:Object(a.a)(s.root,l,d&&s.invisible),"aria-hidden":!0,ref:t},n))})),F=Object(j.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(W);function V(e,t){var n=function(e,t){var n,i=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var r=window.getComputedStyle(t);n=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-i.left,"px)"):"right"===e?"translateX(-".concat(i.left+i.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-i.top,"px)"):"translateY(-".concat(i.top+i.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var U={enter:R.b.enteringScreen,exit:R.b.leavingScreen},Y=o.forwardRef((function(e,t){var n=e.children,a=e.direction,l=void 0===a?"down":a,c=e.in,d=e.onEnter,h=e.onEntered,u=e.onEntering,f=e.onExit,g=e.onExited,m=e.onExiting,v=e.style,y=e.timeout,b=void 0===y?U:y,w=e.TransitionComponent,x=void 0===w?L.c:w,S=Object(r.a)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=Object(N.a)(),O=o.useRef(null),P=o.useCallback((function(e){O.current=s.findDOMNode(e)}),[]),E=Object(p.a)(n.ref,P),T=Object(p.a)(E,t),k=function(e){return function(t){e&&(void 0===t?e(O.current):e(O.current,t))}},I=k((function(e,t){V(l,e),Object(z.b)(e),d&&d(e,t)})),A=k((function(e,t){var n=Object(z.a)({timeout:b,style:v},{mode:"enter"});e.style.webkitTransition=C.transitions.create("-webkit-transform",Object(i.a)({},n,{easing:C.transitions.easing.easeOut})),e.style.transition=C.transitions.create("transform",Object(i.a)({},n,{easing:C.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",u&&u(e,t)})),M=k(h),j=k(m),D=k((function(e){var t=Object(z.a)({timeout:b,style:v},{mode:"exit"});e.style.webkitTransition=C.transitions.create("-webkit-transform",Object(i.a)({},t,{easing:C.transitions.easing.sharp})),e.style.transition=C.transitions.create("transform",Object(i.a)({},t,{easing:C.transitions.easing.sharp})),V(l,e),f&&f(e)})),R=k((function(e){e.style.webkitTransition="",e.style.transition="",g&&g(e)})),B=o.useCallback((function(){O.current&&V(l,O.current)}),[l]);return o.useEffect((function(){if(!c&&"down"!==l&&"right"!==l){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=this,s=function(){e.apply(a,r)};clearTimeout(t),t=setTimeout(s,n)}return i.clear=function(){clearTimeout(t)},i}((function(){O.current&&V(l,O.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[l,c]),o.useEffect((function(){c||B()}),[c,B]),o.createElement(x,Object(i.a)({nodeRef:O,onEnter:I,onEntered:M,onEntering:A,onExit:D,onExited:R,onExiting:j,appear:!0,in:c,timeout:b},S),(function(e,t){return o.cloneElement(n,Object(i.a)({ref:T,style:Object(i.a)({visibility:"exited"!==e||c?void 0:"hidden"},v,n.props.style)},t))}))})),X=n(204),G=n(28),q={left:"right",right:"left",top:"down",bottom:"up"};var Z={enter:R.b.enteringScreen,exit:R.b.leavingScreen},K=o.forwardRef((function(e,t){var n=e.anchor,s=void 0===n?"left":n,l=e.BackdropProps,c=e.children,d=e.classes,h=e.className,p=e.elevation,u=void 0===p?16:p,f=e.ModalProps,g=(f=void 0===f?{}:f).BackdropProps,m=Object(r.a)(f,["BackdropProps"]),v=e.onClose,y=e.open,b=void 0!==y&&y,w=e.PaperProps,x=void 0===w?{}:w,S=e.SlideProps,C=e.TransitionComponent,O=void 0===C?Y:C,P=e.transitionDuration,E=void 0===P?Z:P,T=e.variant,k=void 0===T?"temporary":T,I=Object(r.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),A=Object(N.a)(),j=o.useRef(!1);o.useEffect((function(){j.current=!0}),[]);var D=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?q[t]:t}(A,s),L=o.createElement(X.a,Object(i.a)({elevation:"temporary"===k?u:0,square:!0},x,{className:Object(a.a)(d.paper,d["paperAnchor".concat(Object(G.a)(D))],x.className,"temporary"!==k&&d["paperAnchorDocked".concat(Object(G.a)(D))])}),c);if("permanent"===k)return o.createElement("div",Object(i.a)({className:Object(a.a)(d.root,d.docked,h),ref:t},I),L);var R=o.createElement(O,Object(i.a)({in:b,direction:q[D],timeout:E,appear:j.current},S),L);return"persistent"===k?o.createElement("div",Object(i.a)({className:Object(a.a)(d.root,d.docked,h),ref:t},I),R):o.createElement(M,Object(i.a)({BackdropProps:Object(i.a)({},l,g,{transitionDuration:E}),BackdropComponent:F,className:Object(a.a)(d.root,d.modal,h),open:b,onClose:v,ref:t},I,m),R)}));t.a=Object(j.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(K)},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=n.n(o),s=(n(2),n(10)),l=n(14),c=n(43),d=n(12),h=n(18),p=n(30),u=!0,f=!1,g=null,m={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function v(e){e.metaKey||e.altKey||e.ctrlKey||(u=!0)}function y(){u=!1}function b(){"hidden"===this.visibilityState&&f&&(u=!0)}function w(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return u||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!m[t]||e.readOnly)||("TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable)}(t)}function x(){f=!0,window.clearTimeout(g),g=window.setTimeout((function(){f=!1}),100)}function S(){return{isFocusVisible:w,onBlurVisible:x,ref:o.useCallback((function(e){var t,n=d.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",v,!0),t.addEventListener("mousedown",y,!0),t.addEventListener("pointerdown",y,!0),t.addEventListener("touchstart",y,!0),t.addEventListener("visibilitychange",b,!0))}),[])}}var C=n(42),O=n(3),P=n(73),E=n(16),T=n(65);function k(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function I(e,t,n){return null!=n[t]?n[t]:e.props[t]}function A(e,t,n){var i=k(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(t,i);return Object.keys(r).forEach((function(a){var s=r[a];if(Object(o.isValidElement)(s)){var l=a in t,c=a in i,d=t[a],h=Object(o.isValidElement)(d)&&!d.props.in;!c||l&&!h?c||!l||h?c&&l&&Object(o.isValidElement)(d)&&(r[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:I(s,"exit",e),enter:I(s,"enter",e)})):r[a]=Object(o.cloneElement)(s,{in:!1}):r[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:I(s,"exit",e),enter:I(s,"enter",e)})}})),r}var M=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},j=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(Object(P.a)(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Object(E.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,k(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:I(e,"appear",n),enter:I(e,"enter",n),exit:I(e,"exit",n)})}))):A(e,r,a),firstRender:!1}},n.handleExited=function(e,t){var n=k(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(O.a)(e,["component","childFactory"]),r=this.state.contextValue,o=M(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?a.a.createElement(T.a.Provider,{value:r},o):a.a.createElement(T.a.Provider,{value:r},a.a.createElement(t,i,o))},t}(a.a.Component);j.propTypes={},j.defaultProps={component:"div",childFactory:function(e){return e}};var D=j,L="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var R=function(e){var t=e.classes,n=e.pulsate,i=void 0!==n&&n,r=e.rippleX,a=e.rippleY,l=e.rippleSize,c=e.in,d=e.onExited,h=void 0===d?function(){}:d,u=e.timeout,f=o.useState(!1),g=f[0],m=f[1],v=Object(s.a)(t.ripple,t.rippleVisible,i&&t.ripplePulsate),y={width:l,height:l,top:-l/2+a,left:-l/2+r},b=Object(s.a)(t.child,g&&t.childLeaving,i&&t.childPulsate),w=Object(p.a)(h);return L((function(){if(!c){m(!0);var e=setTimeout(w,u);return function(){clearTimeout(e)}}}),[w,c,u]),o.createElement("span",{className:v,style:y},o.createElement("span",{className:b}))},N=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,l=e.classes,c=e.className,d=Object(r.a)(e,["center","classes","className"]),h=o.useState([]),p=h[0],u=h[1],f=o.useRef(0),g=o.useRef(null);o.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var m=o.useRef(!1),v=o.useRef(null),y=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var w=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,r=e.rippleSize,a=e.cb;u((function(e){return[].concat(Object(C.a)(e),[o.createElement(R,{key:f.current,classes:l,timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r})])})),f.current+=1,g.current=a}),[l]),x=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,r=void 0!==i&&i,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var d,h,p,u=c?null:b.current,f=u?u.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)d=Math.round(f.width/2),h=Math.round(f.height/2);else{var g=e.touches?e.touches[0]:e,x=g.clientX,S=g.clientY;d=Math.round(x-f.left),h=Math.round(S-f.top)}if(s)(p=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(p+=1);else{var C=2*Math.max(Math.abs((u?u.clientWidth:0)-d),d)+2,O=2*Math.max(Math.abs((u?u.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(C,2)+Math.pow(O,2))}e.touches?null===y.current&&(y.current=function(){w({pulsate:r,rippleX:d,rippleY:h,rippleSize:p,cb:n})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):w({pulsate:r,rippleX:d,rippleY:h,rippleSize:p,cb:n})}}),[a,w]),S=o.useCallback((function(){x({},{pulsate:!0})}),[x]),O=o.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){O(e,t)})));y.current=null,u((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:S,start:x,stop:O}}),[S,x,O]),o.createElement("span",Object(i.a)({className:Object(s.a)(l.root,c),ref:b},d),o.createElement(D,{component:null,exit:!0},p))})),z=Object(l.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(N)),B=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,l=e.centerRipple,c=void 0!==l&&l,u=e.children,f=e.classes,g=e.className,m=e.component,v=void 0===m?"button":m,y=e.disabled,b=void 0!==y&&y,w=e.disableRipple,x=void 0!==w&&w,C=e.disableTouchRipple,O=void 0!==C&&C,P=e.focusRipple,E=void 0!==P&&P,T=e.focusVisibleClassName,k=e.onBlur,I=e.onClick,A=e.onFocus,M=e.onFocusVisible,j=e.onKeyDown,D=e.onKeyUp,L=e.onMouseDown,R=e.onMouseLeave,N=e.onMouseUp,B=e.onTouchEnd,H=e.onTouchMove,_=e.onTouchStart,W=e.onDragLeave,F=e.tabIndex,V=void 0===F?0:F,U=e.TouchRippleProps,Y=e.type,X=void 0===Y?"button":Y,G=Object(r.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=o.useRef(null);var Z=o.useRef(null),K=o.useState(!1),$=K[0],Q=K[1];b&&$&&Q(!1);var J=S(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return Object(p.a)((function(i){return t&&t(i),!n&&Z.current&&Z.current[e](i),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),q.current.focus()}}}),[]),o.useEffect((function(){$&&E&&!x&&Z.current.pulsate()}),[x,E,$]);var re=ie("start",L),oe=ie("stop",W),ae=ie("stop",N),se=ie("stop",(function(e){$&&e.preventDefault(),R&&R(e)})),le=ie("start",_),ce=ie("stop",B),de=ie("stop",H),he=ie("stop",(function(e){$&&(te(e),Q(!1)),k&&k(e)}),!1),pe=Object(p.a)((function(e){q.current||(q.current=e.currentTarget),ee(e)&&(Q(!0),M&&M(e)),A&&A(e)})),ue=function(){var e=d.findDOMNode(q.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},fe=o.useRef(!1),ge=Object(p.a)((function(e){E&&!fe.current&&$&&Z.current&&" "===e.key&&(fe.current=!0,e.persist(),Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&ue()&&" "===e.key&&e.preventDefault(),j&&j(e),e.target===e.currentTarget&&ue()&&"Enter"===e.key&&!b&&(e.preventDefault(),I&&I(e))})),me=Object(p.a)((function(e){E&&" "===e.key&&Z.current&&$&&!e.defaultPrevented&&(fe.current=!1,e.persist(),Z.current.stop(e,(function(){Z.current.pulsate(e)}))),D&&D(e),I&&e.target===e.currentTarget&&ue()&&" "===e.key&&!e.defaultPrevented&&I(e)})),ve=v;"button"===ve&&G.href&&(ve="a");var ye={};"button"===ve?(ye.type=X,ye.disabled=b):("a"===ve&&G.href||(ye.role="button"),ye["aria-disabled"]=b);var be=Object(h.a)(a,t),we=Object(h.a)(ne,q),xe=Object(h.a)(be,we),Se=o.useState(!1),Ce=Se[0],Oe=Se[1];o.useEffect((function(){Oe(!0)}),[]);var Pe=Ce&&!x&&!b;return o.createElement(ve,Object(i.a)({className:Object(s.a)(f.root,g,$&&[f.focusVisible,T],b&&f.disabled),onBlur:he,onClick:I,onFocus:pe,onKeyDown:ge,onKeyUp:me,onMouseDown:re,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:de,onTouchStart:le,ref:xe,tabIndex:b?-1:V},ye,G),u,Pe?o.createElement(z,Object(i.a)({ref:Z,center:c},U)):null)})),H=Object(l.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(B),_=n(28),W=o.forwardRef((function(e,t){var n=e.edge,a=void 0!==n&&n,l=e.children,c=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,u=e.disabled,f=void 0!==u&&u,g=e.disableFocusRipple,m=void 0!==g&&g,v=e.size,y=void 0===v?"medium":v,b=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(H,Object(i.a)({className:Object(s.a)(c.root,d,"default"!==p&&c["color".concat(Object(_.a)(p))],f&&c.disabled,"small"===y&&c["size".concat(Object(_.a)(y))],{start:c.edgeStart,end:c.edgeEnd}[a]),centerRipple:!0,focusRipple:!m,disabled:f,ref:t},b),o.createElement("span",{className:c.label},l))}));t.a=Object(l.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(c.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(W)},function(e,t,n){"use strict";var i=n(6),r=n(27),o=n(1),a=n(0),s=(n(2),n(10)),l=n(14),c=n(31),d=n(12),h=n(32),p=n(18),u=n(30);function f(e){return e.substring(2).toLowerCase()}var g=function(e){var t=e.children,n=e.disableReactTree,i=void 0!==n&&n,r=e.mouseEvent,o=void 0===r?"onClick":r,s=e.onClickAway,l=e.touchEvent,c=void 0===l?"onTouchEnd":l,g=a.useRef(!1),m=a.useRef(null),v=a.useRef(!1),y=a.useRef(!1);a.useEffect((function(){return v.current=!0,function(){v.current=!1}}),[]);var b=a.useCallback((function(e){m.current=d.findDOMNode(e)}),[]),w=Object(p.a)(t.ref,b),x=Object(u.a)((function(e){var t=y.current;if(y.current=!1,v.current&&m.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(g.current)g.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(m.current)>-1;else n=!Object(h.a)(m.current).documentElement.contains(e.target)||m.current.contains(e.target);n||!i&&t||s(e)}})),S=function(e){return function(n){y.current=!0;var i=t.props[e];i&&i(n)}},C={ref:w};return!1!==c&&(C[c]=S(c)),a.useEffect((function(){if(!1!==c){var e=f(c),t=Object(h.a)(m.current),n=function(){g.current=!0};return t.addEventListener(e,x),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,x),t.removeEventListener("touchmove",n)}}}),[x,c]),!1!==o&&(C[o]=S(o)),a.useEffect((function(){if(!1!==o){var e=f(o),t=Object(h.a)(m.current);return t.addEventListener(e,x),function(){t.removeEventListener(e,x)}}}),[x,o]),a.createElement(a.Fragment,null,a.cloneElement(t,C))},m=n(28),v=n(67),y=n(63),b=n(97),w=n(49),x=n(37);function S(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var C={entering:{opacity:1,transform:S(1)},entered:{opacity:1,transform:"none"}},O=a.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,s=void 0!==r&&r,l=e.in,c=e.onEnter,d=e.onEntered,h=e.onEntering,u=e.onExit,f=e.onExited,g=e.onExiting,m=e.style,v=e.timeout,O=void 0===v?"auto":v,P=e.TransitionComponent,E=void 0===P?b.c:P,T=Object(i.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=a.useRef(),I=a.useRef(),A=Object(w.a)(),M=A.unstable_strictMode&&!s,j=a.useRef(null),D=Object(p.a)(n.ref,t),L=Object(p.a)(M?j:void 0,D),R=function(e){return function(t,n){if(e){var i=M?[j.current,t]:[t,n],r=Object(y.a)(i,2),o=r[0],a=r[1];void 0===a?e(o):e(o,a)}}},N=R(h),z=R((function(e,t){Object(x.b)(e);var n,i=Object(x.a)({style:m,timeout:O},{mode:"enter"}),r=i.duration,o=i.delay;"auto"===O?(n=A.transitions.getAutoHeightDuration(e.clientHeight),I.current=n):n=r,e.style.transition=[A.transitions.create("opacity",{duration:n,delay:o}),A.transitions.create("transform",{duration:.666*n,delay:o})].join(","),c&&c(e,t)})),B=R(d),H=R(g),_=R((function(e){var t,n=Object(x.a)({style:m,timeout:O},{mode:"exit"}),i=n.duration,r=n.delay;"auto"===O?(t=A.transitions.getAutoHeightDuration(e.clientHeight),I.current=t):t=i,e.style.transition=[A.transitions.create("opacity",{duration:t,delay:r}),A.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=S(.75),u&&u(e)})),W=R(f);return a.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),a.createElement(E,Object(o.a)({appear:!0,in:l,nodeRef:M?j:void 0,onEnter:z,onEntered:B,onEntering:N,onExit:_,onExited:W,onExiting:H,addEndListener:function(e,t){var n=M?e:t;"auto"===O&&(k.current=setTimeout(n,I.current||0))},timeout:"auto"===O?null:O},T),(function(e,t){return a.cloneElement(n,Object(o.a)({style:Object(o.a)({opacity:0,transform:S(.75),visibility:"exited"!==e||l?void 0:"hidden"},C[e],m,n.props.style),ref:L},t))}))}));O.muiSupportAuto=!0;var P=O,E=n(204),T=n(43),k=a.forwardRef((function(e,t){var n=e.action,r=e.classes,l=e.className,c=e.message,d=e.role,h=void 0===d?"alert":d,p=Object(i.a)(e,["action","classes","className","message","role"]);return a.createElement(E.a,Object(o.a)({role:h,square:!0,elevation:6,className:Object(s.a)(r.root,l),ref:t},p),a.createElement("div",{className:r.message},c),n?a.createElement("div",{className:r.action},n):null)})),I=Object(l.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(T.b)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(r.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(k),A=a.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,l=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,d=r.horizontal,h=e.autoHideDuration,p=void 0===h?null:h,f=e.children,y=e.classes,b=e.className,w=e.ClickAwayListenerProps,x=e.ContentProps,S=e.disableWindowBlurListener,C=void 0!==S&&S,O=e.message,E=e.onClose,T=e.onEnter,k=e.onEntered,A=e.onEntering,M=e.onExit,j=e.onExited,D=e.onExiting,L=e.onMouseEnter,R=e.onMouseLeave,N=e.open,z=e.resumeHideDuration,B=e.TransitionComponent,H=void 0===B?P:B,_=e.transitionDuration,W=void 0===_?{enter:c.b.enteringScreen,exit:c.b.leavingScreen}:_,F=e.TransitionProps,V=Object(i.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),U=a.useRef(),Y=a.useState(!0),X=Y[0],G=Y[1],q=Object(u.a)((function(){E&&E.apply(void 0,arguments)})),Z=Object(u.a)((function(e){E&&null!=e&&(clearTimeout(U.current),U.current=setTimeout((function(){q(null,"timeout")}),e))}));a.useEffect((function(){return N&&Z(p),function(){clearTimeout(U.current)}}),[N,p,Z]);var K=function(){clearTimeout(U.current)},$=a.useCallback((function(){null!=p&&Z(null!=z?z:.5*p)}),[p,z,Z]);return a.useEffect((function(){if(!C&&N)return window.addEventListener("focus",$),window.addEventListener("blur",K),function(){window.removeEventListener("focus",$),window.removeEventListener("blur",K)}}),[C,$,N]),!N&&X?null:a.createElement(g,Object(o.a)({onClickAway:function(e){E&&E(e,"clickaway")}},w),a.createElement("div",Object(o.a)({className:Object(s.a)(y.root,y["anchorOrigin".concat(Object(m.a)(l)).concat(Object(m.a)(d))],b),onMouseEnter:function(e){L&&L(e),K()},onMouseLeave:function(e){R&&R(e),$()},ref:t},V),a.createElement(H,Object(o.a)({appear:!0,in:N,onEnter:Object(v.a)((function(){G(!1)}),T),onEntered:k,onEntering:A,onExit:M,onExited:Object(v.a)((function(){G(!0)}),j),onExiting:D,timeout:W,direction:"top"===l?"down":"up"},F),f||a.createElement(I,Object(o.a)({message:O,action:n},x)))))}));t.a=Object(l.a)((function(e){var t={top:8},n={bottom:8},i={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},l={bottom:24},c={right:24},d={left:24},h={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},s,h))),anchorOriginBottomCenter:Object(o.a)({},n,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({},l,h))),anchorOriginTopRight:Object(o.a)({},t,i,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,c))),anchorOriginBottomRight:Object(o.a)({},n,i,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},l,c))),anchorOriginTopLeft:Object(o.a)({},t,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,d))),anchorOriginBottomLeft:Object(o.a)({},n,a,Object(r.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},l,d)))}}),{flip:!1,name:"MuiSnackbar"})(A)},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(0),a=(n(2),n(10)),s=n(14),l=n(28),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},d=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,d=e.classes,h=e.className,p=e.color,u=void 0===p?"initial":p,f=e.component,g=e.display,m=void 0===g?"initial":g,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,w=void 0!==b&&b,x=e.paragraph,S=void 0!==x&&x,C=e.variant,O=void 0===C?"body1":C,P=e.variantMapping,E=void 0===P?c:P,T=Object(r.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=f||(S?"p":E[O]||c[O])||"span";return o.createElement(k,Object(i.a)({className:Object(a.a)(d.root,h,"inherit"!==O&&d[O],"initial"!==u&&d["color".concat(Object(l.a)(u))],w&&d.noWrap,y&&d.gutterBottom,S&&d.paragraph,"inherit"!==s&&d["align".concat(Object(l.a)(s))],"initial"!==m&&d["display".concat(Object(l.a)(m))]),ref:t},T))})),h=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(d),p=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,c=e.disableTypography,d=void 0!==c&&c,p=Object(r.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(i.a)({className:Object(a.a)(s.root,l),ref:t},p),d?n:o.createElement(h,{component:"h2",variant:"h6"},n))}));t.a=Object(s.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(63),r=n(80),o=n(48);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=Object(i.a)(t,2),r=n[0],o=n[1],c=a[r],d=s[o]||"";return Array.isArray(d)?d.map((function(e){return c+e})):[c+d]})),d=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function h(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function p(e,t){return function(n){return e.reduce((function(e,i){return e[i]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function u(e){var t=h(e.theme);return Object.keys(e).map((function(n){if(-1===d.indexOf(n))return null;var i=p(c(n),t),o=e[n];return Object(r.a)(e,o,i)})).reduce(o.a,{})}u.propTypes={},u.filterProps=d;t.b=u}]]);
//# sourceMappingURL=2.9c004868.chunk.js.map